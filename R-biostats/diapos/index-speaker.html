<!DOCTYPE html>
<html lang="es"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.2.335">

  <meta name="author" content="M√°ster de Bioestad√≠stica ‚Ä¢ curso 2023-2024">
  <title>SOFTWARE PARA GESTI√ìN DE BASES DE DATOS</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="index_files/libs/htmlwidgets-1.6.3/htmlwidgets.js"></script>
  <script src="index_files/libs/plotly-binding-4.10.3/plotly.js"></script>
  <script src="index_files/libs/typedarray-0.1/typedarray.min.js"></script>
  <script src="index_files/libs/jquery-3.5.1/jquery.min.js"></script>
  <link href="index_files/libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
  <script src="index_files/libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
  <link href="index_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
  <script src="index_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="img/covid19-genetics.webp" data-background-opacity="0.2" data-background-size="cover" class="quarto-title-block center">
  <h1 class="title">SOFTWARE PARA GESTI√ìN DE BASES DE DATOS</h1>
  <p class="subtitle">Introducci√≥n al an√°lisis de datos en R (y Stata)</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
M√°ster de Bioestad√≠stica ‚Ä¢ curso 2023-2024 
</div>
</div>
</div>

</section>
<section>
<section id="bienvenidos-a-r" class="title-slide slide level1 center">
<h1>¬°Bienvenidos a R!</h1>
<p><span style="color:#444442;"><strong>Dejad vuestras hojas de c√°lculo a un lado</strong></span></p>
</section>
<section id="buenas" class="slide level2">
<h2>¬°Buenas!</h2>
<p><span class="hl-green"><strong>Correo</strong></span>: <strong><a href="mailto:javalv09@ucm.es" class="email">javalv09@ucm.es</a></strong>. <span class="hl-green"><strong>Despacho</strong></span>: 722 (3¬™ planta). <span class="hl-green"><strong>Tutor√≠as</strong></span>: lunes (14:30-16:00), martes (12:00-13:00) y viernes (13:00-14:00).</p>
<div class="columns">
<div class="column" style="width:30%;">
<p><img data-src="img/me.jpeg"></p>
</div><div class="column" style="width:70%;">
<div>
<ul>
<li class="fragment"><p><span class="hl-yellow"><strong>Javier √Ålvarez Li√©bana</strong></span>, de Carabanchel (Bajo).</p></li>
<li class="fragment"><p>Licenciado en Matem√°ticas (UCM). <span class="hl-yellow"><strong>Doctorado en estad√≠stica</strong></span> (UGR).</p></li>
<li class="fragment"><p>Encargado de la <span class="hl-yellow"><strong>visualizaci√≥n y an√°lisis de datos covid</strong></span> del Principado de Asturias (2021-2022).</p></li>
<li class="fragment"><p>Miembro de la <span class="hl-yellow"><strong>Sociedad Espa√±ola de Estad√≠stica e IO</strong></span> y la <span class="hl-yellow"><strong>Real Sociedad Matem√°tica Espa√±ola</strong></span>.</p></li>
</ul>
</div>
</div>
</div>
<div class="fragment">
<p>Actualmente, <span class="hl-yellow"><strong>investigador y docente en la Facultad de Estad√≠stica de la UCM</strong></span>. Divulgando por <a href="https://twitter.com/dadosdelaplace"><strong>Twitter</strong></a> e <a href="https://instagram.com/javieralvarezliebana"><strong>Instagram</strong></a></p>
</div>
</section>
<section id="objetivos" class="slide level2">
<h2>Objetivos</h2>
<div class="columns">
<div class="column" style="width:37%;">
<p><img data-src="https://assets-global.website-files.com/6092cb6b4ac959f39728dd26/6188a97fa499b5fbfe410417_target%20(1).png"></p>
</div><div class="column" style="width:63%;">
<div>
<ul>
<li class="fragment"><p>Quitarnos el <span class="hl-yellow"><strong>miedo a los errores en programaci√≥n</strong></span> ‚Üí a programar se aprende programando</p></li>
<li class="fragment"><p>Entender los <span class="hl-yellow"><strong>conceptos b√°sicos de R</strong></span> desde cero ‚Üí aprender a abstraer ideas y algoritmos</p></li>
<li class="fragment"><p>Utilidad de programar ‚Üí flujos de trabajo <span class="hl-yellow"><strong>reproducibles</strong>, <strong>transparentes</strong></span> y mantenibles</p></li>
<li class="fragment"><p>Introducci√≥n al <span class="hl-yellow"><strong>an√°lisis y preprocesamiento</strong></span> de datos ‚Üí <code>{tidyverse}</code></p></li>
<li class="fragment"><p>Adquirir habilidades en la <span class="hl-yellow"><strong>visualizaci√≥n de datos</strong></span> ‚Üí <code>{ggplot2}</code></p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="evaluaci√≥n" class="slide level2">
<h2>Evaluaci√≥n</h2>
<ul>
<li><span class="hl-yellow"><strong>Asistencia</strong></span>. La asistencia no ser√° obligatoria pero si se <span class="hl-purple"><strong>valorar√° muy positivamente</strong></span> la participaci√≥n en clase (nunca penalizando).</li>
</ul>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Evaluaci√≥n</strong></span>. A lo largo del curso se han planteado <span class="hl-purple"><strong>4 entregas individuales</strong></span>, as√≠ como una <span class="hl-purple"><strong>entrega final grupal</strong></span> (entre 2 y 4 personas) donde se deber√° presentar el an√°lisis realizado de un caso real.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Nota m√≠nima</strong></span>. Para no ir al examen final se <span class="hl-purple"><strong>deber√° obtener al menos un 4/10</strong></span> en cada entrega o una <span class="hl-purple"><strong>media ponderada superior al 6/10</strong></span>. Se deber√° obtener adem√°s en la <span class="hl-purple"><strong>entrega grupal una nota superior a 6-6.5-7/10</strong></span> (seg√∫n 2-3-4 personas)</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Examen final</strong></span>. Cualquier alumno podr√° presentarse a un examen final, siendo la valoraci√≥n del mismo el 100% de su nota (perdiendo la evaluaci√≥n continua).</li>
</ul>
</div>
</section>
<section id="planificaci√≥n-i" class="slide level2">
<h2>Planificaci√≥n I</h2>
<div class="column-screen-inset-right">
<div style="font-size:20px">
<table>
<thead>
<tr class="header">
<th style="text-align: center;">CLASE</th>
<th style="text-align: center;">SEMANA</th>
<th style="text-align: center;">FECHAS</th>
<th style="text-align: center;">TOPIC</th>
<th style="text-align: center;">SCRIPTS</th>
<th style="text-align: center;">EJ.</th>
<th style="text-align: center;">CASO PR√ÅCTICO</th>
<th style="text-align: center;">ENTREGA</th>
<th style="text-align: center;"></th>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a href="#/clase-1-primeros-pasos">1</a></td>
<td style="text-align: center;">S1</td>
<td style="text-align: center;">11 sep</td>
<td style="text-align: center;">Primeros pasos en R</td>
<td style="text-align: center;"><a href="https://github.com/dadosdelaplace/docencia-R-master-bio-2324/tree/main/material/scripts">üìù</a></td>
<td style="text-align: center;"><a href="#/tu-turno">üíª</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a href="#/clase-2-primeros-datos">2</a></td>
<td style="text-align: center;">S1</td>
<td style="text-align: center;">13 sep</td>
<td style="text-align: center;">Tipos b√°sicos de datos</td>
<td style="text-align: center;"><a href="https://github.com/dadosdelaplace/docencia-R-master-bio-2324/tree/main/material/scripts">üìù</a></td>
<td style="text-align: center;"><a href="#/tu-turno-1">üíª</a> <a href="#/tu-turno-2">üíª</a> <span id="tu-turno-matrices">üíª</span></td>
<td style="text-align: center;"><a href="#/caso-pr√°ctico-2">üê£</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a href="#/clase-3-primeras-bases-de-datos">3</a></td>
<td style="text-align: center;">S2</td>
<td style="text-align: center;">18 sep</td>
<td style="text-align: center;">Primeras bases de datos. R base vs Tidyverse</td>
<td style="text-align: center;"><a href="https://github.com/dadosdelaplace/docencia-R-master-bio-2324/tree/main/material/scripts">üìù</a></td>
<td style="text-align: center;"><a href="#/tu-turno-tibble">üíª</a> <a href="#/tu-turno-3">üíª</a></td>
<td style="text-align: center;"><a href="#/caso-pr√°ctico-3a">üê£</a> <a href="#/caso-pr√°ctico-3b">üê£</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a href="#/clase-5-importexport-comunicar">4</a></td>
<td style="text-align: center;">S2</td>
<td style="text-align: center;">19 sep</td>
<td style="text-align: center;">Importar/exportar e intro a Quarto/rmd</td>
<td style="text-align: center;"><a href="https://github.com/dadosdelaplace/docencia-R-master-bio-2324/tree/main/material/scripts">üìù</a></td>
<td style="text-align: center;"><a href="#/tu-turno-4">üíª</a></td>
<td style="text-align: center;"><a href="#/caso-pr√°ctico-4a">üê£</a> <a href="#/caso-pr√°ctico-4b">üê£</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a href="#/clase-5-tidyverse-filas">5</a></td>
<td style="text-align: center;">S3</td>
<td style="text-align: center;">25 sep</td>
<td style="text-align: center;">Tidyverse (filas)</td>
<td style="text-align: center;"><a href="https://github.com/dadosdelaplace/docencia-R-master-bio-2324/tree/main/material/scripts">üìù</a></td>
<td style="text-align: center;"><a href="#/tu-turno-7a">üíª</a> <a href="#/tu-turno-7b">üíª</a></td>
<td style="text-align: center;"><a href="#/caso-pr√°ctico-5">üê£</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a href="#/entrega-i">6</a></td>
<td style="text-align: center;">S3</td>
<td style="text-align: center;">27 sep</td>
<td style="text-align: center;">Entrega I</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"><a href="#/entrega-i">üíª</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">üéØ 10%</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a href="#/clase-7-tidyverse-columnas">7</a></td>
<td style="text-align: center;">S3</td>
<td style="text-align: center;">2 oct</td>
<td style="text-align: center;">Tidyverse (columnas)</td>
<td style="text-align: center;"><a href="https://github.com/dadosdelaplace/docencia-R-master-bio-2324/tree/main/material/scripts">üìù</a></td>
<td style="text-align: center;"><a href="#/tu-turno-7d">üíª</a> <a href="#/tu-turno-7e">üíª</a></td>
<td style="text-align: center;"><span id="caso-7a">üê£</span></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a href="#/clase-8">8</a></td>
<td style="text-align: center;">S4</td>
<td style="text-align: center;">4 oct</td>
<td style="text-align: center;">Tidyverse (crear/modificar variables)</td>
<td style="text-align: center;"><a href="https://github.com/dadosdelaplace/docencia-R-master-bio-2324/tree/main/material/scripts">üìù</a></td>
<td style="text-align: center;"><a href="#/tu-turno-8a">üíª</a> <a href="#/tu-turno-8b">üíª</a></td>
<td style="text-align: center;"><span id="caso8a">üê£</span></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a href="#/clase-9-funciones">9</a></td>
<td style="text-align: center;">S5</td>
<td style="text-align: center;">9 oct</td>
<td style="text-align: center;">Funciones</td>
<td style="text-align: center;"><a href="https://github.com/dadosdelaplace/docencia-R-master-bio-2324/tree/main/material/scripts">üìù</a></td>
<td style="text-align: center;"><a href="#/tu-turno-9">üíª</a></td>
<td style="text-align: center;">[üê£] [üê£]</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="materiales" class="slide level2">
<h2>Materiales</h2>
<ul>
<li><span class="hl-yellow"><strong>Diapositivas</strong></span>: las diapositivas que usaremos en el aula a lo largo del curso, estructuradas por clases, estar√°n disponibles y actualizadas en <strong><a href="https://javieralvarezliebana.es/docencia-R-master-bio-2324/diapos" class="uri">https://javieralvarezliebana.es/docencia-R-master-bio-2324/diapos</a></strong></li>
</ul>
<p>En el men√∫ de las diapositivas (abajo a la izquierda) tienes una <span class="hl-yellow"><strong>opci√≥n para descargarlas en pdf</strong></span> en <code>Tools</code> (consejo: hazlo el final del curso ya que ir√°n modific√°ndose)</p>
<p>&nbsp;</p>
<ul>
<li><p><span class="hl-yellow"><strong>Material</strong></span>: <a href="https://github.com/dadosdelaplace/docencia-R-master-bio-2324/tree/main/material"><strong>scripts de cada tema</strong></a> y materiales extras</p></li>
<li><p><span class="hl-yellow"><strong>Res√∫menes de paquetes</strong></span>: <a href="https://github.com/dadosdelaplace/docencia-R-master-bio-2324/tree/main/fichas%20paquetes"><strong>chuletas de los paquetes</strong></a> en formato .pdf</p></li>
<li><p><span class="hl-yellow"><strong>Datos</strong></span>: <a href="https://drive.google.com/drive/folders/1iH3UCMDBNS_TJYKm7wx3-_120_3wmBdQ?usp=sharing" class="uri">https://drive.google.com/drive/folders/1iH3UCMDBNS_TJYKm7wx3-_120_3wmBdQ?usp=sharing</a></p></li>
</ul>
</section></section>
<section>
<section id="clase-1-primeros-pasos" class="title-slide slide level1 center">
<h1>Clase 1: primeros pasos</h1>
<p><span style="color:#444442;"><strong>Instalando R y RStudio. Primeros pasos. Scripts y proyectos</strong></span></p>
</section>
<section id="requisitos" class="slide level2">
<h2>Requisitos</h2>
<p>Para el curso los √∫nicos requisitos ser√°n:</p>
<ol type="1">
<li><p><span class="hl-yellow"><strong>Conexi√≥n a internet</strong></span> (para la descarga de algunos datos y paquetes).</p></li>
<li><p><span class="hl-yellow"><strong>Instalar R</strong></span><span class="fragment fade-in">: ser√° nuestro lenguaje. La descarga la haremos (gratuitamente) desde <a href="https://cran.r-project.org/" class="uri">https://cran.r-project.org/</a></span></p></li>
</ol>
<div class="fragment fade-in">
<ol start="3" type="1">
<li><span class="hl-yellow"><strong>Instalar RStudio</strong></span> desde <a href="https://posit.co/download/rstudio-desktop/" class="uri">https://posit.co/download/rstudio-desktop/</a></li>
</ol>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/cranR.jpg" width="420"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="img/rstudio.jpg" width="420"></p>
</div>
</div>
</section>
<section class="slide level2">

<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/gramatica.webp" width="400"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="img/word.jpg" width="470"></p>
</div>
</div>
<div class="fragment fade-in-then-out">
<p>Programaremos como escribimos (castellano, por ejemplo) ‚Üí <code>R</code> es <span class="hl-yellow"><strong>lenguaje</strong></span></p>
</div>
<div class="fragment fade-up">
<ul>
<li>Necesitaremos una <span class="hl-yellow"><strong>gram√°tica</strong></span> (<code>R</code>)</li>
</ul>
<div class="fragment fade-in">
<ul>
<li>Y un entorno, por ejemplo un <span class="hl-yellow"><strong>Word</strong></span> (<code>RStudio</code>), para escribirlo</li>
</ul>
</div>
</div>
</section>
<section id="instalaci√≥n-de-r" class="slide level2">
<h2>Instalaci√≥n de R</h2>
<p>El lenguaje <code>R</code> ser√° nuestra <span class="hl-yellow"><strong>gram√°tica y ortograf√≠a</strong></span> (nuestras reglas de juego)</p>
<div>
<ul>
<li class="fragment"><p><span class="hl-yellow"><strong>Paso 1</strong></span>: entra en <a href="https://cran.r-project.org/" class="uri">https://cran.r-project.org/</a> y selecciona tu sistema operativo.</p></li>
<li class="fragment"><p><span class="hl-yellow"><strong>Paso 2</strong></span>: para Mac basta con que hacer click en el <strong>archivo .pkg</strong>, y abrirlo una vez descargado. Para sistemas Windows, debemos clickar en <strong>install R for the first time</strong> y despu√©s en <strong>Download R for Windows</strong>. Una vez descargado, abrirlo como cualquier archivo de instalaci√≥n.</p></li>
<li class="fragment"><p><span class="hl-yellow"><strong>Paso 3</strong></span>: abrir el ejecutable de instalaci√≥n.</p></li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-warning callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Advertencia</strong></p>
</div>
<div class="callout-content">
<p>Siempre que tengas que descargar algo de CRAN (ya sea el propio R o un paquete), <span class="hl-orange"><strong>aseg√∫rate de tener conexi√≥n a internet</strong></span>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="primera-operaci√≥n" class="slide level2">
<h2>Primera operaci√≥n</h2>
<div class="columns">
<div class="column" style="width:65%;">
<p>Para comprobar que se ha instalado correctamente, tras abrir <code>R</code>, deber√≠as ver una <strong>pantalla blanca</strong> similar a esta.</p>
<p>Esa ¬´pantalla blanca¬ª se llama <span class="hl-yellow"><strong>consola</strong></span> y podemos hacer un primer uso de ella como una <strong>calculadora</strong>.</p>
</div><div class="column" style="width:35%;">
<p><img data-src="img/consola.jpg" width="200"></p>
</div>
</div>
<div class="fragment">
<p><span class="hl-yellow"><strong>Idea</strong></span>: a una variable llamada <code>a</code> le asignaremos el valor <code>1</code> (escribiremos el c√≥digo de abajo en la consola y daremos ¬´enter¬ª)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" data-code-line-numbers="1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="primera-operaci√≥n-1" class="slide level2">
<h2>Primera operaci√≥n</h2>
<div class="columns">
<div class="column" style="width:65%;">
<p>Para comprobar que se ha instalado correctamente, tras abrir <code>R</code>, deber√≠as ver una <strong>pantalla blanca</strong> similar a esta.</p>
<p>Esa ¬´pantalla blanca¬ª se llama <span class="hl-yellow"><strong>consola</strong></span> y podemos hacer un primer uso de ella como una <strong>calculadora</strong>.</p>
</div><div class="column" style="width:35%;">
<p><img data-src="img/consola.jpg" width="200"></p>
</div>
</div>
<p><span class="hl-yellow"><strong>Idea</strong></span>: definiremos otra variable llamada <code>b</code> y le asignaremos el valor <code>2</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>b <span class="ot">&lt;-</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>F√≠jate que‚Ä¶</strong></p>
</div>
<div class="callout-content">
<p>En <code>R</code> usaremos <code>&lt;-</code> como una flecha: la variable a la izquierda de dicha flecha le asignamos el valor que hay a la derecha (por ejemplo, <code>a &lt;- 1</code>)</p>
</div>
</div>
</div>
</div>
</section>
<section id="primera-operaci√≥n-2" class="slide level2">
<h2>Primera operaci√≥n</h2>
<div class="columns">
<div class="column" style="width:65%;">
<p>Para comprobar que se ha instalado correctamente, tras abrir <code>R</code>, deber√≠as ver una <strong>pantalla blanca</strong> similar a esta.</p>
<p>Esa ¬´pantalla blanca¬ª se llama <span class="hl-yellow"><strong>consola</strong></span> y podemos hacer un primer uso de ella como una <strong>calculadora</strong>.</p>
</div><div class="column" style="width:35%;">
<p><img data-src="img/consola.jpg" width="270"></p>
</div>
</div>
<p><span class="hl-yellow"><strong>Idea</strong></span>: haremos la suma <code>a + b</code> y nos devolver√° su resultado</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>b <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>a <span class="sc">+</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
</section>
<section id="instalaci√≥n-de-r-studio" class="slide level2">
<h2>Instalaci√≥n de R Studio</h2>
<p><code>RStudio</code> ser√° el <span class="hl-yellow"><strong>Word</strong></span> que usaremos para escribir (lo que se conoce como un <span class="hl-yellow"><strong>IDE: entorno integrado de desarrollo</strong></span>).</p>
<div>
<ul>
<li class="fragment"><p><span class="hl-yellow"><strong>Paso 1</strong></span>: entra la <a href="https://posit.co/download/rstudio-desktop/">web oficial de RStudio</a> (ahora llamado Posit) y selecciona la descarga gratuita.</p></li>
<li class="fragment"><p><span class="hl-yellow"><strong>Paso 2</strong></span>: selecciona el ejecutable que te aparezca acorde a tu sistema operativo.</p></li>
<li class="fragment"><p><span class="hl-yellow"><strong>Paso 3</strong></span>: tras descargar el ejecutable, hay que abrirlo como otro cualquier otro y dejar que termine la instalaci√≥n.</p></li>
</ul>
</div>
</section>
<section id="organizaci√≥n-de-rstudio" class="slide level2">
<h2>Organizaci√≥n de RStudio</h2>
<p>Al abrir <code>RStudio</code> seguramente tengas tres ventanas:</p>
<ul>
<li><span class="hl-yellow"><strong>Consola</strong></span>: es el nombre para llamar a la ventana grande que te ocupa buena parte de tu pantalla. Prueba a escribir el mismo c√≥digo que antes (la suma de las variables) en ella. La consola ser√° donde <strong>ejecutaremos √≥rdenes y mostraremos resultados</strong>.</li>
</ul>

<img data-src="img/consola_rstudio.jpg" width="420" class="r-stretch"></section>
<section id="organizaci√≥n-de-rstudio-1" class="slide level2">
<h2>Organizaci√≥n de RStudio</h2>
<p>Al abrir <code>RStudio</code> seguramente tengas tres ventanas:</p>
<ul>
<li><span class="hl-yellow"><strong>Environment</strong></span>: la pantalla peque√±a (puedes ajustar los m√°rgenes con el rat√≥n a tu gusto) que tenemos en la parte superior derecha. Nos mostrar√° las <strong>variables que tenemos definidas</strong>.</li>
</ul>

<img data-src="img/environment.jpg" width="420" class="r-stretch"></section>
<section id="organizaci√≥n-de-rstudio-2" class="slide level2">
<h2>Organizaci√≥n de RStudio</h2>
<p>Al abrir <code>RStudio</code> seguramente tengas tres ventanas:</p>
<ul>
<li><span class="hl-yellow"><strong>Panel multiusos</strong></span>: la ventana que tenemos en la parte inferior derecha no servir√° para buscar <strong>ayuda de funciones</strong>, adem√°s de para <strong>visualizar gr√°ficos</strong>.</li>
</ul>

<img data-src="img/multiusos.jpg" width="420" class="r-stretch"></section>
<section id="qu√©-es-r-por-qu√©-r" class="slide level2">
<h2>¬øQu√© es R? ¬øPor qu√© R?</h2>

<img data-src="img/meme_barco.jpg" class="r-stretch"></section>
<section id="qu√©-es-r-por-qu√©-r-1" class="slide level2">
<h2>¬øQu√© es R? ¬øPor qu√© R?</h2>
<p><code>R</code> es el <span class="hl-yellow"><strong>lenguaje estad√≠stico por excelencia</strong></span>, creado por y para estad√≠sticos/as, con 5 ventajas fundamentales <span class="hl-red"><strong>frente a Excel</strong></span>:</p>
<div>
<ul>
<li class="fragment"><p><span class="hl-yellow"><strong>Lenguaje de programaci√≥n</strong></span>: la obviedad <span class="fragment fade-in">‚Üí an√°lisis</span><span class="hl-purple"><strong>replicables</strong></span></p></li>
<li class="fragment"><p><span class="hl-yellow"><strong>Gratuito</strong></span>: la filosof√≠a de la comunidad de <code>R</code> es el compartir c√≥digo bajo <strong>copyleft</strong> <span class="fragment fade-in">‚Üí</span><span class="hl-purple"><strong>uso √©tico de dinero p√∫blico</strong></span></p></li>
<li class="fragment"><p><span class="hl-yellow"><strong>Software libre</strong></span>: no solo es gratis sino que permite acceder libremente a c√≥digo ajeno, incluso al <strong>propio c√≥digo fuente</strong> <span class="fragment fade-in">‚Üí</span><span class="hl-purple"><strong>flexibilidad y transparencia</strong></span></p></li>
<li class="fragment"><p><span class="hl-yellow"><strong>Lenguaje modular</strong></span>: hemos instalado lo m√≠nimo, pero existen c√≥digos de otras personas que podemos reusar (casi 20 000 <span class="hl-yellow"><strong>paquetes</strong></span>) <span class="fragment fade-in">‚Üí</span><span class="hl-purple"><strong>ahorro de tiempo</strong></span></p></li>
<li class="fragment"><p><span class="hl-yellow"><strong>Lenguaje de alto nivel</strong></span>: facilita la programaci√≥n (como Python) <span class="fragment fade-in">‚Üí</span><span class="hl-purple"><strong>menor curva de aprendizaje</strong></span></p></li>
</ul>
</div>
</section>
<section id="qu√©-es-r-por-qu√©-r-2" class="slide level2">
<h2>¬øQu√© es R? ¬øPor qu√© R?</h2>

<img data-src="img/incel_excel.png" class="r-stretch"></section>
<section id="por-qu√©-programar" class="slide level2">
<h2>¬øPor qu√© programar?</h2>
<ul>
<li><p><span class="hl-yellow"><strong>Automatizar</strong></span> ‚Üí te permitir√° automatizar tareas recurrentes.</p></li>
<li><p><span class="hl-yellow"><strong>Replicabilidad</strong></span> ‚Üí podr√°s replicar tu an√°lisis siempre de la misma manera.</p></li>
<li><p><span class="hl-yellow"><strong>Flexibilidad</strong></span> ‚Üí podr√°s adaptar el software a tus necesidades.</p></li>
<li><p><span class="hl-yellow"><strong>Transparencia</strong></span> ‚Üí ser auditado por la comunidad.</p></li>
</ul>

<img data-src="img/the_general_problem.png" class="r-stretch"></section>
<section id="idea-fundamental-paquetes" class="slide level2">
<h2>Idea fundamental: paquetes</h2>
<p>Una de las ideas claves de <code>R</code> es el <span class="hl-yellow"><strong>uso de paquetes</strong></span>: c√≥digos que otras personas han implementado para <strong>resolver un problema</strong></p>
<div class="columns">
<div class="column" style="width:35%;">
<p><img data-src="img/paquetes.png"></p>
</div><div class="column" style="width:65%;">
<div class="fragment" data-fragment-index="1">
<ul>
<li><span class="hl-yellow"><strong>Instalaci√≥n</strong></span>: descargamos los c√≥digos de la web (necesitamos internet) ‚Üí <span class="hl-purple"><strong>comprar un libro</strong></span>, solo una vez (por ordenador)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">install.packages</span>(<span class="st">"ggplot2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment" data-fragment-index="2">
<ul>
<li><span class="hl-yellow"><strong>Carga</strong></span>: con el paquete descargado, indicamos qu√© paquetes queremos usar cada vez que abramos <code>RStudio</code> ‚Üí <span class="hl-purple"><strong>traer el libro de la estanter√≠a</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="idea-fundamental-paquetes-1" class="slide level2">
<h2>Idea fundamental: paquetes</h2>
<div class="columns">
<div class="column" style="width:35%;">
<p><img data-src="img/paquetes.png"></p>
</div><div class="column" style="width:65%;">
<p>Una vez instalado, hay dos manera de usar un paquete (traerlo de la estanter√≠a)</p>
<div class="fragment" data-fragment-index="1">
<ul>
<li><span class="hl-yellow"><strong>Paquete entero</strong></span>: con <code>library()</code>, usando el nombre del paquete sin comillas, cargamos en la sesi√≥n <span class="hl-purple"><strong>todo el libro</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment" data-fragment-index="2">
<ul>
<li><span class="hl-yellow"><strong>Funciones concretas</strong></span> usando <code>paquete::funcion</code> le √≠ndicamos que solo queremos una <span class="hl-purple"><strong>p√°gina concreta de ese libro</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>ggplot2<span class="sc">::</span><span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="te-vas-equivocar" class="slide level2">
<h2>Te vas equivocar</h2>
<p>Durante tu aprendizaje va a ser muy habitual que las cosas no salgan a la primera ‚Üí <span class="hl-yellow"><strong>te vas equivocar</strong></span>. No solo ser√° importante asumirlo sino que es <span class="hl-yellow"><strong>importante leer los mensajes de error</strong></span> para aprender de ellos.</p>
<div class="fragment">
<ul>
<li><span class="hl-red"><strong>Mensajes de error</strong></span>: precedidos de <strong>¬´Error in‚Ä¶¬ª</strong> y ser√°n aquellos fallos que <span class="hl-red"><strong>impidan la ejecuci√≥n</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="st">"a"</span> <span class="sc">+</span> <span class="dv">1</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in "a" + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li><span class="hl-orange"><strong>Mensajes de warning</strong></span>: precedidos de <strong>¬´Warning in‚Ä¶¬ª</strong> son los (posibles) fallos m√°s delicados ya que son incoherencias que <span class="hl-orange"><strong>no impiden la ejecuci√≥n</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># Ejecuta la orden pero el resultado es NaN, **Not A Number**, un valor que no existe</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="fu">sqrt</span>(<span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in sqrt(-1): NaNs produced</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NaN</code></pre>
</div>
</div>
</div>
</section>
<section id="scripts-documentos-.r" class="slide level2">
<h2>Scripts (documentos .R)</h2>
<div class="columns">
<div class="column" style="width:35%;">
<p><img data-src="img/abrir_script.jpg" width="350"></p>
</div><div class="column" style="width:65%;">
<p>Un <span class="hl-yellow"><strong>script</strong></span> ser√° el documento en el que programamos, nuestro archivo <code>.doc</code> (aqu√≠ con extensi√≥n <code>.R</code>) donde escribiremos las √≥rdenes. Para <strong>abrir nuestro primero script</strong>, haz click en el men√∫ en <code>File &lt; New File &lt; R Script</code>.</p>
</div>
</div>
<div class="callout callout-warning callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Cuidado</strong></p>
</div>
<div class="callout-content">
<p>Es importante <strong>no abusar de la consola</strong>: todo lo que no escribas en un script, cuando cierres, <span class="hl-orange"><strong>lo habr√°s perdido</strong></span>.</p>
</div>
</div>
</div>
</section>
<section id="ejecutando-el-primer-script" class="slide level2">
<h2>Ejecutando el primer script</h2>
<p>Ahora tenemos una <strong>cuarta ventana</strong>: la ventana donde <span class="hl-yellow"><strong>escribiremos nuestros c√≥digos</strong></span>. ¬øC√≥mo ejecutarlo?</p>
<div class="fragment">
<ol type="1">
<li><strong>Escribimos</strong> el c√≥digo a ejecutar.</li>
</ol>
</div>
<div class="fragment">
<ol start="2" type="1">
<li><strong>Guardamos</strong> el archivo .R haciendo click en <code>Save current document</code>.</li>
</ol>
</div>
<div class="fragment">
<ol start="3" type="1">
<li>El c√≥digo no se ejecuta salvo que se lo indiquemos. Tenemos tres opciones:</li>
</ol>
<ul>
<li><span class="hl-yellow"><strong>Copiar y pegar</strong></span> en consola.</li>
<li><span class="hl-yellow"><strong>Seleccionar l√≠neas</strong></span> y <code>Ctrl+Enter</code></li>
<li><span class="hl-yellow"><strong>Activar Source on save</strong></span> a la derecha de guardar: no solo guarda sino que ejecuta el c√≥digo <strong>completo</strong>.</li>
</ul>
</div>
</section>
<section id="tu-turno" class="slide level2">
<h2>üíª Tu turno</h2>
<p><span style="color:#444442;"><strong>Ejecuta tu primer script</strong>: crea un script de cero, programa lo indicado debajo y ejec√∫talo (de las 3 maneras posibles)</span></p>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-1-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-1-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-1-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-1-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<p>üìù Define una variable de nombre <code>a</code> y cuyo valor sea -1</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>a <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-2">
<p>üìù A√±ade debajo otra l√≠nea para definir una variable <code>b</code> con el valor 5. Tras ello m√∫ltiplica ambas variables</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>b <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>a <span class="sc">*</span> b <span class="co"># sin guardar</span></span>
<span id="cb15-3"><a href="#cb15-3"></a>multiplicacion <span class="ot">&lt;-</span> a <span class="sc">*</span> b <span class="co"># guardado</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-3">
<p>üìù Modifica el c√≥digo inferior para definir dos variables c y d, con valores 3 y -1. Tras ello divide las variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>c <span class="ot">&lt;-</span> <span class="co"># deber√≠as asignarle el valor 3</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>d <span class="ot">&lt;-</span> <span class="co"># deber√≠as asignarle el valor -1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>c <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>d <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb17-3"><a href="#cb17-3"></a>c <span class="sc">/</span> d <span class="co"># sin guardar</span></span>
<span id="cb17-4"><a href="#cb17-4"></a>division <span class="ot">&lt;-</span> c <span class="sc">/</span> d <span class="co"># guardado</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-4">
<p>üìù Asigna un valor positivo a <code>x</code> y calcula su ra√≠z cuadrada; asigna otro negativo <code>y</code> y calcula su valor absoluto con la funci√≥n <code>abs()</code>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="fu">sqrt</span>(x)</span>
<span id="cb18-3"><a href="#cb18-3"></a></span>
<span id="cb18-4"><a href="#cb18-4"></a>y <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">2</span></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="fu">abs</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-5">
<p>üìù Usando la variable <code>x</code> ya definida, completa/modifica el c√≥digo inferior para guardar en una nueva variable <code>z</code> el resultado guardado en <code>x</code> menos 5.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>z <span class="ot">&lt;-</span> ? <span class="sc">-</span> ? <span class="co"># completa el c√≥digo</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>z <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="dv">5</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
<div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Toma nota</strong></p>
</div>
<div class="callout-content">
<p>Comandos como <code>sqrt()</code>, <code>abs()</code> o <code>max()</code> son lo que llamamos <span class="hl-purple"><strong>funciones</strong></span>: l√≠neas de c√≥digo que hemos ¬´encapsulado¬ª bajo un nombre, y dado unos argumentos de entrada, ejecuta las √≥rdenes (una especie de atajo).</p>
</div>
</div>
</div>
</section>
<section id="s√©-organizado-proyectos" class="slide level2">
<h2>S√© organizado: proyectos</h2>
<p>De la misma manera que en el ordenador solemos trabajar de manera <span class="hl-yellow"><strong>ordenada por carpetas</strong></span>, en <code>RStudio</code> podemos hacer lo mismo para trabajar de <span class="hl-yellow"><strong>manera eficaz creando proyectos</strong></span>.</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:60%;">
<p>Un <span class="hl-yellow"><strong>proyecto ser√° una ¬´carpeta¬ª</strong></span> dentro de <code>RStudio</code>, de manera que nuestro directorio ra√≠z autom√°ticamente ser√° la propia carpeta de proyecto (pudiendo pasar de un proyecto a otro con el menu superior derecho).</p>
<p>Podemos crear uno en una carpeta nueva o en una carpeta ya existente.</p>
</div><div class="column" style="width:40%;">
<p><img data-src="img/rstudio_proyectos.png" width="370"></p>
</div>
</div>
</div>
</section>
<section id="filosof√≠a-de-la-celda-a-la-tabla" class="slide level2">
<h2>Filosof√≠a: de la CELDA a la TABLA</h2>
<p>¬øQu√© <span class="hl-yellow"><strong>tipo de dato</strong></span> podemos tener en cada celda de una <strong>tabla</strong>?</p>

<img data-src="img/celdas.jpg" class="r-stretch quarto-figure-center"><div>
<ul>
<li class="fragment"><span class="hl-yellow"><strong>Celda</strong></span>: dato individual de un tipo concreto.</li>
<li class="fragment"><span class="hl-yellow"><strong>Variable</strong></span>: <strong>concatenaci√≥n</strong> de valores del mismo tipo (<span class="hl-purple"><strong>vectores</strong></span>).</li>
<li class="fragment"><span class="hl-yellow"><strong>Matriz</strong></span>: concatenaci√≥n de variables del <strong>mismo tipo y longitud</strong>.</li>
<li class="fragment"><span class="hl-yellow"><strong>Tabla</strong></span>: concatenaci√≥n de variables de <span class="hl-purple"><strong>distinto tipo pero igual longitud</strong></span></li>
<li class="fragment"><span class="hl-yellow"><strong>Lista</strong></span>: concatenaci√≥n de variables de <span class="hl-purple"><strong>distinto tipo y distinta longitud</strong></span></li>
</ul>
</div>
</section></section>
<section>
<section id="clase-2-primeros-datos" class="title-slide slide level1 center">
<h1>Clase 2: primeros datos</h1>
<p><span style="color:#444442;"><strong>¬øQu√© tipos de celdas (datos) existen? Concatenando celdas: vectores</strong></span></p>
</section>
<section id="de-la-celda-a-la-tabla" class="slide level2">
<h2>De la CELDA a la TABLA</h2>
<p>¬øQu√© <span class="hl-yellow"><strong>tipo de dato</strong></span> podemos tener en cada celda de una <strong>tabla</strong>?</p>

<img data-src="img/celdas.jpg" class="r-stretch quarto-figure-center"><div>
<ul>
<li class="fragment"><span class="hl-yellow"><strong>Celda</strong></span>: dato individual de un tipo concreto.</li>
<li class="fragment"><span class="hl-yellow"><strong>Variable</strong></span>: <strong>concatenaci√≥n</strong> de valores del mismo tipo (<span class="hl-purple"><strong>vectores</strong></span>).</li>
<li class="fragment"><span class="hl-yellow"><strong>Matriz</strong></span>: concatenaci√≥n de variables del <strong>mismo tipo y longitud</strong>.</li>
<li class="fragment"><span class="hl-yellow"><strong>Tabla</strong></span>: concatenaci√≥n de variables de <span class="hl-purple"><strong>distinto tipo pero igual longitud</strong></span></li>
<li class="fragment"><span class="hl-yellow"><strong>Lista</strong></span>: concatenaci√≥n de variables de <span class="hl-purple"><strong>distinto tipo y distinta longitud</strong></span></li>
</ul>
</div>
</section>
<section id="celdas-tipos-de-datos" class="slide level2">
<h2>Celdas: tipos de datos</h2>
<p>¬øExisten <span class="hl-yellow"><strong>variables m√°s all√° de los n√∫meros</strong></span>?</p>
<div class="fragment">
<p>Piensa por ejemplo en los datos guardados de una persona:</p>
<div class="fragment fade-up">
<ul>
<li>La edad o el peso ser√° un <span class="hl-yellow"><strong>n√∫mero</strong></span>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>edad <span class="ot">&lt;-</span> <span class="dv">33</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment fade-up">
<ul>
<li>Su nombre ser√° una cadena de <span class="hl-yellow"><strong>texto (string o char)</strong></span>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>nombre <span class="ot">&lt;-</span> <span class="st">"javi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment fade-up">
<ul>
<li>A la pregunta ¬´¬øest√° usted soltero/a?¬ª la respuesta ser√° lo que llamamos una <span class="hl-yellow"><strong>variable l√≥gica</strong></span> (<code>TRUE</code> si est√° soltero/a o <code>FALSE</code> en otro caso).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>soltero <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment fade-up">
<ul>
<li>Su fecha de nacimiento ser√° precisamente eso, una <span class="hl-yellow"><strong>fecha</strong></span>.</li>
</ul>
</div>
</div>
</section>
<section id="variables-num√©ricos" class="slide level2">
<h2>Variables num√©ricos</h2>
<p>El dato m√°s sencillo (ya lo hemos usado) ser√°n las <span class="hl-yellow"><strong>variables num√©ricas</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>a <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>b <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb24-3"><a href="#cb24-3"></a>a <span class="sc">+</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Para saber el tipo de una variable tenemos la funci√≥n <code>class()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">class</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>Con las variables num√©ricas podemos realizar las <span class="hl-yellow"><strong>operaciones aritm√©ticas</strong></span> de una calculadora: sumar (<code>+</code>), ra√≠z cuadrada (<code>sqrt()</code>), cuadrado (<code>^2</code>), etc.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>a<span class="sc">^</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">abs</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
</div>
</section>
<section id="variables-de-texto" class="slide level2">
<h2>Variables de texto</h2>
<p>Imagina que adem√°s de la edad de una persona queremos guardar su nombre: ahora la variable ser√° de tipo <code>character</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>nombre <span class="ot">&lt;-</span> <span class="st">"Javier"</span></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="fu">class</span>(nombre)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<div class="fragment">
<p>Las <span class="hl-yellow"><strong>cadenas de texto</strong></span> son un tipo con el que obviamente <span class="hl-red"><strong>no podremos hacer operaciones aritm√©ticas</strong></span> (s√≠ otras operaciones como pegar o localizar patrones).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>nombre <span class="sc">+</span> <span class="dv">1</span> <span class="co"># error al sumar n√∫mero a texto</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in nombre + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-warning callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Recuerda que‚Ä¶</strong></p>
</div>
<div class="callout-content">
<p>Las variables de tipo texto (character o string) van <span class="hl-orange"><strong>SIEMPRE entre comillas</strong></span>: no es lo mismo <code>TRUE</code> (valor l√≥gico, binario) que <code>"TRUE"</code> (texto).</p>
</div>
</div>
</div>
</div>
</section>
<section id="primera-funci√≥n-paste" class="slide level2">
<h2>Primera funci√≥n: paste</h2>
<p>En <code>R</code> llamaremos <span class="hl-yellow"><strong>funci√≥n</strong></span> a un trozo de <span class="hl-yellow"><strong>c√≥digo encapsulado</strong></span> bajo un nombre, y que depende de unos <span class="hl-yellow"><strong>argumentos</strong></span> de entrada. Nuestra primera funci√≥n ser√° <code>paste()</code>: dadas dos cadenas de texto nos permite pegarlas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">paste</span>(<span class="st">"Javier"</span>, <span class="st">"√Ålvarez"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Javier √Ålvarez"</code></pre>
</div>
</div>
<div class="fragment">
<p>F√≠jate que <span class="hl-yellow"><strong>por defecto</strong></span> nos pega las cadenas con un espacio, pero podemos a√±adir un <span class="hl-yellow"><strong>argumento opcional</strong></span> para indicarle el separador (en <code>sep = ...</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">paste</span>(<span class="st">"Javier"</span>, <span class="st">"√Ålvarez"</span>, <span class="at">sep =</span> <span class="st">"*"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Javier*√Ålvarez"</code></pre>
</div>
</div>
</div>
</section>
<section id="primera-funci√≥n-paste-1" class="slide level2">
<h2>Primera funci√≥n: paste</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/paste_help.jpg"></p>
</div><div class="column" style="width:50%;">
<p>¬øC√≥mo saber <span class="hl-yellow"><strong>qu√© argumentos necesita una funci√≥n</strong></span>? Escribiendo en consola <code>? paste</code> te aparecer√° una <span class="hl-yellow"><strong>ayuda</strong></span> en el panel multiusos.</p>
<p>En dicha ayuda podr√°s ver en su cabecera que argumentos ya tiene <span class="hl-yellow"><strong>asignados por defecto</strong></span> la funci√≥n</p>
</div>
</div>
<div class="fragment">
<p>Existe una funci√≥n similar llamada <code>paste0()</code> que pega por defecto con <code>sep = ""</code> (sin nada).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">paste0</span>(<span class="st">"Javier"</span>, <span class="st">"√Ålvarez"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Javier√Ålvarez"</code></pre>
</div>
</div>
</div>
</section>
<section id="primer-paquete-glue" class="slide level2">
<h2>Primer paquete: glue</h2>
<p>Una forma m√°s intuitiva de trabajar con textos es usar el paquete <code>{glue}</code>: lo primero que haremos ser√° ¬´comprar el libro¬ª (si nunca lo hemos hecho). Tras ello <span class="hl-yellow"><strong>cargamos el paquete</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">install.packages</span>(<span class="st">"glue"</span>) <span class="co"># solo la primra vez</span></span>
<span id="cb41-2"><a href="#cb41-2"></a><span class="fu">library</span>(glue)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">

</div>
<div class="fragment">
<p>Con dicho paquete podemos usar <span class="hl-yellow"><strong>variables dentro de cadenas de texto</strong></span>. Por ejemplo, ¬´la edad es de ‚Ä¶ a√±os¬ª, donde la edad est√° guardada en una variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>edad <span class="ot">&lt;-</span> <span class="dv">33</span></span>
<span id="cb42-2"><a href="#cb42-2"></a><span class="fu">glue</span>(<span class="st">"La edad es de {edad} a√±os"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>La edad es de 33 a√±os</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>Dentro de las llaves tambi√©n podemos ejecutar operaciones</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>unidades <span class="ot">&lt;-</span> <span class="st">"d√≠as"</span></span>
<span id="cb44-2"><a href="#cb44-2"></a><span class="fu">glue</span>(<span class="st">"La edad es de {edad * 365} {unidades}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>La edad es de 12045 d√≠as</code></pre>
</div>
</div>
</div>
</section>
<section id="variables-l√≥gicas" class="slide level2">
<h2>Variables l√≥gicas</h2>
<p>Otro tipo fundamental ser√°n las <span class="hl-yellow"><strong>variables l√≥gicas o binarias</strong></span> (<strong>dos valores</strong>):</p>
<ul>
<li><code>TRUE</code>: <span class="hl-yellow"><strong>verdadero</strong></span> guardado internamente como un 1.</li>
<li><code>FALSE</code>: <span class="hl-yellow"><strong>falso</strong></span> guardado internamente como un 0.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>soltero <span class="ot">&lt;-</span> <span class="cn">FALSE</span> <span class="co"># ¬øEst√° soltero? --&gt; NO</span></span>
<span id="cb46-2"><a href="#cb46-2"></a><span class="fu">class</span>(soltero)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "logical"</code></pre>
</div>
</div>
<div class="fragment">
<p>Puede tomar un tercer valor, <code>NA</code> o <span class="hl-yellow"><strong>dato ausente</strong></span>, representando las siglas de <em>not available</em>.</p>
</div>
<div class="fragment">
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Importante</strong></p>
</div>
<div class="callout-content">
<p>Las variables l√≥gicas <span class="hl-red"><strong>NO son variables de texto</strong></span>: <code>"TRUE"</code> es un texto, <code>TRUE</code> es un valor l√≥gico.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="cn">TRUE</span> <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a><span class="st">"TRUE"</span> <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in "TRUE" + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="condiciones-l√≥gicas" class="slide level2">
<h2>Condiciones l√≥gicas</h2>
<p>Los valores l√≥gicos suelen ser resultado de <span class="hl-yellow"><strong>evaluar condiciones l√≥gicas</strong></span>. Por ejemplo, imaginemos que queremos comprobar si una persona se llama Javi.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>nombre <span class="ot">&lt;-</span> <span class="st">"Mar√≠a"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Con el <span class="hl-yellow"><strong>operador l√≥gico</strong></span> <code>==</code> preguntamos s√≠ a la izquierda es igual a la derecha</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>nombre <span class="sc">==</span> <span class="st">"Javi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>Con su opuesto <code>!=</code> preguntamos si es distinto.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>nombre <span class="sc">!=</span> <span class="st">"Javi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>F√≠jate que‚Ä¶</strong></p>
</div>
<div class="callout-content">
<p>No es lo mismo <code>&lt;-</code> (<span class="hl-yellow"><strong>asignaci√≥n</strong></span>) que <code>==</code> (estamos <span class="hl-yellow"><strong>preguntando</strong></span>, es una comparaci√≥n l√≥gica).</p>
</div>
</div>
</div>
</div>
</section>
<section id="condiciones-l√≥gicas-1" class="slide level2">
<h2>Condiciones l√≥gicas</h2>
<p>Adem√°s de las comparaciones ¬´igual a¬ª frente ¬´distinto¬ª, tambi√©n comparaciones de orden como <code>&lt;, &lt;=, &gt; o &gt;=</code>.</p>
<p><strong>¬øTiene la persona menos de 32 a√±os?</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>edad <span class="ot">&lt;-</span> <span class="dv">38</span></span>
<span id="cb57-2"><a href="#cb57-2"></a>edad <span class="sc">&lt;</span> <span class="dv">32</span> <span class="co"># ¬øEs la edad menor de 32 a√±os?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p><strong>¬øLa edad es mayor o igual que 38 a√±os?</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a>edad <span class="sc">&gt;=</span> <span class="dv">38</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>
<section id="variables-de-fecha" class="slide level2">
<h2>Variables de fecha</h2>
<p>Un tipo de datos muy especial: los <span class="hl-yellow"><strong>datos de tipo fecha</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a>fecha_char <span class="ot">&lt;-</span> <span class="st">"2021-04-21"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Parece una simple cadena de texto pero <span class="hl-yellow"><strong>representa un instante en el tiempo</strong></span>. ¬øQu√© deber√≠a suceder si <span class="hl-purple"><strong>sumamos un 1 a una fecha</strong></span>?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>fecha_char <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in fecha_char + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>Las fechas <span class="hl-red"><strong>no pueden ser texto</strong></span>: debemos convertir la cadena de texto a fecha con <code>as_date()</code> del paquete <code>{lubridate}</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a><span class="fu">library</span>(lubridate) <span class="co"># instala si no lo has hecho</span></span>
<span id="cb64-2"><a href="#cb64-2"></a>fecha <span class="ot">&lt;-</span> <span class="fu">as_date</span>(<span class="st">"2023-03-28"</span>)</span>
<span id="cb64-3"><a href="#cb64-3"></a>fecha <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-03-29"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a><span class="fu">class</span>(fecha)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
</div>
</section>
<section id="variables-de-fecha-1" class="slide level2">
<h2>Variables de fecha</h2>
<p>En dicho paquete tenemos funciones muy √∫tiles para <span class="hl-yellow"><strong>manejar fechas</strong></span>:</p>
<ul>
<li>Con <code>today()</code> podemos obtener directamente la <span class="hl-purple"><strong>fecha actual</strong></span>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a><span class="fu">today</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-12-18"</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li>Con <code>now()</code> podemos obtener la <span class="hl-purple"><strong>fecha y hora actual</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a><span class="fu">now</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-12-18 15:59:34 CET"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li>Con <code>year()</code>, <code>month()</code> o <code>day()</code> podemos <span class="hl-purple"><strong>extraer el a√±o, mes y d√≠a</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>fecha <span class="ot">&lt;-</span> <span class="fu">today</span>()</span>
<span id="cb72-2"><a href="#cb72-2"></a><span class="fu">year</span>(fecha)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2023</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a><span class="fu">month</span>(fecha)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12</code></pre>
</div>
</div>
</div>
</section>
<section id="res√∫menes-de-paquetes" class="slide level2">
<h2>Res√∫menes de paquetes</h2>

<img data-src="img/lubridate.png" class="r-stretch"><div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Amplia contenido</strong></p>
</div>
<div class="callout-content">
<p>Tienes un resumen en pdf de los paquetes m√°s importantes en la <span class="hl-green"><strong>carpeta correspondiente en el campus</strong></span></p>
</div>
</div>
</div>
</section>
<section id="tu-turno-1" class="slide level2">
<h2>üíª Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-2-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-2-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-2-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<p>üìù Define una variable que guarde tu edad (llamada <code>edad</code>) y otra con tu nombre (llamada <code>nombre</code>)</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a>edad <span class="ot">&lt;-</span> <span class="dv">33</span></span>
<span id="cb76-2"><a href="#cb76-2"></a>nombre <span class="ot">&lt;-</span> <span class="st">"Javi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-2">
<p>üìù Define otra variable llamada <code>hermanos</code> que responda la pregunta ¬´¬øtienes hermanos?¬ª y otra con la fecha de tu nacimiento (llamada <code>fecha_nacimiento</code>).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a>hermanos <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb77-2"><a href="#cb77-2"></a></span>
<span id="cb77-3"><a href="#cb77-3"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb77-4"><a href="#cb77-4"></a>fecha_nacimiento <span class="ot">&lt;-</span> <span class="fu">as_date</span>(<span class="st">"1989-09-10"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-3">
<p>üìù Define otra variable con tus apellidos (llamada <code>apellidos</code>) y usa <code>glue()</code> para tener una sola variable <code>nombre_completo</code> (separando nombre y apellido por una coma)</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a>apellidos <span class="ot">&lt;-</span> <span class="st">"√Ålvarez Li√©bana"</span></span>
<span id="cb78-2"><a href="#cb78-2"></a><span class="fu">glue</span>(<span class="st">"{nombre}, {apellidos}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-4">
<p>üìù Calcula los d√≠as que han pasado desde la fecha de tu nacimiento hasta hoy (con la fecha de nacimiento definida en el ejercicio 2).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a><span class="fu">today</span>() <span class="sc">-</span> fecha_nacimiento</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="vectores-concatenar" class="slide level2">
<h2>Vectores: concatenar</h2>
<p>Cuando trabajamos con datos normalmente tendremos <span class="hl-yellow"><strong>columnas que representan variables</strong></span>: llamaremos <span class="hl-yellow"><strong>vectores</strong></span> a una <span class="hl-purple"><strong>concatenaci√≥n</strong></span> de celdas (valores) del <span class="hl-purple"><strong>mismo tipo</strong></span></p>
<div class="fragment">
<p>La forma m√°s sencilla es con el comando <code>c()</code> (c de <strong>concatenar</strong>), y basta con introducir sus <strong>elementos entre par√©ntesis y separados por comas</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a>edades <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">33</span>, <span class="dv">27</span>, <span class="dv">60</span>, <span class="dv">61</span>)</span>
<span id="cb80-2"><a href="#cb80-2"></a>edades</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 33 27 60 61</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>Un n√∫mero individual <code>x &lt;- 1</code> (o bien <code>x &lt;- c(1)</code>) es en realidad un vector de longitud uno.</p>
</div>
</div>
</div>
</div>
</section>
<section id="vectores-concatenar-1" class="slide level2">
<h2>Vectores: concatenar</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><img data-src="img/edades_environment.jpg"></p>
</div><div class="column" style="width:60%;">
<p>Como ves ahora en el <code>environment</code> tenemos una <strong>colecci√≥n de elementos</strong> guardada</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a>edades</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 33 27 60 61</code></pre>
</div>
</div>
</div>
</div>
<div class="fragment">
<p>&nbsp;</p>
<p>La <span class="hl-yellow"><strong>longitud de un vector</strong></span> se puede calcular con <code>length()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a><span class="fu">length</span>(edades)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>Tambi√©n podemos <span class="hl-yellow"><strong>concatenar vectores</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a><span class="fu">c</span>(edades, edades, <span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 33 27 60 61 33 27 60 61  8</code></pre>
</div>
</div>
</div>
</section>
<section id="secuencias-num√©ricas" class="slide level2">
<h2>Secuencias num√©ricas</h2>
<p>En muchas ocasiones querremos crear <span class="hl-yellow"><strong>secuencias num√©ricas</strong></span> (por ejemplo, los d√≠as del mes). El comando <code>seq(inicio, fin)</code> nos permite crear una <strong>secuencia</strong> desde un elemento inicial hasta uno final, <span class="hl-purple"><strong>avanzando de uno en uno</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">31</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
[26] 26 27 28 29 30 31</code></pre>
</div>
</div>
<div class="fragment">
<p>El comando <code>1:n</code> nos devuelve lo mismo que <code>seq(1, n)</code> (si el elemento inicial es mayor que el final, entender√° que la secuencia es <span class="hl-purple"><strong>decreciente</strong></span>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a><span class="dv">7</span><span class="sc">:-</span><span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  7  6  5  4  3  2  1  0 -1 -2 -3</code></pre>
</div>
</div>
</div>
</section>
<section id="secuencias-num√©ricas-1" class="slide level2">
<h2>Secuencias num√©ricas</h2>
<p>Tambi√©n podemos definir <span class="hl-yellow"><strong>otro tipo de distancia</strong></span> (paso) entre consecutivos</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">7</span>, <span class="at">by =</span> <span class="fl">0.5</span>) <span class="co"># secuencia desde 1 a 7 de 0.5 en 0.5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0 5.5 6.0 6.5 7.0</code></pre>
</div>
</div>
<div class="fragment">
<p>Otras veces nos interesar√° definir una <span class="hl-yellow"><strong>secuencia con una longitud concreta</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">50</span>, <span class="at">l =</span> <span class="dv">7</span>) <span class="co"># secuencia desde 1 a 50 de longitud 7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1.000000  9.166667 17.333333 25.500000 33.666667 41.833333 50.000000</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>Incluso puede nos interese generar un vector de <span class="hl-yellow"><strong>n elementos repetidos</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1"></a><span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">7</span>) <span class="co"># vector de 7 ceros</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0 0 0 0 0 0 0</code></pre>
</div>
</div>
</div>
</section>
<section id="vectores-de-caracteres" class="slide level2">
<h2>Vectores de caracteres</h2>
<p>Un vector es una <strong>concatenaci√≥n</strong> de elementos del <span class="hl-yellow"><strong>mismo tipo</strong></span>, pero no tienen porque ser necesariamente n√∫meros. Vamos a crear una frase de ejemplo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1"></a>frase <span class="ot">&lt;-</span> <span class="st">"Me llamo Javi"</span></span>
<span id="cb100-2"><a href="#cb100-2"></a>frase</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Me llamo Javi"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1"></a><span class="fu">length</span>(frase)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<div class="fragment">
<p>En el caso anterior no era un vector, era un solo elemento de texto. Para crear un vector debemos usar de nuevo <code>c()</code> y separar elementos entre comas</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1"></a>vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Me"</span>, <span class="st">"llamo"</span>, <span class="st">"Javi"</span>)</span>
<span id="cb104-2"><a href="#cb104-2"></a>vector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Me"    "llamo" "Javi" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1"></a><span class="fu">length</span>(vector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
</div>
</section>
<section id="vectores-de-caracteres-1" class="slide level2">
<h2>Vectores de caracteres</h2>
<p>¬øQu√© suceder√° si <span class="hl-yellow"><strong>concatenamos elementos de diferente tipo</strong></span>?</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="st">"javi"</span>, <span class="st">"3"</span>, <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1"    "2"    "javi" "3"    "TRUE"</code></pre>
</div>
</div>
<p>F√≠jate que como todos tienen que ser del mismo tipo, lo que hace <code>R</code> es <span class="hl-yellow"><strong>convertir</strong></span> todo a texto, violando la <span class="hl-red"><strong>integridad del dato</strong></span></p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1"></a><span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 4 1 0</code></pre>
</div>
</div>
<p>Es importante entender que los valores l√≥gicos en realidad est√°n <span class="hl-yellow"><strong>almacenados internamente como 0/1</strong></span></p>
</div>
</section>
<section id="operaciones-con-vectores" class="slide level2">
<h2>Operaciones con vectores</h2>
<p>Con los vectores num√©ricos podemos hacer las mismas <span class="hl-yellow"><strong>operaciones aritm√©ticas</strong></span> que con los n√∫meros ‚Üí un <span class="hl-purple"><strong>n√∫mero es un vector</strong></span> (de longitud uno)</p>
<div class="fragment">
<p>¬øQu√© suceder√° si <span class="hl-yellow"><strong>sumamos o restamos un valor</strong></span> a un vector?</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span>
<span id="cb112-2"><a href="#cb112-2"></a>x <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 4 6 8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1"></a>x <span class="sc">*</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2  6 10 14</code></pre>
</div>
</div>
<div class="callout callout-warning callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Cuidado</strong></p>
</div>
<div class="callout-content">
<p>Salvo que indiquemos lo contrario, en <code>R</code> las operaciones con vectores son siempre <span class="hl-orange"><strong>elemento a elemento</strong></span></p>
</div>
</div>
</div>
</div>
</section>
<section id="operaciones-con-vectores-1" class="slide level2">
<h2>Operaciones con vectores</h2>
<p>Los vectores tambi√©n pueden interactuar entre ellos, as√≠ que podemos definir, por ejemplo, <span class="hl-yellow"><strong>sumas de vectores</strong></span> (elemento a elemento)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>)</span>
<span id="cb116-2"><a href="#cb116-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>)</span>
<span id="cb116-3"><a href="#cb116-3"></a>x <span class="sc">+</span> y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  3  7 11</code></pre>
</div>
</div>
<div class="fragment">
<p>Dado que la operaci√≥n (por ejemplo, una suma) se realiza elemento a elemento, ¬øqu√© suceder√° si <span class="hl-yellow"><strong>sumamos dos vectores de distinta longitud</strong></span>?</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1"></a>z <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span>
<span id="cb118-2"><a href="#cb118-2"></a>x <span class="sc">+</span> z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  3  7 11  9</code></pre>
</div>
</div>
<p>Lo que hace es <span class="hl-yellow"><strong>reciclar elementos</strong></span>: si tiene un vector de 4 elementos y sumamos otro de 3 elementos, lo que har√° ser√° reciclar del vector con menor longitud.</p>
</div>
</section>
<section id="operaciones-con-vectores-2" class="slide level2">
<h2>Operaciones con vectores</h2>
<p>Una operaci√≥n muy habitual es <span class="hl-yellow"><strong>preguntar a los datos</strong></span> mediante el uso de <span class="hl-purple"><strong>condiciones l√≥gicas</strong></span>. Por ejemplo, si definimos un vector de temperaturas‚Ä¶</p>
<p><span class="hl-yellow"><strong>¬øQu√© d√≠as hizo menos de 22 grados?</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">31</span>, <span class="dv">27</span>, <span class="dv">15</span>, <span class="dv">29</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1"></a>x <span class="sc">&lt;</span> <span class="dv">22</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE FALSE FALSE  TRUE FALSE</code></pre>
</div>
</div>
<p>Nos devolver√° un <span class="hl-yellow"><strong>vector l√≥gico</strong></span>, en funci√≥n de si <strong>cada elemento</strong> cumple o no la condici√≥n pedida (de <strong>igual longitud</strong> que el vector preguntado)</p>
</div>
<div class="fragment">
<p>Si tuvi√©ramos un <span class="hl-yellow"><strong>dato ausente</strong></span> (por error del aparato ese d√≠a), la condici√≥n evaluada tambi√©n ser√≠a <code>NA</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">20</span>, <span class="cn">NA</span>, <span class="dv">31</span>, <span class="dv">27</span>, <span class="dv">7</span>, <span class="dv">29</span>, <span class="dv">10</span>)</span>
<span id="cb123-2"><a href="#cb123-2"></a>y <span class="sc">&lt;</span> <span class="dv">22</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE    NA FALSE FALSE  TRUE FALSE  TRUE</code></pre>
</div>
</div>
</div>
</section>
<section id="operaciones-con-vectores-3" class="slide level2">
<h2>Operaciones con vectores</h2>
<p>Las <span class="hl-yellow"><strong>condiciones l√≥gicas pueden ser combinadas</strong></span> de dos maneras:</p>
<ul>
<li><span class="hl-yellow"><strong>Intersecci√≥n</strong></span>: <span class="hl-purple"><strong>todas</strong></span> las condiciones concatenadas se deben cumplir (<span class="hl-purple"><strong>conjunci√≥n y</strong></span> con <code>&amp;</code>) para devolver un <code>TRUE</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1"></a>x <span class="sc">&lt;</span> <span class="dv">30</span> <span class="sc">&amp;</span> x <span class="sc">&gt;</span> <span class="dv">15</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE FALSE  TRUE FALSE  TRUE</code></pre>
</div>
</div>
<ul>
<li><span class="hl-yellow"><strong>Uni√≥n</strong></span>: basta con que <span class="hl-purple"><strong>al menos una</strong></span> se cumpla (<span class="hl-purple"><strong>conjunci√≥n o</strong></span> con <code>|</code>)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1"></a>x <span class="sc">&lt;</span> <span class="dv">30</span> <span class="sc">|</span> x <span class="sc">&gt;</span> <span class="dv">15</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE TRUE TRUE TRUE TRUE TRUE</code></pre>
</div>
</div>
<div class="fragment">
<p>Con <code>any()</code> y <code>all()</code> podemos comprobar que <span class="hl-yellow"><strong>todos los elementos</strong></span> cumplen</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1"></a><span class="fu">any</span>(x <span class="sc">&lt;</span> <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1"></a><span class="fu">all</span>(x <span class="sc">&lt;</span> <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
</section>
<section id="operaciones-con-vectores-4" class="slide level2">
<h2>Operaciones con vectores</h2>
<p>Tambi√©n podemos hacer uso de <span class="hl-yellow"><strong>operaciones estad√≠sticas</strong></span> como por ejemplo <code>sum()</code> que, dado un vector, nos devuelve la suma de todos sus elementos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb133-2"><a href="#cb133-2"></a><span class="fu">sum</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<p><span class="hl-yellow"><strong>¬øQu√© sucede cuando falta un dato (ausente)?</strong></span></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>, <span class="cn">NA</span>, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb135-2"><a href="#cb135-2"></a><span class="fu">sum</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p>Por defecto, si tenemos un dato ausente, la <span class="hl-yellow"><strong>operaci√≥n tambi√©n ser√° ausente</strong></span>. Para poder <span class="hl-purple"><strong>obviar ese dato</strong></span>, usamos un argumento opcional <code>na.rm = TRUE</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1"></a><span class="fu">sum</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</div>
</section>
<section id="operaciones-con-vectores-5" class="slide level2">
<h2>Operaciones con vectores</h2>
<p>Como hemos comentado que los valores l√≥gicos son guardados internamente como 0 y 1, podremos usarlos en operaciones aritm√©ticas.</p>
<p>&nbsp;</p>
<p>Por ejemplo, si queremos <span class="hl-yellow"><strong>averiguar el n√∫mero de elementos que cumplen una condici√≥n</strong></span> (por ejemplo, menores que 3), los que lo hagan tendr√°n asignado un 1 (<code>TRUE</code>) y los que no un 0 (<code>FALSE</code>) , por lo que basta con sumar dicho vector l√≥gico para obtener el n√∫mero de elementos que cumplen</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>)</span>
<span id="cb139-2"><a href="#cb139-2"></a><span class="fu">sum</span>(x <span class="sc">&lt;</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</section>
<section id="operaciones-con-vectores-6" class="slide level2">
<h2>Operaciones con vectores</h2>
<p>Otras operaciones habituales son la <span class="hl-yellow"><strong>media</strong></span>, <span class="hl-yellow"><strong>mediana</strong></span>, <span class="hl-yellow"><strong>percentiles</strong></span>, etc.</p>
<p>&nbsp;</p>
<ul>
<li><span class="hl-yellow"><strong>Media</strong></span>: medida de centralidad que consiste en sumar todos los elementos y dividirlos entre la cantidad de elementos sumados. La m√°s conocida pero la <span class="hl-red"><strong>menos robusta</strong></span>: dado un conjunto, si se introducen valores at√≠picos o outliers (valores muy grandes o muy peque√±os), la media se perturba con mucha facilidad.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">165</span>, <span class="dv">170</span>, <span class="dv">181</span>, <span class="dv">191</span>, <span class="dv">150</span>, <span class="dv">155</span>, <span class="dv">167</span>, <span class="cn">NA</span>, <span class="dv">173</span>, <span class="dv">177</span>)</span>
<span id="cb141-2"><a href="#cb141-2"></a><span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 169.8889</code></pre>
</div>
</div>
</section>
<section id="operaciones-con-vectores-7" class="slide level2">
<h2>Operaciones con vectores</h2>
<p>Otras operaciones habituales son la <span class="hl-yellow"><strong>media</strong></span>, <span class="hl-yellow"><strong>mediana</strong></span>, <span class="hl-yellow"><strong>percentiles</strong></span>, etc.</p>
<p>&nbsp;</p>
<ul>
<li><span class="hl-yellow"><strong>Mediana</strong></span>: medida de centralidad que consiste en ordenar los elementos y quedarse con el que ocupa la mitad.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">165</span>, <span class="dv">170</span>, <span class="dv">181</span>, <span class="dv">191</span>, <span class="dv">150</span>, <span class="dv">155</span>, <span class="dv">167</span>, <span class="dv">173</span>, <span class="dv">177</span>)</span>
<span id="cb143-2"><a href="#cb143-2"></a><span class="fu">median</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 170</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Percentiles</strong></span>: medidas de posici√≥n (nos dividen en partes iguales los datos).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1"></a><span class="fu">quantile</span>(x) <span class="co"># por defecto percentiles 0-25-50-75-100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  0%  25%  50%  75% 100% 
 150  165  170  177  191 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1"></a><span class="fu">quantile</span>(x, <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.4</span>, <span class="fl">0.9</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  10%   40%   90% 
154.0 167.6 183.0 </code></pre>
</div>
</div>
</div>
</section>
<section id="operaciones-con-vectores-8" class="slide level2">
<h2>Operaciones con vectores</h2>
<p>Otra operaci√≥n muy habitual es la de <span class="hl-yellow"><strong>acceder a elementos</strong></span> del mismo. La forma m√°s sencilla es usar el operador <code>[i]</code> (acceder al elemento i-√©simo)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1"></a>edades <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">33</span>, <span class="cn">NA</span>, <span class="dv">61</span>) </span>
<span id="cb149-2"><a href="#cb149-2"></a>edades[<span class="dv">3</span>] <span class="co"># accedemos a la edad de la tercera persona </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 33</code></pre>
</div>
</div>
<div class="fragment">
<p>&nbsp;</p>
<p>Dado que un n√∫mero no es m√°s que un vector de longitud uno, esta operaci√≥n tambi√©n la podemos aplicar usando un <span class="hl-yellow"><strong>vector de √≠ndices a seleccionar</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"hola"</span>, <span class="st">"qu√©"</span>, <span class="st">"tal"</span>, <span class="st">"est√°s"</span>, <span class="st">"?"</span>)</span>
<span id="cb151-2"><a href="#cb151-2"></a>y[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">4</span>)] <span class="co"># primer, segundo y cuarto elemento</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hola"  "qu√©"   "est√°s"</code></pre>
</div>
</div>
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>Para acceder al √∫ltimo, sin preocuparnos de cu√°l, podemos pasarle como √≠ndice la longitud <code>x[length(x)]</code></p>
</div>
</div>
</div>
</div>
</section>
<section id="operaciones-con-vectores-9" class="slide level2">
<h2>Operaciones con vectores</h2>
<p>Otras veces no querremos seleccionar sino <span class="hl-yellow"><strong>eliminar algunos elementos</strong></span>. Deberemos repetir la misma operaci√≥n pero con el signo - delante: el operador <code>[-i]</code> no selecciona el elemento i-√©simo del vector sino que lo ¬´des-selecciona¬ª</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hola"  "qu√©"   "tal"   "est√°s" "?"    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1"></a>y[<span class="sc">-</span><span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hola"  "tal"   "est√°s" "?"    </code></pre>
</div>
</div>
<p>&nbsp;</p>
<div class="fragment">
<p>En muchas ocasiones los queremos <span class="hl-yellow"><strong>seleccionar o eliminar en base a condiciones l√≥gicas</strong></span>, en funci√≥n de los valores, as√≠ que pasaremos como √≠ndice la propia condici√≥n (recuerda, <code>x &lt; 2</code> nos devuelve un vector l√≥gico)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1"></a>edades <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">21</span>, <span class="dv">30</span>, <span class="dv">17</span>, <span class="dv">45</span>)</span>
<span id="cb157-2"><a href="#cb157-2"></a>nombres <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"javi"</span>, <span class="st">"mar√≠a"</span>, <span class="st">"laura"</span>, <span class="st">"carla"</span>, <span class="st">"luis"</span>)</span>
<span id="cb157-3"><a href="#cb157-3"></a>nombres[edades <span class="sc">&lt;</span> <span class="dv">18</span>] <span class="co"># nombres de los menores de edad</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "javi"  "carla"</code></pre>
</div>
</div>
</div>
</section>
<section id="operaciones-con-vectores-10" class="slide level2">
<h2>Operaciones con vectores</h2>
<p>Por √∫ltimo, una acci√≥n habitual es saber <span class="hl-yellow"><strong>ordenar valores</strong></span>:</p>
<ul>
<li><code>sort()</code>: devuelve el <span class="hl-yellow"><strong>vector ordenado</strong></span>. Por defecto de menor a mayor pero con <code>decreasing = TRUE</code> podemos cambiarlo</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1"></a>edades <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">81</span>, <span class="dv">7</span>, <span class="dv">25</span>, <span class="dv">41</span>, <span class="dv">65</span>, <span class="dv">20</span>, <span class="dv">33</span>, <span class="dv">23</span>, <span class="dv">77</span>)</span>
<span id="cb159-2"><a href="#cb159-2"></a><span class="fu">sort</span>(edades)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  7 20 23 25 33 41 65 77 81</code></pre>
</div>
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1"></a><span class="fu">sort</span>(edades, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 81 77 65 41 33 25 23 20  7</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li><code>order()</code>: devuelve el <span class="hl-yellow"><strong>vector de √≠ndices</strong></span> que tendr√≠amos que usar para tener el vector ordenado</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1"></a><span class="fu">order</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5 6 1 7 2 8 9 3 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1"></a>x[<span class="fu">order</span>(x)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 150 155 165 167 170 173 177 181 191</code></pre>
</div>
</div>
</div>
</section>
<section id="tu-turno-2" class="slide level2">
<h2>üíª Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-3-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-3-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-3-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-3-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li><li><a href="#tabset-3-6"><span class="hl-yellow"><strong>Ejercicio 6</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<p>üìù Define el vector <code>x</code> como la concatenaci√≥n de los 5 primeros n√∫meros impares, y calcula su suma.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1"></a><span class="co"># Dos formas</span></span>
<span id="cb167-2"><a href="#cb167-2"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)</span>
<span id="cb167-3"><a href="#cb167-3"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">9</span>, <span class="at">by =</span> <span class="dv">2</span>)</span>
<span id="cb167-4"><a href="#cb167-4"></a></span>
<span id="cb167-5"><a href="#cb167-5"></a><span class="fu">sum</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-2">
<p>üìù Obt√©n los elementos de <code>x</code> mayores que 4. Calcula el n√∫mero de elementos de <code>x</code> mayores que 4.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1"></a>x[x <span class="sc">&gt;</span> <span class="dv">4</span>]</span>
<span id="cb168-2"><a href="#cb168-2"></a><span class="fu">sum</span>(x <span class="sc">&gt;</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-3">
<p>üìù Calcula el vector <code>1/x</code> y obt√©n la versi√≥n ordenada (de menor a mayor).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1"></a>z <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">/</span>x</span>
<span id="cb169-2"><a href="#cb169-2"></a><span class="fu">sort</span>(z)</span>
<span id="cb169-3"><a href="#cb169-3"></a>z[<span class="fu">order</span>(z)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-4">
<p>üìù Encuentra el m√°ximo y el m√≠nimo del vector <code>x</code></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1"></a><span class="fu">min</span>(x)</span>
<span id="cb170-2"><a href="#cb170-2"></a><span class="fu">max</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-5">
<p>üìù Encuentra del vector <code>x</code> los elementos mayores (estrictos) que 1 y menores (estrictos) que 7. Encuentra una forma de averiguar si todos los elementos son o no positivos.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1"></a>x[x <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> x <span class="sc">&lt;</span> <span class="dv">7</span>]</span>
<span id="cb171-2"><a href="#cb171-2"></a><span class="fu">all</span>(x <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-6">
<p>üìù Dado el vector <code>x &lt;- c(1, -5, 8, NA, 10, -3, 9)</code>, extrae los elementos que ocupan los lugares 1, 2, 5, 6. Elimina del vector el segundo elemento. Tras eliminarlo determina su suma y su media</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">5</span>, <span class="dv">8</span>, <span class="cn">NA</span>, <span class="dv">10</span>, <span class="sc">-</span><span class="dv">3</span>, <span class="dv">9</span>)</span>
<span id="cb172-2"><a href="#cb172-2"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">6</span>)]</span>
<span id="cb172-3"><a href="#cb172-3"></a>y <span class="ot">&lt;-</span> x[<span class="sc">-</span><span class="dv">2</span>]</span>
<span id="cb172-4"><a href="#cb172-4"></a><span class="fu">sum</span>(y, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb172-5"><a href="#cb172-5"></a><span class="fu">mean</span>(y, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="caso-pr√°ctico-2" class="slide level2">
<h2>üê£ Caso pr√°ctico</h2>
<p>En el paquete <code>{datasets}</code> tenemos diversos conjuntos de datos y uno de ellos es <code>airquality</code>. Debajo te he extra√≠do 3 variables de dicho dataset</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1"></a>temperature <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Temp</span>
<span id="cb173-2"><a href="#cb173-2"></a>month <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Month</span>
<span id="cb173-3"><a href="#cb173-3"></a>day <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Day</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li>¬øQu√© <span class="hl-yellow"><strong>representan los datos</strong></span>? ¬øC√≥mo averiguarlo?</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1"></a>? airquality</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Haciendo uso de <code>? ...</code> podemos consultar en el panel de ayuda lo que significa el objeto.</p>
</section>
<section id="caso-pr√°ctico-2-2" class="slide level2">
<h2>üê£ Caso pr√°ctico</h2>
<ol start="2" type="1">
<li>¬øCu√°ntos <span class="hl-yellow"><strong>registros tenemos de mayo</strong></span>? ¬øY de abril? Construye una nueva variable <code>date</code> con la <span class="hl-yellow"><strong>fecha</strong></span> de cada registro (combinando a√±o, mes y d√≠a)</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1"></a><span class="co"># Una forma para registros de mayo</span></span>
<span id="cb175-2"><a href="#cb175-2"></a><span class="fu">sum</span>(month <span class="sc">==</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 31</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1"></a><span class="co"># Otra forma</span></span>
<span id="cb177-2"><a href="#cb177-2"></a><span class="fu">length</span>(month[month <span class="sc">==</span> <span class="dv">5</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 31</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1"></a><span class="co"># √≠dem en abril</span></span>
<span id="cb179-2"><a href="#cb179-2"></a><span class="fu">sum</span>(month <span class="sc">==</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1"></a><span class="co"># variable date</span></span>
<span id="cb181-2"><a href="#cb181-2"></a>dates <span class="ot">&lt;-</span> lubridate<span class="sc">::</span><span class="fu">as_date</span>(<span class="fu">glue</span>(<span class="st">"{1973}-{month}-{day}"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="fragment">
<ol start="3" type="1">
<li>Crea una nueva variable <code>temp_celsius</code> con la <span class="hl-yellow"><strong>temperatura en ¬∫C</strong></span></li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1"></a><span class="co"># Temperatura en celsius</span></span>
<span id="cb182-2"><a href="#cb182-2"></a>temp_celsius <span class="ot">&lt;-</span> (temperature <span class="sc">-</span> <span class="dv">32</span>) <span class="sc">*</span> (<span class="dv">5</span><span class="sc">/</span><span class="dv">9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</section>
<section id="caso-pr√°ctico-2-3" class="slide level2">
<h2>üê£ Caso pr√°ctico</h2>
<ol start="4" type="1">
<li>¬øCu√°l fue la <span class="hl-yellow"><strong>media de temperatura</strong></span> del mes de agosto? Extrae los d√≠as en los que la <span class="hl-yellow"><strong>temperatura super√≥ los 30 grados</strong></span> y calcula la cantidad de d√≠as en los que lo hizo.</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1"></a><span class="co"># media en agosto</span></span>
<span id="cb183-2"><a href="#cb183-2"></a><span class="fu">mean</span>(temperature[month <span class="sc">==</span> <span class="dv">8</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 83.96774</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1"></a><span class="fu">mean</span>(temp_celsius[month <span class="sc">==</span> <span class="dv">8</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 28.87097</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1"></a><span class="co"># Extremos d√≠as &gt; 30</span></span>
<span id="cb187-2"><a href="#cb187-2"></a>dates[temp_celsius <span class="sc">&gt;</span> <span class="dv">30</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "1973-06-08" "1973-06-09" "1973-06-10" "1973-06-11" "1973-06-12"
 [6] "1973-07-07" "1973-07-08" "1973-07-09" "1973-07-10" "1973-07-14"
[11] "1973-07-19" "1973-07-28" "1973-08-06" "1973-08-07" "1973-08-08"
[16] "1973-08-09" "1973-08-10" "1973-08-27" "1973-08-28" "1973-08-29"
[21] "1973-08-30" "1973-08-31" "1973-09-01" "1973-09-02" "1973-09-03"
[26] "1973-09-04" "1973-09-05"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1"></a><span class="fu">length</span>(dates[temp_celsius <span class="sc">&gt;</span> <span class="dv">30</span>]) <span class="co"># n d√≠as</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 27</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1"></a><span class="fu">sum</span>(temp_celsius <span class="sc">&gt;</span> <span class="dv">30</span>) <span class="co"># n d√≠as (otra forma)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 27</code></pre>
</div>
</div>
</section>
<section id="antes-de-seguir-microbenchmark" class="slide level2">
<h2>Antes de seguir: microbenchmark</h2>
<p>Hay un paquete muy √∫til para <span class="hl-yellow"><strong>medir tiempos de distintas √≥rdenes que hacen lo mismo</strong></span> (el paquete <code>{microbenchmark}</code>) para intentar ser con nuestro c√≥digo lo m√°s eficientes posible. Vamos a comparar por ejemplo <code>order()</code> y <code>sort()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1"></a><span class="fu">library</span>(microbenchmark) <span class="co"># instalar primera vez</span></span>
<span id="cb193-2"><a href="#cb193-2"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="fl">2e3</span>) <span class="co"># 2000 elementos aleatorias</span></span>
<span id="cb193-3"><a href="#cb193-3"></a><span class="fu">microbenchmark</span>(<span class="fu">sort</span>(x), x[<span class="fu">order</span>(x)], <span class="at">times =</span> <span class="fl">5e2</span>) <span class="co"># 500 veces</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Unit: microseconds
        expr    min     lq     mean median       uq    max neval
     sort(x) 88.806 90.446 97.40058 91.963 108.8960 174.66   500
 x[order(x)] 73.718 75.153 80.01093 76.342  80.7905 111.11   500</code></pre>
</div>
</div>
</section>
<section id="primer-intento-matrices" class="slide level2">
<h2>Primer intento: matrices</h2>
<p>Cuando analizamos datos solemos tener <span class="hl-yellow"><strong>varias variables</strong></span> de cada individuo: necesitamos una ¬´tabla¬ª que las recopile. La opci√≥n m√°s inmediata son las <span class="hl-yellow"><strong>matrices</strong></span>: concatenaci√≥n de variables del <span class="hl-purple"><strong>mismo tipo e igual longitud</strong></span>.</p>
<div class="fragment">
<p>Imagina que tenemos estaturas y pesos de 4 personas. ¬øC√≥mo <span class="hl-yellow"><strong>crear un dataset con las dos variables</strong></span>?</p>
<ul>
<li>Con <code>cbind()</code> <span class="hl-yellow"><strong>concatenamos vectores en forma de columnas</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1"></a>estaturas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">150</span>, <span class="dv">160</span>, <span class="dv">170</span>, <span class="dv">180</span>)</span>
<span id="cb195-2"><a href="#cb195-2"></a>pesos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">63</span>, <span class="dv">70</span>, <span class="dv">85</span>, <span class="dv">95</span>)</span>
<span id="cb195-3"><a href="#cb195-3"></a>datos_matriz <span class="ot">&lt;-</span> <span class="fu">cbind</span>(estaturas, pesos)</span>
<span id="cb195-4"><a href="#cb195-4"></a>datos_matriz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     estaturas pesos
[1,]       150    63
[2,]       160    70
[3,]       170    85
[4,]       180    95</code></pre>
</div>
</div>
</div>
</section>
<section id="primer-intento-matrices-1" class="slide level2">
<h2>Primer intento: matrices</h2>
<ul>
<li>Tambi√©n podemos <span class="hl-yellow"><strong>construir la matriz por filas</strong></span> con la funci√≥n <code>rbind()</code> (aunque lo recomendable es tener cada variable en columna e individuo en fila).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1"></a><span class="co"># Construimos la matriz por filas</span></span>
<span id="cb197-2"><a href="#cb197-2"></a><span class="fu">rbind</span>(estaturas, pesos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          [,1] [,2] [,3] [,4]
estaturas  150  160  170  180
pesos       63   70   85   95</code></pre>
</div>
</div>
<ul>
<li>Podemos <span class="hl-yellow"><strong>visualizar la matriz</strong></span> con la funci√≥n <code>View()</code>.</li>
</ul>
<div class="fragment">
<ul>
<li>Podemos <span class="hl-yellow"><strong>comprobar las dimensiones</strong></span> con <code>dim()</code>, <code>nrow()</code> y <code>ncol()</code>: nuestros datos est√°n tabulados:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1"></a><span class="fu">dim</span>(datos_matriz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1"></a><span class="fu">nrow</span>(datos_matriz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
</div>
</section>
<section id="primer-intento-matrices-2" class="slide level2">
<h2>Primer intento: matrices</h2>
<ul>
<li>Tambi√©n podemos <span class="hl-yellow"><strong>¬´darle vuelta¬ª (matriz transpuesta)</strong></span> con <code>t()</code>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1"></a><span class="fu">t</span>(datos_matriz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          [,1] [,2] [,3] [,4]
estaturas  150  160  170  180
pesos       63   70   85   95</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li>Dado que ahora tenemos dos dimensiones, para <span class="hl-yellow"><strong>acceder a elementos</strong></span> deberemos proporcionar el √≠ndice de la fila y de la columna (si quedan libres implica todos de esa dimensi√≥n)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1"></a>datos_matriz[<span class="dv">2</span>, <span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>estaturas 
      160 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb207"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1"></a>datos_matriz[, <span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 63 70 85 95</code></pre>
</div>
</div>
</div>
</section>
<section id="primer-intento-matrices-3" class="slide level2">
<h2>Primer intento: matrices</h2>
<ul>
<li>Tambi√©n podemos definir una <span class="hl-yellow"><strong>matriz a partir de un vector num√©rico</strong></span>, reorganizando los valores en forma de matriz (sabiendo que los elementos se van <strong>colocando por columnas</strong>).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1"></a>z <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>, <span class="at">ncol =</span> <span class="dv">5</span>) </span>
<span id="cb209-2"><a href="#cb209-2"></a>z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    1    4    7   10   13
[2,]    2    5    8   11   14
[3,]    3    6    9   12   15</code></pre>
</div>
</div>
<div class="fragment">
<p>Con las matrices sucede como con los vectores: cuando aplicamos una <span class="hl-yellow"><strong>operaci√≥n aritm√©tica lo hacemos elemento a elemento</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1"></a>z<span class="sc">/</span><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]  0.2  0.8  1.4  2.0  2.6
[2,]  0.4  1.0  1.6  2.2  2.8
[3,]  0.6  1.2  1.8  2.4  3.0</code></pre>
</div>
</div>
</div>
</section>
<section id="primer-intento-matrices-4" class="slide level2">
<h2>Primer intento: matrices</h2>
<p>Tambi√©n podemos <span class="hl-yellow"><strong>realizar operaciones por columnas/filas</strong></span> sin recurrir a bucles con la funci√≥n <code>apply()</code>, y le indicaremos como <strong>argumentos</strong></p>
<ul>
<li>la matriz</li>
<li>el sentido de la operaci√≥n (MARGIN = 1 por filas, MARGIN = 2 por columnas)</li>
<li>la funci√≥n a aplicar</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1"></a><span class="co"># Media (mean) por columnas (MARGIN = 2)</span></span>
<span id="cb213-2"><a href="#cb213-2"></a><span class="fu">apply</span>(datos_matriz, <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span> <span class="st">"mean"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>estaturas     pesos 
   165.00     78.25 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1"></a><span class="co"># (Cuasi)varianza (var) por columnas (MARGIN = 2)</span></span>
<span id="cb215-2"><a href="#cb215-2"></a><span class="fu">apply</span>(datos_matriz, <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span> <span class="st">"var"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>estaturas     pesos 
 166.6667  208.9167 </code></pre>
</div>
</div>
</div>
<div class="fragment">
<p><span class="hl-red"><strong>No profundizaremos</strong></span> m√°s ya que nuestro objetivo es tener variables de misma longitud pero <span class="hl-yellow"><strong>tipos diferentes</strong></span> (pero que sepas que existen).</p>
</div>
</section>
<section id="tu-turno-matrices" class="slide level2">
<h2>üíª Tu turno (matrices)</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-4-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-4-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-4-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<p>üìù Modifica el c√≥digo para definir una matriz <code>x</code> de ceros de 3 filas y 7 columnas de unos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb217"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb217-2"><a href="#cb217-2"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span>, <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">7</span>)</span>
<span id="cb218-2"><a href="#cb218-2"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-4-2">
<p>üìù A la matriz anterior, suma un 1 a cada n√∫mero de la matriz y divide el resultado entre 5. Tras ello calcula su transpuesta y obt√©n sus dimensiones</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1"></a>new_matrix <span class="ot">&lt;-</span> (x <span class="sc">+</span> <span class="dv">1</span>)<span class="sc">/</span><span class="dv">5</span></span>
<span id="cb219-2"><a href="#cb219-2"></a><span class="fu">t</span>(new_matrix)</span>
<span id="cb219-3"><a href="#cb219-3"></a><span class="fu">dim</span>(new_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-4-3">
<p>üìù Define la matriz <code>x &lt;- matrix(1:12, nrow = 4)</code>. Obt√©n la primera fila, la tercera columna, y el elemento (4, 1).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb220"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb220-1"><a href="#cb220-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">nrow =</span> <span class="dv">4</span>)</span>
<span id="cb220-2"><a href="#cb220-2"></a>x[<span class="dv">1</span>, ] <span class="co"># primera fila</span></span>
<span id="cb220-3"><a href="#cb220-3"></a>x[, <span class="dv">3</span>] <span class="co"># tercera columna</span></span>
<span id="cb220-4"><a href="#cb220-4"></a>x[<span class="dv">4</span>, <span class="dv">1</span>] <span class="co"># elemento (4, 1)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-4-4">
<p>üìù Con la matriz anterior definida como <code>x &lt;- matrix(1:12, nrow = 4)</code>, calcula la media de todos los elementos, la media de cada fila y la media de cada columna. Calcula la suma de de cada fila y de cada columna</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">nrow =</span> <span class="dv">4</span>)</span>
<span id="cb221-2"><a href="#cb221-2"></a><span class="fu">mean</span>(x) <span class="co"># de todos</span></span>
<span id="cb221-3"><a href="#cb221-3"></a><span class="fu">apply</span>(x, <span class="at">MARGIN =</span> <span class="dv">1</span>, <span class="at">FUN =</span> <span class="st">"mean"</span>) <span class="co"># media por filas</span></span>
<span id="cb221-4"><a href="#cb221-4"></a><span class="fu">apply</span>(x, <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span> <span class="st">"mean"</span>) <span class="co"># media por columnas</span></span>
<span id="cb221-5"><a href="#cb221-5"></a><span class="fu">apply</span>(x, <span class="at">MARGIN =</span> <span class="dv">1</span>, <span class="at">FUN =</span> <span class="st">"sum"</span>) <span class="co"># suma por filas</span></span>
<span id="cb221-6"><a href="#cb221-6"></a><span class="fu">apply</span>(x, <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span> <span class="st">"sum"</span>) <span class="co"># suma por columnas</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="segundo-intento-data.frame" class="slide level2">
<h2>Segundo intento: data.frame</h2>
<p>Las matrices tienen el mismo problema que los vectores: si juntamos datos de distinto tipo, se <span class="hl-red"><strong>perturba la integridad del dato</strong></span> ya que los convierte</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb222" data-code-line-numbers="4-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1"></a>edades <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">34</span>, <span class="dv">24</span>, <span class="cn">NA</span>)</span>
<span id="cb222-2"><a href="#cb222-2"></a>soltero <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">NA</span>, <span class="cn">TRUE</span>)</span>
<span id="cb222-3"><a href="#cb222-3"></a>nombres <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"javi"</span>, <span class="st">"carlos"</span>, <span class="st">"luc√≠a"</span>)</span>
<span id="cb222-4"><a href="#cb222-4"></a>matriz <span class="ot">&lt;-</span> <span class="fu">cbind</span>(edades, soltero, nombres)</span>
<span id="cb222-5"><a href="#cb222-5"></a>matriz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     edades soltero nombres 
[1,] "34"   "FALSE" "javi"  
[2,] "24"   NA      "carlos"
[3,] NA     "TRUE"  "luc√≠a" </code></pre>
</div>
</div>
<div class="fragment">
<p>Al ya no ser n√∫meros no podemos realizar operaciones aritm√©ticas</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1"></a>matriz <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in matriz + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
</section>
<section id="segundo-intento-data.frame-1" class="slide level2">
<h2>Segundo intento: data.frame</h2>
<p>Para poder trabajar con <span class="hl-yellow"><strong>variables de distinto tipo</strong></span> tenemos lo que se conoce como <span class="hl-yellow"><strong>data.frame</strong></span>: concatenaci√≥n de variables de igual longitud pero pueden ser de <span class="hl-purple"><strong>tipo distinto</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb226" data-code-line-numbers="1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1"></a>tabla <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(edades, soltero, nombres)</span>
<span id="cb226-2"><a href="#cb226-2"></a><span class="fu">class</span>(tabla)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb228" data-code-line-numbers="1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1"></a>tabla</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  edades soltero nombres
1     34   FALSE    javi
2     24      NA  carlos
3     NA    TRUE   luc√≠a</code></pre>
</div>
</div>
</section>
<section id="segundo-intento-data.frame-2" class="slide level2">
<h2>Segundo intento: data.frame</h2>
<p>Dado que un <code>data.frame</code> es ya una ¬´base de datos¬ª las variables no son meros vectores matem√°ticos: <span class="hl-yellow"><strong>tienen un significado</strong></span> y podemos (debemos) <span class="hl-purple"><strong>ponerles nombres</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb230-2"><a href="#cb230-2"></a>tabla <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">"edad"</span> <span class="ot">=</span> edades, <span class="st">"estado"</span> <span class="ot">=</span> soltero, <span class="st">"nombre"</span> <span class="ot">=</span> nombres,</span>
<span id="cb230-3"><a href="#cb230-3"></a>             <span class="st">"f_nacimiento"</span> <span class="ot">=</span> <span class="fu">as_date</span>(<span class="fu">c</span>(<span class="st">"1989-09-10"</span>, <span class="st">"1992-04-01"</span>, <span class="st">"1980-11-27"</span>)))</span>
<span id="cb230-4"><a href="#cb230-4"></a>tabla</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  edad estado nombre f_nacimiento
1   34  FALSE   javi   1989-09-10
2   24     NA carlos   1992-04-01
3   NA   TRUE  luc√≠a   1980-11-27</code></pre>
</div>
</div>
</section>
<section id="segundo-intento-data.frame-3" class="slide level2">
<h2>Segundo intento: data.frame</h2>
<p><span class="hl-yellow"><strong>¬°TENEMOS NUESTRO PRIMER CONJUNTO DE DATOS!</strong></span> Puedes visualizarlo escribiendo su nombre en consola o con <code>View(tabla)</code></p>

<img data-src="img/view_tabla.jpg" class="r-stretch"></section>
<section id="segundo-intento-data.frame-4" class="slide level2">
<h2>Segundo intento: data.frame</h2>
<p>Si queremos acceder a sus elementos, podemos como en las matrices (aunque no es recomendable): ahora <span class="hl-yellow"><strong>tenemos dos √≠ndices</strong></span> (filas y columnas, dejando libre la que no usemos)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb232-1"><a href="#cb232-1"></a>tabla[<span class="dv">2</span>, ]  <span class="co"># segunda fila (todas sus variables)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  edad estado nombre f_nacimiento
2   24     NA carlos   1992-04-01</code></pre>
</div>
<div class="sourceCode cell-code" id="cb234"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb234-1"><a href="#cb234-1"></a>tabla[, <span class="dv">3</span>]  <span class="co"># tercera columna (de todos los individuos)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "javi"   "carlos" "luc√≠a" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb236"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb236-1"><a href="#cb236-1"></a>tabla[<span class="dv">2</span>, <span class="dv">1</span>]  <span class="co"># primera caracter√≠stica de la segunda persona</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 24</code></pre>
</div>
</div>
<div class="fragment">
<div class="columns">
<div class="column" style="width:25%;">
<p><img data-src="img/menu_data_frame.jpg"></p>
</div><div class="column" style="width:75%;">
<p>Tambi√©n tiene ventajas de una <span class="hl-yellow"><strong>¬´base¬ª de datos</strong></span> : podemos <span class="hl-purple"><strong>aceder a las variables por su nombre</strong></span> (<strong>recomendable</strong> ya que las variables pueden cambiar de posici√≥n), poniendo el nombre de la tabla seguido del s√≠mbolo <code>$</code> (con el <strong>tabulador</strong>, nos aparecer√° un men√∫ de columnas a elegir)</p>
</div>
</div>
</div>
</section>
<section id="segundo-intento-data.frame-5" class="slide level2">
<h2>Segundo intento: data.frame</h2>
<ul>
<li><code>names()</code>: nos muestra los nombres de las variables</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb238"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb238-1"><a href="#cb238-1"></a><span class="fu">names</span>(tabla)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "edad"         "estado"       "nombre"       "f_nacimiento"</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li><code>dim()</code>: nos muestra las dimensiones (tambi√©n <code>nrow()</code> y <code>ncol()</code>)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb240"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb240-1"><a href="#cb240-1"></a><span class="fu">dim</span>(tabla)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 4</code></pre>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li>Podemos acceder a las variables por su nombre</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb242"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb242-1"><a href="#cb242-1"></a>tabla[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>), <span class="st">"nombre"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "javi"  "luc√≠a"</code></pre>
</div>
</div>
</div>
</section>
<section id="segundo-intento-data.frame-6" class="slide level2">
<h2>Segundo intento: data.frame</h2>
<p>Si tenemos uno ya creado y queremos <span class="hl-yellow"><strong>a√±adir una columna</strong></span> es tan simple como usar la funci√≥n <code>data.frame()</code> que ya hemos visto para concatenar la columna. Vamos a√±adir por ejemplo una nueva variable, el n√∫mero de hermanos de cada individuo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb244"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb244-1"><a href="#cb244-1"></a><span class="co"># A√±adimos una nueva columna con n¬∫ de hermanos/as</span></span>
<span id="cb244-2"><a href="#cb244-2"></a>hermanos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb244-3"><a href="#cb244-3"></a>tabla <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(tabla, <span class="st">"n_hermanos"</span> <span class="ot">=</span> hermanos)</span>
<span id="cb244-4"><a href="#cb244-4"></a>tabla</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  edad estado nombre f_nacimiento n_hermanos
1   34  FALSE   javi   1989-09-10          0
2   24     NA carlos   1992-04-01          2
3   NA   TRUE  luc√≠a   1980-11-27          3</code></pre>
</div>
</div>
</section></section>
<section>
<section id="clase-3-primeras-bases-de-datos" class="title-slide slide level1 center">
<h1>Clase 3: primeras bases de datos. R base vs Tidyverse</h1>
<p><span style="color:#444442;"><strong>Nuestra base de datos: tibble. Tidydata: un multiverso de datos limpios</strong></span></p>
</section>
<section id="intento-final-tibble" class="slide level2">
<h2>Intento final: tibble</h2>
<p>Las tablas en formato <code>data.frame</code> tienen algunas <span class="hl-red"><strong>limitaciones</strong></span></p>
<p>La principal es que <span class="hl-red"><strong>no permite la recursividad</strong></span>: imagina que definimos una base de datos con estaturas y pesos, y queremos una tercera variable con el IMC</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb246"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb246-1"><a href="#cb246-1"></a><span class="fu">data.frame</span>(<span class="st">"estatura"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">1.7</span>, <span class="fl">1.8</span>, <span class="fl">1.6</span>), <span class="st">"peso"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">75</span>, <span class="dv">70</span>),</span>
<span id="cb246-2"><a href="#cb246-2"></a>           <span class="st">"IMC"</span> <span class="ot">=</span> peso <span class="sc">/</span> (estatura<span class="sc">^</span><span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in data.frame(estatura = c(1.7, 1.8, 1.6), peso = c(80, 75, 70), : object 'peso' not found</code></pre>
</div>
</div>
<div class="fragment">
<p>&nbsp;</p>
<p>De ahora en adelante usaremos el formato <code>tibble</code> (un <span class="hl-yellow"><strong>data.frame mejorado</strong></span>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb248"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb248-1"><a href="#cb248-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb248-2"><a href="#cb248-2"></a><span class="fu">tibble</span>(<span class="st">"estatura"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">1.7</span>, <span class="fl">1.8</span>, <span class="fl">1.6</span>), <span class="st">"peso"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">75</span>, <span class="dv">70</span>),</span>
<span id="cb248-3"><a href="#cb248-3"></a>       <span class="st">"IMC"</span> <span class="ot">=</span> peso <span class="sc">/</span> (estatura<span class="sc">^</span><span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 3
  estatura  peso   IMC
     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1      1.7    80  27.7
2      1.8    75  23.1
3      1.6    70  27.3</code></pre>
</div>
</div>
</div>
</section>
<section id="intento-final-tibble-1" class="slide level2">
<h2>Intento final: tibble</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb250"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb250-1"><a href="#cb250-1"></a>tabla <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">"estatura"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">1.7</span>, <span class="fl">1.8</span>, <span class="fl">1.6</span>), <span class="st">"peso"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">75</span>, <span class="dv">70</span>),</span>
<span id="cb250-2"><a href="#cb250-2"></a>                <span class="st">"IMC"</span> <span class="ot">=</span> peso <span class="sc">/</span> (estatura<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb250-3"><a href="#cb250-3"></a>tabla</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 3
  estatura  peso   IMC
     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1      1.7    80  27.7
2      1.8    75  23.1
3      1.6    70  27.3</code></pre>
</div>
</div>
<p>Las tablas en formato <code>tibble</code> nos permitir√° una <span class="hl-yellow"><strong>gesti√≥n m√°s √°gil, eficiente y coherente</strong></span> de los datos, con 4 ventajas principales:</p>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Metainformaci√≥n</strong></span>: si te fijas en la cabecera, nos dice ya autom√°ticamente el n√∫mero de filas y columnas, y el tipo de cada variable</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Recursividad</strong></span>: permite definir las variables secuencialmente (como hemos visto)</li>
</ul>
</div>
</section>
<section id="intento-final-tibble-2" class="slide level2">
<h2>Intento final: tibble</h2>
<ul>
<li><span class="hl-yellow"><strong>Consistencia</strong></span>: si accedes a una columna que no existe avisa con un warning</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb252"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb252-1"><a href="#cb252-1"></a>tabla<span class="sc">$</span>invent</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Unknown or uninitialised column: `invent`.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Por filas</strong></span>: crear por filas (copiar y pegar de una tabla) con <code>tribble()</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb255"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb255-1"><a href="#cb255-1"></a><span class="fu">tribble</span>(<span class="sc">~</span>colA, <span class="sc">~</span>colB,</span>
<span id="cb255-2"><a href="#cb255-2"></a>        <span class="st">"a"</span>,   <span class="dv">1</span>,</span>
<span id="cb255-3"><a href="#cb255-3"></a>        <span class="st">"b"</span>,   <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 2
  colA   colB
  &lt;chr&gt; &lt;dbl&gt;
1 a         1
2 b         2</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>El paquete <code>{datapasta}</code> nos permite <span class="hl-green"><strong>copiar y pegar</strong></span> tablas de p√°ginas web y documentos sencillos</p>
</div>
</div>
</div>
</div>
</section>
<section id="tu-turno-tibble" class="slide level2">
<h2>üíª Tu turno (tibble)</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-5-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-5-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-5-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-5-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li><li><a href="#tabset-5-6"><span class="hl-yellow"><strong>Ejercicio 6</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<p>üìù Carga del paquete <code>{datasets}</code> el conjunto de datos <code>airquality</code> (variables de la calidad del aire de Nueva York desde mayo hasta septiembre de 1973). ¬øEs el conjunto de datos airquality de tipo tibble? En caso negativo, convi√©rtelo a tibble (busca en la documentaci√≥n del paquete en <a href="https://tibble.tidyverse.org/index.html" class="uri">https://tibble.tidyverse.org/index.html</a>).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb257"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb257-1"><a href="#cb257-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb257-2"><a href="#cb257-2"></a><span class="fu">class</span>(datasets<span class="sc">::</span>airquality)</span>
<span id="cb257-3"><a href="#cb257-3"></a>airquality_tb <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(datasets<span class="sc">::</span>airquality)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-5-2">
<p>üìù Una vez convertido a <code>tibble</code> obt√©n el nombre de las variables y las dimensiones del conjunto de datos. ¬øCu√°ntas variables hay? ¬øCu√°ntos d√≠as se han medido?</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb258"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb258-1"><a href="#cb258-1"></a><span class="fu">names</span>(airquality_tb)</span>
<span id="cb258-2"><a href="#cb258-2"></a><span class="fu">ncol</span>(airquality_tb)</span>
<span id="cb258-3"><a href="#cb258-3"></a><span class="fu">nrow</span>(airquality_tb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-5-3">
<p>üìù Filtra solo los datos del mes de agosto.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb259"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb259-1"><a href="#cb259-1"></a>airquality_tb[airquality_tb<span class="sc">$</span>Month <span class="sc">==</span> <span class="dv">8</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-5-4">
<p>üìù Selecciona aquellos datos que no sean ni de julio ni de agosto.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb260"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb260-1"><a href="#cb260-1"></a>airquality_tb[<span class="sc">!</span>(airquality_tb<span class="sc">$</span>Month <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">8</span>)), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-5-5">
<p>üìù Modifica el siguiente c√≥digo para quedarte solo con las variable de ozono y temperatura.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb261"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb261-1"><a href="#cb261-1"></a>airquality_tb[, <span class="fu">c</span>(<span class="st">"Ozone"</span>, <span class="st">"Temp"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-5-6">
<p>üìù Selecciona los datos de temperatura y viento de agosto. Traduce a castellano el nombre de las columnas del conjunto filtrado.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb262"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb262-1"><a href="#cb262-1"></a>airquality_tb[airquality_tb<span class="sc">$</span>Month <span class="sc">==</span> <span class="dv">8</span>, <span class="fu">c</span>(<span class="st">"Temp"</span>, <span class="st">"Wind"</span>)]</span>
<span id="cb262-2"><a href="#cb262-2"></a><span class="fu">names</span>(airquality_tb) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ozono"</span>, <span class="st">"rad_solar"</span>, <span class="st">"viento"</span>, <span class="st">"temp"</span>, <span class="st">"mes"</span>, <span class="st">"dia"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="resumen-hasta-ahora" class="slide level2">
<h2>Resumen hasta ahora</h2>
<ul>
<li>Cada <span class="hl-yellow"><strong>celda puede ser de un tipo diverso</strong></span>: n√∫meros, texto, fechas, valores l√≥gicos, etc</li>
</ul>
<div class="fragment">
<ul>
<li>Un <span class="hl-yellow"><strong>vector es una concatenaci√≥n de celdas</strong></span> (las futuras columnas de nuestras tablas) ‚Äì&gt; En <code>R</code> por defecto las operaciones se hacen <span class="hl-yellow"><strong>elemento a elemento</strong></span></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Una <span class="hl-yellow"><strong>matriz</strong></span> nos permite concatenar <span class="hl-yellow"><strong>variables del MISMO tipo y MISMA longitud</strong></span> ‚Äì&gt; objeto bidimensional (dos √≠ndices)</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Un <span class="hl-yellow"><strong>data.frame</strong></span> nos permite concatenar <span class="hl-yellow"><strong>variables de DISTINTO tipo y MISMA longitud</strong></span> ‚Äì&gt; usaremos <span class="hl-yellow"><strong>tibble</strong></span> como una opci√≥n mejorada de base de datos</li>
</ul>
</div>
</section>
<section id="caso-pr√°ctico-3a" class="slide level2">
<h2>üê£ Caso pr√°ctico</h2>
<p>Del paquete <code>Biostatistics</code> usaremos el conunto de datos <code>pinniped</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb263"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb263-1"><a href="#cb263-1"></a>Biostatistics<span class="sc">::</span>pinniped</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li>¬øQu√© <span class="hl-yellow"><strong>representan</strong></span> los datos? ¬øQu√© <span class="hl-yellow"><strong>tipo de dato</strong></span> es? En caso de que no lo sea, convierte la base de datos a un <code>tibble</code> (renombra con <code>pinniped_tb</code>)</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb264"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb264-1"><a href="#cb264-1"></a>? Biostatistics<span class="sc">::</span>pinniped</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb265"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb265-1"><a href="#cb265-1"></a><span class="fu">class</span>(Biostatistics<span class="sc">::</span>pinniped) <span class="co"># no es un tibble</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb267"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb267-1"><a href="#cb267-1"></a>pinniped_tb <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(Biostatistics<span class="sc">::</span>pinniped)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="fragment">
<ol start="2" type="1">
<li>¬øCu√°ntos registros hay? ¬øY variables? ¬øDe qu√© tipo es cada una?</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb268"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb268-1"><a href="#cb268-1"></a><span class="fu">nrow</span>(pinniped_tb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 33</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb270"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb270-1"><a href="#cb270-1"></a><span class="fu">ncol</span>(pinniped_tb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
</div>
</div>
</section>
<section id="caso-pr√°ctico-3a-2" class="slide level2">
<h2>üê£ Caso pr√°ctico</h2>
<ol start="3" type="1">
<li>Incorpora una <span class="hl-yellow"><strong>variable extra llamada phoca</strong></span> que sea de tipo l√≥gico y que nos diga si una especie es de la categor√≠a <code>Phoca</code> o no.</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb272"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb272-1"><a href="#cb272-1"></a>pinniped_tb<span class="sc">$</span>phoca <span class="ot">&lt;-</span> pinniped_tb<span class="sc">$</span>Species <span class="sc">==</span> <span class="st">"Phoca"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="fragment">
<ol start="4" type="1">
<li>¬øA qu√© sexo le <span class="hl-yellow"><strong>pesa m√°s el cerebro</strong></span>: a las hembras o a los machos? ¬øA quienes les <span class="hl-yellow"><strong>pesa m√°s el cuerpo</strong></span>: a los mon√≥gamos o a los pol√≠gamos?</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb273"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb273-1"><a href="#cb273-1"></a><span class="co"># ¬øa qui√©n le pesa m√°s el cerebro?</span></span>
<span id="cb273-2"><a href="#cb273-2"></a><span class="fu">mean</span>(pinniped_tb<span class="sc">$</span>Male_brain_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">&gt;</span></span>
<span id="cb273-3"><a href="#cb273-3"></a>  <span class="fu">mean</span>(pinniped_tb<span class="sc">$</span>Female_brain_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb275"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb275-1"><a href="#cb275-1"></a><span class="co"># ¬øa qui√©n le pesa m√°s el cerebro?</span></span>
<span id="cb275-2"><a href="#cb275-2"></a><span class="fu">mean</span>(<span class="fu">c</span>(pinniped_tb<span class="sc">$</span>Male_mass_Kg[pinniped_tb<span class="sc">$</span>Mate_type <span class="sc">==</span> <span class="st">"mono"</span>],</span>
<span id="cb275-3"><a href="#cb275-3"></a>       pinniped_tb<span class="sc">$</span>Female_mass_Kg[pinniped_tb<span class="sc">$</span>Mate_type <span class="sc">==</span> <span class="st">"mono"</span>])) <span class="sc">&gt;</span></span>
<span id="cb275-4"><a href="#cb275-4"></a>  <span class="fu">mean</span>(<span class="fu">c</span>(pinniped_tb<span class="sc">$</span>Male_mass_Kg[pinniped_tb<span class="sc">$</span>Mate_type <span class="sc">==</span> <span class="st">"poly"</span>],</span>
<span id="cb275-5"><a href="#cb275-5"></a>         pinniped_tb<span class="sc">$</span>Female_mass_Kg[pinniped_tb<span class="sc">$</span>Mate_type <span class="sc">==</span> <span class="st">"poly"</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
</section>
<section id="caso-pr√°ctico-3a-3" class="slide level2">
<h2>üê£ Caso pr√°ctico</h2>
<ol start="5" type="1">
<li>Incopora una nueva variable que represente la <span class="hl-yellow"><strong>diferencia entre el peso del cerebro entre machos y hembras</strong></span> (machos - hembras) para cada especie.</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb277"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb277-1"><a href="#cb277-1"></a>pinniped_tb<span class="sc">$</span>dif_m_f <span class="ot">&lt;-</span> pinniped_tb<span class="sc">$</span>Male_brain_g <span class="sc">-</span> pinniped_tb<span class="sc">$</span>Female_brain_g</span>
<span id="cb277-2"><a href="#cb277-2"></a>pinniped_tb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 33 √ó 8
   Species     Male_brain_g Female_brain_g Male_mass_Kg Female_mass_Kg Mate_type
   &lt;chr&gt;              &lt;dbl&gt;          &lt;dbl&gt;        &lt;dbl&gt;          &lt;dbl&gt; &lt;chr&gt;    
 1 Monachus s‚Ä¶         370             NA          173            272. mono     
 2 Monachus m‚Ä¶         480            480          260            275  mono     
 3 Mirounga a‚Ä¶         700            640         2275            488  poly     
 4 Mirounga l‚Ä¶        1431.           899.        3510            566. poly     
 5 Leptonycho‚Ä¶         535            638.         450            447  poly     
 6 Ommatophoc‚Ä¶         425            530          154.           164  mono     
 7 Lobodon ca‚Ä¶         578.           539.         220.           224  mono     
 8 Hydrurga l‚Ä¶         765            660          324            367  mono     
 9 Cystophora‚Ä¶         480            430          343.           222. mono     
10 Erignathus‚Ä¶          NA            460          312.           326  mono     
# ‚Ñπ 23 more rows
# ‚Ñπ 2 more variables: phoca &lt;lgl&gt;, dif_m_f &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="r-base-vs-tidyverse" class="slide level2">
<h2>R base vs Tidyverse</h2>
<p>Si conoces alg√∫n otro lenguaje de programaci√≥n (o tienes gente cercana que programa) te extra√±ar√° que a√∫n no hayamos hablado de conceptos habituales como</p>
<ul>
<li><p><span class="hl-yellow"><strong>Bucles for</strong></span>: repetir un c√≥digo un n√∫mero fijo de iteraciones.</p></li>
<li><p><span class="hl-yellow"><strong>Bucles while</strong></span>: repetir un c√≥digo hasta que se cumpla una condici√≥n</p></li>
<li><p><span class="hl-yellow"><strong>Estructuras if-else</strong></span>: estructuras de control para decidir por donde camina el c√≥digo en funci√≥n del valor de las variables.</p></li>
</ul>
<div class="fragment">
<p>Y aunque conocer dichas estructuras puede sernos en alg√∫n momento interesante, en la <span class="hl-red"><strong>mayor√≠a de ocasiones vamos a poder evitarlas</strong></span> (en especial los bucles)</p>
</div>
</section>
<section id="qu√©-es-tidyverse" class="slide level2">
<h2>¬øQu√© es tidyverse?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/tidyverrse_universe.jpg"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="img/flow_tidyverse.jpg"></p>
</div>
</div>
<p><code>{tidyverse}</code> es un <span class="hl-yellow"><strong>¬´universo¬ª de paquetes</strong></span> para garanatizar un flujo de trabajo (de inicio a fin) eficiente, coherente y lexicogr√°ficamente sencillo de entender, basado en la idea de que <span class="hl-purple"><strong>nuestros datos est√°n limpios y ordenados (tidy)</strong></span></p>
</section>
<section id="qu√©-es-tidyverse-1" class="slide level2">
<h2>¬øQu√© es tidyverse?</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p><img data-src="img/tidyverrse_universe.jpg"></p>
</div><div class="column" style="width:55%;">
<ul>
<li><code>{tibble}</code>: optimizando data.frame</li>
<li><code>{tidyr}</code>: limpieza de datos</li>
<li><code>{readr}</code>: carga datos rectangulares (.csv)</li>
<li><code>{dplyr}</code>: gram√°tica para depurar</li>
<li><code>{stringr}</code>: manejo de textos</li>
<li><code>{ggplot2}</code>: visualizaci√≥n de datos</li>
<li><code>{tidymodels}</code>: modelizaci√≥n/predicci√≥n</li>
</ul>
</div>
</div>
<p>Tambi√©n tenemos los paquetes <code>{purrr}</code> para el manejo de listas, <code>{forcast}</code> para cualitativas, <code>{lubridate}</code> para fechas, <code>{readxl}</code> para importar archivos .xls y .xlsx, <code>{rvest}</code> para web scraping y <code>{rmarkdown}</code> para comunicar resultados.</p>
</section>
<section id="qu√©-es-tidyverse-2" class="slide level2">
<h2>¬øQu√© es tidyverse?</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p><img data-src="img/tidyverrse_universe.jpg"></p>
</div><div class="column" style="width:55%;">
<ul>
<li><code>{tibble}</code>: <span class="hl-yellow"><strong>optimizando data.frame</strong></span></li>
<li><code>{tidyr}</code>: <span class="hl-yellow"><strong>limpieza de datos</strong></span></li>
<li><code>{readr}</code>: carga datos rectangulares (.csv)</li>
<li><code>{dplyr}</code>: gram√°tica para depurar</li>
<li><code>{stringr}</code>: manejo de textos</li>
<li><code>{ggplot2}</code>: visualizaci√≥n de datos</li>
<li><code>{tidymodels}</code>: modelizaci√≥n/predicci√≥n</li>
</ul>
</div>
</div>
<p>Tambi√©n tenemos los paquetes <code>{purrr}</code> para el manejo de listas, <code>{forcast}</code> para cualitativas, <code>{lubridate}</code> para fechas, <code>{readxl}</code> para importar archivos .xls y .xlsx, <code>{rvest}</code> para web scraping y <code>{rmarkdown}</code> para comunicar resultados.</p>
</section>
<section id="filosof√≠a-base-tidy-data" class="slide level2">
<h2>Filosof√≠a base: tidy data</h2>
<blockquote>
<p>Tidy datasets are all alike, but every messy dataset is messy in its own way (Hadley Wickham, Chief Scientist en RStudio)</p>
</blockquote>
<div style="font-size:120px; text-align: center; color:#F8DF58;">
<p><b>TIDY</b><b><span style="color:#CAB0EE;">VERSE</span></b></p>
</div>
<p>El <span class="hl-purple"><strong>universo</strong></span> de paquetes <code>{tidyverse}</code> se basa en la idea introducido por <strong>Hadley Wickham</strong> (el Dios al que rezo) de <span class="hl-yellow"><strong>estandarizar</strong></span> el formato los datos para</p>
<div>
<ul>
<li class="fragment"><span class="hl-green"><strong>sistematizar</strong></span> la depuraci√≥n</li>
<li class="fragment">hacer m√°s <span class="hl-green"><strong>sencillo</strong></span> su manipulaci√≥n.</li>
<li class="fragment">c√≥digo <span class="hl-green"><strong>legible</strong></span></li>
</ul>
</div>
</section>
<section id="reglas-del-tidy-data" class="slide level2">
<h2>Reglas del tidy data</h2>
<p>Lo primero por tanto ser√° entender qu√© son los <span class="hl-yellow"><strong>conjuntos tidydata</strong></span> ya que todo <code>{tidyverse}</code> se basa en que los datos est√°n estandarizados.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="fragment fade-in">
<ol type="1">
<li>Cada <span class="hl-yellow"><strong>variable</strong></span> en una <span class="hl-purple"><strong>√∫nica columna</strong></span></li>
</ol>
</div>
<div class="fragment fade-in">
<ol start="2" type="1">
<li>Cada <span class="hl-yellow"><strong>individuo</strong></span> en una <span class="hl-purple"><strong>fila diferente</strong></span></li>
</ol>
</div>
<div class="fragment fade-in">
<ol start="3" type="1">
<li>Cada <span class="hl-yellow"><strong>celda</strong></span> con un <span class="hl-purple"><strong>√∫nico valor</strong></span></li>
</ol>
</div>
<div class="fragment fade-in">
<ol start="4" type="1">
<li>Cada <span class="hl-yellow"><strong>dataset</strong></span> en un <span class="hl-purple"><strong>tibble</strong></span></li>
</ol>
</div>
<div class="fragment fade-in">
<ol start="5" type="1">
<li>Si queremos cruzar <span class="hl-yellow"><strong>m√∫ltiples tablas</strong></span> debemos tener una <span class="hl-purple"><strong>columna com√∫n</strong></span></li>
</ol>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="img/tidy_def.jpg" style="width:160.0%"></p>
</div>
</div>
</section>
<section id="tuber√≠a-pipe" class="slide level2">
<h2>Tuber√≠a (pipe)</h2>
<p>En <code>{tidyverse}</code> ser√° clave el <span class="hl-yellow"><strong>operador pipe (tuber√≠a)</strong></span> definido como <code>|&gt;</code> (<span class="hl-purple"><strong>ctrl+shift+M</strong></span>): ser√° una <span class="hl-yellow"><strong>tuber√≠a que recorre los datos</strong></span> y los transforma.</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<p>En R base, si queremos aplicar tres funciones <code>first()</code>, <code>second()</code> y <code>third()</code> en orden, ser√≠a</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb279"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb279-1"><a href="#cb279-1"></a><span class="fu">third</span>(<span class="fu">second</span>(<span class="fu">first</span>(datos)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<p>En <code>{tidyverse}</code> podremos <span class="hl-yellow"><strong>leer de izquierda a derecha</strong></span> y separar los datos de las acciones</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb280"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb280-1"><a href="#cb280-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">first</span>() <span class="sc">|&gt;</span> <span class="fu">second</span>() <span class="sc">|&gt;</span> <span class="fu">third</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>&nbsp;</p>
</div>
<div class="fragment">
<div class="callout callout-caution callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Apunte importante</strong></p>
</div>
<div class="callout-content">
<p>Desde la versi√≥n 4.1.0 de <code>R</code> disponemos de <code>|&gt;</code>, un pipe <strong>nativo</strong> disponible <span class="hl-purple"><strong>fuera de tidyverse</strong></span>, sustituyendo al <span class="hl-red"><strong>antiguo pipe</strong></span> <code>|&gt;</code> que depend√≠a del paquete <code>{magrittr}</code> (bastante problem√°tico).</p>
</div>
</div>
</div>
</div>
</section>
<section id="tuber√≠a-pipe-1" class="slide level2">
<h2>Tuber√≠a (pipe)</h2>
<p>La principal ventaja es que el <span class="hl-yellow"><strong>c√≥digo sea muy legible (casi literal)</strong></span> pudiendo hacer grandes operaciones con los datos con apenas c√≥digo.</p>
<p>&nbsp;</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb281"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb281-1"><a href="#cb281-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb281-2"><a href="#cb281-2"></a>  <span class="fu">limpio</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb281-3"><a href="#cb281-3"></a>  <span class="fu">filtro</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb281-4"><a href="#cb281-4"></a>  <span class="fu">selecciono</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb281-5"><a href="#cb281-5"></a>  <span class="fu">ordeno</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb281-6"><a href="#cb281-6"></a>  <span class="fu">modifico</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb281-7"><a href="#cb281-7"></a>  <span class="fu">renombro</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb281-8"><a href="#cb281-8"></a>  <span class="fu">agrupo</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb281-9"><a href="#cb281-9"></a>  <span class="fu">cuento</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb281-10"><a href="#cb281-10"></a>  <span class="fu">resumo</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb281-11"><a href="#cb281-11"></a>  <span class="fu">pinto</span>(...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<center>
<img src="img/logo_pipe.png" width="360px">
</center>
</div>
</div>
</section>
<section id="datos-sucios-messy-data" class="slide level2">
<h2>Datos SUCIOS: messy data</h2>
<p>¬øPero qu√© aspecto tienen los <span class="hl-yellow"><strong>datos no tidy</strong></span>? Vamos a cargar la tabla <code>table4a</code> del paquete <code>{tidyr}</code> (ya lo tenemos cargado del entorno tidyverse).</p>
<p>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb282"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb282-1"><a href="#cb282-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb282-2"><a href="#cb282-2"></a>table4a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 3
  country     `1999` `2000`
  &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;
1 Afghanistan    745   2666
2 Brazil       37737  80488
3 China       212258 213766</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p><span class="hl-red"><strong>¬øQu√© puede estar fallando?</strong></span></p>
</section>
<section id="pivotar-pivot_longer" class="slide level2">
<h2>Pivotar: pivot_longer()</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb284"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb284-1"><a href="#cb284-1"></a>table4a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 3
  country     `1999` `2000`
  &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;
1 Afghanistan    745   2666
2 Brazil       37737  80488
3 China       212258 213766</code></pre>
</div>
</div>
</div><div class="column" style="width:60%;">
<p>‚ùé Cada <span class="hl-red"><strong>fila representa dos observaciones</strong></span> (1999 y 2000) ‚Üí las columnas <code>1999</code> y <code>2000</code> en realidad deber√≠an ser en s√≠ <span class="hl-yellow"><strong>valores de una variable</strong></span> y no nombres de columnas.</p>
</div>
</div>
<div class="fragment">
<p>Incluiremos una <span class="hl-yellow"><strong>nueva columna</strong></span> que nos guarde el a√±o y otra que guarde el valor de la variable de inter√©s en cada uno de esos a√±os. Y lo haremos con la funci√≥n <code>pivot_longer()</code>: <span class="hl-yellow"><strong>pivotaremos la tabla</strong></span> a formato long:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb286"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb286-1"><a href="#cb286-1"></a>table4a <span class="sc">|&gt;</span> </span>
<span id="cb286-2"><a href="#cb286-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"1999"</span>, <span class="st">"2000"</span>), <span class="at">names_to =</span> <span class="st">"year"</span>, <span class="at">values_to =</span> <span class="st">"cases"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 3
  country     year   cases
  &lt;chr&gt;       &lt;chr&gt;  &lt;dbl&gt;
1 Afghanistan 1999     745
2 Afghanistan 2000    2666
3 Brazil      1999   37737
4 Brazil      2000   80488
5 China       1999  212258
6 China       2000  213766</code></pre>
</div>
</div>
</div>
</section>
<section id="pivotar-pivot_longer-1" class="slide level2">
<h2>Pivotar: pivot_longer()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb288"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb288-1"><a href="#cb288-1"></a>table4a <span class="sc">|&gt;</span> </span>
<span id="cb288-2"><a href="#cb288-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"1999"</span>, <span class="st">"2000"</span>),</span>
<span id="cb288-3"><a href="#cb288-3"></a>               <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb288-4"><a href="#cb288-4"></a>               <span class="at">values_to =</span> <span class="st">"cases"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 3
  country     year   cases
  &lt;chr&gt;       &lt;chr&gt;  &lt;dbl&gt;
1 Afghanistan 1999     745
2 Afghanistan 2000    2666
3 Brazil      1999   37737
4 Brazil      2000   80488
5 China       1999  212258
6 China       2000  213766</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="img/table4a.jpg"></p>
</div>
</div>
<p>&nbsp;</p>
<ul>
<li><code>cols</code>: <span class="hl-yellow"><strong>nombre de las variables a pivotar</strong></span></li>
<li><code>names_to</code>: nombre de la nueva variable a la quemandamos la <span class="hl-yellow"><strong>cabecera</strong></span> de la tabla (los nombres).</li>
<li><code>values_to</code>: nombre de la nueva variable a la que vamos a mandar los <span class="hl-yellow"><strong>datos</strong></span>.</li>
</ul>
</section>
<section id="datos-sucios-messy-data-1" class="slide level2">
<h2>Datos SUCIOS: messy data</h2>
<p>Veamos otro ejemplo con la tabla <code>table2</code></p>
<p>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb290"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb290-1"><a href="#cb290-1"></a>table2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 √ó 4
   country      year type            count
   &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;
 1 Afghanistan  1999 cases             745
 2 Afghanistan  1999 population   19987071
 3 Afghanistan  2000 cases            2666
 4 Afghanistan  2000 population   20595360
 5 Brazil       1999 cases           37737
 6 Brazil       1999 population  172006362
 7 Brazil       2000 cases           80488
 8 Brazil       2000 population  174504898
 9 China        1999 cases          212258
10 China        1999 population 1272915272
11 China        2000 cases          213766
12 China        2000 population 1280428583</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p><span class="hl-red"><strong>¬øQu√© puede estar fallando?</strong></span></p>
</section>
<section id="pivotar-pivot_wider" class="slide level2">
<h2>Pivotar: pivot_wider()</h2>
<div class="columns">
<div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 √ó 4
   country      year type            count
   &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;
 1 Afghanistan  1999 cases             745
 2 Afghanistan  1999 population   19987071
 3 Afghanistan  2000 cases            2666
 4 Afghanistan  2000 population   20595360
 5 Brazil       1999 cases           37737
 6 Brazil       1999 population  172006362
 7 Brazil       2000 cases           80488
 8 Brazil       2000 population  174504898
 9 China        1999 cases          212258
10 China        1999 population 1272915272
11 China        2000 cases          213766
12 China        2000 population 1280428583</code></pre>
</div>
</div>
</div><div class="column" style="width:40%;">
<p>‚ùé Cada <span class="hl-red"><strong>observaci√≥n est√° dividido en dos filas</strong></span> ‚Üí los <span class="hl-yellow"><strong>registros con el mismo a√±o deber√≠an ser el mismo</strong></span></p>
</div>
</div>
<div class="fragment">
<p>Lo que haremos ser√° lo opuesto: con <code>pivot_wider()</code> <span class="hl-yellow"><strong>ensancharemos la tabla</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb293"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb293-1"><a href="#cb293-1"></a>table2 <span class="sc">|&gt;</span>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> type, <span class="at">values_from =</span> count)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 4
  country      year  cases population
  &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;
1 Afghanistan  1999    745   19987071
2 Afghanistan  2000   2666   20595360
3 Brazil       1999  37737  172006362
4 Brazil       2000  80488  174504898
5 China        1999 212258 1272915272
6 China        2000 213766 1280428583</code></pre>
</div>
</div>
</div>
</section>
<section id="datos-sucios-messy-data-2" class="slide level2">
<h2>Datos SUCIOS: messy data</h2>
<p>Veamos otro ejemplo con la tabla <code>table3</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb295"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb295-1"><a href="#cb295-1"></a>table3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 3
  country      year rate             
  &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;            
1 Afghanistan  1999 745/19987071     
2 Afghanistan  2000 2666/20595360    
3 Brazil       1999 37737/172006362  
4 Brazil       2000 80488/174504898  
5 China        1999 212258/1272915272
6 China        2000 213766/1280428583</code></pre>
</div>
</div>
<p><span class="hl-red"><strong>¬øQu√© puede estar fallando?</strong></span></p>
</section>
<section id="separar-separate" class="slide level2">
<h2>Separar: separate()</h2>
<div class="columns">
<div class="column" style="width:60%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb297"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb297-1"><a href="#cb297-1"></a>table3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 3
  country      year rate             
  &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;            
1 Afghanistan  1999 745/19987071     
2 Afghanistan  2000 2666/20595360    
3 Brazil       1999 37737/172006362  
4 Brazil       2000 80488/174504898  
5 China        1999 212258/1272915272
6 China        2000 213766/1280428583</code></pre>
</div>
</div>
</div><div class="column" style="width:40%;">
<p>‚ùé Cada <span class="hl-red"><strong>celda contiene varios valores</strong></span></p>
</div>
</div>
<div class="fragment">
<p>Lo que haremos ser√° hacer uso de la funci√≥n <code>separate()</code> para mandar <span class="hl-yellow"><strong>separar cada valor</strong></span> a una columna diferente.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb299"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb299-1"><a href="#cb299-1"></a>table3 <span class="sc">|&gt;</span> <span class="fu">separate</span>(rate, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"cases"</span>, <span class="st">"pop"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 4
  country      year cases  pop       
  &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;     
1 Afghanistan  1999 745    19987071  
2 Afghanistan  2000 2666   20595360  
3 Brazil       1999 37737  172006362 
4 Brazil       2000 80488  174504898 
5 China        1999 212258 1272915272
6 China        2000 213766 1280428583</code></pre>
</div>
</div>
</div>
</section>
<section id="separar-separate-1" class="slide level2">
<h2>Separar: separate()</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb301"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb301-1"><a href="#cb301-1"></a>table3 <span class="sc">|&gt;</span> <span class="fu">separate</span>(rate, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"cases"</span>, <span class="st">"pop"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 4
  country      year cases  pop       
  &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;     
1 Afghanistan  1999 745    19987071  
2 Afghanistan  2000 2666   20595360  
3 Brazil       1999 37737  172006362 
4 Brazil       2000 80488  174504898 
5 China        1999 212258 1272915272
6 China        2000 213766 1280428583</code></pre>
</div>
</div>
<p>F√≠jate que los datos, aunque los ha separado, <span class="hl-red"><strong>los ha mantenido como texto</strong></span> cuando en realidad deber√≠an ser variables num√©ricas. Para ello podemos a√±adir el argumento opcional <code>convert = TRUE</code></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb303"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb303-1"><a href="#cb303-1"></a>table3 <span class="sc">|&gt;</span> <span class="fu">separate</span>(rate, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"cases"</span>, <span class="st">"pop"</span>), <span class="at">convert =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 4
  country      year  cases        pop
  &lt;chr&gt;       &lt;dbl&gt;  &lt;int&gt;      &lt;int&gt;
1 Afghanistan  1999    745   19987071
2 Afghanistan  2000   2666   20595360
3 Brazil       1999  37737  172006362
4 Brazil       2000  80488  174504898
5 China        1999 212258 1272915272
6 China        2000 213766 1280428583</code></pre>
</div>
</div>
</div>
</section>
<section id="datos-sucios-messy-data-3" class="slide level2">
<h2>Datos SUCIOS: messy data</h2>
<p>Veamos el √∫ltimo ejemplo con la tabla <code>table5</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb305"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb305-1"><a href="#cb305-1"></a>table5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 4
  country     century year  rate             
  &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;            
1 Afghanistan 19      99    745/19987071     
2 Afghanistan 20      00    2666/20595360    
3 Brazil      19      99    37737/172006362  
4 Brazil      20      00    80488/174504898  
5 China       19      99    212258/1272915272
6 China       20      00    213766/1280428583</code></pre>
</div>
</div>
<p><span class="hl-red"><strong>¬øQu√© puede estar fallando?</strong></span></p>
</section>
<section id="unir-unite" class="slide level2">
<h2>Unir unite()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb307"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb307-1"><a href="#cb307-1"></a>table5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 4
  country     century year  rate             
  &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;            
1 Afghanistan 19      99    745/19987071     
2 Afghanistan 20      00    2666/20595360    
3 Brazil      19      99    37737/172006362  
4 Brazil      20      00    80488/174504898  
5 China       19      99    212258/1272915272
6 China       20      00    213766/1280428583</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>‚ùé Tenemos <span class="hl-red"><strong>mismos valores divididos en dos columnas</strong></span></p>
</div>
</div>
<div class="fragment">
<p>Usaremos <code>unite()</code> para <span class="hl-yellow"><strong>unir los valores</strong></span> de siglo y a√±o en una misma columna</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb309"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb309-1"><a href="#cb309-1"></a>table5 <span class="sc">|&gt;</span> <span class="fu">unite</span>(<span class="at">col =</span> year_completo, century, year, <span class="at">sep =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 3
  country     year_completo rate             
  &lt;chr&gt;       &lt;chr&gt;         &lt;chr&gt;            
1 Afghanistan 1999          745/19987071     
2 Afghanistan 2000          2666/20595360    
3 Brazil      1999          37737/172006362  
4 Brazil      2000          80488/174504898  
5 China       1999          212258/1272915272
6 China       2000          213766/1280428583</code></pre>
</div>
</div>
</div>
</section>
<section id="tu-turno-3" class="slide level2">
<h2>üíª Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-6-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-6-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<p>üìù Echa un vistazo a la tabla <code>table4b</code> del paquete <code>{tidyr}</code>. ¬øEs tidydata? En caso negativo, ¬øqu√© falla? ¬øC√≥mo convertirla a tidy data en caso de que no lo sea ya?</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb311"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb311-1"><a href="#cb311-1"></a>table4b <span class="sc">|&gt;</span></span>
<span id="cb311-2"><a href="#cb311-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="st">"1999"</span><span class="sc">:</span><span class="st">"2000"</span>, <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb311-3"><a href="#cb311-3"></a>               <span class="at">values_to =</span> <span class="st">"cases"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-6-2">
<p>üìù Echa un vistazo a la tabla <code>relig_income</code> del paquete <code>{tidyr}</code>. ¬øEs tidydata? En caso negativo, ¬øqu√© falla? ¬øC√≥mo convertirla a tidy data en caso de que no lo sea ya?</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb312"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb312-1"><a href="#cb312-1"></a>relig_income <span class="sc">|&gt;</span></span>
<span id="cb312-2"><a href="#cb312-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="st">"&lt;$10k"</span><span class="sc">:</span><span class="st">"Don't know/refused"</span>,</span>
<span id="cb312-3"><a href="#cb312-3"></a>               <span class="at">names_to =</span> <span class="st">"income"</span>,</span>
<span id="cb312-4"><a href="#cb312-4"></a>               <span class="at">values_to =</span> <span class="st">"people"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-6-3">
<p>üìù Echa un vistazo a la tabla <code>billboard</code> del paquete <code>{tidyr}</code>. ¬øEs tidydata? En caso negativo, ¬øqu√© falla? ¬øC√≥mo convertirla a tidy data en caso de que no lo sea ya?</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb313"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb313-1"><a href="#cb313-1"></a>billboard <span class="sc">|&gt;</span></span>
<span id="cb313-2"><a href="#cb313-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="st">"wk1"</span><span class="sc">:</span><span class="st">"wk76"</span>,</span>
<span id="cb313-3"><a href="#cb313-3"></a>               <span class="at">names_to =</span> <span class="st">"week"</span>,</span>
<span id="cb313-4"><a href="#cb313-4"></a>               <span class="at">names_prefix =</span> <span class="st">"wk"</span>,</span>
<span id="cb313-5"><a href="#cb313-5"></a>               <span class="at">values_to =</span> <span class="st">"position"</span>,</span>
<span id="cb313-6"><a href="#cb313-6"></a>               <span class="at">values_drop_na =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="caso-pr√°ctico-3b" class="slide level2">
<h2>üê£ Caso pr√°ctico</h2>
<p>En el paquete <code>{tidyr}</code> contamos con el dataset <code>who</code> (dataset de la Organizaci√≥n Mundial de la Salud)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb314"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb314-1"><a href="#cb314-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb314-2"><a href="#cb314-2"></a>who</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li>¬øQu√© <span class="hl-yellow"><strong>significan los datos</strong></span>? ¬øCu√°ntas <span class="hl-yellow"><strong>variables y observaciones</strong></span> tenemos?</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb315"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb315-1"><a href="#cb315-1"></a><span class="co"># ? who</span></span>
<span id="cb315-2"><a href="#cb315-2"></a><span class="fu">nrow</span>(who)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7240</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb317"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb317-1"><a href="#cb317-1"></a><span class="fu">ncol</span>(who)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 60</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>¬øCu√°ntos <span class="hl-yellow"><strong>tipos de variables</strong></span> tenemos?</li>
</ol>
</section>
<section id="caso-pr√°ctico-3b-1" class="slide level2">
<h2>üê£ Caso pr√°ctico</h2>
<ol start="3" type="1">
<li>¬øTodas las variables son necesarias? <span class="hl-yellow"><strong>Elimina la informaci√≥n redundante</strong></span>.</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb319"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb319-1"><a href="#cb319-1"></a>who<span class="sc">$</span>iso2 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Solo necesitamos uno de los c√≥digos ISO</p>
</section>
<section id="caso-pr√°ctico-3b-2" class="slide level2">
<h2>üê£ Caso pr√°ctico</h2>
<ol start="4" type="1">
<li><span class="hl-yellow"><strong>Convierte a tidydata</strong></span> la base de datos realizando todas las opciones que consideres (consejo: usa papel y boli para bocetar como deber√≠a quedar la base de datos).</li>
</ol>
<p>Todos empiezan por <code>new_</code> (y no hay otro tipo) as√≠ que le indicamos al pivotar que los nombres tienen un prefijo a quitar. Adem√°s separamos ya entre tipo y sexo-edad (separados por _) y eliminamos ausentes. Tras ello separamos sexo de edad</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb320"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb320-1"><a href="#cb320-1"></a>who <span class="sc">|&gt;</span></span>
<span id="cb320-2"><a href="#cb320-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="st">"new_sp_m014"</span><span class="sc">:</span><span class="st">"newrel_f65"</span>,</span>
<span id="cb320-3"><a href="#cb320-3"></a>               <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"type"</span>, <span class="st">"sex-age"</span>),</span>
<span id="cb320-4"><a href="#cb320-4"></a>               <span class="at">values_to =</span> <span class="st">"cases"</span>,</span>
<span id="cb320-5"><a href="#cb320-5"></a>               <span class="at">names_prefix =</span> <span class="st">"new_"</span>,</span>
<span id="cb320-6"><a href="#cb320-6"></a>               <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="cb320-7"><a href="#cb320-7"></a>               <span class="at">values_drop_na =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb320-8"><a href="#cb320-8"></a>  <span class="fu">separate</span>(<span class="at">col =</span> <span class="st">"sex-age"</span>, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"sex"</span>, <span class="st">"age"</span>),</span>
<span id="cb320-9"><a href="#cb320-9"></a>           <span class="at">sep =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 76,046 √ó 7
   country     iso3   year type  sex   age   cases
   &lt;chr&gt;       &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;
 1 Afghanistan AFG    1997 sp    m     014       0
 2 Afghanistan AFG    1997 sp    m     1524     10
 3 Afghanistan AFG    1997 sp    m     2534      6
 4 Afghanistan AFG    1997 sp    m     3544      3
 5 Afghanistan AFG    1997 sp    m     4554      5
 6 Afghanistan AFG    1997 sp    m     5564      2
 7 Afghanistan AFG    1997 sp    m     65        0
 8 Afghanistan AFG    1997 sp    f     014       5
 9 Afghanistan AFG    1997 sp    f     1524     38
10 Afghanistan AFG    1997 sp    f     2534     36
# ‚Ñπ 76,036 more rows</code></pre>
</div>
</div>
</section></section>
<section>
<section id="clase-4-importexport-comunicar" class="title-slide slide level1 center">
<h1>Clase 4: import/export, comunicar</h1>
<p><span style="color:#444442;"><strong>Importar/exportar datos en R. Comunicar resultados: rmd y Quarto</strong></span></p>
</section>
<section id="comunicar-rmd-y-quarto" class="slide level2">
<h2>Comunicar: rmd y Quarto</h2>
<p>Una de las <span class="hl-yellow"><strong>principales fortalezas</strong></span> de <code>R</code> es la <span class="hl-yellow"><strong>facilidad para generar informes, libros, webs, apuntes y hasta diapositivas</strong></span> (este mismo material por ejemplo). Para ello <span class="hl-purple"><strong>instalaremos</strong></span> antes</p>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li>el paquete <code>{rmarkdown}</code> (para generar archivos <code>.rmd</code>)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb322"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb322-1"><a href="#cb322-1"></a><span class="fu">install.packages</span>(<span class="st">"rmarkdown"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>instalar <a href="https://quarto.org/docs/get-started/"><strong>Quarto</strong></a> (el ¬´nuevo¬ª <code>.rmd</code> ahora como <code>.qmd</code>)</li>
</ul>
</div><div class="column" style="width:60%;">
<p><img data-src="img/quarto.png"></p>
</div>
</div>
</section>
<section id="comunicar-rmd-y-quarto-1" class="slide level2">
<h2>Comunicar: rmd y Quarto</h2>
<p>Hasta ahora solo hemos programado en scripts (archivos <code>.R</code>) dentro de proyectos, pero en muchas ocasiones <span class="hl-yellow"><strong>no trabajaremos solos</strong></span> y necesitaremos <span class="hl-yellow"><strong>comunicar los resultados</strong></span> en diferentes formatos:</p>
<ul>
<li>apuntes (para nosotros mismos)</li>
<li>diapositivas</li>
<li>web</li>
<li>informes</li>
</ul>
<div class="fragment">
<p>Para todo ello usaremos <span class="hl-yellow"><strong>Quarto (nuevo rmarkdown)</strong></span></p>
</div>
</section>
<section id="comunicar-rmd-y-quarto-2" class="slide level2">
<h2>Comunicar: rmd y Quarto</h2>
<p>Los archivos de extensi√≥n <code>.qmd</code> (o <code>.rmd</code>) nos permitir√°n f√°cilmente combinar:</p>
<ul>
<li><span class="hl-yellow"><strong>Markdown</strong></span>: <span class="hl-purple"><strong>lenguaje tipado</strong></span> que nos permite crear contenido simple (tipo wordpress, con texto, <strong>negritas</strong>, <em>cursivas</em>, etc) con un dise√±o legible.</li>
</ul>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Matem√°ticas (latex)</strong></span>: lenguaje para escribir notaci√≥n matem√°tica como <span class="math inline">\(x^2\)</span> o <span class="math inline">\(\sqrt{y}\)</span> o <span class="math inline">\(\int_{a}^{b} f(x) dx\)</span></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>C√≥digo y salidas</strong></span>: podremos no solo mostrar el paso final sino el c√≥digo que has ido realizando (no solo en <code>R</code>), con <span class="hl-purple"><strong>cajitas de c√≥digo llamadas chunks</strong></span>.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Im√°genes, <span class="hl-yellow"><strong>gr√°ficas</strong></span>, tablas, estilos (css, js), etc.</li>
</ul>
</div>
</section>
<section id="comunicar-rmd-y-quarto-3" class="slide level2">
<h2>Comunicar: rmd y Quarto</h2>
<p>La principal ventaja de realizar este tipo de material en Quarto/Rmarkdown es que, al hacerlo desde <code>RStudio</code>, puedes generar un <span class="hl-yellow"><strong>informe o una presentaci√≥n sin salirte del entorno de programaci√≥n</strong></span> en el que est√°s trabajando</p>
<p>De esta forma podr√°s analizar los datos, resumirlos y a la vez comunicarlos con la misma herramienta.</p>
<div class="fragment">
<p>Recientemente el equipo de <code>RStudio</code> desarroll√≥ <span class="hl-yellow"><strong>Quarto</strong></span>, una versi√≥n mejorada de Rmarkdown (archivos <code>.qmd</code>), con un formato un poco m√°s est√©tico y simple. Tienes toda la documentaci√≥n y ejemplos en <a href="https://quarto.org/"><strong>https://quarto.org/</strong></a></p>
</div>
</section>
<section id="nuestro-primer-informe" class="slide level2">
<h2>Nuestro primer informe</h2>
<div class="columns">
<div class="column" style="width:55%;">
<p><img data-src="img/quarto-create.png"></p>
</div><div class="column" style="width:45%;">
<p>Vamos a crear el <span class="hl-yellow"><strong>primer fichero rmarkdown con Quarto</strong></span> con extensi√≥n <code>.qmd</code>. Para ello solo necesitaremos hacer click en</p>
<p><code>File &lt;&lt; New File &lt;&lt; Quarto Document</code></p>
</div>
</div>
</section>
<section id="nuestro-primer-informe-1" class="slide level2">
<h2>Nuestro primer informe</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p><img data-src="img/quarto-format.png"></p>
</div><div class="column" style="width:55%;">
<p>Tras hacerlo nos aparecer√°n varias <span class="hl-yellow"><strong>opciones de formatos de salida</strong></span>:</p>
<ul>
<li>archivo <code>.pdf</code></li>
<li>archivo <code>.html</code> (<span class="hl-yellow"><strong>recomendable</strong></span>): documento din√°mico, permite la interacci√≥n con el usuario, como una ¬´p√°gina web¬ª.</li>
<li>archivo <code>.doc</code> (nada recomendable)</li>
</ul>
</div>
</div>
<div class="fragment">
<p>De momento dejaremos marcado el <span class="hl-yellow"><strong>formato HTML que viene por defecto</strong></span>, y escribiremos el <span class="hl-yellow"><strong>t√≠tulo</strong></span> de nuestro documento. Tras ello tendremos nuestro <span class="hl-yellow"><strong>archivo .qmd</strong></span> (ya no es un script .R como los que hemos abierto hasta ahora).</p>
</div>
</section>
<section id="nuestro-primer-informe-2" class="slide level2">
<h2>Nuestro primer informe</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p><img data-src="img/quarto-example.png"></p>
</div><div class="column" style="width:40%;">
<p>Deber√≠as tener algo similar a la captura de la imagen con <span class="hl-yellow"><strong>dos modos de edici√≥n</strong></span>: <code>Source</code> (con c√≥digo, la opci√≥n recomendada hasta que lo domines) y <code>Visual</code> (m√°s parecido a un blog)</p>
</div>
</div>
<p>Para <span class="hl-yellow"><strong>ejecutar TODO el documento</strong></span> debes clickar <code>Render on Save</code> y darle a guardar.</p>
</section>
<section id="cabecera-de-un-qmd" class="slide level2">
<h2>Cabecera de un qmd</h2>

<img data-src="img/quarto-prueba-html.png" class="r-stretch"><p>Deber√≠as haber obtenido una <span class="hl-yellow"><strong>salida en html similar a esta</strong></span> (y se te ha generado en tu ordenador un <span class="hl-yellow"><strong>archivo html</strong></span>)</p>
</section>
<section id="nuestro-primer-informe-3" class="slide level2">
<h2>Nuestro primer informe</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-example.png"></p>
</div><div class="column" style="width:50%;">
<p>Un fichero <code>.qmd</code> se <span class="hl-yellow"><strong>divide b√°sicamente en tres partes</strong></span>:</p>
<ul>
<li><p><span class="hl-yellow"><strong>Cabecera</strong></span>: la parte que tienes al inicio entre <code>---</code>.</p></li>
<li><p><span class="hl-yellow"><strong>Texto</strong></span>: que podremos formatear y mejorar con negritas (escrito como <strong>negritas</strong>, con doble ast√©risco al inicio y final), cursivas (<em>cursivas</em>, con barra baja al inicio y final) o destacar nombres de funciones o variables de R. Puedes a√±adir ecuaciones como <span class="math inline">\(x^2\)</span> (he escrito <code>$x^2$</code>, entre d√≥lares).</p></li>
<li><p><span class="hl-yellow"><strong>C√≥digo R</strong></span></p></li>
</ul>
</div>
</div>
</section>
<section id="cabecera-de-un-qmd-1" class="slide level2">
<h2>Cabecera de un qmd</h2>
<p>La <span class="hl-yellow"><strong>cabecera est√°n en formato YAML</strong></span> y contiene los <span class="hl-yellow"><strong>metadatos</strong></span> del documento:</p>
<div class="columns">
<div class="column" style="width:30%;">
<p><img data-src="img/quarto-cabecera.png"></p>
</div><div class="column" style="width:70%;">
<ul>
<li><code>title</code> y <code>subtitle</code>: el t√≠tulo/subt√≠tulo del documento</li>
<li><code>author</code>: autor del mismo</li>
<li><code>date</code>: fecha</li>
<li><code>format</code>: formato de salida (podremos personalizar)
<ul>
<li><code>theme</code>: si tienes alg√∫n archivo de estilos</li>
<li><code>toc</code>: si quieres √≠ndice o no</li>
<li><code>toc-location</code>: posici√≥n del √≠ndice</li>
<li><code>toc-title</code>: t√≠tulo del √≠ndice</li>
<li><code>toc-depth</code>: profundidad del √≠ndice</li>
</ul></li>
<li><code>editor</code>: si est√°s en modo visual o source.</li>
</ul>
</div>
</div>
</section>
<section id="texto-de-un-qmd" class="slide level2">
<h2>Texto de un qmd</h2>
<p>Respecto a la escritura solo hay una <span class="hl-yellow"><strong>cosa importante</strong></span>: salvo que indiquemos lo contrario, <span class="hl-yellow"><strong>TODO lo que vamos a escribir es texto (normal)</strong></span>. No c√≥digo R.</p>
<div class="columns">
<div class="column" style="width:35%;">
<p><img data-src="img/quarto-prueba-qmd2.png" width="350"> <img data-src="img/quarto-prueba-html2.png" width="320"></p>
</div><div class="column" style="width:65%;">
<p>Vamos a empezar escribiendo una secci√≥n al inicio (<code># Intro</code> y detr√°s por ej. la frase</p>
<blockquote>
<p>Este material ha sido dise√±ado por el profesor Javier √Ålvarez Li√©bana, docente en la Universidad Complutense de Madrid</p>
</blockquote>
<p>Adem√°s al <code>Running Code</code> le a√±adiremos una almohadilla <code>#</code>: las <span class="hl-yellow"><strong>almohadillas FUERA DE CHUNKS</strong></span> nos servir√°n para crear <span class="hl-yellow"><strong>ep√≠grafes (secciones)</strong></span> en el documento</p>
</div>
</div>
</section>
<section id="√≠ndice-de-un-qmd" class="slide level2">
<h2>√çndice de un qmd</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><img data-src="img/quarto-indice-qmd-2.png" width="370"> <img data-src="img/quarto-indice-html2.png" width="370"></p>
</div><div class="column" style="width:60%;">
<p>Para que el <span class="hl-yellow"><strong>√≠ndice capture dichas secciones</strong></span> modificaremos la cabecera del archivo como se observa en la imagen (puedes cambiar la localizaci√≥n del √≠ndice y el t√≠tulo si quieres para probar).</p>
</div>
</div>
</section>
<section id="texto-en-un-qmd" class="slide level2">
<h2>Texto en un qmd</h2>
<p>Vamos a <span class="hl-yellow"><strong>personalizar un poco el texto</strong></span> haciendo lo siguiente:</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-texto-mejorado-qmd.png" width="370"> <img data-src="img/quarto-texto-mejorado-html.png" width="370"></p>
</div><div class="column" style="width:50%;">
<ul>
<li><p>Vamos a a√±adir <span class="hl-yellow"><strong>negrita al nombre</strong></span> (poniendo ** al inicio y al final).</p></li>
<li><p>Vamos a√±adir <span class="hl-yellow"><strong>cursiva</strong></span> a la palabra material (poniendo _ al inicio y al final).</p></li>
<li><p>Vamos a√±adir un <span class="hl-yellow"><strong>enlace</strong></span> <a href="https://www.ucm.es" class="uri">https://www.ucm.es</a>, asoci√°ndolo al nombre de la Universidad. Para ello el t√≠tulo lo ponemos entre corchetes y justo detr√°s el enlace entre par√©ntesis <code>[¬´Universidad Complutense de Madrid¬ª](https://www.ucm.es)</code></p></li>
</ul>
</div>
</div>
</section>
<section id="c√≥digo-en-un-qmd" class="slide level2">
<h2>C√≥digo en un qmd</h2>
<p>Para <span class="hl-yellow"><strong>a√±adir c√≥digo R</strong></span> debemos crear nuestras <span class="hl-yellow"><strong>cajas de c√≥digo llamadas chunks</strong></span>: altos en el camino en nuestro texto markdown donde podremos incluir c√≥digo de casi cualquier lenguaje (y sus salidas).</p>
<p>&nbsp;</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-chunk-qmd.png" width="470"></p>
</div><div class="column" style="width:50%;">
<p>Para incluir uno deber√° de ir <span class="hl-yellow"><strong>encabezado</strong></span> de la siguiente forma tienes un atajo <code>Command + Option + I</code> (Mac) o <code>Ctrl + Shift + I</code> (Windows)</p>
</div>
</div>
</section>
<section id="c√≥digo-en-un-qmd-1" class="slide level2">
<h2>C√≥digo en un qmd</h2>
<p>Dentro de dicha cajita (que tiene ahora otro color en el documento) <span class="hl-yellow"><strong>escribiremos c√≥digo R</strong></span> como lo ven√≠amos haciendo hasta ahora en los scripts.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-chunk-1-qmd.png" width="410"> <img data-src="img/quarto-chunk-1-html.png" width="410"></p>
</div><div class="column" style="width:50%;">
<p>Vamos por ejemplo a definir dos variables y su suma de la siguiente manera, escribiendo dicho c√≥digo en nuestro <code>.qmd</code> (dentro de ese chunk)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb323"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb323-1"><a href="#cb323-1"></a><span class="co"># C√≥digo R</span></span>
<span id="cb323-2"><a href="#cb323-2"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb323-3"><a href="#cb323-3"></a>y <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb323-4"><a href="#cb323-4"></a>x <span class="sc">+</span> y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="etiquetando-chunks" class="slide level2">
<h2>Etiquetando chunks</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-tag-chunks-qmd.png" width="400"> <img data-src="img/quarto-tag-chunks-html.png" width="400"></p>
</div><div class="column" style="width:50%;">
<p>Los chunks pueden tener un <span class="hl-yellow"><strong>nombre o etiqueta</strong></span>, de forma que podamos referenciarlos de nuevo para no repetir c√≥digo.</p>
</div>
</div>
</section>
<section id="ejecutando-chunks" class="slide level2">
<h2>Ejecutando chunks</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><img data-src="img/quarto-inline-qmd.png" width="400"> <img data-src="img/quarto-inline-html.png" width="380"></p>
</div><div class="column" style="width:60%;">
<p>En cada chunk aparecen <span class="hl-yellow"><strong>dos botones</strong></span>:</p>
<ul>
<li><p>bot√≥n de <span class="hl-yellow"><strong>play</strong></span>: activa la <span class="hl-yellow"><strong>ejecuci√≥n y salida de ese chunk particular</strong></span> (lo puedes visualizar dentro de tu propio <code>RStudio</code>)</p></li>
<li><p>bot√≥n de <span class="hl-yellow"><strong>rebobinar</strong></span>: activa la <span class="hl-yellow"><strong>ejecuci√≥n y salida de todos los chunk hasta ese</strong></span> (sin llegar a √©l)</p></li>
</ul>
<p>&nbsp;</p>
<p>Adem√°s podemos <span class="hl-yellow"><strong>incluir c√≥digo R dentro de la l√≠nea de texto</strong></span> (en lugar de mostrar el texto x ejecuta el c√≥digo R mostrando la variable).</p>
</div>
</div>
</section>
<section id="personalizaci√≥n-de-chunks" class="slide level2">
<h2>Personalizaci√≥n de chunks</h2>
<p>Los <span class="hl-yellow"><strong>chunks podemos personalizarlos</strong></span> con opciones al inicio del chunk precedido de <code>#|</code>:</p>
<ul>
<li><p><code>#| echo: false</code>: <span class="hl-green"><strong>ejecuta c√≥digo</strong></span> y se <span class="hl-green"><strong>muestra resultado</strong></span> pero <span class="hl-red"><strong>no visualiza c√≥digo</strong></span> en la salida.</p></li>
<li><p><code>#| include: false</code>: <span class="hl-green"><strong>ejecuta c√≥digo</strong></span> pero <span class="hl-red"><strong>no muestra resultado</strong></span> y <span class="hl-red"><strong>no visualiza c√≥digo</strong></span> en la salida.</p></li>
<li><p><code>#| eval: false</code>: <span class="hl-red"><strong>no ejecuta c√≥digo</strong></span>, <span class="hl-red"><strong>no muestra resultado</strong></span> pero <span class="hl-green"><strong>s√≠ visualiza c√≥digo</strong></span> en la salida.</p></li>
<li><p><code>#| message: false</code>: <span class="hl-green"><strong>ejecuta c√≥digo</strong></span> pero <span class="hl-red"><strong>no muestra mensajes de salida</strong></span>.</p></li>
<li><p><code>#| warning: false</code>: <span class="hl-green"><strong>ejecuta c√≥digo</strong></span> pero <span class="hl-red"><strong>no muestra mensajes de warning</strong></span>.</p></li>
<li><p><code>#| error: true</code>: <span class="hl-green"><strong>ejecuta c√≥digo</strong></span> y <span class="hl-green"><strong>permite que haya errores</strong></span> mostrando el mensaje de error en la salida.</p></li>
</ul>

<img data-src="img/quarto-options-chunk.png" width="380" class="r-stretch"><p>Estas opciones podemos aplicarlas chunk a chunk o fijar los par√°metros de forma global con <code>knitr::opts_chunk$set()</code> al inicio del documento (dentro de un chunk).</p>
</section>
<section id="organizando-qmd" class="slide level2">
<h2>Organizando qmd</h2>
<p>Adem√°s de texto y c√≥digo podemos introducir lo siguiente:</p>
<ul>
<li><p><span class="hl-yellow"><strong>Ecuaciones</strong></span>: puedes a√±adir adem√°s ecuaciones como <span class="math inline">\(x^2\)</span> (he escrito <code>$x^2$</code>, la ecuaci√≥n entre d√≥lares).</p></li>
<li><p><span class="hl-yellow"><strong>Listas</strong></span>: puedes itemizar elementos poniendo <code>*</code></p></li>
</ul>
<p><code>* Paso 1: ...</code></p>
<p><code>* Paso 2: ...</code></p>
<ul>
<li><span class="hl-yellow"><strong>Cross-references</strong></span>: puedes etiquetar partes del documento (la etiqueta se construye con <code>{#nombre-seccion}</code>) y llamarlas luego con <code>[Secci√≥n](@nombre-seccion)</code></li>
</ul>
</section>
<section id="gr√°ficasim√°genes-en-qmd" class="slide level2">
<h2>Gr√°ficas/im√°genes en qmd</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-fig-qmd.png" width="340"> <img data-src="img/quarto-fig-html.png" width="390"></p>
</div><div class="column" style="width:50%;">
<p>Por √∫ltimo, tambi√©n podemos <span class="hl-yellow"><strong>a√±adir pies de gr√°ficas o im√°genes</strong></span> a√±adiendo <code>#| fig-cap: "..."</code></p>
</div>
</div>
<div class="fragment">
<div class="columns">
<div class="column" style="width:65%;">
<p>F√≠jate que el <span class="hl-yellow"><strong>caption est√° en el margen</strong></span> (por ejemplo). Puedes cambiarlo introduciendo <span class="hl-yellow"><strong>ajustes en la cabecera</strong></span> (todo lo relativo a figuras empieza por <code>fig-</code>, y puedes ver las opciones tabulando). Tienes m√°s informaci√≥n en <strong><a href="https://quarto.org/" class="uri">https://quarto.org/</a></strong></p>
</div><div class="column" style="width:35%;">
<p><img data-src="img/quarto-cabecera-desplegable.png" width="400"></p>
</div>
</div>
</div>
</section>
<section id="a√±adir-estilos" class="slide level2">
<h2>A√±adir estilos</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-estilos-qmd.png" width="400"> <img data-src="img/quarto-estilos-html.png" width="400"></p>
</div><div class="column" style="width:50%;">
<p>Por √∫ltimo puedes a√±adir un <span class="hl-yellow"><strong>tema personalizado</strong></span> incluyendo un <span class="hl-yellow"><strong>archivo de estilos</strong></span> (archivo en formato <code>.scss</code> o <code>.css</code>). Te he dejado uno en <a href="https://github.com/dadosdelaplace/docencia-R-master-bio-2324/tree/main/material" class="uri">https://github.com/dadosdelaplace/docencia-R-master-bio-2324/tree/main/material</a>.</p>
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Importante</strong></p>
</div>
<div class="callout-content">
<p>El archivo de estilos debe estar en la misma carpeta que el archivo <code>.qmd</code></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="caso-pr√°ctico-4a" class="slide level2">
<h2>üê£ Caso pr√°ctico</h2>
<p>Elabora 3 informes <code>.qmd</code> tal que</p>
<ul>
<li>Crea un archivo por cada uno de los <span class="hl-yellow"><strong>3 casos pr√°cticos de los anteriores temas</strong></span>, uno por tema</li>
</ul>
<div class="fragment">
<ul>
<li>En cada uno de ellos haz <span class="hl-yellow"><strong>una secci√≥n por ejercicio</strong></span></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Detalla todos los pasos</strong></span> que consideres mezclando texto, c√≥digo y salidas</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Si aparecen medidas estad√≠sticas como la media, <span class="hl-yellow"><strong>prueba a meter f√≥rmulas</strong></span> con <code>$$</code> (busca informaci√≥n de c√≥mo introducir ecuaciones en latex)</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Para avanzados: investiga las opciones del paquete <code>{DT}</code> (con la funci√≥n <code>datatable()</code>) que nos permite <span class="hl-yellow"><strong>introducir dentro de los <code>.qmd</code> los datos en formato de tabla din√°mica</strong></span>, permitiendo ordenar y filtrar.</li>
</ul>
</div>
</section>
<section id="importarexportar-datos" class="slide level2">
<h2>Importar/exportar datos</h2>
<p>Hasta ahora solo hemos usado datos cargados ya en paquetes pero muchas veces <span class="hl-yellow"><strong>necesitaremos importar datos de manera externa</strong></span>. Una de las principales <span class="hl-yellow"><strong>fortalezas</strong></span> de <code>R</code> es que podemos importar datos de manera muy sencilla en distintos formatos:</p>
<ul>
<li><p><span class="hl-yellow"><strong>Formatos nativos de R</strong></span>: formatos <code>.rda</code>, <code>.RData</code> y <code>.rds</code></p></li>
<li><p><span class="hl-yellow"><strong>Datos rectangulares (tabulados)</strong></span>: formatos <code>.csv</code> y <code>.tsv</code></p></li>
<li><p><span class="hl-yellow"><strong>Datos sin tabular</strong></span>: formato <code>.txt</code></p></li>
<li><p><span class="hl-yellow"><strong>Datos en excel</strong></span>: formatos <code>.xls</code> y <code>.xlsx</code></p></li>
<li><p><span class="hl-yellow"><strong>Datos desde SAS/Stata/SPSS</strong></span>: formatos <code>.sas7bdat</code>, <code>.sav</code> y <code>.dat</code></p></li>
<li><p><span class="hl-yellow"><strong>Datos Google Drive</strong></span></p></li>
<li><p><span class="hl-yellow"><strong>Datos desde API</strong></span>: aemet, catastro, twitter, spotify, etc</p></li>
</ul>
</section>
<section id="formatos-nativos-de-r" class="slide level2">
<h2>Formatos nativos de R</h2>
<p>Los <span class="hl-yellow"><strong>ficheros m√°s simples</strong></span> para importar en <code>R</code> (y que suele ocupar menos espacio en disco) son sus propias <span class="hl-yellow"><strong>extensiones nativas</strong></span>: archivos con formatos <code>.RData</code>, <code>.rda</code> y <code>.rds</code>. Para cargar los primeros simplemente necesitamos <span class="hl-yellow"><strong>usar la funci√≥n nativa</strong></span> <code>load()</code> indic√°ndole la ruta del archivo.</p>
<ul>
<li>Archivo <code>.RData</code>: vamos a importar un dataset con las distintas caracter√≠sticas de los <span class="hl-purple"><strong>viajeros del Titanic</strong></span>, incluyendo qui√©n sobrevivi√≥ y qui√©n muri√≥.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb325"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb325-1"><a href="#cb325-1"></a><span class="fu">load</span>(<span class="st">"./datos/titanic.RData"</span>)</span>
<span id="cb325-2"><a href="#cb325-2"></a><span class="fu">as_tibble</span>(titanic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 12
  PassengerId Survived Pclass Name    Sex     Age SibSp Parch Ticket  Fare Cabin
        &lt;int&gt;    &lt;int&gt;  &lt;int&gt; &lt;fct&gt;   &lt;fct&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;fct&gt;  &lt;dbl&gt; &lt;fct&gt;
1           1        0      3 Braund‚Ä¶ male     22     1     0 A/5 2‚Ä¶  7.25 ""   
2           2        1      1 Cuming‚Ä¶ fema‚Ä¶    38     1     0 PC 17‚Ä¶ 71.3  "C85"
3           3        1      3 Heikki‚Ä¶ fema‚Ä¶    26     0     0 STON/‚Ä¶  7.92 ""   
4           4        1      1 Futrel‚Ä¶ fema‚Ä¶    35     1     0 113803 53.1  "C12‚Ä¶
5           5        0      3 Allen,‚Ä¶ male     35     0     0 373450  8.05 ""   
# ‚Ñπ 1 more variable: Embarked &lt;fct&gt;</code></pre>
</div>
</div>
</section>
<section id="formatos-nativos-de-r-1" class="slide level2">
<h2>Formatos nativos de R</h2>
<ul>
<li>Archivo <code>.rda</code>: vamos a importar un dataset con <span class="hl-purple"><strong>datos de c√°ncer de pecho</strong></span> de <a href="https://bmcmedresmethodol.biomedcentral.com/articles/10.1186/1471-2288-13-33"><strong>Royston and Altman (2013)</strong></a>, incluyendo 2982 pacientes y sus caracter√≠sticas</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb327"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb327-1"><a href="#cb327-1"></a><span class="fu">load</span>(<span class="st">"./datos/rotterdam_breast_cancer.rda"</span>)</span>
<span id="cb327-2"><a href="#cb327-2"></a><span class="fu">as_tibble</span>(rotterdam)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 √ó 15
    pid  year   age  meno size  grade nodes   pgr    er hormon chemo rtime recur
  &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;fct&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;  &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt;
1     1  1992    74     1 &lt;=20      3     0    35   291      0     0  1799     0
2     2  1984    79     1 20-50     3     0    36   611      0     0  2828     0
3     3  1983    44     0 &lt;=20      2     0   138     0      0     0  6012     0
4     4  1985    70     1 20-50     3     0     0    12      0     0  2624     0
5     5  1983    75     1 &lt;=20      3     0   260   409      0     0  4915     0
6     6  1983    52     0 &lt;=20      3     0   139   303      0     0  5888     0
7     7  1993    40     0 &lt;=20      2     0    13     4      0     0  2491     0
# ‚Ñπ 2 more variables: dtime &lt;dbl&gt;, death &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section id="formatos-nativos-de-r-2" class="slide level2">
<h2>Formatos nativos de R</h2>
<ul>
<li>Archivo <code>.rds</code>: para este tipo debemos usar <code>readRDS()</code>, y necesitamos incorporar un <span class="hl-yellow"><strong>argumento <code>file</code></strong></span> con la ruta. En este caso vamos a importar <span class="hl-purple"><strong>datos de c√°ncer de pulm√≥n</strong></span> del North Central Cancer Treatment Group.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb329"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb329-1"><a href="#cb329-1"></a>lung_cancer <span class="ot">&lt;-</span></span>
<span id="cb329-2"><a href="#cb329-2"></a>  <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"./datos/NCCTG_lung_cancer.rds"</span>) <span class="sc">|&gt;</span> <span class="fu">as_tibble</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 10
   inst  time status   age   sex ph.ecog ph.karno pat.karno meal.cal wt.loss
  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;
1     3   306      2    74     1       1       90       100     1175      NA
2     3   455      2    68     1       0       90        90     1225      15
3     3  1010      1    56     1       0       90        90       NA      15
4     5   210      2    57     1       1       90        60     1150      11
5     1   883      2    60     1       0      100        90       NA       0</code></pre>
</div>
</div>
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Importante</strong></p>
</div>
<div class="callout-content">
<p>Las <span class="hl-yellow"><strong>rutas</strong></span> deben ir siempre <span class="hl-yellow"><strong>sin espacios, ni e√±es, ni tildes</strong></span>. Y f√≠jate que los archivos cargados con <code>load()</code> se cargan autom√°ticamente en el environment (con el nombre guardado originalmente), pero las funciones <code>read()</code> solo se carga de manera local (sino se guarda, no existe a futuro)</p>
</div>
</div>
</div>
</section>
<section id="datos-rectangulares-readr" class="slide level2">
<h2>Datos rectangulares: readr</h2>
<p>El paquete <code>{readr}</code> dentro del entorno <code>{tidyverse}</code> contiene distintas funciones √∫tiles para la <span class="hl-yellow"><strong>carga de datos rectangulares (sin formatear)</strong></span>.</p>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><code>read_csv()</code>: archivos <code>.csv</code> cuyo <span class="hl-purple"><strong>separador sea la coma</strong></span></li>
<li><code>read_csv2()</code>: <span class="hl-purple"><strong>punto y coma</strong></span></li>
<li><code>read_tsv()</code>: <span class="hl-purple"><strong>tabulador</strong></span>.</li>
<li><code>read_table()</code>: <span class="hl-purple"><strong>espacio</strong></span>.</li>
<li><code>read_delim()</code>: funci√≥n gen√©rica para <span class="hl-purple"><strong>archivos delimitados por caracteres</strong></span>.</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="img/data-import-readr.png"></p>
</div>
</div>
<p>Todos necesitan como <strong>argumento la ruta del archivo</strong> am√©n de <strong>otros opcionales</strong> (saltar o no cabecera, decimales, etc). Ver m√°s en <a href="https://readr.tidyverse.org/" class="uri">https://readr.tidyverse.org/</a></p>
</section>
<section id="datos-tabulados-.csv-.tsv" class="slide level2">
<h2>Datos tabulados (.csv, .tsv)</h2>
<p>La principal ventaja de <code>{readr}</code> es que <span class="hl-yellow"><strong>automatiza el formateo</strong></span> para pasar de un archivo plano (sin formato) a un tibble (en filas y columnas, con formato).</p>
<div class="fragment">
<ul>
<li>Archivo <code>.csv</code>: con <code>read_csv()</code> cargaremos archivos <span class="hl-purple"><strong>separados por coma</strong></span>, pasando como <span class="hl-yellow"><strong>argumento la ruta</strong></span> en <code>file = ...</code>. Vamos a importar el dataset <code>chickens.csv</code> (sobre pollos de dibujos animados, why not). Si te fijas en la salida nos proporciona el tipo de variables.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb331"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb331-1"><a href="#cb331-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb331-2"><a href="#cb331-2"></a>chickens <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"./datos/chickens.csv"</span>)</span>
<span id="cb331-3"><a href="#cb331-3"></a>chickens</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 4
  chicken                 sex     eggs_laid motto                               
  &lt;chr&gt;                   &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;                               
1 Foghorn Leghorn         rooster         0 That's a joke, ah say, that's a jok‚Ä¶
2 Chicken Little          hen             3 The sky is falling!                 
3 Ginger                  hen            12 Listen. We'll either die free chick‚Ä¶
4 Camilla the Chicken     hen             7 Bawk, buck, ba-gawk.                
5 Ernie The Giant Chicken rooster         0 Put Captain Solo in the cargo hold. </code></pre>
</div>
</div>
</div>
</section>
<section id="datos-tabulados-.csv-.tsv-1" class="slide level2">
<h2>Datos tabulados (.csv, .tsv)</h2>
<p>El <span class="hl-yellow"><strong>formato de las variables</strong></span> normalmente lo har√° <code>read_csv()</code> de forma <span class="hl-yellow"><strong>autom√°tica</strong></span>, y podemos consultarlo con <code>spec()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb333"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb333-1"><a href="#cb333-1"></a><span class="fu">spec</span>(chickens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>cols(
  chicken = col_character(),
  sex = col_character(),
  eggs_laid = col_double(),
  motto = col_character()
)</code></pre>
</div>
</div>
</section>
<section id="datos-tabulados-.csv-.tsv-2" class="slide level2">
<h2>Datos tabulados (.csv, .tsv)</h2>
<p>Aunque lo haga normalmente bien de forma autom√°tica podemos <span class="hl-yellow"><strong>especificar el formato expl√≠citamente</strong></span> en <code>col_types = list()</code> (en formato lista, con <code>col_xxx()</code> para cada tipo de variable, por ejemplo una la pondremos como cualitativa o factor). Incluso podemos indicar que <span class="hl-yellow"><strong>variables que queremos seleccionar</strong></span> (sin ocupar memoria), indic√°ndoselo en <code>col_select = ...</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb335"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb335-1"><a href="#cb335-1"></a>chickens <span class="ot">&lt;-</span></span>
<span id="cb335-2"><a href="#cb335-2"></a>  <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"./datos/chickens.csv"</span>,</span>
<span id="cb335-3"><a href="#cb335-3"></a>           <span class="at">col_types =</span> <span class="fu">list</span>(<span class="fu">col_character</span>(), <span class="fu">col_factor</span>(), <span class="fu">col_double</span>(), <span class="fu">col_character</span>()),</span>
<span id="cb335-4"><a href="#cb335-4"></a>           <span class="at">col_select =</span> <span class="fu">c</span>(chicken, sex, eggs_laid))</span>
<span id="cb335-5"><a href="#cb335-5"></a>chickens</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 3
  chicken                 sex     eggs_laid
  &lt;chr&gt;                   &lt;fct&gt;       &lt;dbl&gt;
1 Foghorn Leghorn         rooster         0
2 Chicken Little          hen             3
3 Ginger                  hen            12
4 Camilla the Chicken     hen             7
5 Ernie The Giant Chicken rooster         0</code></pre>
</div>
</div>
</section>
<section id="datos-sin-tabular-.txt" class="slide level2">
<h2>Datos sin tabular (.txt)</h2>
<p>¬øQu√© sucede cuando el <span class="hl-red"><strong>separador no es el correcto</strong></span>?</p>
<div class="fragment">
<p>Si usamos <code>read_csv()</code> espera que el separador entre columnas sea una coma pero, como puedes ver con el siguiente <code>.txt</code>, nos interpreta todo como una sola columna: <span class="hl-yellow"><strong>no tiene comas y no sabe por donde separar</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb337"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb337-1"><a href="#cb337-1"></a>datos_txt <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"./datos/massey-rating.txt"</span>)</span>
<span id="cb337-2"><a href="#cb337-2"></a><span class="fu">dim</span>(datos_txt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10  1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb339"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb339-1"><a href="#cb339-1"></a><span class="fu">as_tibble</span>(datos_txt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 √ó 1
   `UCC PAY LAZ KPK  RT   COF BIH DII ENG ACU Rank Team            Conf`
   &lt;chr&gt;                                                                
 1 1   1   1   1   1     1   1   1   1   1    1 Ohio St          B10    
 2 2   2   2   2   2     2   2   2   4   2    2 Oregon           P12    
 3 3   4   3   4   3     4   3   4   2   3    3 Alabama          SEC    
 4 4   3   4   3   4     3   5   3   3   4    4 TCU              B12    
 5 6   6   6   5   5     7   6   5   6  11    5 Michigan St      B10    
 6 7   7   7   6   7     6  11   8   7   8    6 Georgia          SEC    
 7 5   5   5   7   6     8   4   6   5   5    7 Florida St       ACC    
 8 8   8   9   9  10     5   7   7  10   7    8 Baylor           B12    
 9 9  11   8  13  11    11  12   9  14   9    9 Georgia Tech     ACC    
10 13  10  13  11   8     9  10  11   9  10   10 Mississippi      SEC   </code></pre>
</div>
</div>
</div>
</section>
<section id="datos-sin-tabular-.txt-1" class="slide level2">
<h2>Datos sin tabular (.txt)</h2>
<p>Para ello tenemos</p>
<ul>
<li><p><code>read_csv2()</code> cuando el <span class="hl-yellow"><strong>separador sea el punto y coma</strong></span>, <code>read_tsv()</code> cuando el <span class="hl-yellow"><strong>sea un tabulador</strong></span> y <code>read_table()</code> cuando el <span class="hl-yellow"><strong>sea un espacio</strong></span></p></li>
<li><p><code>read_delim()</code> en general</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb341"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb341-1"><a href="#cb341-1"></a>datos_txt <span class="ot">&lt;-</span> <span class="fu">read_table</span>(<span class="at">file =</span> <span class="st">"./datos/massey-rating.txt"</span>)</span>
<span id="cb341-2"><a href="#cb341-2"></a><span class="fu">as_tibble</span>(datos_txt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 √ó 13
     UCC   PAY   LAZ   KPK    RT   COF   BIH   DII   ENG   ACU  Rank Team  Conf 
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
 1     1     1     1     1     1     1     1     1     1     1     1 Ohio  St   
 2     2     2     2     2     2     2     2     2     4     2     2 Oreg‚Ä¶ P12  
 3     3     4     3     4     3     4     3     4     2     3     3 Alab‚Ä¶ SEC  
 4     4     3     4     3     4     3     5     3     3     4     4 TCU   B12  
 5     6     6     6     5     5     7     6     5     6    11     5 Mich‚Ä¶ St   
 6     7     7     7     6     7     6    11     8     7     8     6 Geor‚Ä¶ SEC  
 7     5     5     5     7     6     8     4     6     5     5     7 Flor‚Ä¶ St   
 8     8     8     9     9    10     5     7     7    10     7     8 Bayl‚Ä¶ B12  
 9     9    11     8    13    11    11    12     9    14     9     9 Geor‚Ä¶ Tech 
10    13    10    13    11     8     9    10    11     9    10    10 Miss‚Ä¶ SEC  </code></pre>
</div>
</div>
</section>
<section id="datos-en-excel-.xls-.xlsx" class="slide level2">
<h2>Datos en excel (.xls, .xlsx)</h2>
<p>Otro de los paquetes fundamentales de importaci√≥n ser√° el paquete <code>{readxl}</code> para <span class="hl-yellow"><strong>importar datos desde una Excel</strong></span>. Tres funciones ser√°n claves:</p>
<ul>
<li><code>read_xls()</code> espec√≠fica para <code>.xls</code>, <code>read_xlsx()</code> espec√≠fica para <code>.xlsx</code></li>
<li><code>read_excel()</code>: para ambas</li>
</ul>
<div class="fragment">
<p>Vamos a importar <code>deaths.xlsx</code> con registros de fallecimientos de famosos</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb343"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb343-1"><a href="#cb343-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb343-2"><a href="#cb343-2"></a>deaths <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="at">path =</span> <span class="st">"./datos/deaths.xlsx"</span>)</span>
<span id="cb343-3"><a href="#cb343-3"></a>deaths</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 √ó 6
  `Lots of people`             ...2       ...3  ...4     ...5          ...6     
  &lt;chr&gt;                        &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;    
1 simply cannot resist writing &lt;NA&gt;       &lt;NA&gt;  &lt;NA&gt;     &lt;NA&gt;          some not‚Ä¶
2 at                           the        top   &lt;NA&gt;     of            their sp‚Ä¶
3 or                           merging    &lt;NA&gt;  &lt;NA&gt;     &lt;NA&gt;          cells    
4 Name                         Profession Age   Has kids Date of birth Date of ‚Ä¶
5 David Bowie                  musician   69    TRUE     17175         42379    
6 Carrie Fisher                actor      60    TRUE     20749         42731    
7 Chuck Berry                  musician   90    TRUE     9788          42812    
8 Bill Paxton                  actor      61    TRUE     20226         42791    </code></pre>
</div>
</div>
</div>
</section>
<section id="datos-en-excel-.xls-.xlsx-1" class="slide level2">
<h2>Datos en excel (.xls, .xlsx)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb345"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb345-1"><a href="#cb345-1"></a>deaths</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 √ó 6
  `Lots of people`             ...2       ...3  ...4     ...5          ...6     
  &lt;chr&gt;                        &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;    
1 simply cannot resist writing &lt;NA&gt;       &lt;NA&gt;  &lt;NA&gt;     &lt;NA&gt;          some not‚Ä¶
2 at                           the        top   &lt;NA&gt;     of            their sp‚Ä¶
3 or                           merging    &lt;NA&gt;  &lt;NA&gt;     &lt;NA&gt;          cells    
4 Name                         Profession Age   Has kids Date of birth Date of ‚Ä¶
5 David Bowie                  musician   69    TRUE     17175         42379    
6 Carrie Fisher                actor      60    TRUE     20749         42731    
7 Chuck Berry                  musician   90    TRUE     9788          42812    
8 Bill Paxton                  actor      61    TRUE     20226         42791    </code></pre>
</div>
</div>
<p>Algo por <span class="hl-yellow"><strong>desgracia muy habitual</strong></span> es que haya alg√∫n tipo de comentario o texto al inicio del archivo, teniendo que <span class="hl-yellow"><strong>saltarnos dichas filas</strong></span>.</p>
</section>
<section id="datos-en-excel-.xls-.xlsx-2" class="slide level2">
<h2>Datos en excel (.xls, .xlsx)</h2>
<p>Podemos <span class="hl-yellow"><strong>saltarnos dichas filas</strong></span> directamente en la carga con <code>skip = ...</code> (indicando el n√∫mero de filas que nos saltamos)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb347"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb347-1"><a href="#cb347-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb347-2"><a href="#cb347-2"></a>deaths <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="at">path =</span> <span class="st">"./datos/deaths.xlsx"</span>, <span class="at">skip =</span> <span class="dv">4</span>)</span>
<span id="cb347-3"><a href="#cb347-3"></a>deaths</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 6
  Name          Profession Age   `Has kids` `Date of birth`     `Date of death`
  &lt;chr&gt;         &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;      &lt;dttm&gt;              &lt;chr&gt;          
1 David Bowie   musician   69    TRUE       1947-01-08 00:00:00 42379          
2 Carrie Fisher actor      60    TRUE       1956-10-21 00:00:00 42731          
3 Chuck Berry   musician   90    TRUE       1926-10-18 00:00:00 42812          
4 Bill Paxton   actor      61    TRUE       1955-05-17 00:00:00 42791          
5 Prince        musician   57    TRUE       1958-06-07 00:00:00 42481          </code></pre>
</div>
</div>
</section>
<section id="datos-en-excel-.xls-.xlsx-3" class="slide level2">
<h2>Datos en excel (.xls, .xlsx)</h2>
<p>Adem√°s con <code>col_names = ...</code> podemos renombrar ya las columnas en la importaci√≥n (si <span class="hl-yellow"><strong>proporcionamos nombres asume la 1¬™ l√≠nea ya como un dato</strong></span>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb349" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb349-1"><a href="#cb349-1"></a>deaths <span class="ot">&lt;-</span></span>
<span id="cb349-2"><a href="#cb349-2"></a>  <span class="fu">read_xlsx</span>(<span class="at">path =</span> <span class="st">"./datos/deaths.xlsx"</span>,</span>
<span id="cb349-3"><a href="#cb349-3"></a>            <span class="at">skip =</span> <span class="dv">5</span>,</span>
<span id="cb349-4"><a href="#cb349-4"></a>            <span class="at">col_names =</span> <span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"profession"</span>, <span class="st">"age"</span>, <span class="st">"kids"</span>, <span class="st">"birth"</span>, <span class="st">"death"</span>))</span>
<span id="cb349-5"><a href="#cb349-5"></a>deaths</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 √ó 6
  name               profession age   kids  birth               death
  &lt;chr&gt;              &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt; &lt;dttm&gt;              &lt;chr&gt;
1 David Bowie        musician   69    TRUE  1947-01-08 00:00:00 42379
2 Carrie Fisher      actor      60    TRUE  1956-10-21 00:00:00 42731
3 Chuck Berry        musician   90    TRUE  1926-10-18 00:00:00 42812
4 Bill Paxton        actor      61    TRUE  1955-05-17 00:00:00 42791
5 Prince             musician   57    TRUE  1958-06-07 00:00:00 42481
6 Alan Rickman       actor      69    FALSE 1946-02-21 00:00:00 42383
7 Florence Henderson actor      82    TRUE  1934-02-14 00:00:00 42698</code></pre>
</div>
</div>
</section>
<section id="datos-en-excel-.xls-.xlsx-4" class="slide level2">
<h2>Datos en excel (.xls, .xlsx)</h2>
<p>En ocasiones las <span class="hl-red"><strong>fechas de Excel est√°n mal formateadas</strong></span> (sorpresa): podemos hacer uso de <code>convertToDate()</code> del paquete <code>{openxlsx}</code> para convertirlo</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb351"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb351-1"><a href="#cb351-1"></a><span class="fu">library</span>(openxlsx)</span>
<span id="cb351-2"><a href="#cb351-2"></a>deaths<span class="sc">$</span>death <span class="ot">&lt;-</span> <span class="fu">convertToDate</span>(deaths<span class="sc">$</span>death)</span>
<span id="cb351-3"><a href="#cb351-3"></a>deaths</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 √ó 6
  name               profession age   kids  birth               death     
  &lt;chr&gt;              &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt; &lt;dttm&gt;              &lt;date&gt;    
1 David Bowie        musician   69    TRUE  1947-01-08 00:00:00 2016-01-10
2 Carrie Fisher      actor      60    TRUE  1956-10-21 00:00:00 2016-12-27
3 Chuck Berry        musician   90    TRUE  1926-10-18 00:00:00 2017-03-18
4 Bill Paxton        actor      61    TRUE  1955-05-17 00:00:00 2017-02-25
5 Prince             musician   57    TRUE  1958-06-07 00:00:00 2016-04-21
6 Alan Rickman       actor      69    FALSE 1946-02-21 00:00:00 2016-01-14
7 Florence Henderson actor      82    TRUE  1934-02-14 00:00:00 2016-11-24</code></pre>
</div>
</div>
</section>
<section id="datos-en-excel-.xls-.xlsx-5" class="slide level2">
<h2>Datos en excel (.xls, .xlsx)</h2>
<p>Tambi√©n podemos <span class="hl-yellow"><strong>cargar un Excel con varias hojas</strong></span>: para <span class="hl-yellow"><strong>indicarle la hoja</strong></span> (bien por su nombre bien por su n√∫mero) usaremos el argumento <code>sheet = ...</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb353"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb353-1"><a href="#cb353-1"></a>mtcars <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="at">path =</span> <span class="st">"./datos/datasets.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"mtcars"</span>)</span>
<span id="cb353-2"><a href="#cb353-2"></a>mtcars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 11
    mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1  21       6   160   110  3.9   2.62  16.5     0     1     4     4
2  21       6   160   110  3.9   2.88  17.0     0     1     4     4
3  22.8     4   108    93  3.85  2.32  18.6     1     1     4     1
4  21.4     6   258   110  3.08  3.22  19.4     1     0     3     1
5  18.7     8   360   175  3.15  3.44  17.0     0     0     3     2</code></pre>
</div>
</div>
<div class="fragment">
<p>Incluso podemos indicar el <span class="hl-yellow"><strong>rango de celdas</strong></span> a cargar con <code>range = ...</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb355"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb355-1"><a href="#cb355-1"></a>iris <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="at">path =</span> <span class="st">"./datos/datasets.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"iris"</span>, <span class="at">range =</span> <span class="st">"C1:E4"</span>)</span>
<span id="cb355-2"><a href="#cb355-2"></a>iris</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 3
  Petal.Length Petal.Width Species
         &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  
1          1.4         0.2 setosa 
2          1.4         0.2 setosa 
3          1.3         0.2 setosa </code></pre>
</div>
</div>
</div>
</section>
<section id="desde-sasstataspss" class="slide level2">
<h2>Desde SAS/STATA/SPSS</h2>
<p>El paquete <code>{haven}</code> dentro de la √≥rbita tidyverse nos permitir√° <span class="hl-yellow"><strong>importar archivos de los 3 software de pago m√°s importantes</strong></span>: SAS, SPSS y Stata</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb357"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb357-1"><a href="#cb357-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb357-2"><a href="#cb357-2"></a></span>
<span id="cb357-3"><a href="#cb357-3"></a><span class="co"># SAS</span></span>
<span id="cb357-4"><a href="#cb357-4"></a>iris_sas <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="at">data_file =</span> <span class="st">"./datos/iris.sas7bdat"</span>)</span>
<span id="cb357-5"><a href="#cb357-5"></a></span>
<span id="cb357-6"><a href="#cb357-6"></a><span class="co"># SPSS</span></span>
<span id="cb357-7"><a href="#cb357-7"></a>iris_spss <span class="ot">&lt;-</span> <span class="fu">read_sav</span>(<span class="at">file =</span> <span class="st">"./datos/iris.sav"</span>)</span>
<span id="cb357-8"><a href="#cb357-8"></a></span>
<span id="cb357-9"><a href="#cb357-9"></a><span class="co"># Stata</span></span>
<span id="cb357-10"><a href="#cb357-10"></a>iris_stata <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="at">file =</span> <span class="st">"./datos/iris.dta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exportar" class="slide level2">
<h2>Exportar</h2>
<p>De la misma manera que podemos importar tambi√©n podemos <span class="hl-yellow"><strong>exportar</strong></span></p>
<ul>
<li>exportado en <code>.RData</code> (opci√≥n recomendada para variables guardadas en <code>R</code>). Recuerda que esta extensi√≥n <span class="hl-yellow"><strong>solo se podr√° usar en <code>R</code></strong></span>. Para ello nos basta con usar <code>save(objeto, file = ruta)</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb358"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb358-1"><a href="#cb358-1"></a>tabla <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">"a"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="st">"b"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb358-2"><a href="#cb358-2"></a><span class="fu">save</span>(tabla, <span class="at">file =</span> <span class="st">"./datos/tabla_prueba.RData"</span>)</span>
<span id="cb358-3"><a href="#cb358-3"></a><span class="fu">rm</span>(tabla) <span class="co"># eliminar</span></span>
<span id="cb358-4"><a href="#cb358-4"></a><span class="fu">load</span>(<span class="st">"./datos/tabla_prueba.RData"</span>)</span>
<span id="cb358-5"><a href="#cb358-5"></a>tabla</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 2
      a     b
  &lt;int&gt; &lt;int&gt;
1     1     1
2     2     2
3     3     3
4     4     4</code></pre>
</div>
</div>
</section>
<section id="exportar-1" class="slide level2">
<h2>Exportar</h2>
<p>De la misma manera que podemos importar tambi√©n podemos <span class="hl-yellow"><strong>exportar</strong></span></p>
<ul>
<li>exportado en <code>.csv</code>. Para ello nos basta con usar <code>write_csv(objeto, file = ruta)</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb360"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb360-1"><a href="#cb360-1"></a><span class="fu">write_csv</span>(tabla, <span class="at">file =</span> <span class="st">"./datos/tabla_prueba.csv"</span>)</span>
<span id="cb360-2"><a href="#cb360-2"></a><span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"./datos/tabla_prueba.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 2
      a     b
  &lt;dbl&gt; &lt;dbl&gt;
1     1     1
2     2     2
3     3     3
4     4     4</code></pre>
</div>
</div>
</section>
<section id="desde-web" class="slide level2">
<h2>Desde web</h2>
<p>Una de las principales ventajas de <code>R</code> es que podemos hacer uso de todas las funciones anteriores de <span class="hl-yellow"><strong>importar pero directamente desde una web</strong></span>, sin necesidad de realizar la descarga manual: en lugar de pasarle la ruta local le indicaremos el <span class="hl-yellow"><strong>enlace</strong></span>. Por ejemplo, vamos a descargar los datos de covid del ISCIII (<a href="https://cnecovid.isciii.es/covid19/#documentaci%C3%B3n-y-datos" class="uri">https://cnecovid.isciii.es/covid19/#documentaci%C3%B3n-y-datos</a>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb362"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb362-1"><a href="#cb362-1"></a>covid_datos <span class="ot">&lt;-</span></span>
<span id="cb362-2"><a href="#cb362-2"></a>  <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"https://cnecovid.isciii.es/covid19/resources/casos_hosp_uci_def_sexo_edad_provres.csv"</span>, <span class="at">n_max =</span> <span class="dv">700</span>)</span>
<span id="cb362-3"><a href="#cb362-3"></a>covid_datos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="desde-google-drive" class="slide level2">
<h2>Desde google drive</h2>
<p>Otra opci√≥n disponible (sobre todo si trabajamos con otras personas que trabajan) es <span class="hl-yellow"><strong>importar desde una hoja de c√°lculo Google Drive</strong></span>, haciendo uso de <code>read_sheet()</code> del paquete <code>{googlesheets4}</code></p>
<p>La primera vez te pedir√° un permiso de tidyverse para interactuar con vuestro drive</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb363"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb363-1"><a href="#cb363-1"></a><span class="fu">library</span>(googlesheets4)</span>
<span id="cb363-2"><a href="#cb363-2"></a>google_sheet <span class="ot">&lt;-</span></span>
<span id="cb363-3"><a href="#cb363-3"></a>  <span class="fu">read_sheet</span>(<span class="st">"https://docs.google.com/spreadsheets/d/1n_UTbD93-oDJR2r-rsMNff5ro147NL_ZN_vYIA2eJ3Q/edit?usp=sharing"</span>)</span>
<span id="cb363-4"><a href="#cb363-4"></a>google_sheet</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="desde-api-owid" class="slide level2">
<h2>Desde API (owid)</h2>
<p>Una opci√≥n tambi√©n muy interesante es la <span class="hl-yellow"><strong>carga de datos desde una API</strong></span>: un intermediario entre una app o proveedor datos y nuestro <code>R</code>. Por ejemplo, vamos a cargar la librer√≠a <code>{owidR}</code>, que nos permite la descarga de datos de la web <a href="https://ourworldindata.org/" class="uri">https://ourworldindata.org/</a>. La funci√≥n <code>owid_covid()</code> nos carga sin darnos cuenta m√°s de 300 000 registros con m√°s de 50 variables de 238 pa√≠ses</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb364"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb364-1"><a href="#cb364-1"></a><span class="fu">library</span>(owidR)</span>
<span id="cb364-2"><a href="#cb364-2"></a><span class="fu">owid_covid</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">

</div>
</section>
<section id="desde-api-owid-1" class="slide level2">
<h2>Desde API (owid)</h2>
<p>Este paquete tiene la funci√≥n <code>owid_search()</code> para buscar datasets por palabras clave, por ejemplo, <code>emissions</code>, d√°ndonos un dataset con el t√≠tulo de la base de datos y su id para luego usarla.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb365"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb365-1"><a href="#cb365-1"></a><span class="fu">as_tibble</span>(<span class="fu">owid_search</span>(<span class="st">"emissions"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">

</div>
<div class="fragment">
<p>Vamos a pedirle por ejemplo las <span class="hl-yellow"><strong>emisiones de la oecd</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb366"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb366-1"><a href="#cb366-1"></a><span class="fu">owid</span>(<span class="st">"emissions-of-air-pollutants-oecd"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">

</div>
</div>
</section>
<section id="desde-api-aemet" class="slide level2">
<h2>Desde API (aemet)</h2>
<p>En muchas ocasiones para conectar con la API tendremos antes que <span class="hl-yellow"><strong>registrarnos y obtener una clave</strong></span>, es el caso del paquete <code>{climaemet}</code> para acceder a datos meteorol√≥gicos (<a href="https://opendata.aemet.es/centrodedescargas/inicio" class="uri">https://opendata.aemet.es/centrodedescargas/inicio</a>)</p>
<p>Una vez que tenemos la clave de la API la registramos en nuestro RStudio para poder usarla a futuro</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb367"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb367-1"><a href="#cb367-1"></a><span class="fu">library</span>(climaemet)</span>
<span id="cb367-2"><a href="#cb367-2"></a></span>
<span id="cb367-3"><a href="#cb367-3"></a><span class="co"># Definir la clave</span></span>
<span id="cb367-4"><a href="#cb367-4"></a>apikey <span class="ot">&lt;-</span> <span class="st">"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqYXZhbHYwOUB1Y20uZXMiLCJqdGkiOiI4YTU1ODUxMS01MTE3LTQ4MTYtYmM4OS1hYmVkNDhiODBkYzkiLCJpc3MiOiJBRU1FVCIsImlhdCI6MTY2NjQ2OTcxNSwidXNlcklkIjoiOGE1NTg1MTEtNTExNy00ODE2LWJjODktYWJlZDQ4YjgwZGM5Iiwicm9sZSI6IiJ9.HEMR77lZy2ASjmOxJa8ppx2J8Za1IViurMX3p1reVBU"</span></span>
<span id="cb367-5"><a href="#cb367-5"></a></span>
<span id="cb367-6"><a href="#cb367-6"></a><span class="fu">aemet_api_key</span>(apikey, <span class="at">install =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">

</div>
</section>
<section id="desde-api-aemet-1" class="slide level2">
<h2>Desde API (aemet)</h2>
<p>Con dicho paquete podemos hacer una <span class="hl-yellow"><strong>b√∫squeda de estaciones</strong></span> para conocer tanto su c√≥digo postal como su c√≥digo identificador dentro de la red AEMET (por ejemplo, la estaci√≥n del aeropuerto de El Prat, Barcelona, es el c√≥digo <code>"0076"</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb368"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb368-1"><a href="#cb368-1"></a>stations <span class="ot">&lt;-</span> <span class="fu">aemet_stations</span>()</span>
<span id="cb368-2"><a href="#cb368-2"></a>stations</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb369"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb369-1"><a href="#cb369-1"></a><span class="fu">aemet_last_obs</span>(<span class="st">"0076"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">

</div>
</section>
<section id="desde-api-catastro" class="slide level2">
<h2>Desde API (catastro)</h2>
<p>Tambi√©n puedes conectar con la <span class="hl-yellow"><strong>API del catrastro</strong></span> y buscar por ejemplo por coordenadas</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb370"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb370-1"><a href="#cb370-1"></a><span class="fu">library</span>(CatastRo)</span>
<span id="cb370-2"><a href="#cb370-2"></a><span class="fu">catr_ovc_get_rccoor</span>(<span class="at">lat =</span> <span class="fl">38.61965</span>, <span class="at">lon =</span> <span class="sc">-</span><span class="fl">3.45624</span>, <span class="at">srs =</span> <span class="st">"4230"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tu-turno-4" class="slide level2">
<h2>üíª Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-7-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-7-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-7-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<p>üìù El dataset <code>who</code> que hemos usado en ejercicios anteriores, exp√≥rtalo a un formato nativo de <code>R</code> en la carpeta <code>datos</code> del proyecto</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb371"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb371-1"><a href="#cb371-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb371-2"><a href="#cb371-2"></a><span class="fu">save</span>(who, <span class="at">file =</span> <span class="st">"./datos/who.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-7-2">
<p>üìù Carga el dataset <code>who</code> pero desde la carpeta de datos (importa el archivo creado en el ejercicio anterior)</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb372"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb372-1"><a href="#cb372-1"></a><span class="fu">load</span>(<span class="st">"./datos/who.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-7-3">
<p>üìù Repite lo mismo (exportar e importar) en 4 formatos: <code>.csv</code>, <code>.xlsx</code>, <code>.sav</code> (spss) y <code>.dta</code> (stata)</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb373"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb373-1"><a href="#cb373-1"></a><span class="co"># csv</span></span>
<span id="cb373-2"><a href="#cb373-2"></a><span class="fu">library</span>(readr)</span>
<span id="cb373-3"><a href="#cb373-3"></a><span class="fu">write_csv</span>(who, <span class="at">file =</span> <span class="st">"./datos/who.csv"</span>)</span>
<span id="cb373-4"><a href="#cb373-4"></a>who_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"./datos/who.csv"</span>)</span>
<span id="cb373-5"><a href="#cb373-5"></a></span>
<span id="cb373-6"><a href="#cb373-6"></a><span class="co"># excel</span></span>
<span id="cb373-7"><a href="#cb373-7"></a><span class="fu">library</span>(openxlsx)</span>
<span id="cb373-8"><a href="#cb373-8"></a><span class="fu">write.xlsx</span>(who, <span class="at">file =</span> <span class="st">"./datos/who.xlsx"</span>)</span>
<span id="cb373-9"><a href="#cb373-9"></a>who_data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="at">path =</span> <span class="st">"./datos/who.xlsx"</span>)</span>
<span id="cb373-10"><a href="#cb373-10"></a></span>
<span id="cb373-11"><a href="#cb373-11"></a><span class="co"># sas y stata</span></span>
<span id="cb373-12"><a href="#cb373-12"></a><span class="fu">library</span>(haven)</span>
<span id="cb373-13"><a href="#cb373-13"></a><span class="fu">write_sav</span>(who, <span class="at">path =</span> <span class="st">"./datos/who.sav"</span>)</span>
<span id="cb373-14"><a href="#cb373-14"></a>who_data <span class="ot">&lt;-</span> <span class="fu">read_spss</span>(<span class="at">path =</span> <span class="st">"./datos/who.sav"</span>)</span>
<span id="cb373-15"><a href="#cb373-15"></a></span>
<span id="cb373-16"><a href="#cb373-16"></a><span class="fu">write_dta</span>(who, <span class="at">path =</span> <span class="st">"./datos/who.dta"</span>)</span>
<span id="cb373-17"><a href="#cb373-17"></a>who_data <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="at">path =</span> <span class="st">"./datos/who.dta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-7-4">
<p>üìù Repite la carga del <code>who.csv</code> pero solo selecciona ya en la carga las 4 primeras columnas</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb374"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb374-1"><a href="#cb374-1"></a>who_select <span class="ot">&lt;-</span></span>
<span id="cb374-2"><a href="#cb374-2"></a>  <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"./datos/who.csv"</span>,</span>
<span id="cb374-3"><a href="#cb374-3"></a>           <span class="at">col_select =</span> <span class="fu">c</span>(<span class="st">"country"</span>, <span class="st">"iso2"</span>, <span class="st">"iso3"</span>, <span class="st">"year"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="caso-pr√°ctico-4b" class="slide level2">
<h2>üê£ Caso pr√°ctico</h2>
<p>En la carpeta de datos tienes el dataset <code>breast-cancer-wisconsin-data.csv</code>. Crea un archivo <code>.qmd</code> y personal√≠zalo incluyendo lo siguiente:</p>
<ol type="1">
<li>Importa el archivo csv a un <code>tibble</code>. ¬øEs tidydata? ¬øCu√°ntos pacientes y variables tenemos?</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb375"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb375-1"><a href="#cb375-1"></a>datos <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"./datos/breast-cancer-wisconsin-data.csv"</span>)</span>
<span id="cb375-2"><a href="#cb375-2"></a>datos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 568 √ó 33
         id diagnosis radius_mean texture_mean perimeter_mean area_mean
      &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;        &lt;dbl&gt;          &lt;dbl&gt;     &lt;dbl&gt;
 1   842302 M                18.0         10.4          123.      1001 
 2   842517 M                20.6         17.8          133.      1326 
 3 84300903 M                19.7         21.2          130       1203 
 4 84348301 M                11.4         20.4           77.6      386.
 5 84358402 M                20.3         14.3          135.      1297 
 6   843786 M                12.4         15.7           82.6      477.
 7   844359 M                18.2         20.0          120.      1040 
 8 84458202 M                13.7         20.8           90.2      578.
 9   844981 M                13           21.8           87.5      520.
10 84501001 M                12.5         24.0           84.0      476.
# ‚Ñπ 558 more rows
# ‚Ñπ 27 more variables: smoothness_mean &lt;dbl&gt;, compactness_mean &lt;dbl&gt;,
#   concavity_mean &lt;dbl&gt;, `concave points_mean` &lt;dbl&gt;, symmetry_mean &lt;dbl&gt;,
#   fractal_dimension_mean &lt;dbl&gt;, radius_se &lt;dbl&gt;, texture_se &lt;dbl&gt;,
#   perimeter_se &lt;dbl&gt;, area_se &lt;dbl&gt;, smoothness_se &lt;dbl&gt;,
#   compactness_se &lt;dbl&gt;, concavity_se &lt;dbl&gt;, `concave points_se` &lt;dbl&gt;,
#   symmetry_se &lt;dbl&gt;, fractal_dimension_se &lt;dbl&gt;, radius_worst &lt;dbl&gt;, ‚Ä¶</code></pre>
</div>
</div>
</section>
<section id="caso-pr√°ctico-4b-1" class="slide level2">
<h2>üê£ Caso pr√°ctico</h2>
<ol start="2" type="1">
<li>El dataset representa datos de c√°ncer de pecho (<code>id</code> identificador, <code>diagnosis</code> el diagn√≥stico maligno/benigno y el resto propiedades del tumor). Usando SOLO LO APRENDIDO, ¬øqu√© % ten√≠an un tumor maligno y qu√© % uno benigno?</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb377"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb377-1"><a href="#cb377-1"></a><span class="dv">100</span> <span class="sc">*</span> <span class="fu">sum</span>(datos<span class="sc">$</span>diagnosis <span class="sc">==</span> <span class="st">"M"</span>) <span class="sc">/</span> <span class="fu">nrow</span>(datos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 37.32394</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb379"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb379-1"><a href="#cb379-1"></a><span class="dv">100</span> <span class="sc">*</span> <span class="fu">sum</span>(datos<span class="sc">$</span>diagnosis <span class="sc">==</span> <span class="st">"B"</span>) <span class="sc">/</span> <span class="fu">nrow</span>(datos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 62.67606</code></pre>
</div>
</div>
<div class="fragment">
<ol start="3" type="1">
<li>¬øCu√°l de los dos tipos de tumores tienen, de media, un radio m√°s elevado?</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb381"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb381-1"><a href="#cb381-1"></a>mean_M <span class="ot">&lt;-</span> <span class="fu">mean</span>(datos<span class="sc">$</span>radius_mean[datos<span class="sc">$</span>diagnosis <span class="sc">==</span> <span class="st">"M"</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb381-2"><a href="#cb381-2"></a>mean_B <span class="ot">&lt;-</span> <span class="fu">mean</span>(datos<span class="sc">$</span>radius_mean[datos<span class="sc">$</span>diagnosis <span class="sc">==</span> <span class="st">"B"</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</section>
<section id="caso-pr√°ctico-4b-1" class="slide level2">
<h2>üê£ Caso pr√°ctico</h2>
<ol start="4" type="1">
<li>Busca la ayuda de la funci√≥n <code>t.test()</code>. Dicha funci√≥n nos permite contrastar si la media de dos distribuciones son o no iguales. ¬øPodemos rechazar la hip√≥tesis nula de que la media del radio sea la misma, bajo una significancia de <span class="math inline">\(\alpha = 0.05\)</span>?</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb382"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb382-1"><a href="#cb382-1"></a>datos_M <span class="ot">&lt;-</span> datos<span class="sc">$</span>radius_mean[datos<span class="sc">$</span>diagnosis <span class="sc">==</span> <span class="st">"M"</span>]</span>
<span id="cb382-2"><a href="#cb382-2"></a>datos_B <span class="ot">&lt;-</span> datos<span class="sc">$</span>radius_mean[datos<span class="sc">$</span>diagnosis <span class="sc">==</span> <span class="st">"B"</span>]</span>
<span id="cb382-3"><a href="#cb382-3"></a><span class="fu">t.test</span>(datos_M, datos_B, <span class="at">conf.level =</span> <span class="fl">0.95</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  datos_M and datos_B
t = 22.177, df = 288.79, p-value &lt; 2.2e-16
alternative hypothesis: true difference in means is not equal to 0
95 percent confidence interval:
 4.833259 5.774710
sample estimates:
mean of x mean of y 
 17.46283  12.15885 </code></pre>
</div>
</div>
<p>S√≠, podemos rechazar.</p>
</section></section>
<section>
<section id="clase-5-tidyverse-filas" class="title-slide slide level1 center">
<h1>Clase 5: tidyverse (filas)</h1>
<p><span style="color:#444442;"><strong>Operaciones con filas</strong></span></p>
</section>
<section id="qu√©-es-tidyverse-3" class="slide level2">
<h2>¬øQu√© es tidyverse?</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p><img data-src="img/tidyverrse_universe.jpg"></p>
</div><div class="column" style="width:55%;">
<ul>
<li><code>{tibble}</code>: <span class="hl-yellow"><strong>optimizando data.frame</strong></span></li>
<li><code>{tidyr}</code>: limpieza de datos</li>
<li><code>{readr}</code>: carga datos rectangulares (.csv)</li>
<li><code>{dplyr}</code>: <span class="hl-yellow"><strong>gram√°tica para depurar</strong></span></li>
<li><code>{stringr}</code>: manejo de textos</li>
<li><code>{ggplot2}</code>: visualizaci√≥n de datos</li>
<li><code>{tidymodels}</code>: modelizaci√≥n/predicci√≥n</li>
</ul>
</div>
</div>
<p>Tambi√©n tenemos los paquetes <code>{purrr}</code> para el manejo de listas, <code>{forcast}</code> para cualitativas, <code>{lubridate}</code> para fechas, <code>{readxl}</code> para importar archivos .xls y .xlsx, <code>{rvest}</code> para web scraping y <code>{rmarkdown}</code> para comunicar resultados.</p>
</section>
<section id="preprocesamiento-dplyr" class="slide level2">
<h2>Preprocesamiento: dplyr</h2>
<p>Dentro de <code>{tidyverse}</code> usaremos el paquete <code>{dplyr}</code> para el <span class="hl-yellow"><strong>preprocesamiento y depuraci√≥n</strong></span> de datos de datos.</p>
<div class="columns">
<div class="column" style="width:60%;">
<p><img data-src="img/dplyr.png" width="450"></p>
</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb384"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb384-1"><a href="#cb384-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb384-2"><a href="#cb384-2"></a>  <span class="fu">limpio</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb384-3"><a href="#cb384-3"></a>  <span class="fu">filtro</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb384-4"><a href="#cb384-4"></a>  <span class="fu">selecciono</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb384-5"><a href="#cb384-5"></a>  <span class="fu">ordeno</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb384-6"><a href="#cb384-6"></a>  <span class="fu">modifico</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb384-7"><a href="#cb384-7"></a>  <span class="fu">renombro</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb384-8"><a href="#cb384-8"></a>  <span class="fu">agrupo</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb384-9"><a href="#cb384-9"></a>  <span class="fu">cuento</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb384-10"><a href="#cb384-10"></a>  <span class="fu">resumo</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb384-11"><a href="#cb384-11"></a>  <span class="fu">pinto</span>(...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>La idea es que el <span class="hl-yellow"><strong>c√≥digo sea legible</strong></span>, como si fuese una lista de instrucciones que al leerla nos diga de manera muy evidente lo que est√° haciendo.</p>
</section>
<section id="hip√≥tesis-tidydata" class="slide level2">
<h2>Hip√≥tesis: tidydata</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Toda la depuraci√≥n que vamos a realizar es sobre la <span class="hl-yellow"><strong>hip√≥tesis de que nuestros datos est√°n en tidydata</strong></span></p>
</div><div class="column" style="width:50%;">
<p><img data-src="img/tidy_def.jpg" style="width:160.0%"></p>
</div>
</div>
<p>Recuerda que en <code>{tidyverse}</code> ser√° clave el <span class="hl-yellow"><strong>operador pipe (tuber√≠a)</strong></span> definido como <code>|&gt;</code> (<span class="hl-purple"><strong>ctrl+shift+M</strong></span>): ser√° una <span class="hl-yellow"><strong>tuber√≠a que recorre los datos</strong></span> y los transforma.</p>
<div class="fragment">
<p>Vamos a practicar con el dataset <code>starwars</code> del paquete cargado <code>{dplyr}</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb385"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb385-1"><a href="#cb385-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb385-2"><a href="#cb385-2"></a>starwars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="muestreo" class="slide level2">
<h2>Muestreo</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p>Una de las operaciones m√°s comunes es lo que se conoce en estad√≠stica como <span class="hl-yellow"><strong>muestreo</strong></span>: una <span class="hl-yellow"><strong>selecci√≥n o filtrado de registros</strong></span> (una submuestra)</p>
</div><div class="column" style="width:40%;">
<p><img data-src="img/muestreo.jpeg" width="500"></p>
</div>
</div>
<div class="fragment">
<ul>
<li><span class="hl-purple"><strong>No aleatorio (por cuotas)</strong></span>: en base a condiciones l√≥gicas sobre los registros (<code>filter()</code>)</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-purple"><strong>No aleatorio (intencional/discreccional)</strong></span>: en base a posici√≥n (<code>slice()</code>)</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-purple"><strong>Aleatorio simple</strong></span> (<code>slice_sample()</code>)</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-purple"><strong>Aleatorio estratificado</strong></span> (<code>group_by()</code> + <code>slice_sample()</code>)</li>
</ul>
</div>
</section>
<section id="filtrar-filas-filter" class="slide level2">
<h2>Filtrar filas: filter()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb386"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb386-1"><a href="#cb386-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb386-2"><a href="#cb386-2"></a>  <span class="fu">filtro</span>(condicion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb387"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb387-1"><a href="#cb387-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb387-2"><a href="#cb387-2"></a>  <span class="fu">filter</span>(condicion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>El m√°s simple es cuando <span class="hl-yellow"><strong>filtramos registros</strong></span> en base a alguna condici√≥n l√≥gica: con <code>filter()</code> se seleccionar√°n solo individuos que cumplan ciertas condiciones (muestreo no aleatorio por condiciones)</p>
<div>
<ul>
<li class="fragment"><code>==</code>, <code>!=</code>: <span class="hl-purple"><strong>igual</strong></span> o <span class="hl-yellow"><strong>distinto</strong></span> que (<code>|&gt; filter(variable == "a")</code>)</li>
<li class="fragment"><code>&gt;</code>, <code>&lt;</code>: <span class="hl-purple"><strong>mayor</strong></span> o <span class="hl-yellow"><strong>menor</strong></span> que (<code>|&gt; filter(variable &lt; 3)</code>)</li>
<li class="fragment"><code>&gt;=</code>, <code>&lt;=</code>: <span class="hl-yellow"><strong>mayor o igual</strong></span> o <span class="hl-purple"><strong>menor o igual</strong></span> que (<code>|&gt; filter(variable &gt;= 5)</code>)</li>
<li class="fragment"><code>%in%</code>: valores <span class="hl-yellow"><strong>pertenencen</strong></span> a un listado de opciones (<code>|&gt; filter(variable %in% c("azul", "verde"))</code>)</li>
<li class="fragment"><code>between(variable, val1, val2)</code>: si los valores (continuos) <span class="hl-yellow"><strong>caen dentro de un rango</strong></span> de valores (<code>|&gt; filter(between(variable, 160, 180))</code>)</li>
</ul>
</div>
</section>
<section id="filtrar-filas-filter-1" class="slide level2">
<h2>Filtrar filas: filter()</h2>
<p>Dichas <span class="hl-yellow"><strong>condiciones l√≥gicas</strong></span> las podemos <span class="hl-yellow"><strong>combinar</strong></span> de diferentes maneras (y, o, o excluyente)</p>

<img data-src="img/tablas_verdad.png" class="r-stretch"><div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Importante</strong></p>
</div>
<div class="callout-content">
<p>Recuerda que dentro de <code>filter()</code> debe ir siempre algo que devuelva un <span class="hl-green"><strong>vector de valores l√≥gicos</strong></span>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="filtrar-filas-filter-2" class="slide level2">
<h2>Filtrar filas: filter()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb388"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb388-1"><a href="#cb388-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb388-2"><a href="#cb388-2"></a>  <span class="fu">filtro</span>(condicion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb389"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb389-1"><a href="#cb389-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb389-2"><a href="#cb389-2"></a>  <span class="fu">filter</span>(condicion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>¬øC√≥mo har√≠as para‚Ä¶ <span class="hl-yellow"><strong>filtrar</strong></span> los personajes de <span class="hl-purple"><strong>ojos marrones</strong></span>?</p>
<div class="fragment">
<p><span class="hl-yellow"><strong>¬øQu√© tipo de variable es?</strong></span> ‚Äì&gt; La variable <code>eye_color</code> es cualitativa as√≠ que est√° representada por textos</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb390"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb390-1"><a href="#cb390-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb390-2"><a href="#cb390-2"></a>  <span class="fu">filter</span>(eye_color <span class="sc">==</span> <span class="st">"brown"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 21 √ó 14
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Leia Or‚Ä¶    150  49   brown      light      brown           19   fema‚Ä¶ femin‚Ä¶
 2 Biggs D‚Ä¶    183  84   black      light      brown           24   male  mascu‚Ä¶
 3 Han Solo    180  80   brown      fair       brown           29   male  mascu‚Ä¶
 4 Yoda         66  17   white      green      brown          896   male  mascu‚Ä¶
 5 Boba Fe‚Ä¶    183  78.2 black      fair       brown           31.5 male  mascu‚Ä¶
 6 Lando C‚Ä¶    177  79   black      dark       brown           31   male  mascu‚Ä¶
 7 Arvel C‚Ä¶     NA  NA   brown      fair       brown           NA   male  mascu‚Ä¶
 8 Wicket ‚Ä¶     88  20   brown      brown      brown            8   male  mascu‚Ä¶
 9 Padm√© A‚Ä¶    185  45   brown      light      brown           46   fema‚Ä¶ femin‚Ä¶
10 Quarsh ‚Ä¶    183  NA   black      dark       brown           62   male  mascu‚Ä¶
# ‚Ñπ 11 more rows
# ‚Ñπ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="filtrar-filas-filter-3" class="slide level2">
<h2>Filtrar filas: filter()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb392"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb392-1"><a href="#cb392-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb392-2"><a href="#cb392-2"></a>  <span class="fu">filtro</span>(condicion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb393"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb393-1"><a href="#cb393-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb393-2"><a href="#cb393-2"></a>  <span class="fu">filter</span>(condicion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>¬øC√≥mo har√≠as para‚Ä¶ <span class="hl-yellow"><strong>filtrar</strong></span> los personajes que <span class="hl-purple"><strong>no tienen ojos marrones</strong></span>?</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb394"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb394-1"><a href="#cb394-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb394-2"><a href="#cb394-2"></a>  <span class="fu">filter</span>(eye_color <span class="sc">!=</span> <span class="st">"brown"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 66 √ó 14
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Luke Sk‚Ä¶    172    77 blond      fair       blue            19   male  mascu‚Ä¶
 2 C-3PO       167    75 &lt;NA&gt;       gold       yellow         112   none  mascu‚Ä¶
 3 R2-D2        96    32 &lt;NA&gt;       white, bl‚Ä¶ red             33   none  mascu‚Ä¶
 4 Darth V‚Ä¶    202   136 none       white      yellow          41.9 male  mascu‚Ä¶
 5 Owen La‚Ä¶    178   120 brown, gr‚Ä¶ light      blue            52   male  mascu‚Ä¶
 6 Beru Wh‚Ä¶    165    75 brown      light      blue            47   fema‚Ä¶ femin‚Ä¶
 7 R5-D4        97    32 &lt;NA&gt;       white, red red             NA   none  mascu‚Ä¶
 8 Obi-Wan‚Ä¶    182    77 auburn, w‚Ä¶ fair       blue-gray       57   male  mascu‚Ä¶
 9 Anakin ‚Ä¶    188    84 blond      fair       blue            41.9 male  mascu‚Ä¶
10 Wilhuff‚Ä¶    180    NA auburn, g‚Ä¶ fair       blue            64   male  mascu‚Ä¶
# ‚Ñπ 56 more rows
# ‚Ñπ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="filtrar-filas-filter-4" class="slide level2">
<h2>Filtrar filas: filter()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb396"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb396-1"><a href="#cb396-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb396-2"><a href="#cb396-2"></a>  <span class="fu">filtro</span>(condicion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb397"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb397-1"><a href="#cb397-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb397-2"><a href="#cb397-2"></a>  <span class="fu">filter</span>(condicion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>¬øC√≥mo har√≠as para ‚Ä¶ <span class="hl-yellow"><strong>filtrar</strong></span> los personajes que <span class="hl-purple"><strong>tengan los ojos marrones o azules</strong></span>?</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb398"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb398-1"><a href="#cb398-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb398-2"><a href="#cb398-2"></a>  <span class="fu">filter</span>(eye_color <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"brown"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 40 √ó 14
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Luke Sk‚Ä¶    172    77 blond      fair       blue            19   male  mascu‚Ä¶
 2 Leia Or‚Ä¶    150    49 brown      light      brown           19   fema‚Ä¶ femin‚Ä¶
 3 Owen La‚Ä¶    178   120 brown, gr‚Ä¶ light      blue            52   male  mascu‚Ä¶
 4 Beru Wh‚Ä¶    165    75 brown      light      blue            47   fema‚Ä¶ femin‚Ä¶
 5 Biggs D‚Ä¶    183    84 black      light      brown           24   male  mascu‚Ä¶
 6 Anakin ‚Ä¶    188    84 blond      fair       blue            41.9 male  mascu‚Ä¶
 7 Wilhuff‚Ä¶    180    NA auburn, g‚Ä¶ fair       blue            64   male  mascu‚Ä¶
 8 Chewbac‚Ä¶    228   112 brown      unknown    blue           200   male  mascu‚Ä¶
 9 Han Solo    180    80 brown      fair       brown           29   male  mascu‚Ä¶
10 Jek Ton‚Ä¶    180   110 brown      fair       blue            NA   &lt;NA&gt;  &lt;NA&gt;  
# ‚Ñπ 30 more rows
# ‚Ñπ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="filtrar-filas-filter-5" class="slide level2">
<h2>Filtrar filas: filter()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb400"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb400-1"><a href="#cb400-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb400-2"><a href="#cb400-2"></a>  <span class="fu">filtro</span>(condicion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb401"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb401-1"><a href="#cb401-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb401-2"><a href="#cb401-2"></a>  <span class="fu">filter</span>(condicion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>F√≠jate que <code>%in%</code> es equivalente a concatenar varios <code>==</code> con una conjunci√≥n o (<code>|</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb402"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb402-1"><a href="#cb402-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb402-2"><a href="#cb402-2"></a>  <span class="fu">filter</span>(eye_color <span class="sc">==</span> <span class="st">"blue"</span> <span class="sc">|</span> eye_color <span class="sc">==</span> <span class="st">"brown"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 40 √ó 14
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Luke Sk‚Ä¶    172    77 blond      fair       blue            19   male  mascu‚Ä¶
 2 Leia Or‚Ä¶    150    49 brown      light      brown           19   fema‚Ä¶ femin‚Ä¶
 3 Owen La‚Ä¶    178   120 brown, gr‚Ä¶ light      blue            52   male  mascu‚Ä¶
 4 Beru Wh‚Ä¶    165    75 brown      light      blue            47   fema‚Ä¶ femin‚Ä¶
 5 Biggs D‚Ä¶    183    84 black      light      brown           24   male  mascu‚Ä¶
 6 Anakin ‚Ä¶    188    84 blond      fair       blue            41.9 male  mascu‚Ä¶
 7 Wilhuff‚Ä¶    180    NA auburn, g‚Ä¶ fair       blue            64   male  mascu‚Ä¶
 8 Chewbac‚Ä¶    228   112 brown      unknown    blue           200   male  mascu‚Ä¶
 9 Han Solo    180    80 brown      fair       brown           29   male  mascu‚Ä¶
10 Jek Ton‚Ä¶    180   110 brown      fair       blue            NA   &lt;NA&gt;  &lt;NA&gt;  
# ‚Ñπ 30 more rows
# ‚Ñπ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</section>
<section id="filtrar-filas-filter-6" class="slide level2">
<h2>Filtrar filas: filter()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb404"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb404-1"><a href="#cb404-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb404-2"><a href="#cb404-2"></a>  <span class="fu">filtro</span>(condicion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb405"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb405-1"><a href="#cb405-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb405-2"><a href="#cb405-2"></a>  <span class="fu">filter</span>(condicion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>¬øC√≥mo har√≠as para ‚Ä¶ <span class="hl-yellow"><strong>filtrar</strong></span> los personajes que <span class="hl-purple"><strong>midan entre 120 y 160 cm</strong></span>?</p>
<div class="fragment">
<p><span class="hl-yellow"><strong>¬øQu√© tipo de variable es?</strong></span> ‚Äì&gt; La variable <code>height</code> es cuantitativa continua as√≠ que deberemos filtrar por rangos de valores (intervalos) ‚Äì&gt; usaremos <code>between()</code></p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb406"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb406-1"><a href="#cb406-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb406-2"><a href="#cb406-2"></a>  <span class="fu">filter</span>(<span class="fu">between</span>(height, <span class="dv">120</span>, <span class="dv">160</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 14
  name      height  mass hair_color skin_color eye_color birth_year sex   gender
  &lt;chr&gt;      &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
1 Leia Org‚Ä¶    150    49 brown      light      brown             19 fema‚Ä¶ femin‚Ä¶
2 Mon Moth‚Ä¶    150    NA auburn     fair       blue              48 fema‚Ä¶ femin‚Ä¶
3 Nien Nunb    160    68 none       grey       black             NA male  mascu‚Ä¶
4 Watto        137    NA black      blue, grey yellow            NA male  mascu‚Ä¶
5 Gasgano      122    NA none       white, bl‚Ä¶ black             NA male  mascu‚Ä¶
6 Cord√©        157    NA brown      light      brown             NA &lt;NA&gt;  &lt;NA&gt;  
# ‚Ñπ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="filtrar-filas-filter-7" class="slide level2">
<h2>Filtrar filas: filter()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb408"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb408-1"><a href="#cb408-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb408-2"><a href="#cb408-2"></a>  <span class="fu">filtro</span>(condicion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb409"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb409-1"><a href="#cb409-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb409-2"><a href="#cb409-2"></a>  <span class="fu">filter</span>(condicion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>¬øC√≥mo har√≠as‚Ä¶ <span class="hl-yellow"><strong>filtrar</strong></span> los personajes que <span class="hl-purple"><strong>tengan ojos y no sean humanos</strong></span>?</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb410"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb410-1"><a href="#cb410-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb410-2"><a href="#cb410-2"></a>  <span class="fu">filter</span>(eye_color <span class="sc">==</span> <span class="st">"brown"</span> <span class="sc">&amp;</span> species <span class="sc">!=</span> <span class="st">"Human"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 14
  name      height  mass hair_color skin_color eye_color birth_year sex   gender
  &lt;chr&gt;      &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
1 Yoda          66    17 white      green      brown            896 male  mascu‚Ä¶
2 Wicket S‚Ä¶     88    20 brown      brown      brown              8 male  mascu‚Ä¶
3 Eeth Koth    171    NA black      brown      brown             NA male  mascu‚Ä¶
# ‚Ñπ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="filtrar-filas-filter-8" class="slide level2">
<h2>Filtrar filas: filter()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb412"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb412-1"><a href="#cb412-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb412-2"><a href="#cb412-2"></a>  <span class="fu">filtro</span>(condicion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb413"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb413-1"><a href="#cb413-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb413-2"><a href="#cb413-2"></a>  <span class="fu">filter</span>(condicion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>¬øC√≥mo har√≠as‚Ä¶ <span class="hl-yellow"><strong>filtrar</strong></span> los personajes que <span class="hl-purple"><strong>tengan ojos y no sean humanos, o que tengan m√°s de 60 a√±os</strong></span>? Pi√©nsalo bien: los <span class="hl-yellow"><strong>par√©ntesis son importantes</strong></span>: no es lo mismo <span class="math inline">\((a+b)*c\)</span> que <span class="math inline">\(a+(b*c)\)</span></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb414"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb414-1"><a href="#cb414-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb414-2"><a href="#cb414-2"></a>  <span class="fu">filter</span>((eye_color <span class="sc">==</span> <span class="st">"brown"</span> <span class="sc">&amp;</span> species <span class="sc">!=</span> <span class="st">"Human"</span>) <span class="sc">|</span> birth_year <span class="sc">&gt;</span> <span class="dv">60</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 18 √ó 14
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 C-3PO       167    75 &lt;NA&gt;       gold       yellow           112 none  mascu‚Ä¶
 2 Wilhuff‚Ä¶    180    NA auburn, g‚Ä¶ fair       blue              64 male  mascu‚Ä¶
 3 Chewbac‚Ä¶    228   112 brown      unknown    blue             200 male  mascu‚Ä¶
 4 Jabba D‚Ä¶    175  1358 &lt;NA&gt;       green-tan‚Ä¶ orange           600 herm‚Ä¶ mascu‚Ä¶
 5 Yoda         66    17 white      green      brown            896 male  mascu‚Ä¶
 6 Palpati‚Ä¶    170    75 grey       pale       yellow            82 male  mascu‚Ä¶
 7 Wicket ‚Ä¶     88    20 brown      brown      brown              8 male  mascu‚Ä¶
 8 Qui-Gon‚Ä¶    193    89 brown      fair       blue              92 male  mascu‚Ä¶
 9 Finis V‚Ä¶    170    NA blond      fair       blue              91 male  mascu‚Ä¶
10 Quarsh ‚Ä¶    183    NA black      dark       brown             62 male  mascu‚Ä¶
11 Shmi Sk‚Ä¶    163    NA black      fair       brown             72 fema‚Ä¶ femin‚Ä¶
12 Mace Wi‚Ä¶    188    84 none       dark       brown             72 male  mascu‚Ä¶
13 Ki-Adi-‚Ä¶    198    82 white      pale       yellow            92 male  mascu‚Ä¶
14 Eeth Ko‚Ä¶    171    NA black      brown      brown             NA male  mascu‚Ä¶
15 Cliegg ‚Ä¶    183    NA brown      fair       blue              82 male  mascu‚Ä¶
16 Dooku       193    80 white      fair       brown            102 male  mascu‚Ä¶
17 Bail Pr‚Ä¶    191    NA black      tan        brown             67 male  mascu‚Ä¶
18 Jango F‚Ä¶    183    79 black      tan        brown             66 male  mascu‚Ä¶
# ‚Ñπ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="eliminar-ausentes-drop_na" class="slide level2">
<h2>Eliminar ausentes: drop_na()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb416"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb416-1"><a href="#cb416-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb416-2"><a href="#cb416-2"></a>  <span class="fu">retirar_ausentes</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb417"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb417-1"><a href="#cb417-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb417-2"><a href="#cb417-2"></a>  <span class="fu">drop_na</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Hay un filtro especial para una de las operaciones m√°s habituales en depuraci√≥n: <span class="hl-yellow"><strong>retirar los ausentes</strong></span>. Para ello podemos usar dentro de un filtro <code>is.na()</code>, que nos devuelve <code>TRUE/FALSE</code> en funci√≥n de si es ausente, o bien ‚Ä¶</p>
<div class="fragment">
<p>Usar <code>drop_na()</code>: si no indicamos variable, elimina registros con ausente en cualquier variable. M√°s adelante veremos como <span class="hl-yellow"><strong>imputar esos ausentes</strong></span></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb418"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb418-1"><a href="#cb418-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb418-2"><a href="#cb418-2"></a>  <span class="fu">drop_na</span>(mass, height)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 √ó 4
  name                mass height hair_color 
  &lt;chr&gt;              &lt;dbl&gt;  &lt;int&gt; &lt;chr&gt;      
1 Luke Skywalker        77    172 blond      
2 C-3PO                 75    167 &lt;NA&gt;       
3 R2-D2                 32     96 &lt;NA&gt;       
4 Darth Vader          136    202 none       
5 Leia Organa           49    150 brown      
6 Owen Lars            120    178 brown, grey
7 Beru Whitesun Lars    75    165 brown      </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb420"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb420-1"><a href="#cb420-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb420-2"><a href="#cb420-2"></a>  <span class="fu">drop_na</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 √ó 4
  name                mass height hair_color   
  &lt;chr&gt;              &lt;dbl&gt;  &lt;int&gt; &lt;chr&gt;        
1 Luke Skywalker        77    172 blond        
2 Darth Vader          136    202 none         
3 Leia Organa           49    150 brown        
4 Owen Lars            120    178 brown, grey  
5 Beru Whitesun Lars    75    165 brown        
6 Biggs Darklighter     84    183 black        
7 Obi-Wan Kenobi        77    182 auburn, white</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tu-turno-7a" class="slide level2">
<h2>üíª Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-8" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-8-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-8-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-8-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-8-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-8-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-8-1">
<p>üìù Selecciona del conjunto de starwars solo los personajes que sean androides o cuyo valor en <code>species</code> sea desconocido</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb422"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb422-1"><a href="#cb422-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb422-2"><a href="#cb422-2"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Droid"</span> <span class="sc">|</span> <span class="fu">is.na</span>(species))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-8-2">
<p>üìù Selecciona del conjunto de starwars solo los personajes cuyo peso est√© entre 65 y 90 kg.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb423"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb423-1"><a href="#cb423-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">between</span>(mass, <span class="dv">65</span>, <span class="dv">90</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-8-3">
<p>üìù Tras limpiar de ausentes en todas las variables, selecciona del conjunto de starwars solo los personajes que sean humanos y que vengan de Tatooine</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb424"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb424-1"><a href="#cb424-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb424-2"><a href="#cb424-2"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span> </span>
<span id="cb424-3"><a href="#cb424-3"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Human"</span> <span class="sc">&amp;</span> homeworld <span class="sc">==</span> <span class="st">"Tatooine"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-8-4">
<p>üìù Selecciona del conjunto original de starwars los personajes no humanos, <code>male</code> en el sexo y que midan entre 120 y 170 cm, o los personajes con ojos marrones o rojos.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb425"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb425-1"><a href="#cb425-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb425-2"><a href="#cb425-2"></a>  <span class="fu">filter</span>((species <span class="sc">!=</span> <span class="st">"Human"</span> <span class="sc">&amp;</span> sex <span class="sc">==</span> <span class="st">"male"</span> <span class="sc">&amp;</span></span>
<span id="cb425-3"><a href="#cb425-3"></a>            <span class="fu">between</span>(height, <span class="dv">120</span>, <span class="dv">170</span>)) <span class="sc">|</span></span>
<span id="cb425-4"><a href="#cb425-4"></a>           eye_color <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"brown"</span>, <span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-8-5">
<p>üìù Busca informaci√≥n en la ayuda de la funci√≥n <code>str_detect()</code> del paquete <code>{stringr}</code> (cargado en <code>{tidyverse}</code>). Consejo: prueba antes las funciones que vayas a usar con alg√∫n vector de prueba para poder comprobar su funcionamiento. Tras saber lo que hace, filtra solo aquellos personajes con apellido <code>Skywalker</code></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb426"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb426-1"><a href="#cb426-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(name, <span class="st">"Skywalker"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="rebanadas-de-datos-slice" class="slide level2">
<h2>Rebanadas de datos: slice()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb427"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb427-1"><a href="#cb427-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">rebanadas</span>(posiciones)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb428"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb428-1"><a href="#cb428-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">slice</span>(posiciones)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>A veces nos puede interesar realizar un <span class="hl-yellow"><strong>muestreo no aleatorio discreccional</strong></span>, o lo que es lo mismo, <span class="hl-yellow"><strong>filtrar por posici√≥n</strong></span>: con <code>slice(posiciones)</code> podremos seleccionar filas concretas pasando como argumento un <span class="hl-yellow"><strong>vector de √≠ndices</strong></span></p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb429"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb429-1"><a href="#cb429-1"></a><span class="co"># fila 1</span></span>
<span id="cb429-2"><a href="#cb429-2"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb429-3"><a href="#cb429-3"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 √ó 4
  name           height  mass hair_color
  &lt;chr&gt;           &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;     
1 Luke Skywalker    172    77 blond     </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb431"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb431-1"><a href="#cb431-1"></a><span class="co"># filas de la 7 a la 9</span></span>
<span id="cb431-2"><a href="#cb431-2"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb431-3"><a href="#cb431-3"></a>  <span class="fu">slice</span>(<span class="dv">7</span><span class="sc">:</span><span class="dv">9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 4
  name               height  mass hair_color
  &lt;chr&gt;               &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;     
1 Beru Whitesun Lars    165    75 brown     
2 R5-D4                  97    32 &lt;NA&gt;      
3 Biggs Darklighter     183    84 black     </code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb433"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb433-1"><a href="#cb433-1"></a><span class="co"># filas 2, 7, 10 y 31</span></span>
<span id="cb433-2"><a href="#cb433-2"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb433-3"><a href="#cb433-3"></a>  <span class="fu">slice</span>(<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">7</span>, <span class="dv">10</span>, <span class="dv">31</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 8
  name             height  mass hair_color skin_color eye_color birth_year sex  
  &lt;chr&gt;             &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;
1 C-3PO               167    75 &lt;NA&gt;       gold       yellow           112 none 
2 Beru Whitesun L‚Ä¶    165    75 brown      light      blue              47 fema‚Ä¶
3 Obi-Wan Kenobi      182    77 auburn, w‚Ä¶ fair       blue-gray         57 male 
4 Qui-Gon Jinn        193    89 brown      fair       blue              92 male </code></pre>
</div>
</div>
</div>
</section>
<section id="rebanadas-de-datos-slice-1" class="slide level2">
<h2>Rebanadas de datos: slice()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb435"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb435-1"><a href="#cb435-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb435-2"><a href="#cb435-2"></a>  <span class="fu">rebanadas</span>(posiciones)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb436"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb436-1"><a href="#cb436-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb436-2"><a href="#cb436-2"></a>  <span class="fu">slice</span>(posiciones)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Disponemos de opciones por defecto:</p>
<ul>
<li>con <code>slice_head(n = ...)</code> y <code>slice_tail(n = ...)</code> podemos obtener la <span class="hl-yellow"><strong>cabecera y cola</strong></span> de la tabla</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb437"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb437-1"><a href="#cb437-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 4
  name           height  mass hair_color
  &lt;chr&gt;           &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;     
1 Luke Skywalker    172    77 blond     
2 C-3PO             167    75 &lt;NA&gt;      </code></pre>
</div>
</div>
</div><div class="column" style="width:&quot;50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb439"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb439-1"><a href="#cb439-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">slice_tail</span>(<span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 4
  name           height  mass hair_color
  &lt;chr&gt;           &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;     
1 BB8                NA    NA none      
2 Captain Phasma     NA    NA none      </code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="rebanadas-de-datos-slice-2" class="slide level2">
<h2>Rebanadas de datos: slice()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb441"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb441-1"><a href="#cb441-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb441-2"><a href="#cb441-2"></a>  <span class="fu">rebanadas</span>(posiciones)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb442"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb442-1"><a href="#cb442-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb442-2"><a href="#cb442-2"></a>  <span class="fu">slice</span>(posiciones)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Disponemos de opciones por defecto:</p>
<ul>
<li>con <code>slice_max()</code> y <code>slice_min()</code> obtenemos la <span class="hl-yellow"><strong>filas con menor/mayor valor de una variable</strong></span> (si empate, todas salvo que <code>with_ties = FALSE</code>) que indicamos en <code>order_by = ...</code></li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb443"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb443-1"><a href="#cb443-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">slice_min</span>(mass, <span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 4
  name         height  mass hair_color
  &lt;chr&gt;         &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;     
1 Ratts Tyerel     79    15 none      
2 Yoda             66    17 white     </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb445"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb445-1"><a href="#cb445-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">slice_max</span>(height, <span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 4
  name        height  mass hair_color
  &lt;chr&gt;        &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;     
1 Yarael Poof    264    NA none      
2 Tarfful        234   136 brown     </code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="aleatorio-slice_sample" class="slide level2">
<h2>Aleatorio: slice_sample()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb447"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb447-1"><a href="#cb447-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb447-2"><a href="#cb447-2"></a>  <span class="fu">rebanadas_aleatorias</span>(posiciones)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb448"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb448-1"><a href="#cb448-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb448-2"><a href="#cb448-2"></a>  <span class="fu">slice_sample</span>(posiciones)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>El conocido como <span class="hl-yellow"><strong>muestreo aleatorio simple</strong></span> se basa en <span class="hl-yellow"><strong>seleccionar individuos aleatoriamente</strong></span>, de forma que cada uno tenga ciertas <span class="hl-yellow"><strong>probabilidades</strong></span> de ser seleccionado. Con <code>slice_sample(n = ...)</code> podemos extraer n registros aleatoriamente (a priori equiprobables).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb449"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb449-1"><a href="#cb449-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 14
  name      height  mass hair_color skin_color eye_color birth_year sex   gender
  &lt;chr&gt;      &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
1 Lando Ca‚Ä¶    177    79 black      dark       brown             31 male  mascu‚Ä¶
2 Tarfful      234   136 brown      brown      blue              NA male  mascu‚Ä¶
# ‚Ñπ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
<div class="fragment">
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Importante‚Ä¶</strong></p>
</div>
<div class="callout-content">
<p><span class="hl-yellow"><strong>¬´Aleatorio¬ª no implica equiprobable</strong></span>: es igual de aleatorio un dado normal que uno trucado. No hay cosas ¬´m√°s aleatorias¬ª que otras, simplemente tienen subyacente distintas leyes de probabilidad.</p>
</div>
</div>
</div>
</div>
</section>
<section id="aleatorio-slice_sample-1" class="slide level2">
<h2>Aleatorio: slice_sample()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb451"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb451-1"><a href="#cb451-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb451-2"><a href="#cb451-2"></a>  <span class="fu">rebanadas_aleatorias</span>(posiciones)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb452"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb452-1"><a href="#cb452-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb452-2"><a href="#cb452-2"></a>  <span class="fu">slice_sample</span>(posiciones)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Tambi√©n podremos indicarle la <span class="hl-yellow"><strong>proporci√≥n de datos a samplear</strong></span> (en lugar del n√∫mero) y si queremos que sea <span class="hl-yellow"><strong>con reemplazamiento (que se puedan repetir)</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb453"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb453-1"><a href="#cb453-1"></a><span class="co"># 5% de registros aleatorios con reemplazamiento</span></span>
<span id="cb453-2"><a href="#cb453-2"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb453-3"><a href="#cb453-3"></a>  <span class="fu">slice_sample</span>(<span class="at">prop =</span> <span class="fl">0.05</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 14
  name      height  mass hair_color skin_color eye_color birth_year sex   gender
  &lt;chr&gt;      &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
1 Han Solo     180    80 brown      fair       brown             29 male  mascu‚Ä¶
2 Gregar T‚Ä¶    185    85 black      dark       brown             NA &lt;NA&gt;  &lt;NA&gt;  
3 Yarael P‚Ä¶    264    NA none       white      yellow            NA male  mascu‚Ä¶
4 Wicket S‚Ä¶     88    20 brown      brown      brown              8 male  mascu‚Ä¶
# ‚Ñπ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</section>
<section id="aleatorio-slice_sample-2" class="slide level2">
<h2>Aleatorio: slice_sample()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb455"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb455-1"><a href="#cb455-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb455-2"><a href="#cb455-2"></a>  <span class="fu">rebanadas_aleatorias</span>(posiciones)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb456"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb456-1"><a href="#cb456-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb456-2"><a href="#cb456-2"></a>  <span class="fu">slice_sample</span>(posiciones)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Como dec√≠amos, ¬´aleatorio¬ª no es igual que ¬´equiprobable¬ª, as√≠ que podemos pasarle un <span class="hl-yellow"><strong>vector de probabilidades</strong></span>. Por ejemplo, vamos a forzar que sea muy improbable sacar una fila que no sean las dos primeras</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb457"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb457-1"><a href="#cb457-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb457-2"><a href="#cb457-2"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">2</span>, <span class="at">weight_by =</span> <span class="fu">c</span>(<span class="fl">0.495</span>, <span class="fl">0.495</span>, <span class="fu">rep</span>(<span class="fl">0.01</span><span class="sc">/</span><span class="dv">85</span>, <span class="dv">85</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 14
  name      height  mass hair_color skin_color eye_color birth_year sex   gender
  &lt;chr&gt;      &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
1 C-3PO        167    75 &lt;NA&gt;       gold       yellow           112 none  mascu‚Ä¶
2 Luke Sky‚Ä¶    172    77 blond      fair       blue              19 male  mascu‚Ä¶
# ‚Ñπ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb459"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb459-1"><a href="#cb459-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb459-2"><a href="#cb459-2"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">2</span>, <span class="at">weight_by =</span> <span class="fu">c</span>(<span class="fl">0.495</span>, <span class="fl">0.495</span>, <span class="fu">rep</span>(<span class="fl">0.01</span><span class="sc">/</span><span class="dv">85</span>, <span class="dv">85</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 14
  name      height  mass hair_color skin_color eye_color birth_year sex   gender
  &lt;chr&gt;      &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
1 C-3PO        167    75 &lt;NA&gt;       gold       yellow           112 none  mascu‚Ä¶
2 Luke Sky‚Ä¶    172    77 blond      fair       blue              19 male  mascu‚Ä¶
# ‚Ñπ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="par√©ntesis-sample" class="slide level2">
<h2>Par√©ntesis: sample()</h2>
<p>La funci√≥n <code>slice_sample()</code> es simplemente una integraci√≥n de <code>{tidyverse}</code> de la funci√≥n b√°sica de <code>R</code> conocida como <code>sample()</code> que nos permite <span class="hl-yellow"><strong>muestrear elementos</strong></span></p>
<div class="fragment">
<p>Por ejemplo, vamos a <span class="hl-yellow"><strong>muestrear 10 tiradas de un dado</strong></span>, indic√°ndole</p>
<ul>
<li><span class="hl-purple"><strong>soporte</strong></span> de nuestra variable aleatorio (valores permitidos en <code>x</code>)</li>
<li><span class="hl-purple"><strong>tama√±o</strong></span> muestral (<code>size</code>)</li>
<li><span class="hl-purple"><strong>reemplazamiento</strong></span> (si <code>TRUE</code> entonces pueden salir repetidas, como en el caso del dado)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb461"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb461-1"><a href="#cb461-1"></a><span class="fu">sample</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">size =</span> <span class="dv">10</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 4 6 1 4 5 5 2 5 4 6</code></pre>
</div>
</div>
</div>
</section>
<section id="par√©ntesis-sample-1" class="slide level2">
<h2>Par√©ntesis: sample()</h2>
<p>La opci√≥n anterior lo que genera son sucesos de una variable aleatoria <span class="hl-yellow"><strong>equiprobable</strong></span> pero al igual que antes, podemos asignarle un vector de probabilidades o <span class="hl-yellow"><strong>funci√≥n de masa</strong></span> concreta con el argumento <code>prob = ...</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb463"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb463-1"><a href="#cb463-1"></a><span class="fu">sample</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">size =</span> <span class="dv">50</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>,</span>
<span id="cb463-2"><a href="#cb463-2"></a>       <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="fl">0.2</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.05</span>, <span class="fl">0.05</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 1 1 2 4 1 1 2 1 1 1 4 5 1 4 4 1 1 1 1 5 1 3 2 1 1 2 5 1 1 1 3 1 2 2 2 1 1
[39] 2 4 2 2 1 1 1 1 1 6 3 1</code></pre>
</div>
</div>
</section>
<section id="par√©ntesis-sample-2" class="slide level2">
<h2>Par√©ntesis: sample()</h2>
<p><strong>¬øC√≥mo har√≠as el siguiente enunciado?</strong></p>
<p>&nbsp;</p>
<p>Supongamos que en una ciudad se han estudiado episodios de gripe estacional. Sean las variables aleatorias <span class="math inline">\(X_m\)</span> y <span class="math inline">\(X_p\)</span> tal que <span class="math inline">\(X_m=1\)</span> si la madre tiene gripe, <span class="math inline">\(X_m=0\)</span> si la madre no tiene gripe, <span class="math inline">\(X_p=1\)</span> si el padre tiene gripe y <span class="math inline">\(X_p=0\)</span> si el padre no tiene gripe. El modelo te√≥rico asociado a este tipo de epidemias indica que la distribuci√≥n conjunta viene dada por <span class="math inline">\(P(X_m = 1, X_p=1)=0.02\)</span>, <span class="math inline">\(P(X_m = 1, X_p=0)=0.08\)</span>, <span class="math inline">\(P(X_m = 1, X_p=0)=0.1\)</span> y <span class="math inline">\(P(X_m = 0, X_p=0)=0.8\)</span></p>
<p><strong>Genera una muestra</strong> de tama√±o <span class="math inline">\(n = 1000\)</span> (soporte <code>"10"</code>, <code>"01"</code>, <code>"00"</code> y <code>"11"</code>) haciendo uso de <code>runif()</code> y haciendo uso de <code>sample()</code></p>
</section>
<section id="tu-turno-7b" class="slide level2">
<h2>üíª Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-9" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-9-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-9-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-9-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-9-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-9-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-9-1">
<p>üìù Selecciona solo los personajes que sean humanos y de ojos marrones, para despu√©s ordernarlos en altura descendente y peso ascendente.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb465"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb465-1"><a href="#cb465-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb465-2"><a href="#cb465-2"></a>  <span class="fu">filter</span>(eye_color <span class="sc">==</span> <span class="st">"brown"</span> <span class="sc">&amp;</span> species <span class="sc">==</span> <span class="st">"Human"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb465-3"><a href="#cb465-3"></a>  <span class="fu">arrange</span>(height, <span class="fu">desc</span>(mass))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-9-2">
<p>üìù Extrae 3 registros aleatoriamente.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb466"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb466-1"><a href="#cb466-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-9-3">
<p>üìù Extrae el 10% de los registros aleatoriamente.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb467"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb467-1"><a href="#cb467-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">slice_sample</span>(<span class="at">prop =</span> <span class="fl">0.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-9-4">
<p>üìù Extrae aleatoriamente 10 personajes pero de forma que la probabilidad de que salga cada uno sea proporcional a su peso (m√°s pesados, m√°s probable)</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb468"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb468-1"><a href="#cb468-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb468-2"><a href="#cb468-2"></a>  <span class="fu">drop_na</span>(mass) <span class="sc">|&gt;</span> </span>
<span id="cb468-3"><a href="#cb468-3"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">10</span>, <span class="at">weight_by =</span> mass)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-9-5">
<p>üìù Selecciona los 3 personajes m√°s mayores.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb469"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb469-1"><a href="#cb469-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">slice_max</span>(birth_year, <span class="at">n =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="entrega-i" class="title-slide slide level1 center">
<h1>Clase 6: entrega I</h1>
<p><span style="color:#444442;"><strong>Primera entrega individual en clase</strong></span></p>
</section>
<section id="ejercicios-previos" class="slide level2">
<h2>Ejercicios previos</h2>
<p><span class="hl-yellow"><strong>Ejercicios recomendables para practicar antes de la pr√°ctica</strong></span> y conocer el dataset en cuesti√≥n.</p>
<p>Realiza la importaci√≥n de los <a href="https://cnecovid.isciii.es/covid19/resources/casos_hosp_uci_def_sexo_edad_provres.csv">datos de covid del ISCIII</a> directamente desde la web (archivo <code>casos_hosp_uci_def_sexo_edad_provres.csv</code>) incluyendo todas las filas pero cargando solo las columnas <code>provincia_iso</code>, <code>sexo</code>, <code>grupo_edad</code>, <code>fecha</code> y <code>num_casos</code>.</p>
<div class="panel-tabset">
<ul id="tabset-10" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-10-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-10-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-10-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-10-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-10-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-10-1">
<p>üìù Determina el tipo de dato es cada variable importada</p>
</div>
<div id="tabset-10-2">
<p>üìù ¬øCu√°ntas observaciones tenemos?</p>
</div>
<div id="tabset-10-3">
<p>üìù Renombra el nombre de las variables al ingl√©s</p>
</div>
<div id="tabset-10-4">
<p>üìù ¬øPodemos convertir el dataset a una matriz? Argumenta e ilustra el por qu√© s√≠ o no.</p>
</div>
<div id="tabset-10-5">
<p>üìù Crea una nueva variable (fuera de la base de datos) que nos diga el n√∫mero de d√≠as que han pasado de cada registro respecto a hoy.</p>
</div>
</div>
</div>
</section>
<section id="entrega-i-27092023" class="slide level2">
<h2>Entrega I (27/09/2023)</h2>
<p>Se actualizar√° al inicio de la clase correspondiente.</p>
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Importante</strong></p>
</div>
<div class="callout-content">
<p>Esta <span class="hl-green"><strong>entrega ponderar√° un 10% en la nota final</strong></span></p>
<p>Podr√°s <span class="hl-yellow"><strong>usar todo el material del curso e internet</strong></span> salvo cualquier aplicaci√≥n de mensajer√≠a o sistema de comunicaci√≥n: en caso de tener alguna abierta a lo largo de la entrega, aunque no se est√© usando, deber√°s <span class="hl-red"><strong>abandonar la entrega y contar√° como un 0</strong></span>.</p>
<p>Contar√°s con aproximadamente 1 hora y 50 minutos, pero <span class="hl-yellow"><strong>deber√°s realizar la entrega</strong></span>, como tarde, a las <span class="hl-yellow"><strong>18:00</strong></span>. Ser√° <span class="hl-yellow"><strong>obligatorio subir tanto el <code>.qmd</code> como el <code>.html</code></strong></span>: una entrega que no haya podido ser renderizada (es decir, con errores graves) ser√° <span class="hl-red"><strong>penalizada contando solo un 65% de la nota obtenida</strong></span> (si la entrega es perfecta, la nota m√°xima ser√° un 6.5 sino se adjunta el <code>.html</code> generado).</p>
<p>Te recomiendo practicar bastante y preguntar dudas en clase y/o tutor√≠a ya que <span class="hl-yellow"><strong>ir√°s justo de tiempo</strong></span>, as√≠ que necesitas fluidez en los ejercicios.</p>
<p>Si usas un <span class="hl-yellow"><strong>pc de la biblioteca</strong></span> aseg√∫rate de tomarlo con suficiente antelaci√≥n para <span class="hl-yellow"><strong>instalar todas las librer√≠as necesarias antes de empezar</strong></span> para no perder tiempo.</p>
</div>
</div>
</div>
</section></section>
<section>
<section id="clase-7-tidyverse-columnas" class="title-slide slide level1 center">
<h1>Clase 7: tidyverse (filas y columnas)</h1>
<p><span style="color:#444442;"><strong>Operaciones con columnas</strong></span></p>
</section>
<section id="reordenar-filas-arrange" class="slide level2">
<h2>Reordenar filas: arrange()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb470"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb470-1"><a href="#cb470-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">ordenar</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb471"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb471-1"><a href="#cb471-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">arrange</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Tambi√©n podemos <span class="hl-yellow"><strong>ordenar filas</strong></span> en funci√≥n de alguna variable con <code>arrange()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb472"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb472-1"><a href="#cb472-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">arrange</span>(mass)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 6
  name                  height  mass hair_color skin_color  eye_color
  &lt;chr&gt;                  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;    
1 Ratts Tyerel              79    15 none       grey, blue  unknown  
2 Yoda                      66    17 white      green       brown    
3 Wicket Systri Warrick     88    20 brown      brown       brown    
4 R2-D2                     96    32 &lt;NA&gt;       white, blue red      
5 R5-D4                     97    32 &lt;NA&gt;       white, red  red      </code></pre>
</div>
</div>
<div class="fragment">
<p>Por <span class="hl-yellow"><strong>defecto de menor a mayor</strong></span> pero podemos <span class="hl-purple"><strong>invertir el orden</strong></span> con <code>desc()</code></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb474"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb474-1"><a href="#cb474-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(height))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 3
  name         height  mass
  &lt;chr&gt;         &lt;int&gt; &lt;dbl&gt;
1 Yarael Poof     264    NA
2 Tarfful         234   136
3 Lama Su         229    88
4 Chewbacca       228   112
5 Roos Tarpals    224    82</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb476"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb476-1"><a href="#cb476-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">arrange</span>(mass, <span class="fu">desc</span>(height))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 3
  name                  height  mass
  &lt;chr&gt;                  &lt;int&gt; &lt;dbl&gt;
1 Ratts Tyerel              79    15
2 Yoda                      66    17
3 Wicket Systri Warrick     88    20
4 R5-D4                     97    32
5 R2-D2                     96    32</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="eliminar-duplicados-distinct" class="slide level2">
<h2>Eliminar duplicados: distinct()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb478"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb478-1"><a href="#cb478-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">sin_duplicados</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb479"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb479-1"><a href="#cb479-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">distinct</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Muchas veces necesitaremos asegurarnos que no hay duplicados en alguna variable (DNI) y podemos <span class="hl-yellow"><strong>eliminar filas duplicadas</strong></span> con <code>distinct()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb480"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb480-1"><a href="#cb480-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">distinct</span>(sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 1
  sex           
  &lt;chr&gt;         
1 male          
2 none          
3 female        
4 hermaphroditic
5 &lt;NA&gt;          </code></pre>
</div>
</div>
<div class="fragment">
<p>Para mantener todas las columnas de la tabla usaremos <code>.keep_all = TRUE</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb482"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb482-1"><a href="#cb482-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">distinct</span>(sex, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 14
  name      height  mass hair_color skin_color eye_color birth_year sex   gender
  &lt;chr&gt;      &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
1 Luke Sky‚Ä¶    172    77 blond      fair       blue              19 male  mascu‚Ä¶
2 C-3PO        167    75 &lt;NA&gt;       gold       yellow           112 none  mascu‚Ä¶
3 Leia Org‚Ä¶    150    49 brown      light      brown             19 fema‚Ä¶ femin‚Ä¶
# ‚Ñπ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="a√±adir-filas-bind_rows" class="slide level2">
<h2>A√±adir filas: bind_rows()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb484"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb484-1"><a href="#cb484-1"></a>tibble1 <span class="sc">|&gt;</span> <span class="fu">encuadernar_filas</span>(tibble2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb485"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb485-1"><a href="#cb485-1"></a>tibble1 <span class="sc">|&gt;</span> <span class="fu">bind_rows</span>(tibble2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Por √∫ltimo, podemos <span class="hl-yellow"><strong>concatenar nuevas filas</strong></span> con <code>bind_rows()</code> con <span class="hl-red"><strong>las nuevas observaciones en tabla</strong></span> (si no cuadran columnas rellena con ausentes)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb486"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb486-1"><a href="#cb486-1"></a>datos <span class="ot">&lt;-</span></span>
<span id="cb486-2"><a href="#cb486-2"></a>  <span class="fu">tibble</span>(<span class="st">"nombre"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"javi"</span>, <span class="st">"laura"</span>), <span class="st">"edad"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">33</span>, <span class="dv">50</span>))</span>
<span id="cb486-3"><a href="#cb486-3"></a>datos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 2
  nombre  edad
  &lt;chr&gt;  &lt;dbl&gt;
1 javi      33
2 laura     50</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb488"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb488-1"><a href="#cb488-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">bind_rows</span>(<span class="fu">tibble</span>(<span class="st">"nombre"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"carlos"</span>, <span class="cn">NA</span>), <span class="st">"cp"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">28045</span>, <span class="dv">28019</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 3
  nombre  edad    cp
  &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;
1 javi      33    NA
2 laura     50    NA
3 carlos    NA 28045
4 &lt;NA&gt;      NA 28019</code></pre>
</div>
</div>
</div>
</section>
<section id="tu-turno-7c" class="slide level2">
<h2>üíª Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-11" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-11-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-11-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-11-1">
<p>üìù Para saber que valores √∫nicos hay en el color de pelo, elimina duplicados de la variable <code>hair_color</code>, eliminando antes los ausentes de dicha variable.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb490"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb490-1"><a href="#cb490-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb490-2"><a href="#cb490-2"></a>  <span class="fu">drop_na</span>(hair_color) <span class="sc">|&gt;</span> </span>
<span id="cb490-3"><a href="#cb490-3"></a>  <span class="fu">distinct</span>(hair_color)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-11-2">
<p>üìù De los personajes que son humanos y miden m√°s de 160 cm, elimina duplicados en color de ojos, elimina ausentes en peso, selecciona los 3 m√°s altos, y orden de mayor a menor peso. Devuelve la tabla.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb491"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb491-1"><a href="#cb491-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb491-2"><a href="#cb491-2"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Human"</span> <span class="sc">&amp;</span> height <span class="sc">&gt;</span> <span class="dv">160</span>) <span class="sc">|&gt;</span> </span>
<span id="cb491-3"><a href="#cb491-3"></a>  <span class="fu">distinct</span>(eye_color, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb491-4"><a href="#cb491-4"></a>  <span class="fu">drop_na</span>(mass) <span class="sc">|&gt;</span> </span>
<span id="cb491-5"><a href="#cb491-5"></a>  <span class="fu">slice_max</span>(height, <span class="at">n =</span> <span class="dv">3</span>) <span class="sc">|&gt;</span> </span>
<span id="cb491-6"><a href="#cb491-6"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mass))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="resumen" class="slide level2">
<h2>Resumen</h2>
<p>La clave de <code>{tidyverse}</code> es la <span class="hl-yellow"><strong>legibilidad</strong></span>: es important√≠simo que el c√≥digo se entienda, por nuestro yo el futuro pero tambi√©n por la <span class="hl-yellow"><strong>transparencia algor√≠tmica</strong></span> hacia los dem√°s</p>
<p><span class="hl-purple"><strong>Por ejemplo</strong></span>: quitaremos ausentes de la variable peso, filtraremos los personajes humanos y altura superior a 140cm, sin duplicados en el color de pelo, extrayendo los 5 m√°s altos y obteniendo 2 personajes aleatorios finalmente.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb492" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb492-1"><a href="#cb492-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb492-2"><a href="#cb492-2"></a>  <span class="fu">elimino_ausentes</span>(peso) <span class="sc">|&gt;</span> </span>
<span id="cb492-3"><a href="#cb492-3"></a>  <span class="fu">filtro</span>(especie humana Y altura <span class="sc">&gt;</span> <span class="dv">140</span> cm) <span class="sc">|&gt;</span> </span>
<span id="cb492-4"><a href="#cb492-4"></a>  <span class="fu">sin_duplicados</span>(color de pelo) <span class="sc">|&gt;</span></span>
<span id="cb492-5"><a href="#cb492-5"></a>  <span class="fu">rebanadas_max</span>(peso, <span class="at">n =</span> <span class="dv">5</span>) <span class="sc">|&gt;</span> </span>
<span id="cb492-6"><a href="#cb492-6"></a>  <span class="fu">rebanadas_aleatorias</span>(<span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb493" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb493-1"><a href="#cb493-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb493-2"><a href="#cb493-2"></a>  <span class="fu">drop_na</span>(mass) <span class="sc">|&gt;</span> </span>
<span id="cb493-3"><a href="#cb493-3"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Human"</span> <span class="sc">&amp;</span> height <span class="sc">&gt;</span> <span class="dv">140</span>) <span class="sc">|&gt;</span> </span>
<span id="cb493-4"><a href="#cb493-4"></a>  <span class="fu">distinct</span>(hair_color, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb493-5"><a href="#cb493-5"></a>  <span class="fu">slice_max</span>(mass, <span class="at">n =</span> <span class="dv">5</span>) <span class="sc">|&gt;</span> </span>
<span id="cb493-6"><a href="#cb493-6"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="resumen-1" class="slide level2">
<h2>Resumen</h2>
<p>La clave de <code>{tidyverse}</code> es la <span class="hl-yellow"><strong>legibilidad</strong></span>: es important√≠simo que el c√≥digo se entienda, por nuestro yo el futuro pero tambi√©n por la <span class="hl-yellow"><strong>transparencia algor√≠tmica</strong></span> hacia los dem√°s</p>
<p><span class="hl-purple"><strong>Por ejemplo</strong></span>: quitaremos ausentes de la variable peso, filtraremos los personajes humanos y altura superior a 140cm, sin duplicados en el color de pelo, extrayendo los 5 m√°s altos y obteniendo 2 personajes aleatorios finalmente.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb494" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb494-1"><a href="#cb494-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb494-2"><a href="#cb494-2"></a>  <span class="fu">elimino_ausentes</span>(peso) <span class="sc">|&gt;</span> </span>
<span id="cb494-3"><a href="#cb494-3"></a>  <span class="fu">filtro</span>(especie humana Y altura <span class="sc">&gt;</span> <span class="dv">140</span> cm) <span class="sc">|&gt;</span> </span>
<span id="cb494-4"><a href="#cb494-4"></a>  <span class="fu">sin_duplicados</span>(color de pelo) <span class="sc">|&gt;</span></span>
<span id="cb494-5"><a href="#cb494-5"></a>  <span class="fu">rebanadas_max</span>(peso, <span class="at">n =</span> <span class="dv">5</span>) <span class="sc">|&gt;</span> </span>
<span id="cb494-6"><a href="#cb494-6"></a>  <span class="fu">rebanadas_aleatorias</span>(<span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb495" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb495-1"><a href="#cb495-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb495-2"><a href="#cb495-2"></a>  <span class="fu">drop_na</span>(mass) <span class="sc">|&gt;</span> </span>
<span id="cb495-3"><a href="#cb495-3"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Human"</span> <span class="sc">&amp;</span> height <span class="sc">&gt;</span> <span class="dv">140</span>) <span class="sc">|&gt;</span> </span>
<span id="cb495-4"><a href="#cb495-4"></a>  <span class="fu">distinct</span>(hair_color, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb495-5"><a href="#cb495-5"></a>  <span class="fu">slice_max</span>(mass, <span class="at">n =</span> <span class="dv">5</span>) <span class="sc">|&gt;</span> </span>
<span id="cb495-6"><a href="#cb495-6"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="resumen-2" class="slide level2">
<h2>Resumen</h2>
<p>La clave de <code>{tidyverse}</code> es la <span class="hl-yellow"><strong>legibilidad</strong></span>: es important√≠simo que el c√≥digo se entienda, por nuestro yo el futuro pero tambi√©n por la <span class="hl-yellow"><strong>transparencia algor√≠tmica</strong></span> hacia los dem√°s</p>
<p><span class="hl-purple"><strong>Por ejemplo</strong></span>: quitaremos ausentes de la variable peso, filtraremos los personajes humanos y altura superior a 140cm, sin duplicados en el color de pelo, extrayendo los 5 m√°s altos y obteniendo 2 personajes aleatorios finalmente.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb496" data-code-line-numbers="4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb496-1"><a href="#cb496-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb496-2"><a href="#cb496-2"></a>  <span class="fu">elimino_ausentes</span>(peso) <span class="sc">|&gt;</span> </span>
<span id="cb496-3"><a href="#cb496-3"></a>  <span class="fu">filtro</span>(especie humana Y altura <span class="sc">&gt;</span> <span class="dv">140</span> cm) <span class="sc">|&gt;</span> </span>
<span id="cb496-4"><a href="#cb496-4"></a>  <span class="fu">sin_duplicados</span>(color de pelo) <span class="sc">|&gt;</span></span>
<span id="cb496-5"><a href="#cb496-5"></a>  <span class="fu">rebanadas_max</span>(peso, <span class="at">n =</span> <span class="dv">5</span>) <span class="sc">|&gt;</span> </span>
<span id="cb496-6"><a href="#cb496-6"></a>  <span class="fu">rebanadas_aleatorias</span>(<span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb497" data-code-line-numbers="4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb497-1"><a href="#cb497-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb497-2"><a href="#cb497-2"></a>  <span class="fu">drop_na</span>(mass) <span class="sc">|&gt;</span> </span>
<span id="cb497-3"><a href="#cb497-3"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Human"</span> <span class="sc">&amp;</span> height <span class="sc">&gt;</span> <span class="dv">140</span>) <span class="sc">|&gt;</span> </span>
<span id="cb497-4"><a href="#cb497-4"></a>  <span class="fu">distinct</span>(hair_color, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb497-5"><a href="#cb497-5"></a>  <span class="fu">slice_max</span>(mass, <span class="at">n =</span> <span class="dv">5</span>) <span class="sc">|&gt;</span> </span>
<span id="cb497-6"><a href="#cb497-6"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="resumen-3" class="slide level2">
<h2>Resumen</h2>
<p>La clave de <code>{tidyverse}</code> es la <span class="hl-yellow"><strong>legibilidad</strong></span>: es important√≠simo que el c√≥digo se entienda, por nuestro yo el futuro pero tambi√©n por la <span class="hl-yellow"><strong>transparencia algor√≠tmica</strong></span> hacia los dem√°s</p>
<p><span class="hl-purple"><strong>Por ejemplo</strong></span>: quitaremos ausentes de la variable peso, filtraremos los personajes humanos y altura superior a 140cm, sin duplicados en el color de pelo, extrayendo los 5 m√°s altos y obteniendo 2 personajes aleatorios finalmente.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb498" data-code-line-numbers="5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb498-1"><a href="#cb498-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb498-2"><a href="#cb498-2"></a>  <span class="fu">elimino_ausentes</span>(peso) <span class="sc">|&gt;</span> </span>
<span id="cb498-3"><a href="#cb498-3"></a>  <span class="fu">filtro</span>(especie humana Y altura <span class="sc">&gt;</span> <span class="dv">140</span> cm) <span class="sc">|&gt;</span> </span>
<span id="cb498-4"><a href="#cb498-4"></a>  <span class="fu">sin_duplicados</span>(color de pelo) <span class="sc">|&gt;</span></span>
<span id="cb498-5"><a href="#cb498-5"></a>  <span class="fu">rebanadas_max</span>(peso, <span class="at">n =</span> <span class="dv">5</span>) <span class="sc">|&gt;</span> </span>
<span id="cb498-6"><a href="#cb498-6"></a>  <span class="fu">rebanadas_aleatorias</span>(<span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb499" data-code-line-numbers="5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb499-1"><a href="#cb499-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb499-2"><a href="#cb499-2"></a>  <span class="fu">drop_na</span>(mass) <span class="sc">|&gt;</span> </span>
<span id="cb499-3"><a href="#cb499-3"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Human"</span> <span class="sc">&amp;</span> height <span class="sc">&gt;</span> <span class="dv">140</span>) <span class="sc">|&gt;</span> </span>
<span id="cb499-4"><a href="#cb499-4"></a>  <span class="fu">distinct</span>(hair_color, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb499-5"><a href="#cb499-5"></a>  <span class="fu">slice_max</span>(mass, <span class="at">n =</span> <span class="dv">5</span>) <span class="sc">|&gt;</span> </span>
<span id="cb499-6"><a href="#cb499-6"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="resumen-4" class="slide level2">
<h2>Resumen</h2>
<p>La clave de <code>{tidyverse}</code> es la <span class="hl-yellow"><strong>legibilidad</strong></span>: es important√≠simo que el c√≥digo se entienda, por nuestro yo el futuro pero tambi√©n por la <span class="hl-yellow"><strong>transparencia algor√≠tmica</strong></span> hacia los dem√°s</p>
<p><span class="hl-purple"><strong>Por ejemplo</strong></span>: quitaremos ausentes de la variable peso, filtraremos los personajes humanos y altura superior a 140cm, sin duplicados en el color de pelo, extrayendo los 5 m√°s altos y obteniendo 2 personajes aleatorios finalmente.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb500" data-code-line-numbers="6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb500-1"><a href="#cb500-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb500-2"><a href="#cb500-2"></a>  <span class="fu">elimino_ausentes</span>(peso) <span class="sc">|&gt;</span> </span>
<span id="cb500-3"><a href="#cb500-3"></a>  <span class="fu">filtro</span>(especie humana Y altura <span class="sc">&gt;</span> <span class="dv">140</span> cm) <span class="sc">|&gt;</span> </span>
<span id="cb500-4"><a href="#cb500-4"></a>  <span class="fu">sin_duplicados</span>(color de pelo) <span class="sc">|&gt;</span></span>
<span id="cb500-5"><a href="#cb500-5"></a>  <span class="fu">rebanadas_max</span>(peso, <span class="at">n =</span> <span class="dv">5</span>) <span class="sc">|&gt;</span> </span>
<span id="cb500-6"><a href="#cb500-6"></a>  <span class="fu">rebanadas_aleatorias</span>(<span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb501" data-code-line-numbers="6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb501-1"><a href="#cb501-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb501-2"><a href="#cb501-2"></a>  <span class="fu">drop_na</span>(mass) <span class="sc">|&gt;</span> </span>
<span id="cb501-3"><a href="#cb501-3"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Human"</span> <span class="sc">&amp;</span> height <span class="sc">&gt;</span> <span class="dv">140</span>) <span class="sc">|&gt;</span> </span>
<span id="cb501-4"><a href="#cb501-4"></a>  <span class="fu">distinct</span>(hair_color, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb501-5"><a href="#cb501-5"></a>  <span class="fu">slice_max</span>(mass, <span class="at">n =</span> <span class="dv">5</span>) <span class="sc">|&gt;</span> </span>
<span id="cb501-6"><a href="#cb501-6"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="caso-pr√°ctico-5" class="slide level2">
<h2>üê£ Caso pr√°ctico</h2>
<p>Vamos a usar el dataset <code>biopsy</code> que podemos encontrar en el agregador de datasets <a href="https://vincentarelbundock.github.io/Rdatasets/index.html" class="uri">https://vincentarelbundock.github.io/Rdatasets/index.html</a>. El <span class="hl-yellow"><strong>dataset contiene datos de 699 pacientes a lo que se les realiz√≥ una biopsia de pecho</strong></span>, obteniendo 11 variables (una que hace de id y 10 escalas medidas de 1 a 10)</p>
<p>Puedes ver la documentaci√≥n en <a href="https://vincentarelbundock.github.io/Rdatasets/doc/MASS/biopsy.html" class="uri">https://vincentarelbundock.github.io/Rdatasets/doc/MASS/biopsy.html</a></p>
<div class="fragment">
<ol type="1">
<li>Crea de cero un <span class="hl-yellow"><strong>informe en Quarto</strong></span> donde hagas los ejercicios posteriores (usa un archivo de estilos para que quede est√©tico)</li>
</ol>
</div>
<div class="fragment">
<ol start="2" type="1">
<li><span class="hl-yellow"><strong>Importa el <code>.csv</code> desde la propia web</strong></span> (a trav√©s del enlace del archivo)</li>
</ol>
</div>
<div class="fragment">
<ol start="3" type="1">
<li>Habr√°s visto que hay 12 columnas en realidad importadas (la primera nos sobra ya que es solo un contador de filas). Vuelve a cargarlo <span class="hl-yellow"><strong>seleccionando en la carga</strong></span> solo desde <code>ID</code> hasta <code>class</code></li>
</ol>
</div>
</section>
<section id="caso-pr√°ctico-5-1" class="slide level2">
<h2>üê£ Caso pr√°ctico</h2>
<ol start="4" type="1">
<li>La variable <code>ID</code> en realidad es un identificador (una cualitativa). Repite la carga <span class="hl-yellow"><strong>especificando los tipos de datos</strong></span>: cualitativa o factor para ID y class, n√∫meros para el resto de variables)</li>
</ol>
<div class="fragment">
<ol start="5" type="1">
<li>La variable <code>ID</code> deber√≠a ser identificador de cada registro: <span class="hl-yellow"><strong>elimina duplicados</strong></span> por dicha variable del dataset anterior.</li>
</ol>
</div>
<div class="fragment">
<ol start="6" type="1">
<li>Del dataset anterior <span class="hl-yellow"><strong>filtra</strong></span> solo los pacientes con tumor maligno y la variable <code>V9</code> con valor 4 o inferior, <span class="hl-yellow"><strong>eliminando adem√°s cualquier registro que contenga ausente</strong></span> en cualquiera de la variables.</li>
</ol>
</div>
<div class="fragment">
<ol start="7" type="1">
<li>Del dataset anterior obt√©n una <span class="hl-yellow"><strong>muestra del 20% de los datos</strong></span> (cada registro puede ser elegido con la misma probabilidad), y <span class="hl-yellow"><strong>√≥rdenalos</strong></span> por de mayor a menor por la variable <code>V1</code> y, en caso de empate, de menor a mayor por la variable <code>V2</code></li>
</ol>
</div>
</section>
<section id="selecci√≥n-columnas-select" class="slide level2">
<h2>Selecci√≥n columnas: select()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb502"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb502-1"><a href="#cb502-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">selecciono</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb503"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb503-1"><a href="#cb503-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">select</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>La opci√≥n m√°s sencilla para <span class="hl-yellow"><strong>seleccionar variables por nombre</strong></span> es <code>select()</code>, dando como argumentos los nombres de columnas <span class="hl-purple"><strong>sin comillas</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb504"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb504-1"><a href="#cb504-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">select</span>(name, hair_color)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 √ó 2
   name               hair_color   
   &lt;chr&gt;              &lt;chr&gt;        
 1 Luke Skywalker     blond        
 2 C-3PO              &lt;NA&gt;         
 3 R2-D2              &lt;NA&gt;         
 4 Darth Vader        none         
 5 Leia Organa        brown        
 6 Owen Lars          brown, grey  
 7 Beru Whitesun Lars brown        
 8 R5-D4              &lt;NA&gt;         
 9 Biggs Darklighter  black        
10 Obi-Wan Kenobi     auburn, white
# ‚Ñπ 77 more rows</code></pre>
</div>
</div>
</section>
<section id="selecci√≥n-columnas-select-1" class="slide level2">
<h2>Selecci√≥n columnas: select()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb506"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb506-1"><a href="#cb506-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">selecciono</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb507"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb507-1"><a href="#cb507-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">select</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>La funci√≥n <code>select()</code> nos permite seleccionar varias variables a la vez, incluso <span class="hl-yellow"><strong>concatenando sus nombres como si fuesen √≠ndices num√©ricos</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb508"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb508-1"><a href="#cb508-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">select</span>(name<span class="sc">:</span>eye_color) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 6
  name           height  mass hair_color skin_color  eye_color
  &lt;chr&gt;           &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;    
1 Luke Skywalker    172    77 blond      fair        blue     
2 C-3PO             167    75 &lt;NA&gt;       gold        yellow   
3 R2-D2              96    32 &lt;NA&gt;       white, blue red      
4 Darth Vader       202   136 none       white       yellow   </code></pre>
</div>
</div>
<div class="fragment">
<p>Y podemos <span class="hl-yellow"><strong>deseleccionar columnas</strong></span> con <code>-</code> delante</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb510"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb510-1"><a href="#cb510-1"></a>starwars <span class="sc">|&gt;</span>  <span class="fu">select</span>(<span class="sc">-</span>mass, <span class="sc">-</span>(eye_color<span class="sc">:</span>starships))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 4
  name           height hair_color skin_color 
  &lt;chr&gt;           &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;      
1 Luke Skywalker    172 blond      fair       
2 C-3PO             167 &lt;NA&gt;       gold       
3 R2-D2              96 &lt;NA&gt;       white, blue
4 Darth Vader       202 none       white      </code></pre>
</div>
</div>
</div>
</section>
<section id="selecci√≥n-columnas-select-2" class="slide level2">
<h2>Selecci√≥n columnas: select()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb512"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb512-1"><a href="#cb512-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">selecciono</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb513"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb513-1"><a href="#cb513-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">select</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Tenemos adem√°s <span class="hl-yellow"><strong>palabras reservadas</strong></span>: <code>everything()</code> <span class="hl-purple"><strong>todas las variables</strong></span>‚Ä¶</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb514"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb514-1"><a href="#cb514-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">select</span>(mass, homeworld, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 14
   mass homeworld name   height hair_color skin_color eye_color birth_year sex  
  &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;
1    77 Tatooine  Luke ‚Ä¶    172 blond      fair       blue            19   male 
2    75 Tatooine  C-3PO     167 &lt;NA&gt;       gold       yellow         112   none 
3    32 Naboo     R2-D2      96 &lt;NA&gt;       white, bl‚Ä¶ red             33   none 
4   136 Tatooine  Darth‚Ä¶    202 none       white      yellow          41.9 male 
# ‚Ñπ 5 more variables: gender &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
<div class="fragment">
<p>‚Ä¶y <code>last_col()</code> para referirnos a <span class="hl-purple"><strong>la √∫ltima columna</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb516"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb516-1"><a href="#cb516-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">select</span>(name<span class="sc">:</span>mass, homeworld, <span class="fu">last_col</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 5
  name           height  mass homeworld starships
  &lt;chr&gt;           &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;     &lt;list&gt;   
1 Luke Skywalker    172    77 Tatooine  &lt;chr [2]&gt;
2 C-3PO             167    75 Tatooine  &lt;chr [0]&gt;
3 R2-D2              96    32 Naboo     &lt;chr [0]&gt;
4 Darth Vader       202   136 Tatooine  &lt;chr [1]&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="selecci√≥n-columnas-select-3" class="slide level2">
<h2>Selecci√≥n columnas: select()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb518"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb518-1"><a href="#cb518-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">selecciono</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb519"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb519-1"><a href="#cb519-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">select</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Tambi√©n podemos jugar con <span class="hl-yellow"><strong>patrones</strong></span> en el nombre, aquellas que <span class="hl-purple"><strong>comiencen por un prefijo</strong></span> (<code>starts_with()</code>), <span class="hl-purple"><strong>terminen con un sufijo</strong></span> (<code>ends_with()</code>), <span class="hl-purple"><strong>contengan un texto</strong></span> (<code>contains()</code>) o cumplan una <span class="hl-purple"><strong>expresi√≥n regular</strong></span> (<code>matches()</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb520"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb520-1"><a href="#cb520-1"></a><span class="co"># variables cuyo nombre acaba en "color" y contengan sexo o g√©nero</span></span>
<span id="cb520-2"><a href="#cb520-2"></a>starwars <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="st">"color"</span>), <span class="fu">matches</span>(<span class="st">"sex|gender"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 √ó 5
   hair_color    skin_color  eye_color sex    gender   
   &lt;chr&gt;         &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;    
 1 blond         fair        blue      male   masculine
 2 &lt;NA&gt;          gold        yellow    none   masculine
 3 &lt;NA&gt;          white, blue red       none   masculine
 4 none          white       yellow    male   masculine
 5 brown         light       brown     female feminine 
 6 brown, grey   light       blue      male   masculine
 7 brown         light       blue      female feminine 
 8 &lt;NA&gt;          white, red  red       none   masculine
 9 black         light       brown     male   masculine
10 auburn, white fair        blue-gray male   masculine
# ‚Ñπ 77 more rows</code></pre>
</div>
</div>
</section>
<section id="selecci√≥n-columnas-select-4" class="slide level2">
<h2>Selecci√≥n columnas: select()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb522"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb522-1"><a href="#cb522-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">selecciono</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb523"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb523-1"><a href="#cb523-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">select</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Incluso podemos <span class="hl-yellow"><strong>seleccionar por rango num√©rico</strong></span> si tenemos variables con un prefijo y n√∫meros.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb524"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb524-1"><a href="#cb524-1"></a>datos <span class="ot">&lt;-</span></span>
<span id="cb524-2"><a href="#cb524-2"></a>  <span class="fu">tibble</span>(<span class="st">"semana1"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">115</span>, <span class="dv">141</span>, <span class="dv">232</span>), <span class="st">"semana2"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="cn">NA</span>, <span class="dv">17</span>),</span>
<span id="cb524-3"><a href="#cb524-3"></a>         <span class="st">"semana3"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">95</span>, <span class="dv">162</span>, <span class="cn">NA</span>), <span class="st">"semana4"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">11</span>, <span class="dv">19</span>, <span class="dv">15</span>),</span>
<span id="cb524-4"><a href="#cb524-4"></a>         <span class="st">"semana5"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">262</span>, <span class="dv">190</span>), <span class="st">"semana6"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">21</span>, <span class="dv">15</span>, <span class="dv">23</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Con <code>num_range()</code> podemos seleccionar con un prefijo y una secuencia num√©rica.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb525"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb525-1"><a href="#cb525-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">num_range</span>(<span class="st">"semana"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 4
  semana1 semana2 semana3 semana4
    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1     115       7      95      11
2     141      NA     162      19
3     232      17      NA      15</code></pre>
</div>
</div>
</div>
</section>
<section id="selecci√≥n-columnas-select-5" class="slide level2">
<h2>Selecci√≥n columnas: select()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb527"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb527-1"><a href="#cb527-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">selecciono</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb528"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb528-1"><a href="#cb528-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">select</span>(var1, var2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Por √∫ltimo, podemos seleccionar columnas por <span class="hl-yellow"><strong>tipo de dato</strong></span> haciendo uso de <code>where()</code> y dentro una funci√≥n que devuelva un valor l√≥gico de tipo de dato.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb529"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb529-1"><a href="#cb529-1"></a><span class="co"># Solo columnas num√©ricas o de texto</span></span>
<span id="cb529-2"><a href="#cb529-2"></a>starwars <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">where</span>(is.numeric) <span class="sc">|</span> <span class="fu">where</span>(is.character))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 √ó 11
   height  mass birth_year name     hair_color skin_color eye_color sex   gender
    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt; 
 1    172    77       19   Luke Sk‚Ä¶ blond      fair       blue      male  mascu‚Ä¶
 2    167    75      112   C-3PO    &lt;NA&gt;       gold       yellow    none  mascu‚Ä¶
 3     96    32       33   R2-D2    &lt;NA&gt;       white, bl‚Ä¶ red       none  mascu‚Ä¶
 4    202   136       41.9 Darth V‚Ä¶ none       white      yellow    male  mascu‚Ä¶
 5    150    49       19   Leia Or‚Ä¶ brown      light      brown     fema‚Ä¶ femin‚Ä¶
 6    178   120       52   Owen La‚Ä¶ brown, gr‚Ä¶ light      blue      male  mascu‚Ä¶
 7    165    75       47   Beru Wh‚Ä¶ brown      light      blue      fema‚Ä¶ femin‚Ä¶
 8     97    32       NA   R5-D4    &lt;NA&gt;       white, red red       none  mascu‚Ä¶
 9    183    84       24   Biggs D‚Ä¶ black      light      brown     male  mascu‚Ä¶
10    182    77       57   Obi-Wan‚Ä¶ auburn, w‚Ä¶ fair       blue-gray male  mascu‚Ä¶
# ‚Ñπ 77 more rows
# ‚Ñπ 2 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="mover-columnas-relocate" class="slide level2">
<h2>Mover columnas: relocate()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb531"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb531-1"><a href="#cb531-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb531-2"><a href="#cb531-2"></a>  <span class="fu">recolocar</span>(var1, <span class="at">despues_de =</span> var2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb532"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb532-1"><a href="#cb532-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb532-2"><a href="#cb532-2"></a>  <span class="fu">relocate</span>(var1, <span class="at">.after =</span> var2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Para facilitar la <span class="hl-yellow"><strong>recolocaci√≥n de variables</strong></span> tenemos una funci√≥n para ello, <code>relocate()</code>, indic√°ndole en <code>.after</code> o <code>.before</code> <span class="hl-purple"><strong>detr√°s</strong></span> o <span class="hl-purple"><strong>delante</strong></span> de qu√© columnas queremos moverlas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb533"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb533-1"><a href="#cb533-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">relocate</span>(species, <span class="at">.before =</span> name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 √ó 14
   species name    height  mass hair_color skin_color eye_color birth_year sex  
   &lt;chr&gt;   &lt;chr&gt;    &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;
 1 Human   Luke S‚Ä¶    172    77 blond      fair       blue            19   male 
 2 Droid   C-3PO      167    75 &lt;NA&gt;       gold       yellow         112   none 
 3 Droid   R2-D2       96    32 &lt;NA&gt;       white, bl‚Ä¶ red             33   none 
 4 Human   Darth ‚Ä¶    202   136 none       white      yellow          41.9 male 
 5 Human   Leia O‚Ä¶    150    49 brown      light      brown           19   fema‚Ä¶
 6 Human   Owen L‚Ä¶    178   120 brown, gr‚Ä¶ light      blue            52   male 
 7 Human   Beru W‚Ä¶    165    75 brown      light      blue            47   fema‚Ä¶
 8 Droid   R5-D4       97    32 &lt;NA&gt;       white, red red             NA   none 
 9 Human   Biggs ‚Ä¶    183    84 black      light      brown           24   male 
10 Human   Obi-Wa‚Ä¶    182    77 auburn, w‚Ä¶ fair       blue-gray       57   male 
# ‚Ñπ 77 more rows
# ‚Ñπ 5 more variables: gender &lt;chr&gt;, homeworld &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</section>
<section id="renombrar-rename" class="slide level2">
<h2>Renombrar: rename()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb535"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb535-1"><a href="#cb535-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">renombrar</span>(<span class="at">nuevo =</span> antiguo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb536"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb536-1"><a href="#cb536-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="at">nuevo =</span> antiguo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>A veces tambi√©n podemos querer <span class="hl-yellow"><strong>modificar la ¬´metainformaci√≥n¬ª</strong></span> de los datos, <span class="hl-yellow"><strong>renombrando columnas</strong></span>. Para ello usaremos de <code>rename()</code> poniendo <span class="hl-purple"><strong>primero el nombre nuevo</strong></span> y luego el <span class="hl-purple"><strong>antiguo</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb537"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb537-1"><a href="#cb537-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="at">nombre =</span> name, <span class="at">altura =</span> height, <span class="at">peso =</span> mass)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 √ó 14
   nombre   altura  peso hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Luke Sk‚Ä¶    172    77 blond      fair       blue            19   male  mascu‚Ä¶
 2 C-3PO       167    75 &lt;NA&gt;       gold       yellow         112   none  mascu‚Ä¶
 3 R2-D2        96    32 &lt;NA&gt;       white, bl‚Ä¶ red             33   none  mascu‚Ä¶
 4 Darth V‚Ä¶    202   136 none       white      yellow          41.9 male  mascu‚Ä¶
 5 Leia Or‚Ä¶    150    49 brown      light      brown           19   fema‚Ä¶ femin‚Ä¶
 6 Owen La‚Ä¶    178   120 brown, gr‚Ä¶ light      blue            52   male  mascu‚Ä¶
 7 Beru Wh‚Ä¶    165    75 brown      light      blue            47   fema‚Ä¶ femin‚Ä¶
 8 R5-D4        97    32 &lt;NA&gt;       white, red red             NA   none  mascu‚Ä¶
 9 Biggs D‚Ä¶    183    84 black      light      brown           24   male  mascu‚Ä¶
10 Obi-Wan‚Ä¶    182    77 auburn, w‚Ä¶ fair       blue-gray       57   male  mascu‚Ä¶
# ‚Ñπ 77 more rows
# ‚Ñπ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</section>
<section id="extraer-columnas-pull" class="slide level2">
<h2>Extraer columnas: pull()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb539"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb539-1"><a href="#cb539-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">retirar</span>(var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb540"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb540-1"><a href="#cb540-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">pull</span>(var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Si observas la salida de los <code>select()</code> <span class="hl-yellow"><strong>sigue siendo una tabla tibble</strong></span>, ya que nos preserva la naturaleza de nuestros datos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb541"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb541-1"><a href="#cb541-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">select</span>(name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 √ó 1
   name              
   &lt;chr&gt;             
 1 Luke Skywalker    
 2 C-3PO             
 3 R2-D2             
 4 Darth Vader       
 5 Leia Organa       
 6 Owen Lars         
 7 Beru Whitesun Lars
 8 R5-D4             
 9 Biggs Darklighter 
10 Obi-Wan Kenobi    
# ‚Ñπ 77 more rows</code></pre>
</div>
</div>
</section>
<section id="extraer-columnas-pull-1" class="slide level2">
<h2>Extraer columnas: pull()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb543"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb543-1"><a href="#cb543-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">retirar</span>(var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb544"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb544-1"><a href="#cb544-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">pull</span>(var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>A veces no querremos dicha estructura sino <span class="hl-yellow"><strong>extraer literalmente la columna en un vector</strong></span>, algo que podemos hacer con <code>pull()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb545"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb545-1"><a href="#cb545-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">pull</span>(name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Luke Skywalker"        "C-3PO"                 "R2-D2"                
 [4] "Darth Vader"           "Leia Organa"           "Owen Lars"            
 [7] "Beru Whitesun Lars"    "R5-D4"                 "Biggs Darklighter"    
[10] "Obi-Wan Kenobi"        "Anakin Skywalker"      "Wilhuff Tarkin"       
[13] "Chewbacca"             "Han Solo"              "Greedo"               
[16] "Jabba Desilijic Tiure" "Wedge Antilles"        "Jek Tono Porkins"     
[19] "Yoda"                  "Palpatine"             "Boba Fett"            
[22] "IG-88"                 "Bossk"                 "Lando Calrissian"     
[25] "Lobot"                 "Ackbar"                "Mon Mothma"           
[28] "Arvel Crynyd"          "Wicket Systri Warrick" "Nien Nunb"            
[31] "Qui-Gon Jinn"          "Nute Gunray"           "Finis Valorum"        
[34] "Padm√© Amidala"         "Jar Jar Binks"         "Roos Tarpals"         
[37] "Rugor Nass"            "Ric Oli√©"              "Watto"                
[40] "Sebulba"               "Quarsh Panaka"         "Shmi Skywalker"       
[43] "Darth Maul"            "Bib Fortuna"           "Ayla Secura"          
[46] "Ratts Tyerel"          "Dud Bolt"              "Gasgano"              
[49] "Ben Quadinaros"        "Mace Windu"            "Ki-Adi-Mundi"         
[52] "Kit Fisto"             "Eeth Koth"             "Adi Gallia"           
[55] "Saesee Tiin"           "Yarael Poof"           "Plo Koon"             
[58] "Mas Amedda"            "Gregar Typho"          "Cord√©"                
[61] "Cliegg Lars"           "Poggle the Lesser"     "Luminara Unduli"      
[64] "Barriss Offee"         "Dorm√©"                 "Dooku"                
[67] "Bail Prestor Organa"   "Jango Fett"            "Zam Wesell"           
[70] "Dexter Jettster"       "Lama Su"               "Taun We"              
[73] "Jocasta Nu"            "R4-P17"                "Wat Tambor"           
[76] "San Hill"              "Shaak Ti"              "Grievous"             
[79] "Tarfful"               "Raymus Antilles"       "Sly Moore"            
[82] "Tion Medon"            "Finn"                  "Rey"                  
[85] "Poe Dameron"           "BB8"                   "Captain Phasma"       </code></pre>
</div>
</div>
</section>
<section id="tu-turno-7d" class="slide level2">
<h2>üíª Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-12" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-12-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-12-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-12-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-12-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-12-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-12-1">
<p>üìù Filtra el conjunto de personajes y qu√©date solo con aquellos que en la variable <code>height</code> no tengan un dato ausente. Con los datos obtenidos del filtro anterior, selecciona solo las variables name, height, as√≠ como todas aquellas variables que CONTENGAN la palabra color en su nombre.</p>
</div>
<div id="tabset-12-2">
<p>üìù Con los datos obtenidos del ejercicio anterior, traduce el nombre de las columnas a castellano</p>
</div>
<div id="tabset-12-3">
<p>üìù Con los datos obtenidos del ejercicio anterior, coloca la variable de color de pelo justo detr√°s de la variable de nombres.</p>
</div>
<div id="tabset-12-4">
<p>üìù Con los datos obtenidos del ejercicio anterior, comprueba cu√°ntas modalidades √∫nicas hay en la variable de color de pelo (sin usar <code>unique()</code>).</p>
</div>
<div id="tabset-12-5">
<p>üìù Del conjunto de datos originales, elimina las columnas de tipo lista, y tras ello elimina duplicados en la variable <code>eye_color</code>. Tras eliminar duplicados extrae dicha columna en un vector.</p>
</div>
</div>
</div>
</section>
<section id="modificar-columnas-mutate" class="slide level2">
<h2>Modificar columnas: mutate()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb547"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb547-1"><a href="#cb547-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">modificar</span>(<span class="at">nueva =</span> <span class="fu">funcion</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb548"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb548-1"><a href="#cb548-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">nueva =</span> <span class="fu">funcion</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>En muchas ocasiones querremos <span class="hl-yellow"><strong>modificar o crear variables</strong></span> con <code>mutate()</code>.</p>
<div class="fragment">
<p>Vamos a crear por ejemplo una nueva variable <code>height_m</code> con la altura en metros.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb549"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb549-1"><a href="#cb549-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">height_m =</span> height <span class="sc">/</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 √ó 15
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Luke Sk‚Ä¶    172    77 blond      fair       blue            19   male  mascu‚Ä¶
 2 C-3PO       167    75 &lt;NA&gt;       gold       yellow         112   none  mascu‚Ä¶
 3 R2-D2        96    32 &lt;NA&gt;       white, bl‚Ä¶ red             33   none  mascu‚Ä¶
 4 Darth V‚Ä¶    202   136 none       white      yellow          41.9 male  mascu‚Ä¶
 5 Leia Or‚Ä¶    150    49 brown      light      brown           19   fema‚Ä¶ femin‚Ä¶
 6 Owen La‚Ä¶    178   120 brown, gr‚Ä¶ light      blue            52   male  mascu‚Ä¶
 7 Beru Wh‚Ä¶    165    75 brown      light      blue            47   fema‚Ä¶ femin‚Ä¶
 8 R5-D4        97    32 &lt;NA&gt;       white, red red             NA   none  mascu‚Ä¶
 9 Biggs D‚Ä¶    183    84 black      light      brown           24   male  mascu‚Ä¶
10 Obi-Wan‚Ä¶    182    77 auburn, w‚Ä¶ fair       blue-gray       57   male  mascu‚Ä¶
# ‚Ñπ 77 more rows
# ‚Ñπ 6 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;, height_m &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="modificar-columnas-mutate-1" class="slide level2">
<h2>Modificar columnas: mutate()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb551"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb551-1"><a href="#cb551-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">modificar</span>(<span class="at">nueva =</span> <span class="fu">funcion</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb552"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb552-1"><a href="#cb552-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">nueva =</span> <span class="fu">funcion</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Adem√°s con los argumentos opcionales podemos <span class="hl-yellow"><strong>recolocar la columna modificada</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb553"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb553-1"><a href="#cb553-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb553-2"><a href="#cb553-2"></a>  <span class="fu">mutate</span>(<span class="at">height_m =</span> height <span class="sc">/</span> <span class="dv">100</span>,</span>
<span id="cb553-3"><a href="#cb553-3"></a>         <span class="at">IMC =</span> mass <span class="sc">/</span> (height_m<span class="sc">^</span><span class="dv">2</span>), <span class="at">.before =</span> name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 √ó 16
   height_m   IMC name   height  mass hair_color skin_color eye_color birth_year
      &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt;
 1     1.72  26.0 Luke ‚Ä¶    172    77 blond      fair       blue            19  
 2     1.67  26.9 C-3PO     167    75 &lt;NA&gt;       gold       yellow         112  
 3     0.96  34.7 R2-D2      96    32 &lt;NA&gt;       white, bl‚Ä¶ red             33  
 4     2.02  33.3 Darth‚Ä¶    202   136 none       white      yellow          41.9
 5     1.5   21.8 Leia ‚Ä¶    150    49 brown      light      brown           19  
 6     1.78  37.9 Owen ‚Ä¶    178   120 brown, gr‚Ä¶ light      blue            52  
 7     1.65  27.5 Beru ‚Ä¶    165    75 brown      light      blue            47  
 8     0.97  34.0 R5-D4      97    32 &lt;NA&gt;       white, red red             NA  
 9     1.83  25.1 Biggs‚Ä¶    183    84 black      light      brown           24  
10     1.82  23.2 Obi-W‚Ä¶    182    77 auburn, w‚Ä¶ fair       blue-gray       57  
# ‚Ñπ 77 more rows
# ‚Ñπ 7 more variables: sex &lt;chr&gt;, gender &lt;chr&gt;, homeworld &lt;chr&gt;, species &lt;chr&gt;,
#   films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</section>
<section id="modificar-columnas-mutate-2" class="slide level2">
<h2>Modificar columnas: mutate()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb555"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb555-1"><a href="#cb555-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">modificar</span>(<span class="at">nueva =</span> <span class="fu">funcion</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb556"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb556-1"><a href="#cb556-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">nueva =</span> <span class="fu">funcion</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Importante‚Ä¶</strong></p>
</div>
<div class="callout-content">
<p>Cuando aplicamos <code>mutate()</code>, debemos de acordarnos que las <span class="hl-yellow"><strong>operaciones se realizan de manera vectorial</strong></span>, elemento a elemento, por lo que la funci√≥n que usemos dentro debe devolver un vector de igual longitud. En caso contrario, <span class="hl-red"><strong>devolver√° una constante</strong></span></p>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb557"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb557-1"><a href="#cb557-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb557-2"><a href="#cb557-2"></a>  <span class="fu">mutate</span>(<span class="at">constante =</span> <span class="fu">mean</span>(mass, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.before =</span> name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 √ó 15
   constante name  height  mass hair_color skin_color eye_color birth_year sex  
       &lt;dbl&gt; &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;
 1      97.3 Luke‚Ä¶    172    77 blond      fair       blue            19   male 
 2      97.3 C-3PO    167    75 &lt;NA&gt;       gold       yellow         112   none 
 3      97.3 R2-D2     96    32 &lt;NA&gt;       white, bl‚Ä¶ red             33   none 
 4      97.3 Dart‚Ä¶    202   136 none       white      yellow          41.9 male 
 5      97.3 Leia‚Ä¶    150    49 brown      light      brown           19   fema‚Ä¶
 6      97.3 Owen‚Ä¶    178   120 brown, gr‚Ä¶ light      blue            52   male 
 7      97.3 Beru‚Ä¶    165    75 brown      light      blue            47   fema‚Ä¶
 8      97.3 R5-D4     97    32 &lt;NA&gt;       white, red red             NA   none 
 9      97.3 Bigg‚Ä¶    183    84 black      light      brown           24   male 
10      97.3 Obi-‚Ä¶    182    77 auburn, w‚Ä¶ fair       blue-gray       57   male 
# ‚Ñπ 77 more rows
# ‚Ñπ 6 more variables: gender &lt;chr&gt;, homeworld &lt;chr&gt;, species &lt;chr&gt;,
#   films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</div>
</section></section>
<section>
<section id="clase-8" class="title-slide slide level1 center">
<h1>Clase 8: tidyverse (res√∫menes) y recategorizar</h1>
<p><span style="color:#444442;"><strong>Summarise y group_by(). Contar y resumir: estad√≠sticas desagregadas por factores/grupos</strong></span></p>
</section>
<section id="recategorizar-if_else" class="slide level2">
<h2>Recategorizar: if_else()</h2>
<p>Tambi√©n podemos combinar <code>mutate()</code> con la expresi√≥n de control <code>if_else()</code> para <span class="hl-yellow"><strong>recategorizar la variable</strong></span>: si <span class="hl-purple"><strong>se cumple una condici√≥n</strong></span>, hace una cosa, en caso contrario otra.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb559"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb559-1"><a href="#cb559-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb559-2"><a href="#cb559-2"></a>  <span class="fu">mutate</span>(<span class="at">human =</span> <span class="fu">if_else</span>(species <span class="sc">==</span> <span class="st">"Human"</span>, <span class="st">"Human"</span>, <span class="st">"Not Human"</span>),</span>
<span id="cb559-3"><a href="#cb559-3"></a>         <span class="at">.after =</span> name) <span class="sc">|&gt;</span> </span>
<span id="cb559-4"><a href="#cb559-4"></a>  <span class="fu">select</span>(name<span class="sc">:</span>mass)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 √ó 4
   name               human     height  mass
   &lt;chr&gt;              &lt;chr&gt;      &lt;int&gt; &lt;dbl&gt;
 1 Luke Skywalker     Human        172    77
 2 C-3PO              Not Human    167    75
 3 R2-D2              Not Human     96    32
 4 Darth Vader        Human        202   136
 5 Leia Organa        Human        150    49
 6 Owen Lars          Human        178   120
 7 Beru Whitesun Lars Human        165    75
 8 R5-D4              Not Human     97    32
 9 Biggs Darklighter  Human        183    84
10 Obi-Wan Kenobi     Human        182    77
# ‚Ñπ 77 more rows</code></pre>
</div>
</div>
</section>
<section id="recategorizar-case_when" class="slide level2">
<h2>Recategorizar: case_when()</h2>
<p>Para <span class="hl-yellow"><strong>recategorizaciones m√°s complejas</strong></span> tenemos <code>case_when()</code>, por ejemplo, para crear una categor√≠a de los personajes en funci√≥n de su altura.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb561"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb561-1"><a href="#cb561-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb561-2"><a href="#cb561-2"></a>  <span class="fu">drop_na</span>(height) <span class="sc">|&gt;</span> </span>
<span id="cb561-3"><a href="#cb561-3"></a>  <span class="fu">mutate</span>(<span class="at">altura =</span> <span class="fu">case_when</span>(height <span class="sc">&lt;</span> <span class="dv">120</span> <span class="sc">~</span> <span class="st">"enanos"</span>,</span>
<span id="cb561-4"><a href="#cb561-4"></a>                            height <span class="sc">&lt;</span> <span class="dv">160</span> <span class="sc">~</span> <span class="st">"bajito"</span>,</span>
<span id="cb561-5"><a href="#cb561-5"></a>                            height <span class="sc">&lt;</span> <span class="dv">180</span> <span class="sc">~</span> <span class="st">"normal"</span>,</span>
<span id="cb561-6"><a href="#cb561-6"></a>                            height <span class="sc">&lt;</span> <span class="dv">200</span> <span class="sc">~</span> <span class="st">"alto"</span>,</span>
<span id="cb561-7"><a href="#cb561-7"></a>                            <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"gigante"</span>), <span class="at">.before =</span> name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 81 √ó 15
   altura  name    height  mass hair_color skin_color eye_color birth_year sex  
   &lt;chr&gt;   &lt;chr&gt;    &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;
 1 normal  Luke S‚Ä¶    172    77 blond      fair       blue            19   male 
 2 normal  C-3PO      167    75 &lt;NA&gt;       gold       yellow         112   none 
 3 enanos  R2-D2       96    32 &lt;NA&gt;       white, bl‚Ä¶ red             33   none 
 4 gigante Darth ‚Ä¶    202   136 none       white      yellow          41.9 male 
 5 bajito  Leia O‚Ä¶    150    49 brown      light      brown           19   fema‚Ä¶
 6 normal  Owen L‚Ä¶    178   120 brown, gr‚Ä¶ light      blue            52   male 
 7 normal  Beru W‚Ä¶    165    75 brown      light      blue            47   fema‚Ä¶
 8 enanos  R5-D4       97    32 &lt;NA&gt;       white, red red             NA   none 
 9 alto    Biggs ‚Ä¶    183    84 black      light      brown           24   male 
10 alto    Obi-Wa‚Ä¶    182    77 auburn, w‚Ä¶ fair       blue-gray       57   male 
# ‚Ñπ 71 more rows
# ‚Ñπ 6 more variables: gender &lt;chr&gt;, homeworld &lt;chr&gt;, species &lt;chr&gt;,
#   films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</section>
<section id="tu-turno-8a" class="slide level2">
<h2>üíª Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-13" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-13-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-13-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-13-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-13-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-13-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li><li><a href="#tabset-13-6"><span class="hl-yellow"><strong>Ejercicio 6</strong></span></a></li><li><a href="#tabset-13-7"><span class="hl-yellow"><strong>Ejercicio 7</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-13-1">
<p>üìù Selecciona solo las variables nombre, altura y as√≠ como todas aquellas variables relacionadas con el color, a la vez que te quedas solo con aquellos que no tengan ausente en la altura.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb563"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb563-1"><a href="#cb563-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb563-2"><a href="#cb563-2"></a>  <span class="fu">select</span>(name, height, <span class="fu">contains</span>(<span class="st">"color"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb563-3"><a href="#cb563-3"></a>  <span class="fu">drop_na</span>(height)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-13-2">
<p>üìù Con los datos obtenidos del ejercicio anterior, traduce el nombre de las columnas a castellano.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb564"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb564-1"><a href="#cb564-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb564-2"><a href="#cb564-2"></a>  <span class="fu">select</span>(name, height, <span class="fu">contains</span>(<span class="st">"color"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb564-3"><a href="#cb564-3"></a>  <span class="fu">drop_na</span>(height) <span class="sc">|&gt;</span> </span>
<span id="cb564-4"><a href="#cb564-4"></a>  <span class="fu">rename</span>(<span class="at">nombre =</span> name, <span class="at">altura =</span> height,</span>
<span id="cb564-5"><a href="#cb564-5"></a>         <span class="at">color_pelo =</span> eye_color, <span class="at">color_piel =</span> skin_color,</span>
<span id="cb564-6"><a href="#cb564-6"></a>         <span class="at">color_pelo =</span> hair_color)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-13-3">
<p>üìù Con los datos obtenidos del ejercicio anterior, coloca la variable de color de pelo justo detr√°s de la variable de nombres.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb565"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb565-1"><a href="#cb565-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb565-2"><a href="#cb565-2"></a>  <span class="fu">select</span>(name, height, <span class="fu">contains</span>(<span class="st">"color"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb565-3"><a href="#cb565-3"></a>  <span class="fu">drop_na</span>(height) <span class="sc">|&gt;</span> </span>
<span id="cb565-4"><a href="#cb565-4"></a>  <span class="fu">rename</span>(<span class="at">nombre =</span> name, <span class="at">altura =</span> height,</span>
<span id="cb565-5"><a href="#cb565-5"></a>         <span class="at">color_pelo =</span> eye_color, <span class="at">color_piel =</span> skin_color,</span>
<span id="cb565-6"><a href="#cb565-6"></a>         <span class="at">color_pelo =</span> hair_color) <span class="sc">|&gt;</span> </span>
<span id="cb565-7"><a href="#cb565-7"></a>  <span class="fu">relocate</span>(color_pelo, <span class="at">.after =</span> nombre)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-13-4">
<p>üìù Con los datos originales, comprueba cu√°ntas modalidades √∫nicas hay en la variable de color de pelo.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb566"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb566-1"><a href="#cb566-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb566-2"><a href="#cb566-2"></a>  <span class="fu">distinct</span>(hair_color) <span class="sc">|&gt;</span> </span>
<span id="cb566-3"><a href="#cb566-3"></a>  <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-13-5">
<p>üìù Del dataset original, selecciona solo las variables num√©ricas y de tipo texto. Tras ello define una nueva variable llamada <code>under_18</code> que nos recategorice la variable de edad: <code>TRUE</code> si es menor de edad y <code>FALSE</code> en caso contrario</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb567"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb567-1"><a href="#cb567-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb567-2"><a href="#cb567-2"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric) <span class="sc">|</span> <span class="fu">where</span>(is.character)) <span class="sc">|&gt;</span> </span>
<span id="cb567-3"><a href="#cb567-3"></a>  <span class="fu">mutate</span>(<span class="at">under_18 =</span> birth_year <span class="sc">&lt;</span> <span class="dv">18</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-13-6">
<p>üìù Del dataset original, crea una nueva columna llamada <code>auburn</code> (cobrizo/caoba) que nos diga TRUE si el color de pelo contiene dicha palabra y FALSE en caso contrario (reminder <code>str_detect()</code>).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb568"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb568-1"><a href="#cb568-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb568-2"><a href="#cb568-2"></a>  <span class="fu">mutate</span>(<span class="at">auburn =</span> <span class="fu">str_detect</span>(hair_color, <span class="st">"auburn"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-13-7">
<p>üìù Del dataset original, incluye una columna que calcule el IMC. Tras ello, crea una nueva variable que valga <code>NA</code> si no es humano, <code>delgadez</code> por debajo de 18, <code>normal</code> entre 18 y 30, <code>sobrepeso</code> por encima de 30.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb569"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb569-1"><a href="#cb569-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb569-2"><a href="#cb569-2"></a>  <span class="fu">mutate</span>(<span class="at">IMC =</span> mass <span class="sc">/</span> ((height<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>),</span>
<span id="cb569-3"><a href="#cb569-3"></a>         <span class="at">IMC_recat =</span> <span class="fu">case_when</span>(species <span class="sc">!=</span> <span class="st">"Human"</span> <span class="sc">~</span> <span class="cn">NA</span>,</span>
<span id="cb569-4"><a href="#cb569-4"></a>                               IMC <span class="sc">&lt;</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">"delgadez"</span>,</span>
<span id="cb569-5"><a href="#cb569-5"></a>                               IMC <span class="sc">&lt;</span> <span class="dv">30</span> <span class="sc">~</span> <span class="st">"normal"</span>,</span>
<span id="cb569-6"><a href="#cb569-6"></a>                               <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"sobrepeso"</span>),</span>
<span id="cb569-7"><a href="#cb569-7"></a>         <span class="at">.after =</span> name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="caso8" class="slide level2">
<h2>üê£ Caso pr√°ctico 8</h2>
<p>Haciendo uso de todo lo aprendido, vamos a proceder a <span class="hl-yellow"><strong>crear una tabla con datos de beb√©s</strong></span> de tama√±o <code>n = 20</code> en donde <span class="hl-yellow"><strong>simulemos el sexo de los beb√©s y su peso</strong></span></p>
<div class="fragment">
<ol type="1">
<li>Crea un <code>tibble</code> con dos columnas, una llamada <code>id_bebe</code> y otra llamada <code>sexo</code>. En el primer caso debe ir de 1 a 20. En el segundo caso, simula su sexo de manera que haya un 0.5 de probabilidad de <code>chico</code> y 0.5 de <code>chica</code>.</li>
</ol>
</div>
<div class="fragment">
<ol start="2" type="1">
<li>Conocido el sexo, crea una tercera columna llamada <code>peso</code> en la que simules dicho valor. Supondremos que para los chicos el peso sigue una distribuci√≥n <span class="math inline">\(N(\mu = 3.266kg, \sigma = 0.514)\)</span> y que para las chicas sigue una distribuci√≥n <span class="math inline">\(N(\mu = 3.155kg, \sigma = 0.495)\)</span>.</li>
</ol>
</div>
</section>
<section id="contar-count" class="slide level2">
<h2>Contar: count()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb570"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb570-1"><a href="#cb570-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">contar</span>(var1, var2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb571"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb571-1"><a href="#cb571-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">count</span>(var1, var2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Hasta ahora solo hemos transformado o consultado los datos pero no hemos generado estad√≠sticas. Empecemos por lo sencillo: <span class="hl-yellow"><strong>¬øc√≥mo contar (frecuencias)?</strong></span></p>
<div class="fragment">
<p>Cuando lo usamos en solitario <code>count()</code> nos devolver√° simplemente el n√∫mero de registros , pero cuando lo usamos con variables <code>count()</code> calcula lo que se conoce como <span class="hl-yellow"><strong>frecuencias</strong></span>: <span class="hl-purple"><strong>n√∫mero de elementos de cada modalidad</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb572"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb572-1"><a href="#cb572-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">count</span>(sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 2
  sex                n
  &lt;chr&gt;          &lt;int&gt;
1 female            16
2 hermaphroditic     1
3 male              60
4 none               6
5 &lt;NA&gt;               4</code></pre>
</div>
</div>
</div>
</section>
<section id="contar-count-1" class="slide level2">
<h2>Contar: count()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb574"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb574-1"><a href="#cb574-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">contar</span>(var1, var2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb575"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb575-1"><a href="#cb575-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">count</span>(var1, var2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Adem√°s si pasamos varias variables nos calcula lo que se conoce como una <span class="hl-yellow"><strong>tabla de contigencia</strong></span>. Con <code>sort = TRUE</code> nos devolver√° el <span class="hl-purple"><strong>conteo ordenado</strong></span> (m√°s frecuentes primero).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb576"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb576-1"><a href="#cb576-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">count</span>(sex, gender, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 3
  sex            gender        n
  &lt;chr&gt;          &lt;chr&gt;     &lt;int&gt;
1 male           masculine    60
2 female         feminine     16
3 none           masculine     5
4 &lt;NA&gt;           &lt;NA&gt;          4
5 hermaphroditic masculine     1
6 none           feminine      1</code></pre>
</div>
</div>
</section>
<section id="agrupar-group_by" class="slide level2">
<h2>Agrupar: group_by()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb578"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb578-1"><a href="#cb578-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb578-2"><a href="#cb578-2"></a>  <span class="fu">agrupar</span>(var1, var2) <span class="sc">|&gt;</span> </span>
<span id="cb578-3"><a href="#cb578-3"></a>  <span class="fu">accion</span>() <span class="sc">|&gt;</span> </span>
<span id="cb578-4"><a href="#cb578-4"></a>  <span class="fu">desagrupar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb579"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb579-1"><a href="#cb579-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb579-2"><a href="#cb579-2"></a>  <span class="fu">group_by</span>(var1, var2) <span class="sc">|&gt;</span> </span>
<span id="cb579-3"><a href="#cb579-3"></a>  <span class="fu">accion</span>() <span class="sc">|&gt;</span> </span>
<span id="cb579-4"><a href="#cb579-4"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Una de las <span class="hl-yellow"><strong>funciones m√°s potentes</strong></span> a combinar con las acciones vistas es <code>group_by()</code>, que nos permitir√° <span class="hl-yellow"><strong>agrupar nuestros registros</strong></span> previamente</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb580"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb580-1"><a href="#cb580-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb580-2"><a href="#cb580-2"></a>  <span class="fu">group_by</span>(sex) <span class="sc">|&gt;</span></span>
<span id="cb580-3"><a href="#cb580-3"></a>  <span class="fu">count</span>() <span class="sc">|&gt;</span></span>
<span id="cb580-4"><a href="#cb580-4"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 2
  sex                n
  &lt;chr&gt;          &lt;int&gt;
1 female            16
2 hermaphroditic     1
3 male              60
4 none               6
5 &lt;NA&gt;               4</code></pre>
</div>
</div>
</section>
<section id="agrupar-group_by-1" class="slide level2">
<h2>Agrupar: group_by()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb582"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb582-1"><a href="#cb582-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb582-2"><a href="#cb582-2"></a>  <span class="fu">agrupar</span>(var1, var2) <span class="sc">|&gt;</span> </span>
<span id="cb582-3"><a href="#cb582-3"></a>  <span class="fu">accion</span>() <span class="sc">|&gt;</span> </span>
<span id="cb582-4"><a href="#cb582-4"></a>  <span class="fu">desagrupar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb583"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb583-1"><a href="#cb583-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb583-2"><a href="#cb583-2"></a>  <span class="fu">group_by</span>(var1, var2) <span class="sc">|&gt;</span> </span>
<span id="cb583-3"><a href="#cb583-3"></a>  <span class="fu">accion</span>() <span class="sc">|&gt;</span> </span>
<span id="cb583-4"><a href="#cb583-4"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Cuando apliquemos <code>group_by()</code> es importante entender que <span class="hl-yellow"><strong>NO MODIFICA los datos</strong></span>, sino que nos crea una <span class="hl-yellow"><strong>variable de grupo</strong></span> (subtablas por cada grupo) que modificar√° las acciones futuras: las <span class="hl-purple"><strong>operaciones se aplicar√°n a cada subtabla por separado</strong></span></p>
<div class="fragment">
<p>Por ejemplo, imaginemos que queremos extraer el personaje m√°s alto con <code>slice_max()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb584"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb584-1"><a href="#cb584-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">slice_max</span>(height)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 √ó 14
  name      height  mass hair_color skin_color eye_color birth_year sex   gender
  &lt;chr&gt;      &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
1 Yarael P‚Ä¶    264    NA none       white      yellow            NA male  mascu‚Ä¶
# ‚Ñπ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="agrupar-group_by-2" class="slide level2">
<h2>Agrupar: group_by()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb586"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb586-1"><a href="#cb586-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb586-2"><a href="#cb586-2"></a>  <span class="fu">agrupar</span>(var1, var2) <span class="sc">|&gt;</span> </span>
<span id="cb586-3"><a href="#cb586-3"></a>  <span class="fu">accion</span>() <span class="sc">|&gt;</span> </span>
<span id="cb586-4"><a href="#cb586-4"></a>  <span class="fu">desagrupar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb587"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb587-1"><a href="#cb587-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb587-2"><a href="#cb587-2"></a>  <span class="fu">group_by</span>(var1, var2) <span class="sc">|&gt;</span> </span>
<span id="cb587-3"><a href="#cb587-3"></a>  <span class="fu">accion</span>() <span class="sc">|&gt;</span> </span>
<span id="cb587-4"><a href="#cb587-4"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>¬øY si queremos <span class="hl-yellow"><strong>extraer el personaje m√°s alto pero‚Ä¶de cada uno de los sexos</strong></span>?</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb588"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb588-1"><a href="#cb588-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb588-2"><a href="#cb588-2"></a>  <span class="fu">group_by</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb588-3"><a href="#cb588-3"></a>  <span class="fu">slice_max</span>(height) <span class="sc">|&gt;</span> </span>
<span id="cb588-4"><a href="#cb588-4"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 14
  name      height  mass hair_color skin_color eye_color birth_year sex   gender
  &lt;chr&gt;      &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
1 Taun We      213    NA none       grey       black             NA fema‚Ä¶ femin‚Ä¶
2 Jabba De‚Ä¶    175  1358 &lt;NA&gt;       green-tan‚Ä¶ orange           600 herm‚Ä¶ mascu‚Ä¶
3 Yarael P‚Ä¶    264    NA none       white      yellow            NA male  mascu‚Ä¶
4 IG-88        200   140 none       metal      red               15 none  mascu‚Ä¶
5 Gregar T‚Ä¶    185    85 black      dark       brown             NA &lt;NA&gt;  &lt;NA&gt;  
# ‚Ñπ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="agrupar-group_by-3" class="slide level2">
<h2>Agrupar: group_by()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb590"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb590-1"><a href="#cb590-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb590-2"><a href="#cb590-2"></a>  <span class="fu">agrupar</span>(var1, var2) <span class="sc">|&gt;</span> </span>
<span id="cb590-3"><a href="#cb590-3"></a>  <span class="fu">accion</span>() <span class="sc">|&gt;</span> </span>
<span id="cb590-4"><a href="#cb590-4"></a>  <span class="fu">desagrupar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb591"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb591-1"><a href="#cb591-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb591-2"><a href="#cb591-2"></a>  <span class="fu">group_by</span>(var1, var2) <span class="sc">|&gt;</span> </span>
<span id="cb591-3"><a href="#cb591-3"></a>  <span class="fu">accion</span>() <span class="sc">|&gt;</span> </span>
<span id="cb591-4"><a href="#cb591-4"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/tidydatatutor_1.jpg"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="img/tidydatatutor_2.jpg"></p>
</div>
</div>
<p>La web <a href="https://tidydatatutor.com/" class="uri">https://tidydatatutor.com/</a> permite visualizar las operaciones de <code>{tidyverse}</code> (con el pipe antiguo)</p>
</section>
<section id="agrupar-group_by-4" class="slide level2">
<h2>Agrupar: group_by()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb592"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb592-1"><a href="#cb592-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb592-2"><a href="#cb592-2"></a>  <span class="fu">agrupar</span>(var1, var2) <span class="sc">|&gt;</span> </span>
<span id="cb592-3"><a href="#cb592-3"></a>  <span class="fu">accion</span>() <span class="sc">|&gt;</span></span>
<span id="cb592-4"><a href="#cb592-4"></a>  <span class="fu">desagrupar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb593"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb593-1"><a href="#cb593-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb593-2"><a href="#cb593-2"></a>  <span class="fu">group_by</span>(var1, var2) <span class="sc">|&gt;</span> </span>
<span id="cb593-3"><a href="#cb593-3"></a>  <span class="fu">accion</span>() <span class="sc">|&gt;</span></span>
<span id="cb593-4"><a href="#cb593-4"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Importante</strong></p>
</div>
<div class="callout-content">
<p>Recuerda siempre <span class="hl-red"><strong>hacer ungroup</strong></span> para eliminar la variable de grupo creada</p>
</div>
</div>
</div>
<div class="fragment">
<p>En la nueva versi√≥n de <code>{dplyr}</code> ahora se <span class="hl-yellow"><strong>permite incluir la variable de grupo</strong></span> en la llamada a muchas funciones con el argumento <code>by = ...</code> o <code>.by = ...</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb594"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb594-1"><a href="#cb594-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">slice_max</span>(height, <span class="at">by =</span> sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 6
  name                  height  mass hair_color skin_color       eye_color
  &lt;chr&gt;                  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;            &lt;chr&gt;    
1 Yarael Poof              264    NA none       white            yellow   
2 IG-88                    200   140 none       metal            red      
3 Taun We                  213    NA none       grey             black    
4 Jabba Desilijic Tiure    175  1358 &lt;NA&gt;       green-tan, brown orange   
5 Gregar Typho             185    85 black      dark             brown    </code></pre>
</div>
</div>
</div>
</section>
<section id="fila-a-fila-rowwise" class="slide level2">
<h2>Fila-a-fila: rowwise()</h2>
<p>Una opci√≥n muy √∫til usada antes de una operaci√≥n tambi√©n es <code>rowwise()</code>: toda <span class="hl-yellow"><strong>operaci√≥n que venga despu√©s se aplicar√° en cada fila por separado</strong></span>. Por ejemplo, vamos a definir un conjunto dummy de notas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb596"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb596-1"><a href="#cb596-1"></a>notas <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">"mates"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">7.5</span>, <span class="dv">8</span>, <span class="fl">9.1</span>, <span class="dv">3</span>),</span>
<span id="cb596-2"><a href="#cb596-2"></a>                <span class="st">"lengua"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">8</span>, <span class="dv">6</span>, <span class="fl">6.5</span>, <span class="fl">9.2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Si aplicamos la media directamente el valor ser√° id√©ntico ya que nos ha hecho la media global, pero nos gustar√≠a sacar una <span class="hl-yellow"><strong>media por registro</strong></span>. Para eso usaremos <code>rowwise()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb597"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb597-1"><a href="#cb597-1"></a>notas <span class="sc">|&gt;</span> </span>
<span id="cb597-2"><a href="#cb597-2"></a>  <span class="fu">rowwise</span>() <span class="sc">|&gt;</span> </span>
<span id="cb597-3"><a href="#cb597-3"></a>  <span class="fu">mutate</span>(<span class="at">media_curso =</span> <span class="fu">mean</span>(<span class="fu">c</span>(mates, lengua)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 3
# Rowwise: 
  mates lengua media_curso
  &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;
1   7.5    8          7.75
2   8      6          7   
3   9.1    6.5        7.8 
4   3      9.2        6.1 </code></pre>
</div>
</div>
</div>
</section>
<section id="resumir-summarise" class="slide level2">
<h2>Resumir: summarise()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb599"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb599-1"><a href="#cb599-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">resumir</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb600"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb600-1"><a href="#cb600-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">summarise</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Por √∫ltimo tenemos <code>summarise()</code>, que nos permitir√° sacar res√∫menes estad√≠sticos. Por ejemplo, vamos a <span class="hl-yellow"><strong>calcular la media de las alturas</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb601"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb601-1"><a href="#cb601-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb601-2"><a href="#cb601-2"></a>  <span class="fu">drop_na</span>(height) <span class="sc">|&gt;</span> </span>
<span id="cb601-3"><a href="#cb601-3"></a>  <span class="fu">summarise</span>(<span class="at">media_altura =</span> <span class="fu">mean</span>(height))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 √ó 1
  media_altura
         &lt;dbl&gt;
1         175.</code></pre>
</div>
</div>
<div class="fragment">
<div class="callout callout-warning callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Cuidado</strong></p>
</div>
<div class="callout-content">
<p>F√≠jate que <code>mutate()</code> devuelve <span class="hl-yellow"><strong>tantas filas como registros originales</strong></span>, mientras que con <code>summarise()</code> calcula un <span class="hl-purple"><strong>nuevo dataset de resumen</strong></span>, solo incluyendo aquello que est√© indicado.</p>
</div>
</div>
</div>
</div>
</section>
<section id="resumir-summarise-1" class="slide level2">
<h2>Resumir: summarise()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb603"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb603-1"><a href="#cb603-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">resumir</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb604"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb604-1"><a href="#cb604-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">summarise</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Si adem√°s esto lo <span class="hl-yellow"><strong>combinamos con la agrupaci√≥n</strong></span> de <code>group_by()</code> o <code>.by = ...</code>, en pocas l√≠neas de c√≥digo puedes obtener <span class="hl-purple"><strong>estad√≠sticas desagreagadas</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb605"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb605-1"><a href="#cb605-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb605-2"><a href="#cb605-2"></a>  <span class="fu">drop_na</span>(sex, height, mass) <span class="sc">|&gt;</span> </span>
<span id="cb605-3"><a href="#cb605-3"></a>  <span class="fu">summarise</span>(<span class="at">media_altura =</span> <span class="fu">mean</span>(height),</span>
<span id="cb605-4"><a href="#cb605-4"></a>            <span class="at">media_peso =</span> <span class="fu">mean</span>(mass),</span>
<span id="cb605-5"><a href="#cb605-5"></a>            <span class="at">.by =</span> sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 3
  sex            media_altura media_peso
  &lt;chr&gt;                 &lt;dbl&gt;      &lt;dbl&gt;
1 male                   178.       80.2
2 none                   140        69.8
3 female                 172.       54.7
4 hermaphroditic         175      1358  </code></pre>
</div>
</div>
</section>
<section id="resumir-reframe" class="slide level2">
<h2>Resumir: reframe()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb607"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb607-1"><a href="#cb607-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">resumir</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb608"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb608-1"><a href="#cb608-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">reframe</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>En el nuevo <code>{dplyr}</code> han incluido <code>reframe()</code> para evitar problemas de <code>summarise()</code> cuando <span class="hl-yellow"><strong>devolvemos m√°s de un valor por variable</strong></span>.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb609"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb609-1"><a href="#cb609-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb609-2"><a href="#cb609-2"></a>  <span class="fu">drop_na</span>(mass) <span class="sc">|&gt;</span></span>
<span id="cb609-3"><a href="#cb609-3"></a>  <span class="fu">summarise</span>(<span class="fu">quantile</span>(mass))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Returning more (or less) than 1 row per `summarise()` group was deprecated in
dplyr 1.1.0.
‚Ñπ Please use `reframe()` instead.
‚Ñπ When switching from `summarise()` to `reframe()`, remember that `reframe()`
  always returns an ungrouped data frame and adjust accordingly.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 1
  `quantile(mass)`
             &lt;dbl&gt;
1             15  
2             55.6
3             79  
4             84.5
5           1358  </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb612"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb612-1"><a href="#cb612-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb612-2"><a href="#cb612-2"></a>  <span class="fu">drop_na</span>(mass) <span class="sc">|&gt;</span></span>
<span id="cb612-3"><a href="#cb612-3"></a>  <span class="fu">reframe</span>(<span class="fu">quantile</span>(mass))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 1
  `quantile(mass)`
             &lt;dbl&gt;
1             15  
2             55.6
3             79  
4             84.5
5           1358  </code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="selectores-across" class="slide level2">
<h2>Selectores: across()</h2>
<p>Un truco es <span class="hl-yellow"><strong>hacer uso de selectores</strong></span> <code>across()</code> y <code>where()</code>. El primero nos permite <span class="hl-purple"><strong>actuar sobre varias columnas por nombre</strong></span> (con <code>mutate()</code> o <code>summarise()</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb614"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb614-1"><a href="#cb614-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">medias =</span> <span class="fu">across</span>(height<span class="sc">:</span>mass, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.by =</span> sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 2
  sex            medias$height  $mass
  &lt;chr&gt;                  &lt;dbl&gt;  &lt;dbl&gt;
1 male                    179.   80.2
2 none                    131.   69.8
3 female                  172.   54.7
4 hermaphroditic          175  1358  
5 &lt;NA&gt;                    175    81  </code></pre>
</div>
</div>
<div class="fragment">
<p>El segundo, <code>where()</code>, nos permite hacer lo mismo pero <span class="hl-yellow"><strong>seleccionando por tipo</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb616"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb616-1"><a href="#cb616-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb616-2"><a href="#cb616-2"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.by =</span> <span class="fu">c</span>(sex, gender))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 5
  sex            gender    height   mass birth_year
  &lt;chr&gt;          &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;
1 male           masculine   179.   80.2       84.8
2 none           masculine   140    69.8       53.3
3 female         feminine    172.   54.7       47.2
4 hermaphroditic masculine   175  1358        600  
5 &lt;NA&gt;           &lt;NA&gt;        175    81        NaN  
6 none           feminine     96   NaN        NaN  </code></pre>
</div>
</div>
</div>
</section>
<section id="tu-turno-8b" class="slide level2">
<h2>üíª Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-14" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-14-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-14-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-14-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-14-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-14-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-14-1">
<p>üìù Calcula cu√°ntos personajes hay de cada especie, ordenados de m√°s a menor frecuencia.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb618"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb618-1"><a href="#cb618-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">count</span>(species, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-14-2">
<p>üìù Tras eliminar ausentes en las variables de peso y estatura, a√±ade una nueva variable que nos calcule el IMC de cada personaje, y determina el IMC medio de nuestros personajes desagregada por sexo</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb619"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb619-1"><a href="#cb619-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb619-2"><a href="#cb619-2"></a>  <span class="fu">drop_na</span>(mass, height) <span class="sc">|&gt;</span> </span>
<span id="cb619-3"><a href="#cb619-3"></a>  <span class="fu">mutate</span>(<span class="at">IMC =</span> mass <span class="sc">/</span> ((height<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb619-4"><a href="#cb619-4"></a>  <span class="fu">summarise</span>(<span class="at">IMC_medio =</span> <span class="fu">mean</span>(IMC), <span class="at">.by =</span> sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-14-3">
<p>üìù Obt√©n el personaje m√°s joven por cada sexo.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb620"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb620-1"><a href="#cb620-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb620-2"><a href="#cb620-2"></a>  <span class="fu">slice_min</span>(birth_year, <span class="at">by =</span> sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-14-4">
<p>üìù Obt√©n la edad del personaje m√°s joven y m√°s viejo de cada sexo.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb621"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb621-1"><a href="#cb621-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb621-2"><a href="#cb621-2"></a>  <span class="fu">drop_na</span>(birth_year) <span class="sc">|&gt;</span></span>
<span id="cb621-3"><a href="#cb621-3"></a>  <span class="fu">summarise</span>(<span class="fu">min</span>(birth_year), <span class="fu">max</span>(birth_year), <span class="at">.by =</span> sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-14-5">
<p>üìù Determina la cantidad de personajes en cada d√©cada (echa un vistazo a <code>round()</code>, primero sin desagregar y luego desagregado por sexo.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb622"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb622-1"><a href="#cb622-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="cb622-2"><a href="#cb622-2"></a>  <span class="fu">count</span>(<span class="at">birth_decade =</span> <span class="fu">round</span>(birth_year, <span class="sc">-</span><span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="clase-9-funciones" class="title-slide slide level1 center">
<h1>Clase 9: repaso e intro a funciones</h1>
<p><span style="color:#444442;"><strong>¬øQu√© es una funci√≥n? ¬øC√≥mo se definen?</strong></span></p>
</section>
<section id="caso9" class="slide level2">
<h2>üê£ Caso pr√°ctico 9</h2>
<p>Vamos antes a hacer un <span class="hl-yellow"><strong>repaso de lo aprendido</strong></span> en <code>{tidyverse}</code></p>
<ol type="1">
<li>Carga la tabla billboard del paquete <code>{tidyr}</code>.</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb623"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb623-1"><a href="#cb623-1"></a>billboard</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="fragment">
<ol start="2" type="1">
<li>Antes de nada, selecciona solo las <span class="hl-yellow"><strong>primeras 52 semanas</strong></span>. Tras ello convierte el dataset a <span class="hl-yellow"><strong>tidydata</strong></span> con los formatos y tipos adecuados para cada variable</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb624"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb624-1"><a href="#cb624-1"></a>billboard_tidy <span class="ot">&lt;-</span></span>
<span id="cb624-2"><a href="#cb624-2"></a>  billboard <span class="sc">|&gt;</span> </span>
<span id="cb624-3"><a href="#cb624-3"></a>  <span class="fu">select</span>(artist<span class="sc">:</span>date.entered, wk1<span class="sc">:</span>wk52) <span class="sc">|&gt;</span> </span>
<span id="cb624-4"><a href="#cb624-4"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> wk1<span class="sc">:</span>wk52,</span>
<span id="cb624-5"><a href="#cb624-5"></a>               <span class="at">names_to =</span> <span class="st">"week"</span>,</span>
<span id="cb624-6"><a href="#cb624-6"></a>               <span class="at">values_to =</span> <span class="st">"rank"</span>,</span>
<span id="cb624-7"><a href="#cb624-7"></a>               <span class="at">values_drop_na =</span> <span class="cn">TRUE</span>,</span>
<span id="cb624-8"><a href="#cb624-8"></a>               <span class="at">names_prefix =</span> <span class="st">"wk"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb624-9"><a href="#cb624-9"></a>  <span class="fu">mutate</span>(<span class="at">week =</span> <span class="fu">as.numeric</span>(week))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div class="fragment">
<ol start="3" type="1">
<li>Extrae la <span class="hl-yellow"><strong>lista de artistas distintos</strong></span> que aparecen en la tabla, incluyendo <span class="hl-yellow"><strong>cu√°ntas veces</strong></span> aparece cada uno.</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb625"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb625-1"><a href="#cb625-1"></a>billboard_tidy <span class="sc">|&gt;</span> </span>
<span id="cb625-2"><a href="#cb625-2"></a>  <span class="fu">count</span>(artist)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</section>
<section id="caso-pr√°ctico-9" class="slide level2">
<h2>üê£ Caso pr√°ctico 9</h2>
<ol start="4" type="1">
<li>Determina <span class="hl-yellow"><strong>cu√°ntas canciones tiene cada artistal</strong></span></li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb626"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb626-1"><a href="#cb626-1"></a>billboard_tidy <span class="sc">|&gt;</span> </span>
<span id="cb626-2"><a href="#cb626-2"></a>  <span class="fu">distinct</span>(artist, track) <span class="sc">|&gt;</span> </span>
<span id="cb626-3"><a href="#cb626-3"></a>  <span class="fu">count</span>(artist)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="fragment">
<ol start="5" type="1">
<li>Determina las <span class="hl-yellow"><strong>5 canciones que m√°s semanas</strong></span> aparecen en la lista de √©xitos.</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb627"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb627-1"><a href="#cb627-1"></a>billboard_tidy <span class="sc">|&gt;</span> </span>
<span id="cb627-2"><a href="#cb627-2"></a>  <span class="fu">count</span>(track) <span class="sc">|&gt;</span> </span>
<span id="cb627-3"><a href="#cb627-3"></a>  <span class="fu">slice_max</span>(<span class="at">n =</span> <span class="dv">5</span>, n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div class="fragment">
<ol start="6" type="1">
<li>Determina <span class="hl-yellow"><strong>para cada artista la canci√≥n que m√°s semanas</strong></span> aparece en la lista de √©xitos.</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb628"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb628-1"><a href="#cb628-1"></a>billboard_tidy <span class="sc">|&gt;</span> </span>
<span id="cb628-2"><a href="#cb628-2"></a>  <span class="fu">count</span>(artist, track) <span class="sc">|&gt;</span> </span>
<span id="cb628-3"><a href="#cb628-3"></a>  <span class="fu">slice_max</span>(<span class="at">n =</span> <span class="dv">1</span>, n, <span class="at">by =</span> artist)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</section>
<section id="caso-pr√°ctico-9-1" class="slide level2">
<h2>üê£ Caso pr√°ctico 9</h2>
<ol start="7" type="1">
<li>Determina el <span class="hl-yellow"><strong>artista con m√°s canciones</strong></span> en la lista</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb629"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb629-1"><a href="#cb629-1"></a>billboard_tidy <span class="sc">|&gt;</span> </span>
<span id="cb629-2"><a href="#cb629-2"></a>  <span class="fu">distinct</span>(artist, track) <span class="sc">|&gt;</span> </span>
<span id="cb629-3"><a href="#cb629-3"></a>  <span class="fu">count</span>(artist) <span class="sc">|&gt;</span> </span>
<span id="cb629-4"><a href="#cb629-4"></a>  <span class="fu">slice_max</span>(<span class="at">n =</span> <span class="dv">1</span>, n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="fragment">
<ol start="8" type="1">
<li>Calcula la <span class="hl-yellow"><strong>posici√≥n m√°s alta</strong></span> en la que ha estado cada canci√≥n. Calcula la posici√≥n m√°s alta en la que ha estado un artista</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb630"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb630-1"><a href="#cb630-1"></a>billboard_tidy <span class="sc">|&gt;</span> </span>
<span id="cb630-2"><a href="#cb630-2"></a>  <span class="fu">slice_min</span>(rank, <span class="at">n =</span> <span class="dv">1</span>, <span class="at">with_ties =</span> <span class="cn">FALSE</span>, <span class="at">by =</span> track)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb631"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb631-1"><a href="#cb631-1"></a>billboard_tidy <span class="sc">|&gt;</span> </span>
<span id="cb631-2"><a href="#cb631-2"></a>  <span class="fu">slice_min</span>(rank, <span class="at">n =</span> <span class="dv">1</span>, <span class="at">with_ties =</span> <span class="cn">FALSE</span>, <span class="at">by =</span> artist)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</section>
<section id="caso-pr√°ctico-9-2" class="slide level2">
<h2>üê£ Caso pr√°ctico 9</h2>
<ol start="9" type="1">
<li>Obt√©n una <span class="hl-yellow"><strong>tabla resumen</strong></span> con el ranking medio de cada artista (contando solo el ranking m√°s alto alcanzado por sus canciones), as√≠ como el n√∫mero de canciones (distintas) que ha colocado en el top 100.</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb632"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb632-1"><a href="#cb632-1"></a>billboard_tidy <span class="sc">|&gt;</span> </span>
<span id="cb632-2"><a href="#cb632-2"></a>  <span class="fu">slice_min</span>(rank, <span class="at">n =</span> <span class="dv">1</span>, <span class="at">with_ties =</span> <span class="cn">FALSE</span>, <span class="at">by =</span> track) <span class="sc">|&gt;</span> </span>
<span id="cb632-3"><a href="#cb632-3"></a>  <span class="fu">summarise</span>(<span class="at">avg_rank =</span> <span class="fu">mean</span>(rank), <span class="at">n_songs =</span> <span class="fu">n</span>(), <span class="at">.by =</span> artist)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="fragment">
<ol start="10" type="1">
<li>Realiza un muestreo aleatorio estratificado, extrayendo el 50% de los datos pero manteniendo la proporci√≥n de datos entre los distintos cuatrimestres.</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb633"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb633-1"><a href="#cb633-1"></a>billboard_tidy <span class="sc">|&gt;</span> </span>
<span id="cb633-2"><a href="#cb633-2"></a>  <span class="fu">mutate</span>(<span class="at">quarter =</span> <span class="fu">quarter</span>(date.entered)) <span class="sc">|&gt;</span> </span>
<span id="cb633-3"><a href="#cb633-3"></a>  <span class="fu">slice_sample</span>(<span class="at">prop =</span> <span class="fl">0.5</span>, <span class="at">by =</span> quarter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</section>
<section id="creando-funciones" class="slide level2">
<h2>Creando funciones</h2>
<p>No solo podemos usar <strong>funciones predeterminadas</strong> que vienen ya cargadas en paquetes, adem√°s podemos <span class="hl-yellow"><strong>crear nuestras propias funciones</strong></span> para <strong>automatizar tareas</strong>.</p>
<p>¬øC√≥mo <span class="hl-purple"><strong>crear nuestra propia funci√≥n</strong></span>? Veamos su <strong>esquema b√°sico</strong>:</p>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Nombre</strong></span>: por ejemplo <code>name_fun</code> (sin espacios ni caracteres extra√±os). Al nombre le <span class="hl-yellow"><strong>asignamos la palabra reservada</strong></span> <code>function()</code>.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Definir <span class="hl-yellow"><strong>argumentos de entrada</strong></span> (dentro de <code>function()</code>).</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb634"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb634-1"><a href="#cb634-1"></a>name_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2, ...) {</span>
<span id="cb634-2"><a href="#cb634-2"></a>  </span>
<span id="cb634-3"><a href="#cb634-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="creando-funciones-1" class="slide level2">
<h2>Creando funciones</h2>
<p>No solo podemos usar <strong>funciones predeterminadas</strong> que vienen ya cargadas en paquetes, adem√°s podemos <span class="hl-yellow"><strong>crear nuestras propias funciones</strong></span> para <strong>automatizar tareas</strong>.</p>
<p>¬øC√≥mo <span class="hl-purple"><strong>crear nuestra propia funci√≥n</strong></span>? Veamos su <strong>esquema b√°sico</strong>:</p>
<ul>
<li><span class="hl-yellow"><strong>Cuerpo</strong></span> de la funci√≥n dentro de <code>{ }</code>.</li>
</ul>
<div class="fragment">
<ul>
<li>Finalizamos la funci√≥n con los <span class="hl-yellow"><strong>argumentos de salida</strong></span> con <code>return()</code>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb635"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb635-1"><a href="#cb635-1"></a>name_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2, ...) {</span>
<span id="cb635-2"><a href="#cb635-2"></a>  </span>
<span id="cb635-3"><a href="#cb635-3"></a>  <span class="co"># C√≥digo que queramos ejecutar</span></span>
<span id="cb635-4"><a href="#cb635-4"></a>  c√≥digo</span>
<span id="cb635-5"><a href="#cb635-5"></a>  </span>
<span id="cb635-6"><a href="#cb635-6"></a>  <span class="co"># Salida</span></span>
<span id="cb635-7"><a href="#cb635-7"></a>  <span class="fu">return</span>(var_salida)</span>
<span id="cb635-8"><a href="#cb635-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="creando-funciones-2" class="slide level2">
<h2>Creando funciones</h2>
<ul>
<li><p><code>arg1, arg2, ...</code>: ser√°n los <span class="hl-yellow"><strong>argumentos de entrada</strong></span>, los argumentos que toma la funci√≥n para ejecutar el c√≥digo que tiene dentro</p></li>
<li><p><code>c√≥digo</code>: l√≠neas de c√≥digo que queramos que <span class="hl-yellow"><strong>ejecute la funci√≥n</strong></span>.</p></li>
<li><p><code>return(var_salida)</code>: se introducir√°n los <span class="hl-yellow"><strong>argumentos de salida</strong></span>.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb636"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb636-1"><a href="#cb636-1"></a>name_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2, ...) {</span>
<span id="cb636-2"><a href="#cb636-2"></a>  </span>
<span id="cb636-3"><a href="#cb636-3"></a>  <span class="co"># C√≥digo que queramos ejecutar</span></span>
<span id="cb636-4"><a href="#cb636-4"></a>  c√≥digo</span>
<span id="cb636-5"><a href="#cb636-5"></a>  </span>
<span id="cb636-6"><a href="#cb636-6"></a>  <span class="co"># Salida</span></span>
<span id="cb636-7"><a href="#cb636-7"></a>  <span class="fu">return</span>(var_salida)</span>
<span id="cb636-8"><a href="#cb636-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Importante</strong></p>
</div>
<div class="callout-content">
<p>Todas las variables que definamos dentro de la funci√≥n son <span class="hl-yellow"><strong>variables locales: solo existir√°n dentro de la funci√≥n</strong></span> salvo que especifiquemos lo contrario.</p>
</div>
</div>
</div>
</section>
<section id="creando-funciones-3" class="slide level2">
<h2>Creando funciones</h2>
<p>Veamos un ejemplo muy simple de funci√≥n para <span class="hl-yellow"><strong>calcular el √°rea de un rect√°ngulo</strong></span>.</p>
<div class="fragment">
<p>Dado que el √°rea de un rect√°ngulo se calcula como el <strong>producto de sus lados</strong>, necesitaremos precisamente eso, sus lados: esos ser√°n los <span class="hl-yellow"><strong>argumentos de entrada</strong></span> y el <span class="hl-purple"><strong>valor a devolver</strong></span> ser√° justo su <strong>√°rea</strong> (<span class="math inline">\(lado_1 * lado_2\)</span>).</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb637"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb637-1"><a href="#cb637-1"></a><span class="co"># Definici√≥n del nombre de funci√≥n y argumentos de entrada</span></span>
<span id="cb637-2"><a href="#cb637-2"></a>calcular_area <span class="ot">&lt;-</span> <span class="cf">function</span>(lado_1, lado_2) {</span>
<span id="cb637-3"><a href="#cb637-3"></a>  </span>
<span id="cb637-4"><a href="#cb637-4"></a>  area <span class="ot">&lt;-</span> lado_1 <span class="sc">*</span> lado_2</span>
<span id="cb637-5"><a href="#cb637-5"></a>  <span class="fu">return</span>(area)</span>
<span id="cb637-6"><a href="#cb637-6"></a>  </span>
<span id="cb637-7"><a href="#cb637-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="creando-funciones-4" class="slide level2">
<h2>Creando funciones</h2>
<p>Tambi√©n podemos hacer una definici√≥n directa, <strong>sin almacenar variables por el camino</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb638"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb638-1"><a href="#cb638-1"></a><span class="co"># Definici√≥n del nombre de funci√≥n y argumentos de entrada</span></span>
<span id="cb638-2"><a href="#cb638-2"></a>calcular_area <span class="ot">&lt;-</span> <span class="cf">function</span>(lado_1, lado_2) {</span>
<span id="cb638-3"><a href="#cb638-3"></a>  </span>
<span id="cb638-4"><a href="#cb638-4"></a>  <span class="fu">return</span>(lado_1 <span class="sc">*</span> lado_2)</span>
<span id="cb638-5"><a href="#cb638-5"></a>  </span>
<span id="cb638-6"><a href="#cb638-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="hl-yellow"><strong>¬øC√≥mo aplicar la funci√≥n?</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb639"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb639-1"><a href="#cb639-1"></a><span class="fu">calcular_area</span>(<span class="dv">5</span>, <span class="dv">3</span>) <span class="co"># √°rea de un rect√°ngulo 5 x 3 </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb641"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb641-1"><a href="#cb641-1"></a><span class="fu">calcular_area</span>(<span class="dv">1</span>, <span class="dv">5</span>) <span class="co"># √°rea de un rect√°ngulo 1 x 5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
</section>
<section id="argumentos-por-defecto" class="slide level2">
<h2>Argumentos por defecto</h2>
<p>Imagina ahora que nos damos cuenta que el 90% de las veces usamos dicha funci√≥n para <span class="hl-yellow"><strong>calcular por defecto el √°rea de un cuadrado</strong></span> (es decir, solo necesitamos un lado). Para ello, podemos definir <span class="hl-yellow"><strong>argumentos por defecto</strong></span> en la funci√≥n: tomar√°n dicho valor salvo que le asignemos otro.</p>
<p>¬øPor qu√© no asignar <code>lado_2 = lado_1</code> por defecto, para ahorrar l√≠neas de c√≥digo y tiempo?</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb643"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb643-1"><a href="#cb643-1"></a>calcular_area <span class="ot">&lt;-</span> <span class="cf">function</span>(lado_1, <span class="at">lado_2 =</span> lado_1) {</span>
<span id="cb643-2"><a href="#cb643-2"></a>  </span>
<span id="cb643-3"><a href="#cb643-3"></a>  <span class="co"># Cuerpo de la funci√≥n</span></span>
<span id="cb643-4"><a href="#cb643-4"></a>  area <span class="ot">&lt;-</span> lado_1 <span class="sc">*</span> lado_2</span>
<span id="cb643-5"><a href="#cb643-5"></a>  </span>
<span id="cb643-6"><a href="#cb643-6"></a>  <span class="co"># Resultado que devolvemos</span></span>
<span id="cb643-7"><a href="#cb643-7"></a>  <span class="fu">return</span>(area)</span>
<span id="cb643-8"><a href="#cb643-8"></a>  </span>
<span id="cb643-9"><a href="#cb643-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="argumentos-por-defecto-1" class="slide level2">
<h2>Argumentos por defecto</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb644"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb644-1"><a href="#cb644-1"></a>calcular_area <span class="ot">&lt;-</span> <span class="cf">function</span>(lado_1, <span class="at">lado_2 =</span> lado_1) {</span>
<span id="cb644-2"><a href="#cb644-2"></a>  </span>
<span id="cb644-3"><a href="#cb644-3"></a>  <span class="co"># Cuerpo de la funci√≥n</span></span>
<span id="cb644-4"><a href="#cb644-4"></a>  area <span class="ot">&lt;-</span> lado_1 <span class="sc">*</span> lado_2</span>
<span id="cb644-5"><a href="#cb644-5"></a>  </span>
<span id="cb644-6"><a href="#cb644-6"></a>  <span class="co"># Resultado que devolvemos</span></span>
<span id="cb644-7"><a href="#cb644-7"></a>  <span class="fu">return</span>(area)</span>
<span id="cb644-8"><a href="#cb644-8"></a>  </span>
<span id="cb644-9"><a href="#cb644-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ahora <span class="hl-yellow"><strong>por defecto</strong></span> el segundo lado ser√° igual al primero (si se lo a√±adimos usar√° ambos).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb645"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb645-1"><a href="#cb645-1"></a><span class="fu">calcular_area</span>(<span class="at">lado_1 =</span> <span class="dv">5</span>) <span class="co"># cuadrado</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb647"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb647-1"><a href="#cb647-1"></a><span class="fu">calcular_area</span>(<span class="at">lado_1 =</span> <span class="dv">5</span>, <span class="at">lado_2 =</span> <span class="dv">7</span>) <span class="co"># rect√°ngulo</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 35</code></pre>
</div>
</div>
</section>
<section id="salida-m√∫ltiple" class="slide level2">
<h2>Salida m√∫ltiple</h2>
<p>Compliquemos un poco la funci√≥n y a√±adamos en la salida los valores de cada lado, etiquetados como <code>lado_1</code> y <code>lado_2</code>, <span class="hl-yellow"><strong>empaquetando la salida en una lista</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb649"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb649-1"><a href="#cb649-1"></a><span class="co"># Definici√≥n del nombre de funci√≥n y argumentos de entrada</span></span>
<span id="cb649-2"><a href="#cb649-2"></a>calcular_area <span class="ot">&lt;-</span> <span class="cf">function</span>(lado_1, <span class="at">lado_2 =</span> lado_1) {</span>
<span id="cb649-3"><a href="#cb649-3"></a>  </span>
<span id="cb649-4"><a href="#cb649-4"></a>  <span class="co"># Cuerpo de la funci√≥n</span></span>
<span id="cb649-5"><a href="#cb649-5"></a>  area <span class="ot">&lt;-</span> lado_1 <span class="sc">*</span> lado_2</span>
<span id="cb649-6"><a href="#cb649-6"></a>  </span>
<span id="cb649-7"><a href="#cb649-7"></a>  <span class="co"># Resultado</span></span>
<span id="cb649-8"><a href="#cb649-8"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="st">"area"</span> <span class="ot">=</span> area, <span class="st">"lado_1"</span> <span class="ot">=</span> lado_1, <span class="st">"lado_2"</span> <span class="ot">=</span> lado_2))</span>
<span id="cb649-9"><a href="#cb649-9"></a>  </span>
<span id="cb649-10"><a href="#cb649-10"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="clase-10" class="title-slide slide level1 center">
<h1>Clase 10: profundizando funciones</h1>
<p><span style="color:#444442;"><strong>¬øQu√© es una funci√≥n? ¬øC√≥mo se definen? Variables locales vs globlales. Introducci√≥n a listas</strong></span></p>
</section>
<section id="funciones-en-r" class="slide level2">
<h2>Funciones en R</h2>
<p>Repasando el √∫ltimo d√≠a‚Ä¶</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb650"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb650-1"><a href="#cb650-1"></a>calcular_area <span class="ot">&lt;-</span> <span class="cf">function</span>(lado_1, <span class="at">lado_2 =</span> lado_1) {</span>
<span id="cb650-2"><a href="#cb650-2"></a>  </span>
<span id="cb650-3"><a href="#cb650-3"></a>  <span class="co"># Cuerpo de la funci√≥n</span></span>
<span id="cb650-4"><a href="#cb650-4"></a>  area <span class="ot">&lt;-</span> lado_1 <span class="sc">*</span> lado_2</span>
<span id="cb650-5"><a href="#cb650-5"></a>  </span>
<span id="cb650-6"><a href="#cb650-6"></a>  <span class="co"># Resultado</span></span>
<span id="cb650-7"><a href="#cb650-7"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="st">"area"</span> <span class="ot">=</span> area, <span class="st">"lado_1"</span> <span class="ot">=</span> lado_1, <span class="st">"lado_2"</span> <span class="ot">=</span> lado_2))</span>
<span id="cb650-8"><a href="#cb650-8"></a>  </span>
<span id="cb650-9"><a href="#cb650-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb651"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb651-1"><a href="#cb651-1"></a>salida <span class="ot">&lt;-</span> <span class="fu">calcular_area</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb651-2"><a href="#cb651-2"></a>salida[<span class="st">"area"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$area
[1] 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb653"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb653-1"><a href="#cb653-1"></a>salida[<span class="st">"lado_1"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$lado_1
[1] 5</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Importante</strong></p>
</div>
<div class="callout-content">
<p>Todas las variables que definamos dentro de la funci√≥n son <span class="hl-yellow"><strong>variables locales: solo existir√°n dentro</strong></span></p>
</div>
</div>
</div>
</div>
</section>
<section id="introducci√≥n-a-listas" class="slide level2">
<h2>Introducci√≥n a listas</h2>
<p>Veamos un peque√±o resumen de los datos que ya conocemos:</p>
<ul>
<li><p><span class="hl-yellow"><strong>vectores</strong></span>: colecci√≥n de elementos de igual tipo. Pueden ser n√∫meros, caracteres o valores l√≥gicos, entre otros.</p></li>
<li><p><span class="hl-yellow"><strong>matrices</strong></span>: colecci√≥n BIDIMENSIONAL de elementos de igual tipo e igual longitud.</p></li>
<li><p><span class="hl-yellow"><strong>data.frame / tibble</strong></span>: colecci√≥n BIDIMENSIONAL de elementos de igual longitud pero de cualquier tipo.</p></li>
</ul>
<div class="fragment">
<p>Las <span class="hl-yellow"><strong>listas</strong></span> ser√°n <span class="hl-purple"><strong>colecciones de variables de diferente tipo y diferente longitud</strong></span>, con estructuras totalmente heter√≥geneas (incluso una lista puede tener dentro a su vez otra lista).</p>
</div>
</section>
<section id="introducci√≥n-a-listas-1" class="slide level2">
<h2>Introducci√≥n a listas</h2>
<p>Vamos a crear <span class="hl-yellow"><strong>nuestra primera lista</strong></span> con <code>list()</code> con tres elementos: el nombre de nuestros padres/madres, nuestro lugar de nacimiento y edades de nuestros hermanos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb655"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb655-1"><a href="#cb655-1"></a>variable_1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Paloma"</span>, <span class="st">"Gregorio"</span>)</span>
<span id="cb655-2"><a href="#cb655-2"></a>variable_2 <span class="ot">&lt;-</span> <span class="st">"Madrid"</span></span>
<span id="cb655-3"><a href="#cb655-3"></a>variable_3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">26</span>)</span>
<span id="cb655-4"><a href="#cb655-4"></a></span>
<span id="cb655-5"><a href="#cb655-5"></a>lista <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"progenitores"</span> <span class="ot">=</span> variable_1, <span class="st">"lugar_nacimiento"</span> <span class="ot">=</span> variable_2,</span>
<span id="cb655-6"><a href="#cb655-6"></a>              <span class="st">"edades_hermanos"</span> <span class="ot">=</span> variable_3)</span>
<span id="cb655-7"><a href="#cb655-7"></a>lista</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$progenitores
[1] "Paloma"   "Gregorio"

$lugar_nacimiento
[1] "Madrid"

$edades_hermanos
[1] 25 30 26</code></pre>
</div>
</div>
</section>
<section id="introducci√≥n-a-listas-2" class="slide level2">
<h2>Introducci√≥n a listas</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb657"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb657-1"><a href="#cb657-1"></a><span class="fu">length</span>(lista)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>Si observas el objeto que hemos definido como lista, su <span class="hl-yellow"><strong>longitud</strong></span> del es de 3 ya que tenemos <strong>guardados tres elementos</strong>: un vector de caracteres (de longitud 2), un caracter (vector de longitud 1), y un vector de n√∫meros (de longitud 3)</p>
<div class="fragment">
<p>Tenemos guardados elementos de <span class="hl-yellow"><strong>distinto tipo</strong></span> (algo que ya pod√≠amos hacer) pero, adem√°s, de <strong>longitudes dispares</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb659"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb659-1"><a href="#cb659-1"></a><span class="fu">dim</span>(lista) <span class="co"># devolver√° NULL al no tener dos dimensiones</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
<div class="sourceCode cell-code" id="cb661"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb661-1"><a href="#cb661-1"></a><span class="fu">class</span>(lista) <span class="co"># de tipo lista</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
</div>
</div>
</section>
<section id="introducci√≥n-a-listas-3" class="slide level2">
<h2>Introducci√≥n a listas</h2>
<p>Si los junt√°semos con un <code>tibble()</code>, al tener distinta longitud, obtendr√≠amos un <span class="hl-red"><strong>error</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb663"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb663-1"><a href="#cb663-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb663-2"><a href="#cb663-2"></a><span class="fu">tibble</span>(<span class="st">"progenitores"</span> <span class="ot">=</span> variable_1,</span>
<span id="cb663-3"><a href="#cb663-3"></a>       <span class="st">"lugar_nacimiento"</span> <span class="ot">=</span> variable_2,</span>
<span id="cb663-4"><a href="#cb663-4"></a>       <span class="st">"edades_hermanos"</span> <span class="ot">=</span> variable_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `tibble()`:
! Tibble columns must have compatible sizes.
‚Ä¢ Size 2: Existing data.
‚Ä¢ Size 3: Column `edades_hermanos`.
‚Ñπ Only values of size one are recycled.</code></pre>
</div>
</div>
</section>
<section id="introducci√≥n-a-listas-4" class="slide level2">
<h2>Introducci√≥n a listas</h2>
<ul>
<li><span class="hl-yellow"><strong>Acceder por √≠ndice</strong></span>: con el operador <code>[[i]]</code> accedemos al <strong>elemento i-√©simo</strong> de la lista.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb665"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb665-1"><a href="#cb665-1"></a>lista[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Paloma"   "Gregorio"</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Acceder por nombre</strong></span>: con el operador <code>$nombre_elemento</code> accedemos por su nombre.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb667"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb667-1"><a href="#cb667-1"></a>lista<span class="sc">$</span>progenitores</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Paloma"   "Gregorio"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>En contraposici√≥n, el <span class="hl-yellow"><strong>corchete simple</strong></span> nos permite acceder a <span class="hl-yellow"><strong>varios elementos</strong></span> a la vez</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb669"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb669-1"><a href="#cb669-1"></a><span class="co"># Varios elementos</span></span>
<span id="cb669-2"><a href="#cb669-2"></a>lista[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$progenitores
[1] "Paloma"   "Gregorio"

$lugar_nacimiento
[1] "Madrid"</code></pre>
</div>
</div>
</div>
</section>
<section id="salida-m√∫ltiple-1" class="slide level2">
<h2>Salida m√∫ltiple</h2>
<p>Antes nos daba igual el orden de los argumentos pero ahora el <span class="hl-yellow"><strong>orden de los argumentos de entrada importa</strong></span>, ya que en la salida incluimos <code>lado_1</code> y <code>lado_2</code>.</p>
<div class="fragment">
<div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Recomendaci√≥n</strong></p>
</div>
<div class="callout-content">
<p>Es altamente recomendable hacer la llamada a la funci√≥n <span class="hl-yellow"><strong>indicando expl√≠citamente los argumentos</strong></span> para mejorar la <strong>legibilidad e interpretabilidad</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb671"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb671-1"><a href="#cb671-1"></a><span class="co"># Equivalente a calcular_area(5, 3)</span></span>
<span id="cb671-2"><a href="#cb671-2"></a><span class="fu">calcular_area</span>(<span class="at">lado_1 =</span> <span class="dv">5</span>, <span class="at">lado_2 =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$area
[1] 15

$lado_1
[1] 5

$lado_2
[1] 3</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="funciones-generando-conocimiento" class="slide level2">
<h2>Funciones: generando conocimiento</h2>
<p>Parece una tonter√≠a lo que hemos hecho pero hemos cruzado una frontera importante: hemos pasado de <span class="hl-yellow"><strong>consumir conocimiento</strong></span> (c√≥digo de otros paquetes, elaborado por otros/as), a <span class="hl-purple"><strong>generar conocimiento</strong></span>, creando nuestras propias funciones.</p>
</section>
<section id="variables-locales-vs-globales" class="slide level2">
<h2>Variables locales vs globales</h2>
<p>Un aspecto importante sobre el que reflexionar con las funciones: ¬øqu√© sucede si <span class="hl-yellow"><strong>nombramos a una variable dentro</strong></span> de una funci√≥n a la que se nos ha <strong>olvidado asignar</strong> un valor dentro de la misma?</p>
<div class="fragment">
<p>Debemos ser cautos al usar funciones en <code>R</code>, ya que debido a la <span class="hl-yellow"><strong>¬´regla lexicogr√°fica¬ª</strong></span>, si una variable no se define dentro de la funci√≥n, <code>R</code> <span class="hl-purple"><strong>buscar√° dicha variable en el entorno</strong></span> de variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb673"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb673-1"><a href="#cb673-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb673-2"><a href="#cb673-2"></a>funcion_ejemplo <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb673-3"><a href="#cb673-3"></a>    </span>
<span id="cb673-4"><a href="#cb673-4"></a>  <span class="fu">print</span>(x) <span class="co"># No devuelve nada, solo realiza la acci√≥n </span></span>
<span id="cb673-5"><a href="#cb673-5"></a>}</span>
<span id="cb673-6"><a href="#cb673-6"></a><span class="fu">funcion_ejemplo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</div>
</section>
<section id="variables-locales-vs-globales-1" class="slide level2">
<h2>Variables locales vs globales</h2>
<p>Si una variable <span class="hl-yellow"><strong>ya est√° definida fuera de la funci√≥n (entorno global)</strong></span>, y adem√°s es usada dentro de cambiando su valor, el valor <span class="hl-yellow"><strong>solo cambia dentro</strong></span> pero <span class="hl-red"><strong>no en el entorno global</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb675"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb675-1"><a href="#cb675-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb675-2"><a href="#cb675-2"></a>funcion_ejemplo <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb675-3"><a href="#cb675-3"></a>    </span>
<span id="cb675-4"><a href="#cb675-4"></a>  x <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb675-5"><a href="#cb675-5"></a>  <span class="fu">print</span>(x) <span class="co"># lo que vale dentro</span></span>
<span id="cb675-6"><a href="#cb675-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb676"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb676-1"><a href="#cb676-1"></a><span class="co"># lo que vale dentro</span></span>
<span id="cb676-2"><a href="#cb676-2"></a><span class="fu">funcion_ejemplo</span>() <span class="co">#&lt;&lt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb678"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb678-1"><a href="#cb678-1"></a><span class="co"># lo que vale fuera</span></span>
<span id="cb678-2"><a href="#cb678-2"></a><span class="fu">print</span>(x) <span class="co">#&lt;&lt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</section>
<section id="variables-locales-vs-globales-2" class="slide level2">
<h2>Variables locales vs globales</h2>
<p>Si queremos que adem√°s de cambiar localmente lo haga <span class="hl-yellow"><strong>globalmente</strong></span> deberemos usar la <span class="hl-yellow"><strong>doble asignaci√≥n</strong></span> (<code>&lt;&lt;-</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb680"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb680-1"><a href="#cb680-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb680-2"><a href="#cb680-2"></a>y <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb680-3"><a href="#cb680-3"></a>funcion_ejemplo <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb680-4"><a href="#cb680-4"></a>  </span>
<span id="cb680-5"><a href="#cb680-5"></a>  <span class="co"># no cambia globalmente, solo localmente</span></span>
<span id="cb680-6"><a href="#cb680-6"></a>  x <span class="ot">&lt;-</span> <span class="dv">3</span> </span>
<span id="cb680-7"><a href="#cb680-7"></a>  <span class="co"># cambia globalmente</span></span>
<span id="cb680-8"><a href="#cb680-8"></a>  y <span class="ot">&lt;&lt;-</span> <span class="dv">0</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb680-9"><a href="#cb680-9"></a>  </span>
<span id="cb680-10"><a href="#cb680-10"></a>  <span class="fu">print</span>(x)</span>
<span id="cb680-11"><a href="#cb680-11"></a>  <span class="fu">print</span>(y)</span>
<span id="cb680-12"><a href="#cb680-12"></a>}</span>
<span id="cb680-13"><a href="#cb680-13"></a></span>
<span id="cb680-14"><a href="#cb680-14"></a><span class="fu">funcion_ejemplo</span>() <span class="co"># lo que vale dentro</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3
[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb682"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb682-1"><a href="#cb682-1"></a>x <span class="co"># lo que vale fuera</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb684"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb684-1"><a href="#cb684-1"></a>y <span class="co"># lo que vale fuera</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
</section>
<section id="tu-turno-9" class="slide level2">
<h2>üíª Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-15" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-15-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-15-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-15-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-15-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-15-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li><li><a href="#tabset-15-6"><span class="hl-yellow"><strong>Ejercicio 6</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-15-1">
<p>üìù Modifica el c√≥digo inferior para definir una funci√≥n llamada <code>funcion_suma</code>, de forma que dados dos elementos, devuelve su suma.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb686"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb686-1"><a href="#cb686-1"></a>nombre <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb686-2"><a href="#cb686-2"></a>  suma <span class="ot">&lt;-</span> <span class="co"># c√≥digo a ejecutar</span></span>
<span id="cb686-3"><a href="#cb686-3"></a>  <span class="fu">return</span>()</span>
<span id="cb686-4"><a href="#cb686-4"></a>}</span>
<span id="cb686-5"><a href="#cb686-5"></a><span class="co"># Aplicamos la funci√≥n</span></span>
<span id="cb686-6"><a href="#cb686-6"></a><span class="fu">suma</span>(<span class="dv">3</span>, <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb687"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb687-1"><a href="#cb687-1"></a>funcion_suma <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb687-2"><a href="#cb687-2"></a>  suma <span class="ot">&lt;-</span> x <span class="sc">+</span> y</span>
<span id="cb687-3"><a href="#cb687-3"></a>  <span class="fu">return</span>(suma)</span>
<span id="cb687-4"><a href="#cb687-4"></a>}</span>
<span id="cb687-5"><a href="#cb687-5"></a><span class="fu">funcion_suma</span>(<span class="dv">3</span>, <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-15-2">
<p>üìù Modifica el c√≥digo inferior para definir una funci√≥n llamada <code>funcion_producto</code>, de forma que dados dos elementos, devuelve su producto, pero que por defecto calcule el cuadrado</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb688"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb688-1"><a href="#cb688-1"></a>nombre <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb688-2"><a href="#cb688-2"></a>  producto <span class="ot">&lt;-</span> <span class="co"># c√≥digo de la multiplicaci√≥n</span></span>
<span id="cb688-3"><a href="#cb688-3"></a>  <span class="fu">return</span>()</span>
<span id="cb688-4"><a href="#cb688-4"></a>}</span>
<span id="cb688-5"><a href="#cb688-5"></a><span class="fu">producto</span>(<span class="dv">3</span>)</span>
<span id="cb688-6"><a href="#cb688-6"></a><span class="fu">producto</span>(<span class="dv">3</span>, <span class="sc">-</span><span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb689"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb689-1"><a href="#cb689-1"></a>funcion_producto <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">y =</span> x) {</span>
<span id="cb689-2"><a href="#cb689-2"></a>  producto <span class="ot">&lt;-</span> x <span class="sc">*</span> y</span>
<span id="cb689-3"><a href="#cb689-3"></a>  <span class="fu">return</span>(producto)</span>
<span id="cb689-4"><a href="#cb689-4"></a>}</span>
<span id="cb689-5"><a href="#cb689-5"></a><span class="fu">funcion_producto</span>(<span class="dv">3</span>)</span>
<span id="cb689-6"><a href="#cb689-6"></a><span class="fu">funcion_producto</span>(<span class="dv">3</span>, <span class="sc">-</span><span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-15-3">
<p>üìù Define una funci√≥n llamada <code>igualdad_nombres</code> que, dados dos nombres, nos diga si son iguales o no. Hazlo considerando importantes las may√∫sculas, y sin que importen las may√∫sculas. Echa un vistazo al paquete <code>{stringr}</code>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb690"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb690-1"><a href="#cb690-1"></a><span class="co"># Distinguiendo may√∫sculas</span></span>
<span id="cb690-2"><a href="#cb690-2"></a>igualdad_nombres <span class="ot">&lt;-</span> <span class="cf">function</span>(persona_1, persona_2) {</span>
<span id="cb690-3"><a href="#cb690-3"></a>  <span class="fu">return</span>(persona_1 <span class="sc">==</span> persona_2)</span>
<span id="cb690-4"><a href="#cb690-4"></a>}</span>
<span id="cb690-5"><a href="#cb690-5"></a><span class="fu">igualdad_nombres</span>(<span class="st">"Javi"</span>, <span class="st">"javi"</span>)</span>
<span id="cb690-6"><a href="#cb690-6"></a><span class="fu">igualdad_nombres</span>(<span class="st">"Javi"</span>, <span class="st">"Luc√≠a"</span>)</span>
<span id="cb690-7"><a href="#cb690-7"></a></span>
<span id="cb690-8"><a href="#cb690-8"></a><span class="co"># Sin importar may√∫sculas</span></span>
<span id="cb690-9"><a href="#cb690-9"></a>igualdad_nombres <span class="ot">&lt;-</span> <span class="cf">function</span>(persona_1, persona_2) {</span>
<span id="cb690-10"><a href="#cb690-10"></a>  <span class="fu">return</span>(<span class="fu">toupper</span>(persona_1) <span class="sc">==</span> <span class="fu">toupper</span>(persona_2))</span>
<span id="cb690-11"><a href="#cb690-11"></a>}</span>
<span id="cb690-12"><a href="#cb690-12"></a><span class="fu">igualdad_nombres</span>(<span class="st">"Javi"</span>, <span class="st">"javi"</span>)</span>
<span id="cb690-13"><a href="#cb690-13"></a><span class="fu">igualdad_nombres</span>(<span class="st">"Javi"</span>, <span class="st">"Luc√≠a"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-15-4">
<p>üìù Crea una funci√≥n llamada <code>calculo_IMC</code> que, dados dos argumentos (peso y estatura en metros) y un nombre, devuelva una lista con el IMC y el nombre.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb691"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb691-1"><a href="#cb691-1"></a>calculo_IMC <span class="ot">&lt;-</span> <span class="cf">function</span>(nombre, peso, estatura) {</span>
<span id="cb691-2"><a href="#cb691-2"></a>  </span>
<span id="cb691-3"><a href="#cb691-3"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="st">"nombre"</span> <span class="ot">=</span> nombre, <span class="st">"IMC"</span> <span class="ot">=</span> peso<span class="sc">/</span>(estatura<span class="sc">^</span><span class="dv">2</span>)))</span>
<span id="cb691-4"><a href="#cb691-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-15-5">
<p>üìù Repite el ejercicio anterior pero con otro argumento opcional que se llame unidades (por defecto, <code>unidades = "metros"</code>). Desarrolla la funci√≥n de forma que haga lo correcto si <code>unidades = "metros"</code> y si <code>unidades = "cent√≠metros"</code>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb692"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb692-1"><a href="#cb692-1"></a>calculo_IMC <span class="ot">&lt;-</span> <span class="cf">function</span>(nombre, peso, estatura, <span class="at">unidades =</span> <span class="st">"metros"</span>) {</span>
<span id="cb692-2"><a href="#cb692-2"></a>  </span>
<span id="cb692-3"><a href="#cb692-3"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="st">"nombre"</span> <span class="ot">=</span> nombre,</span>
<span id="cb692-4"><a href="#cb692-4"></a>              <span class="st">"IMC"</span> <span class="ot">=</span> peso<span class="sc">/</span>(<span class="fu">if_else</span>(unidades <span class="sc">==</span> <span class="st">"metros"</span>, estatura, estatura<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>)))</span>
<span id="cb692-5"><a href="#cb692-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-15-6">
<p>üìù Crea un tibble ficticio de 7 personas, con tres variables (inventa nombre, y simula peso, estatura en cent√≠metros), y aplica la funci√≥n definida de forma que obtengamos una cuarta columna con su IMC.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb693"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb693-1"><a href="#cb693-1"></a>datos <span class="ot">&lt;-</span></span>
<span id="cb693-2"><a href="#cb693-2"></a>  <span class="fu">tibble</span>(<span class="st">"nombres"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"javi"</span>, <span class="st">"sandra"</span>, <span class="st">"laura"</span>,</span>
<span id="cb693-3"><a href="#cb693-3"></a>                       <span class="st">"ana"</span>, <span class="st">"carlos"</span>, <span class="st">"leo"</span>, <span class="cn">NA</span>),</span>
<span id="cb693-4"><a href="#cb693-4"></a>         <span class="st">"peso"</span> <span class="ot">=</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">7</span>, <span class="at">mean =</span> <span class="dv">70</span>, <span class="at">sd =</span> <span class="dv">1</span>),</span>
<span id="cb693-5"><a href="#cb693-5"></a>         <span class="st">"estatura"</span> <span class="ot">=</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">7</span>, <span class="at">mean =</span> <span class="dv">168</span>, <span class="at">sd =</span> <span class="dv">5</span>))</span>
<span id="cb693-6"><a href="#cb693-6"></a></span>
<span id="cb693-7"><a href="#cb693-7"></a>datos <span class="sc">|&gt;</span> </span>
<span id="cb693-8"><a href="#cb693-8"></a>  <span class="fu">mutate</span>(<span class="at">IMC =</span> <span class="fu">calculo_IMC</span>(nombres, peso, estatura, <span class="at">unidades =</span> <span class="st">"cent√≠metros"</span>)<span class="sc">$</span>IMC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="caso10a" class="slide level2">
<h2>üê£ Caso pr√°ctico 10: funciones</h2>
<p>Define una funci√≥n llamada <code>conversor_temperatura</code> que, dada una temperatura en Fahrenheit, Celsius o Kelvin, la convierta a cualquiera de las otras (piensa que argumentos necesita el usuario). Aplica la funci√≥n a la columna <code>Temp</code> del conjunto <code>airquality</code>, e incorp√≥rala al fichero en una nueva columna <code>Temp_Celsius</code>.</p>
</section>
<section id="caso10b" class="slide level2">
<h2>üê£ Caso pr√°ctico 10: tidyverse</h2>
<p>Acude a <a href="https://cnecovid.isciii.es/covid19/#documentaci%C3%B3n-y-datos" class="uri">https://cnecovid.isciii.es/covid19/#documentaci%C3%B3n-y-datos</a> e importa <code>casos_hosp_uci_def_sexo_edad_provres.csv</code>. Documentaci√≥n en <a href="https://cnecovid.isciii.es/covid19/resources/metadata_casos_hosp_uci_def_sexo_edad_provres.pdf" class="uri">https://cnecovid.isciii.es/covid19/resources/metadata_casos_hosp_uci_def_sexo_edad_provres.pdf</a></p>
<div class="fragment">
<ol type="1">
<li>¬øCu√°ntos casos hay notificados para edad desconocida? ¬øY desagregado por sexo? Recodifica adecuadamente las provincias</li>
</ol>
</div>
<div class="fragment">
<ol start="2" type="1">
<li>Dado su escaso peso en el total, genera una nueva base de datos en la que borremos aquellos registros con franja de edad desconocida.</li>
</ol>
</div>
<div class="fragment">
<ol start="3" type="1">
<li>Con la base de datos generada en el ejercicio anterior, calcula la proporci√≥n de casos con sexo desconocido. Haz lo mismo con provincia desconocida. Elimina dichos registros si el n√∫mero de casos representa menos del 1% (para cada una).</li>
</ol>
</div>
</section>
<section id="caso-pr√°ctico-10-tidyverse" class="slide level2">
<h2>üê£ Caso pr√°ctico 10: tidyverse</h2>
<ol start="4" type="1">
<li>Del dataset anterior, elimina la variables de hospitalizados y UCI. Tras ello renombra las columnas de casos y fallecidos por <code>casos_diarios</code> y <code>fallec_diarios</code>, respectivamente. Tras ello crea dos nuevas variables llamadas <code>casos_acum</code> y otra <code>fallec_acum</code>, que contengan los casos acumulados y fallecidos acumulados para cada fecha, desagregados por provincia, tramo etario y sexo.</li>
</ol>
<div class="fragment">
<ol start="5" type="1">
<li>¬øCu√°les fueron las 7 provincias con m√°s casos a lo largo de toda la pandemia? ¬øY las 5 provincias con menos fallecidos? ¬øY si lo desagregamos por sexo?</li>
</ol>
</div>
</section>
<section id="caso-pr√°ctico-10-tidyverse-1" class="slide level2">
<h2>üê£ Caso pr√°ctico 10: tidyverse</h2>
<ol start="6" type="1">
<li>Define una funci√≥n llamada <code>calculo_letalidad()</code> que, dados como argumentos un vector ordenado (por fecha) de casos y otro de fallecidos, devuelva el % de casos que han fallecido, de manera acumulada en cada fecha. Haz uso de dicha funci√≥n y crea una nueva variable que represente la letalidad, en cada grupo de edad, sexo y provincia.</li>
</ol>
<p>Tras ello, determina las 5 provincias con mayor letalidad en mujeres mayores de 80 a√±os a fecha 01 de marzo de 2022.</p>
</section></section>
<section>
<section id="clase-11-entrega-ii" class="title-slide slide level1 center">
<h1>Clase 11: entrega II</h1>
<p><span style="color:#444442;"><strong>Segunda entrega individual en clase</strong></span></p>
</section>
<section id="entrega-ii" class="slide level2">
<h2>Entrega II</h2>
<p>Se actualizar√° al inicio de la clase correspondiente.</p>
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Importante</strong></p>
</div>
<div class="callout-content">
<p>Esta <span class="hl-green"><strong>entrega ponderar√° un 15% en la nota final</strong></span></p>
<p>Podr√°s <span class="hl-yellow"><strong>usar todo el material del curso e internet</strong></span> salvo cualquier aplicaci√≥n de mensajer√≠a o sistema de comunicaci√≥n: en caso de tener alguna abierta a lo largo de la entrega, aunque no se est√© usando, deber√°s <span class="hl-red"><strong>abandonar la entrega y contar√° como un 0</strong></span>.</p>
<p>Contar√°s en clase con aproximadamente 1 hora y 50 minutos, pero <span class="hl-yellow"><strong>podr√°s realizar la entrega</strong></span>, como tarde, hasta las <span class="hl-yellow"><strong>18:00</strong></span>. Ser√° <span class="hl-yellow"><strong>obligatorio subir tanto el <code>.qmd</code> como el <code>.html</code></strong></span>: una entrega que no haya podido ser renderizada (es decir, con errores graves) ser√° <span class="hl-red"><strong>penalizada contando solo un 65% de la nota obtenida</strong></span> (si la entrega es perfecta, la nota m√°xima ser√° un 6.5 sino se adjunta el <code>.html</code> generado).</p>
<p>Te recomiendo practicar bastante y preguntar dudas en clase y/o tutor√≠a ya que <span class="hl-yellow"><strong>ir√°s justo de tiempo</strong></span>, as√≠ que necesitas fluidez en los ejercicios.</p>
<p>Si usas un <span class="hl-yellow"><strong>pc de la biblioteca</strong></span> aseg√∫rate de tomarlo con suficiente antelaci√≥n para <span class="hl-yellow"><strong>instalar todas las librer√≠as necesarias antes de empezar</strong></span> para no perder tiempo.</p>
<p><span class="hl-red"><strong>Evita copiar</strong></span>: la IA detecta bastante bien el plagio :)</p>
</div>
</div>
</div>
</section></section>
<section>
<section id="clase-12-dataviz" class="title-slide slide level1 center">
<h1>Clase 12: inicio a la visualizaci√≥n</h1>
<p><span style="color:#444442;"><strong>Visualizaci√≥n de datos</strong></span></p>
</section>
<section id="dataviz-historia" class="slide level2">
<h2>Dataviz: historia</h2>
<p>La aparici√≥n de gr√°ficos estad√≠sticos es <span class="hl-yellow"><strong>relativamente reciente en la ciencia</strong></span> ya que hasta la Edad Media la √∫nica visualizaci√≥n estaba en los <span class="hl-yellow"><strong>mapas</strong></span>. <sup>1</sup> Las propias palabras <em>chart</em> y <em>cartography</em> derivan del mismo origen latino, <em>charta</em>, aunque el primer uso de coordenadas viene de los egipcios. <sup>2</sup> <sup>3</sup></p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:55%;">
<p>No es hasta la Edad Media, cuando la <span class="hl-yellow"><strong>navegaci√≥n y la astronom√≠a</strong></span> empezaban a tomar relevancia, cuando aparece la primera gr√°fica (no propiamente estad√≠stica), del <strong>movimiento c√≠clico de los planetas</strong> (siglos X y XI)</p>
</div><div class="column" style="width:45%;">
<p><img data-src="img/dataviz_historico_1.png" width="370"></p>
</div>
</div>
</div>
<aside><ol class="aside-footnotes"><li id="fn1"><p><a href="http://academica-e.unavarra.es/bitstream/handle/2454/15785/Gram%C3%A1tica.pdf">¬´Gram√°tica de las gr√°ficas: pistas para mejorar las representaciones de datos¬ª de Joaqu√≠n Sevilla</a></p></li><li id="fn2"><p><a href="https://www.cs.uic.edu/~wilkinson/Publications/iesbs.pdf">¬´Presentation Graphics¬ª de Leland Wilkinson. International Encyclopedia of the Social &amp; Behavioral Sciences</a></p></li><li id="fn3"><p><a href="https://www.jstor.org/stable/2683467">¬´Quantitative Graphics in Statistics: A Brief History¬ª de James R. Beniger y Dorothy L. Robyn. The American Statistician (1978)</a>]</p></li></ol></aside></section>
<section id="navegaci√≥n-y-astronom√≠a" class="slide level2">
<h2>Navegaci√≥n y astronom√≠a</h2>
<p>Con una motivaci√≥n similar, en torno a 1360 el matem√°tico <strong>Nicole Oresme</strong> dise√±√≥ el <span class="hl-yellow"><strong>primer gr√°fico de barras</strong></span> (pero no estad√≠stico), con la idea de visualizar a la vez dos <strong>magnitudes f√≠sicas te√≥ricas</strong>. <sup>1</sup></p>
<p><img data-src="img/dataviz_historico_2.jpeg" width="300"></p>
<aside><ol class="aside-footnotes"><li id="fn4"><p><a href="https://www.researchgate.net/publication/227369016_The_First_Known_Statistical_Graph_Michael_Florent_van_Langren_and_the_Secret_of_Longitude">¬´The First (Known) Statistical Graph: Michael Florent van Langren and the ‚ÄòSecret‚Äô of Longitude¬ª de M. Friendly y P. M. Valero-Mora. The American Statistician (2010)</a></p></li></ol></aside></section>
<section id="primer-gr√°fico-estad√≠stico" class="slide level2">
<h2>Primer gr√°fico estad√≠stico</h2>
<p>La mayor√≠a de expertos, como Tufte <sup>1</sup> <sup>2</sup>, consideran este gr√°fico casi longitudinal como la <span class="hl-yellow"><strong>primera visualizaci√≥n de datos</strong></span> de la historia, hecha por <strong>Van Langren</strong> en 1644, representando la <span class="hl-yellow"><strong>distancia entre Toledo y Roma</strong></span>.</p>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="./img/longitud_dataviz.jpg" width="546"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="./img/dataviz_historico_3.jpeg" width="557"></p>
</div>
</div>
<aside><ol class="aside-footnotes"><li id="fn5"><p><a href="https://archive.org/details/visualexplanatio00tuft">¬´Visual explanations: images and quantities, evidence and narrative¬ª de E. Tufte</a></p></li><li id="fn6"><p><a href="https://www.wired.com/2003/09/ppt2/">¬´PowerPoint is evil¬ª de E. Tufte</a></p></li></ol></aside></section>
<section id="qu√©-es-una-dataviz" class="slide level2">
<h2>¬øQu√© es una dataviz?</h2>
<p>¬øEs una gr√°fica estad√≠stica? ¬øPor qu√© s√≠ o por qu√© no?</p>

<img data-src="img/cuadro_dataviz.jpg" class="r-stretch"><div class="fragment">
<p>No hay <span class="hl-red"><strong>ninguna INFORMACI√ìN</strong></span> representada</p>
</div>
</section>
<section id="qu√©-es-una-dataviz-1" class="slide level2">
<h2>¬øQu√© es una dataviz?</h2>
<p>¬øEs una gr√°fica estad√≠stica? ¬øPor qu√© s√≠ o por qu√© no?</p>

<img data-src="img/horoscopo_dataviz.jpg" class="r-stretch"><div class="fragment">
<p>No hay <span class="hl-red"><strong>ning√∫n PROCESO DE MEDIDA</strong></span> representado, no cuantifica nada (real).</p>
</div>
</section>
<section id="qu√©-es-una-dataviz-2" class="slide level2">
<h2>¬øQu√© es una dataviz?</h2>
<p>¬øEs una gr√°fica estad√≠stica? ¬øPor qu√© s√≠ o por qu√© no?</p>

<img data-src="img/celsius_dataviz.jpg" class="r-stretch"><div class="fragment">
<p>No hay <span class="hl-red"><strong>ning√∫n DATO</strong></span> representado en √©l, es una magnitud f√≠sica te√≥rica, no un dato (medido emp√≠ricamente o simulado).</p>
</div>
</section>
<section id="qu√©-es-una-dataviz-3" class="slide level2">
<h2>¬øQu√© es una dataviz?</h2>
<p>Esas mismas preguntas se hizo <strong>Joaqu√≠n Sevilla</strong> <sup>1</sup>, proporcionando <span class="hl-yellow"><strong>3 requisitos</strong></span>:</p>
<div class="fragment">
<ol type="1">
<li>Que se base en el esquema de composici√≥n de <span class="hl-yellow"><strong>eje m√©trico</strong></span> (proceso de medida): debe <span class="hl-yellow"><strong>medir algo</strong></span>.</li>
</ol>
</div>
<div class="fragment">
<ol start="2" type="1">
<li>Debe incluir <span class="hl-yellow"><strong>informaci√≥n estad√≠stica (datos)</strong></span></li>
</ol>
</div>
<div class="fragment">
<ol start="3" type="1">
<li>La <span class="hl-yellow"><strong>relaci√≥n de representatividad</strong></span> debe ser <span class="hl-purple"><strong>reversible</strong></span>: los datos deber√≠an poder ¬´recuperarse¬ª a partir de la gr√°fica .</li>
</ol>
</div>
<aside><ol class="aside-footnotes"><li id="fn7"><p><a href="http://academica-e.unavarra.es/bitstream/handle/2454/15785/Gram%C3%A1tica.pdf">¬´Gram√°tica de las gr√°ficas: pistas para mejorar las representaciones de datos¬ª de Joaqu√≠n Sevilla</a></p></li></ol></aside></section>
<section id="abolici√≥n-de-tartas" class="slide level2">
<h2>Abolici√≥n de tartas</h2>
<p>Hay muchas formas de hacer una gr√°fica estad√≠stica, y no suele pasar por un <span class="hl-yellow"><strong>gr√°fico de tartas</strong></span> ya que tienen un grave <span class="hl-red"><strong>problema de reversibilidad</strong></span>:</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Si hay <strong>muchas variables</strong>: salvo que tengas transportador de √°ngulos‚Ä¶</p></li>
<li><p>Si hay <strong>pocas variables</strong>: ¬øaporta algo distinto (y/o mejor) que una tabla?</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="img/sectores_muchas_categoriÃÅas.png"></p>
</div>
</div>
</div>
</section>
<section id="abolici√≥n-de-tartas-1" class="slide level2">
<h2>Abolici√≥n de tartas</h2>
<p>El principal problema de un diagrama de sectores es que la posible informaci√≥n est√° <span class="hl-yellow"><strong>contenida en los √°ngulos</strong></span>, pero nuestra interpretaci√≥n la realizamos a trav√©s de la <span class="hl-yellow"><strong>comparaci√≥n de √°reas</strong></span> (nuestros ojos no miden bien √°ngulos), las cuales dependen no solo del √°ngulo sino del radio.</p>
<p>&nbsp;</p>
<p>Algo similar sucede con los mal llamados <span class="hl-yellow"><strong>gr√°ficos tridimensionales</strong></span> (son bidimensionales con perspectiva en realidad): los valores m√°s cercanos aparecen sobredimensionados, siendo pr√°cticamente imposible la reversibilidad por la <span class="hl-yellow"><strong>distorsi√≥n</strong></span>.</p>
</section>
<section id="vizfails" class="slide level2">
<h2>Vizfails</h2>
<div class="columns">
<div class="column" style="width:55%;">
<p><img data-src="img/persona_dataviz.jpg"></p>
</div><div class="column" style="width:45%;">
<ul>
<li><p>La figura elegida (persona caminando) sin relaci√≥n con lo visualizado: <span class="hl-red"><strong>mala met√°fora</strong></span>.</p></li>
<li><p>Los <span class="hl-red"><strong>sectores se√±alados sin relaci√≥n con el √≠tem</strong></span> a representar, lo que dificulta su interpretaci√≥n.</p></li>
<li><p>Los <span class="hl-red"><strong>colores sin codificar</strong></span>: no dan informaci√≥n de ning√∫n tipo.</p></li>
<li><p>Las <span class="hl-red"><strong>formas irregulares impiden la comparaci√≥n</strong></span> de las √°reas (am√©n de que la suma total supera el 100%).</p></li>
<li><p><strong>Sin fuente</strong></p></li>
</ul>
</div>
</div>
</section>
<section id="vizfails-1" class="slide level2">
<h2>Vizfails</h2>

<img data-src="img/viz_fail_covid.jpg" class="r-stretch"></section>
<section id="vizfails-2" class="slide level2">
<h2>Vizfails</h2>

<img data-src="img/viz_fail_uk.jpg" class="r-stretch"></section>
<section id="la-importancia-del-contexto" class="slide level2">
<h2>La importancia del CONTEXTO</h2>
<p>Una <strong>buena idea</strong> puede estar mal ejecutada: la forma de llevarla a cabo es importante</p>

<img data-src="img/semaforos.jpg" class="r-stretch"></section>
<section id="dataviz-historia-1" class="slide level2">
<h2>Dataviz: historia</h2>
<p>En el siglo XVII hubo un boom de la estad√≠stica al empezar a aplicarse en <span class="hl-yellow"><strong>demograf√≠a</strong></span>. Uno de los autores m√°s importantes fue <span class="hl-purple"><strong>J. Graunt</strong></span>, autor de ¬´Natural and Political Observations Made upon the Bills of Mortality¬ª (1662), estimando la poblaci√≥n de Londres con las <span class="hl-yellow"><strong>primeras tablas de natalidad y mortalidad</strong></span>.</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<p>Son precisamente las tablas de Graunt las que us√≥ <span class="hl-yellow"><strong>Christiaan Huygens</strong></span> para generar la <span class="hl-yellow"><strong>primera gr√°fica de densidad</strong></span> de una distribuci√≥n continua (esperanza de vida vs edad).</p>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./img/primera_densidad.jpg" style="width:100.0%"></p>
<p></p><figcaption>Primera funci√≥n de densidad, extra√≠da de https://omeka.lehigh.edu/exhibits/show/data_visualization/vital_statistics/huygen</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="gr√°ficos-de-playfair" class="slide level2">
<h2>Gr√°ficos de Playfair</h2>
<p>La figura que cambi√≥ el dataviz fue, sin lugar a dudas, el economista y pol√≠tico <span class="hl-yellow"><strong>William Playfair (1759-1823)</strong></span>, publicando en 1786 el <strong>¬´Atlas pol√≠tico y comercial¬ª</strong> <sup>1</sup> <sup>2</sup> con 44 gr√°ficas (43 series temporales y el diagrama de barras m√°s famoso de la historia).</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./img/playfair_1.jpg" style="width:70.0%"></p>
<p></p><figcaption>Extra√≠das de Funkhouser y Walker (1935)</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./img/playfair_2.jpg" style="width:25.0%"></p>
<p></p><figcaption>Extra√≠das de Funkhouser y Walker (1935)</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside><ol class="aside-footnotes"><li id="fn8"><p><a href="https://www.jstor.org/stable/45366440">¬´Playfair and his charts¬ª de H. Gray Funkhouser and Helen M. Walker (1935)</a></p></li><li id="fn9"><p><a href="http://onlinebooks.library.upenn.edu/webbin/book/lookupid?key=ha009726110">¬´A Letter on Our Agricultural Distresses, Their Causes and Remedies¬ª de W. Playfair (1821)</a></p></li></ol></aside></section>
<section id="gr√°ficos-de-playfair-1" class="slide level2">
<h2>Gr√°ficos de Playfair</h2>
<p>Playfair no solo fue el primero en usar el dataviz para entender (y no solo describir): fue el primero en usar <span class="hl-yellow"><strong>conceptos modernos</strong></span> como <em>grid</em>, tema o color</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./img/playfair_3.jpg" style="width:90.0%"></p>
<p></p><figcaption>Extra√≠da de https://friendly.github.io/HistDataVis</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./img/playfair_4.png" style="width:90.0%"></p>
<p></p><figcaption>Extra√≠da de la wikipedia.</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="gr√°ficos-de-playfair-2" class="slide level2">
<h2>Gr√°ficos de Playfair</h2>
<p>Playfair es adem√°s el autor del <span class="hl-yellow"><strong>gr√°fico de barras m√°s famoso</strong></span> (no fue el primero pero s√≠ quien lo hizo <em>mainstream</em>).</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./img/playfair_5.jpg" style="width:90.0%"></p>
<p></p><figcaption>Gr√°ficas de Playfair de importaciones (barras grises) y exportaciones (negras) de Escocia en 1781, extra√≠das de la wikipedia.</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./img/playfair_6.jpg" style="width:90.0%"></p>
<p></p><figcaption>Primer diagrama de barras (P. Buache y G. de L‚ÄôIsle), visualizando los niveles del Sena (1732 - 1766), extra√≠da de https://friendly.github.io/HistDataVis</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="gr√°ficos-de-playfair-3" class="slide level2">
<h2>Gr√°ficos de Playfair</h2>
<p>Playfair adem√°s fue el primero en <span class="hl-yellow"><strong>combinar gr√°ficos en la misma visualizaci√≥n</strong></span> <sup>1</sup> <sup>2</sup></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./img/playfair_7.jpg" style="width:85.0%"></p>
<p></p><figcaption>Visualiza 3 series temporales: precios (barras) del trigo, salarios (l√≠nea) y time-line con reinados, extra√≠da de https://friendly.github.io/HistDataVis.</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./img/playfair_8.png" style="width:85.0%"></p>
<p></p><figcaption>Time-line hist√≥rico, extra√≠da de https://friendly.github.io/HistDataVis.</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside><ol class="aside-footnotes"><li id="fn10"><p><a href="http://onlinebooks.library.upenn.edu/webbin/book/lookupid?key=ha009726110">¬´A Letter on Our Agricultural Distresses, Their Causes and Remedies¬ª de W. Playfair (1821)</a></p></li><li id="fn11"><p><a href="https://www.amazon.com/Permanent-Powerful-Nations-Prosperity-Prolonged/dp/140691830X">¬´An Inquiry Into the Permanent Causes of the Decline and Fall of Powerful and Wealthy Nations¬ª de William Playfair (1821)</a></p></li></ol></aside></section>
<section id="mapas-de-minard" class="slide level2">
<h2>Mapas de Minard</h2>
<p>Otro pionero en <span class="hl-yellow"><strong>combinar visualizaciones</strong></span> fue Minard, autor del famoso ¬´Carte figurative des pertes successives en hommes de l‚ÄôArm√©e Fran√ßaise dans la campagne de Russie 1812-1813¬ª, seg√∫n Tufte <span class="hl-yellow"><strong>¬´el mejor gr√°fico estad√≠stico jam√°s dibujado¬ª</strong></span>, publicado en 1869 sobre la desastrosa campa√±a rusa de Napole√≥n en 1812 (3 variables en un gr√°fico bidimensional)</p>

<img data-src="./img/minard_2.png" style="width:60.0%" class="r-stretch quarto-figure-center"><p class="caption">Extra√≠da de https://friendly.github.io/HistDataVis.</p></section>
<section id="primer-scatter-plot" class="slide level2">
<h2>Primer scatter plot</h2>
<p>Seg√∫n J. Sevilla, se considera al astr√≥nomo brit√°nico <strong>John Frederick William Herschel</strong> el autor del <span class="hl-yellow"><strong>primer diagrama de dispersi√≥n o scatterplot</strong></span> en 1833, visualizando el movimiento de la estrella doble Virginis (tiempo en el eje horizontal, posici√≥n angular en el eje vertical)</p>

<img data-src="./img/herschel.jpg" style="width:35.0%" class="r-stretch quarto-figure-center"><p class="caption">Extra√≠do de https://friendly.github.io/HistDataVis.</p></section>
<section id="primera-pir√°mide-poblacional" class="slide level2">
<h2>Primera pir√°mide poblacional</h2>
<p>La <span class="hl-yellow"><strong>primera pir√°mide de poblaci√≥n</strong></span> (doble histograma de poblaci√≥n), fue publicada por <strong>Francis Amasa Walker</strong>, superintendente del censo de EE.UU., en 1874.</p>

<img data-src="./img/walker_piramide.jpg" style="width:45.0%" class="r-stretch quarto-figure-center"><p class="caption">Extra√≠da de https://www.depauw.edu/learn/dew/wpaper/workingpapers/DePauw2016-02-Barreto-DemographyEconomics.pdf</p></section>
<section id="florence-nigthingale" class="slide level2">
<h2>Florence Nigthingale</h2>
<div class="columns">
<div class="column" style="width:65%;">
<ul>
<li><p>El 21 de octubre de 1854 <span class="hl-yellow"><strong>Florence Nigthingale</strong></span> fue enviada para mejorar las <strong>condiciones sanitarias</strong> de los soldados brit√°nicos en la guerra de Crimea.</p></li>
<li><p>A su regreso demostr√≥ que los <span class="hl-yellow"><strong>soldados fallec√≠an por las condiciones sanitarias</strong></span>. Nigthingale es la creadora del famoso <span class="hl-yellow"><strong>diagrama de rosa</strong></span>, visualizando tres variables a la vez y su estacionalidad.</p></li>
<li><p>El 8 de febrero de 1955, The Times la describi√≥ como la <strong>¬´√°ngel guardi√°n¬ª de los hospitales</strong>, y acab√≥ siendo conocida como <span class="hl-yellow"><strong>¬´The Lady with the Lamp¬ª</strong></span> tras un poema de H. W. Longfellow (1857).</p></li>
<li><p>A√±os despu√©s se convirti√≥ en la <span class="hl-yellow"><strong>primera mujer en la Royal Statistical Society</strong></span>.</p></li>
</ul>
</div><div class="column" style="width:35%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./img/the_lady_with_the_lamp.png" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="diagrama-de-rosa" class="slide level2">
<h2>Diagrama de rosa</h2>
<p>Florence Nigthingale es la creadora del famoso <span class="hl-yellow"><strong>diagrama de rosa</strong></span>, permitiendo pintar <span class="hl-yellow"><strong>tres variables a la vez y su estacionalidad</strong></span>: <strong>tiempo</strong> (cada <strong>gajo</strong> es un mes), <strong>n¬∫ de muertes</strong> (<strong>√°rea</strong> del gajo) y <strong>causa</strong> de la muerte (<strong>color</strong> del gajo: azules enfermedades infecciosas, rojas por heridas, negras otras causas).</p>

<img data-src="./img/rosa_nightingale.jpg" style="width:75.0%" class="r-stretch quarto-figure-center"></section>
<section id="recursos-de-dataviz" class="slide level2">
<h2>Recursos de dataviz</h2>
<p>üìö <a href="https://www.amazon.es/Functional-Art-Voices-That-Matter/dp/0321834739">¬´The Functional Art: an introduction to information graphics and visualization¬ª de Alberto Cairo</a></p>
<p>üìö <a href="https://academica-e.unavarra.es/bitstream/handle/2454/15785/Gram%C3%A1tica.pdf">¬´Gram√°tica de las gr√°ficas: pistas para mejorar las representaciones de datos¬ª de Joaqu√≠n Sevilla</a></p>
<p>üìö <a href="https://www.researchgate.net/publication/226400313_A_Brief_History_of_Data_Visualization">¬´A Brief History of Visualization¬ª de Friendly et al.&nbsp;(2008)</a></p>
<p>üìö <a href="https://www.jstor.org/stable/2683467">¬´Quantitative Graphics in Statistics: A Brief History¬ª de James R. Beniger y Dorothy L. Robyn. The American Statistician (1978)</a>]</p>
<p>üìö <a href="https://www.cs.uic.edu/~wilkinson/Publications/iesbs.pdf">¬´Presentation Graphics¬ª de Leland Wilkinson. International Encyclopedia of the Social &amp; Behavioral Sciences</a></p>
<p>üìö <a href="https://www.amazon.es/Grammar-Graphics-Statistics-Computing/dp/0387245448">¬´The Grammar of Graphics¬ª de Leland Wilkinson</a></p>
<p>üìö <a href="https://www.amazon.es/gp/product/1616896337/ref=sw_img_1?smid=A1AT7YVPFBWXBL&amp;psc=1">¬´The Minard System: The Graphical Works of Charles-Joseph Minard¬ª de Sandra Rendgen</a></p>
<p>üìö <a href="https://www.amazon.es/Visual-Display-Quantitative-Information/dp/0961392142">¬´The Visual Display of Quantitative Information¬ª de E. W. Tufte</a></p>
</section>
<section id="dataviz-en-r-ggplot2" class="slide level2">
<h2>Dataviz en R: ggplot2</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>El paquete <code>{ggplot2}</code> se basa en la idea de Wilkinson en <span class="hl-yellow"><strong>¬´Grammar of graphics¬ª</strong></span>: dotar a los gr√°ficos de una gram√°tica propia. Una de las principales fortalezas de <code>R</code> es la <span class="hl-yellow"><strong>visualizaci√≥n</strong></span> con <code>{ggplot2}</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb694"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb694-1"><a href="#cb694-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>La <span class="hl-yellow"><strong>visualizaci√≥n de datos</strong></span> deber√≠a ser una parte fundamental de todo an√°lisis de datos. No es solo una cuesti√≥n est√©tica.</p>
</div><div class="column" style="width:50%;">
<p><img data-src="img/telling_dataviz.jpg" width="400"></p>
</div>
</div>
</section>
<section id="dataviz-en-r-ggplot2-1" class="slide level2">
<h2>Dataviz en R: ggplot2</h2>
<p>La filosof√≠a detr√°s de <code>{ggplot2}</code> es entender los <span class="hl-yellow"><strong>gr√°ficos como parte del flujo</strong></span> de trabajo, dot√°ndoles de una <span class="hl-yellow"><strong>gram√°tica</strong></span>. El objetivo es empezar con un lienzo en blanco e ir <span class="hl-yellow"><strong>a√±adiendo capas a tu gr√°fico</strong></span>. La ventaja de <code>{ggplot2}</code> es poder <span class="hl-purple"><strong>mapear atributos est√©ticos</strong></span> (color, forma, tama√±o) de objetos geom√©tricos (puntos, barras, l√≠neas) en funci√≥n de los datos.</p>
<p>&nbsp;</p>
<p>La <strong>documentaci√≥n</strong> del paquete puedes consultarla en <a href="https://ggplot2-book.org/introduction.html" class="uri">https://ggplot2-book.org/introduction.html</a></p>

<img data-src="img/grammar_ggplot2.jpg" class="r-stretch"></section>
<section id="dataviz-en-r-ggplot2-2" class="slide level2">
<h2>Dataviz en R: ggplot2</h2>

<img data-src="img/tarta_ggplot2.png" class="r-stretch"></section>
<section id="dataviz-en-r-ggplot2-3" class="slide level2">
<h2>Dataviz en R: ggplot2</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><img data-src="img/tarta_recortada_ggplot2.jpg"></p>
</div><div class="column" style="width:60%;">
<p>Un gr√°fico se podr√° componer de <span class="hl-yellow"><strong>capas</strong></span></p>
<ul>
<li><span class="hl-purple"><strong>Datos (data)</strong></span></li>
<li><span class="hl-purple"><strong>Mapeado (aesthetics)</strong></span> de elementos est√©ticos: ejes, color, forma, etc (en funci√≥n de los datos)</li>
<li><span class="hl-purple"><strong>Geometr√≠a (geom)</strong></span>: puntos, l√≠neas, barras, pol√≠gonos, etc.</li>
<li><span class="hl-purple"><strong>Componer gr√°ficas (facet)</strong></span></li>
<li><span class="hl-purple"><strong>Transformaciones (stat)</strong></span>: ordenar, resumir, etc.</li>
<li><span class="hl-purple"><strong>Coordenadas (coord)</strong></span>: coordenadas cartesianas, polares, grids, etc.</li>
<li><span class="hl-purple"><strong>Temas (theme)</strong></span>: fuente, tama√±o de letra, subt√≠tulos, captions, leyenda, ejes, etc.</li>
</ul>
</div>
</div>
</section>
<section id="primer-intento-scatter-plot" class="slide level2">
<h2>Primer intento: scatter plot</h2>
<p>Veamos un <strong>primer intento</strong> para entender la filosof√≠a ggplot. Imagina que queremos dibujar un <span class="hl-yellow"><strong>scatter plot</strong></span> (diagrama de dispersi√≥n de puntos). Para ello vamos a usar el conjunto de datos <code>gapminder</code>, del paquete hom√≥nimo: un fichero con <strong>datos de esperanzas de vida, poblaciones y renta per c√°pita</strong> de distintos pa√≠ses en distintos momentos temporales.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb695"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb695-1"><a href="#cb695-1"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb695-2"><a href="#cb695-2"></a>gapminder</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 √ó 6
   country     continent  year lifeExp      pop gdpPercap
   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1 Afghanistan Asia       1952    28.8  8425333      779.
 2 Afghanistan Asia       1957    30.3  9240934      821.
 3 Afghanistan Asia       1962    32.0 10267083      853.
 4 Afghanistan Asia       1967    34.0 11537966      836.
 5 Afghanistan Asia       1972    36.1 13079460      740.
 6 Afghanistan Asia       1977    38.4 14880372      786.
 7 Afghanistan Asia       1982    39.9 12881816      978.
 8 Afghanistan Asia       1987    40.8 13867957      852.
 9 Afghanistan Asia       1992    41.7 16317921      649.
10 Afghanistan Asia       1997    41.8 22227415      635.
# ‚Ñπ 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="primer-intento-scatter-plot-1" class="slide level2">
<h2>Primer intento: scatter plot</h2>
<p>El fichero consta de 1704 registros y 6 variables: <code>country</code>, <code>continent</code>, <code>year</code>, <code>lifeExp</code> (esperanza de vida), <code>pop</code> (poblaci√≥n) y <code>gdpPercap</code> (renta per c√°pita).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb697"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb697-1"><a href="#cb697-1"></a><span class="fu">glimpse</span>(gapminder)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,704
Columns: 6
$ country   &lt;fct&gt; "Afghanistan", "Afghanistan", "Afghanistan", "Afghanistan", ‚Ä¶
$ continent &lt;fct&gt; Asia, Asia, Asia, Asia, Asia, Asia, Asia, Asia, Asia, Asia, ‚Ä¶
$ year      &lt;int&gt; 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, ‚Ä¶
$ lifeExp   &lt;dbl&gt; 28.801, 30.332, 31.997, 34.020, 36.088, 38.438, 39.854, 40.8‚Ä¶
$ pop       &lt;int&gt; 8425333, 9240934, 10267083, 11537966, 13079460, 14880372, 12‚Ä¶
$ gdpPercap &lt;dbl&gt; 779.4453, 820.8530, 853.1007, 836.1971, 739.9811, 786.1134, ‚Ä¶</code></pre>
</div>
</div>
<p>Para empezar con algo sencillo <span class="hl-yellow"><strong>filtraremos solo los datos de 1997</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb699"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb699-1"><a href="#cb699-1"></a>gapminder_1997 <span class="ot">&lt;-</span></span>
<span id="cb699-2"><a href="#cb699-2"></a>  gapminder <span class="sc">|&gt;</span></span>
<span id="cb699-3"><a href="#cb699-3"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">1997</span>) <span class="sc">|&gt;</span> </span>
<span id="cb699-4"><a href="#cb699-4"></a>  <span class="fu">drop_na</span>(gdpPercap, lifeExp, pop)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ingredientes-x-y" class="slide level2">
<h2>Ingredientes: (x, y)</h2>
<p>¬øQu√© <span class="hl-yellow"><strong>elementos necesitamos</strong></span> para realizar un diagrama de puntos? Para <span class="hl-p√πrple"><strong>iniciar el lienzo</strong></span> necesitamos una base de datos y dos variables a representar.</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li><p><span class="hl-yellow"><strong>Datos (data)</strong></span>: conjunto <code>gapminder_1997</code>.</p></li>
<li><p><span class="hl-yellow"><strong>Mapeado</strong></span>: indicar dentro de <code>aes()</code> (aesthetics) las variables en cada coordenada. Todo <span class="hl-purple"><strong>dentro de aes() ser√° mapeado de los datos</strong></span></p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb700"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb700-1"><a href="#cb700-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder_1997,</span>
<span id="cb700-2"><a href="#cb700-2"></a>       <span class="fu">aes</span>(<span class="at">x =</span> gdpPercap, <span class="at">y =</span> pop))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-476-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="primera-geometr√≠a-geom_point" class="slide level2">
<h2>Primera geometr√≠a: geom_point()</h2>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li><span class="hl-yellow"><strong>Geometr√≠a (geom)</strong></span>: optaremos por <strong>puntos</strong> usando <code>geom_point()</code>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb701"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb701-1"><a href="#cb701-1"></a><span class="fu">ggplot</span>(gapminder_1997,</span>
<span id="cb701-2"><a href="#cb701-2"></a>       <span class="fu">aes</span>(<span class="at">x =</span> gdpPercap, <span class="at">y =</span> pop)) <span class="sc">+</span></span>
<span id="cb701-3"><a href="#cb701-3"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-478-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="rol-de-os-ejes-x-y" class="slide level2">
<h2>Rol de os ejes: (x, y)</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>Vamos a profundizar en ese mapeado: ¬øc√≥mo <span class="hl-yellow"><strong>cambiar el rol</strong></span> de los ejes (poblaci√≥n en el eje X y renta per c√°pita en el eje Y)?</p>
<ul>
<li><strong>Eje X</strong>: poblaci√≥n (variable <code>pop</code>)</li>
<li><strong>Eje Y</strong>: renta per c√°pita (variable <code>gdpPercap</code>)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb702"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb702-1"><a href="#cb702-1"></a><span class="fu">ggplot</span>(gapminder_1997,</span>
<span id="cb702-2"><a href="#cb702-2"></a>       <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> pop)) <span class="sc">+</span></span>
<span id="cb702-3"><a href="#cb702-3"></a>  <span class="fu">geom_point</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-480-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="rol-de-os-ejes-x-y-1" class="slide level2">
<h2>Rol de os ejes: (x, y)</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>¬øY un scatter plot con <strong>esperanza de vida</strong> en eje X frente a <strong>renta per c√°pita</strong>?</p>
<ul>
<li><strong>Eje X</strong>: esperanza de vida (variable <code>lifeExp</code>)</li>
<li><strong>Eje Y</strong>: renta per c√°pita (variable <code>gdpPercap</code>)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb703"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb703-1"><a href="#cb703-1"></a><span class="fu">ggplot</span>(gapminder_1997,</span>
<span id="cb703-2"><a href="#cb703-2"></a>       <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb703-3"><a href="#cb703-3"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-482-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="color-size-shape-fijos" class="slide level2">
<h2>Color, size, shape: fijos</h2>
<p>Dentro de <code>geom_point()</code> tenemos varios argumentos a usar:</p>
<ul>
<li><p><code>na.rm = ...</code>: si queremos que nos quite ausentes.</p></li>
<li><p><code>color = ...</code>: color (si tiene dimensi√≥n, color del contorno)</p></li>
<li><p><code>fill = ...</code>: color del relleno.</p></li>
</ul>
<div class="fragment">
<div class="columns">
<div class="column" style="width:45%;">
<p>Empezaremos por un <span class="hl-yellow"><strong>color fijo</strong></span>, por ejemplo <code>"red"</code> (existen otros como <code>"blue"</code>, <code>"black"</code>, <code>"yellow"</code>, etc)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb704"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb704-1"><a href="#cb704-1"></a><span class="fu">ggplot</span>(gapminder_1997,</span>
<span id="cb704-2"><a href="#cb704-2"></a>       <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb704-3"><a href="#cb704-3"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-484-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="color-size-shape-fijos-1" class="slide level2">
<h2>Color, size, shape: fijos</h2>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li><code>size = ...</code>: tama√±o de la geometr√≠a (en este caso el <span class="hl-yellow"><strong>tama√±o de los puntos</strong></span>), cuanto mayor sea el n√∫mero, mayor ser√° el tama√±o de la geometr√≠a.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb705"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb705-1"><a href="#cb705-1"></a><span class="fu">ggplot</span>(gapminder_1997,</span>
<span id="cb705-2"><a href="#cb705-2"></a>       <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb705-3"><a href="#cb705-3"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">7</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-486-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="color-size-shape-fijos-2" class="slide level2">
<h2>Color, size, shape: fijos</h2>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li><code>alpha = ...</code>: grado de opacidad del color (1 totalmente opaco, 0 totalmente transparente)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb706"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb706-1"><a href="#cb706-1"></a><span class="fu">ggplot</span>(gapminder_1997,</span>
<span id="cb706-2"><a href="#cb706-2"></a>       <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb706-3"><a href="#cb706-3"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">7</span>,</span>
<span id="cb706-4"><a href="#cb706-4"></a>             <span class="at">alpha =</span> <span class="fl">0.4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-488-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="color-size-shape-fijos-3" class="slide level2">
<h2>Color, size, shape: fijos</h2>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li><code>shape = ...</code>: forma de la geometr√≠a, en este caso del ¬´punto¬ª (ver todas las opciones en <code>vignette("ggplot2-specs")</code>)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb707"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb707-1"><a href="#cb707-1"></a><span class="fu">ggplot</span>(gapminder_1997,</span>
<span id="cb707-2"><a href="#cb707-2"></a>       <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb707-3"><a href="#cb707-3"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>,</span>
<span id="cb707-4"><a href="#cb707-4"></a>             <span class="at">fill =</span> <span class="st">"black"</span>,</span>
<span id="cb707-5"><a href="#cb707-5"></a>             <span class="at">size =</span> <span class="dv">7</span>,</span>
<span id="cb707-6"><a href="#cb707-6"></a>             <span class="at">alpha =</span> <span class="fl">0.4</span>,</span>
<span id="cb707-7"><a href="#cb707-7"></a>             <span class="at">shape =</span> <span class="dv">23</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-490-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="color-size-shape-fijos-4" class="slide level2">
<h2>Color, size, shape: fijos</h2>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li><code>stroke = ...</code>: tama√±o del contorno</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb708"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb708-1"><a href="#cb708-1"></a><span class="fu">ggplot</span>(gapminder_1997,</span>
<span id="cb708-2"><a href="#cb708-2"></a>       <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb708-3"><a href="#cb708-3"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">7</span>,</span>
<span id="cb708-4"><a href="#cb708-4"></a>             <span class="at">alpha =</span> <span class="fl">0.4</span>, <span class="at">stroke =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-492-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="color-size-shape-fijos-5" class="slide level2">
<h2>Color, size, shape: fijos</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>Los colores tambi√©n podemos asign√°rselos por su <strong>c√≥digo hexadecimal</strong>, consultando en <a href="https://htmlcolorcodes.com/es/" class="uri">https://htmlcolorcodes.com/es/</a>, eligiendo el color que queramos. El c√≥digo hexadecimal siempre comenzar√° con <code>#</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb709"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb709-1"><a href="#cb709-1"></a><span class="co"># Color en hexadecimal</span></span>
<span id="cb709-2"><a href="#cb709-2"></a><span class="co"># https://htmlcolorcodes.com/es/</span></span>
<span id="cb709-3"><a href="#cb709-3"></a><span class="fu">ggplot</span>(gapminder_1997,</span>
<span id="cb709-4"><a href="#cb709-4"></a>       <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb709-5"><a href="#cb709-5"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"#A02B85"</span>,</span>
<span id="cb709-6"><a href="#cb709-6"></a>             <span class="at">alpha =</span> <span class="fl">0.4</span>, <span class="at">size =</span> <span class="dv">7</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-494-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="mapeado-est√©tico-aes" class="slide level2">
<h2>Mapeado est√©tico: aes()</h2>
<p>Hasta ahora los <strong>atributos est√©ticos</strong> se los hemos pasado fijos y <span class="hl-yellow"><strong>constantes</strong></span>. Pero la verdadera potencia y versatilidad de <code>ggplot</code> es que podemos <span class="hl-yellow"><strong>mapear los atributos est√©ticos en funci√≥n de los datos</strong></span> en <code>aes()</code> para que dependan de variables de los datos.</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:45%;">
<p>Por ejemplo, vamos a asignar un <span class="hl-yellow"><strong>color a cada dato en funci√≥n de su continente</strong></span> con <code>aes(color = continent)</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb710"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb710-1"><a href="#cb710-1"></a><span class="co"># Tama√±o fijo</span></span>
<span id="cb710-2"><a href="#cb710-2"></a><span class="co"># Color por continentes</span></span>
<span id="cb710-3"><a href="#cb710-3"></a><span class="fu">ggplot</span>(gapminder_1997,</span>
<span id="cb710-4"><a href="#cb710-4"></a>       <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp,</span>
<span id="cb710-5"><a href="#cb710-5"></a>           <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb710-6"><a href="#cb710-6"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-496-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="mapeado-est√©tico-aes-1" class="slide level2">
<h2>Mapeado est√©tico: aes()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Podemos combinarlo con lo que hemos hecho anteriormente:</p>
<ul>
<li><p><span class="hl-yellow"><strong>color</strong></span> en funci√≥n del <span class="hl-purple"><strong>continente</strong></span>.</p></li>
<li><p><span class="hl-yellow"><strong>tama√±o</strong></span> en funci√≥n de la <span class="hl-purple"><strong>poblaci√≥n</strong></span>.</p></li>
<li><p><span class="hl-yellow"><strong>transparencia</strong></span> la fijamos <span class="hl-purple"><strong>constante</strong></span> del 50%.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb711"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb711-1"><a href="#cb711-1"></a><span class="fu">ggplot</span>(gapminder_1997,</span>
<span id="cb711-2"><a href="#cb711-2"></a>       <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp,</span>
<span id="cb711-3"><a href="#cb711-3"></a>           <span class="at">color =</span> continent, <span class="at">size =</span> pop)) <span class="sc">+</span></span>
<span id="cb711-4"><a href="#cb711-4"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A este scatter plot particular se le conoce <strong>BUBBLE CHART</strong></p>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-498-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="visualizaci√≥n-multivariante" class="slide level2">
<h2>Visualizaci√≥n multivariante</h2>
<p>Reflexionemos sobre el gr√°fico anterior:</p>
<ul>
<li><strong>color</strong> en funci√≥n del <strong>continente</strong>.</li>
<li><strong>tama√±o</strong> en funci√≥n de la <strong>poblaci√≥n</strong></li>
<li><strong>transparencia</strong> fija del 50%</li>
</ul>
<p>&nbsp;</p>
<p>Usando los datos hemos conseguido dibujar en un <span class="hl-yellow"><strong>gr√°fico bidimensional 4 variables</strong></span>: <code>lifeExp</code> y <code>gdpPercap</code> en los ejes , <code>continent</code> como color y <code>pop</code> como tama√±o de la geometr√≠a, con muy pocas l√≠neas de c√≥digo.</p>
</section>
<section id="etiquetas-sencillas-labs" class="slide level2">
<h2>Etiquetas sencillas: labs()</h2>
<p>Podemos <span class="hl-yellow"><strong>personalizar de manera sencilla</strong></span> haciendo uso de la capa <code>labs()</code>:</p>
<div class="columns">
<div class="column" style="width:43%;">
<ul>
<li><code>title, subtitle</code>: t√≠tulo/subt√≠tulo</li>
<li><code>caption</code>: pie de gr√°fica</li>
<li><code>x, y</code>: nombres de los ejes</li>
<li><code>size, color, fill, ...</code>: nombre en la leyenda de las variables que codifiquen los distintos atributos</li>
</ul>
</div><div class="column" style="width:57%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-499-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb712"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb712-1"><a href="#cb712-1"></a><span class="fu">ggplot</span>(gapminder_1997,</span>
<span id="cb712-2"><a href="#cb712-2"></a>       <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">color =</span> continent, <span class="at">size =</span> pop)) <span class="sc">+</span></span>
<span id="cb712-3"><a href="#cb712-3"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb712-4"><a href="#cb712-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>,</span>
<span id="cb712-5"><a href="#cb712-5"></a>       <span class="at">title =</span> <span class="st">"Primer ggplot"</span>, <span class="at">subtitle =</span> <span class="st">"Datos de gapminder"</span>,</span>
<span id="cb712-6"><a href="#cb712-6"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>, <span class="at">size =</span> <span class="st">"poblaci√≥n"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="eliminar-de-la-leyenda" class="slide level2">
<h2>Eliminar de la leyenda</h2>
<p>Podemos eliminar variables de la leyenda con <code>guides(atributo = "none")</code></p>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb713"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb713-1"><a href="#cb713-1"></a><span class="fu">ggplot</span>(gapminder_1997,</span>
<span id="cb713-2"><a href="#cb713-2"></a>       <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, </span>
<span id="cb713-3"><a href="#cb713-3"></a>           <span class="at">x =</span> lifeExp,</span>
<span id="cb713-4"><a href="#cb713-4"></a>           <span class="at">color =</span> continent, </span>
<span id="cb713-5"><a href="#cb713-5"></a>           <span class="at">size =</span> pop)) <span class="sc">+</span></span>
<span id="cb713-6"><a href="#cb713-6"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb713-7"><a href="#cb713-7"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb713-8"><a href="#cb713-8"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>,</span>
<span id="cb713-9"><a href="#cb713-9"></a>       <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>,</span>
<span id="cb713-10"><a href="#cb713-10"></a>       <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb713-11"><a href="#cb713-11"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>,</span>
<span id="cb713-12"><a href="#cb713-12"></a>       <span class="at">color =</span> <span class="st">"continente"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-502-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="escalas-scale-ejes" class="slide level2">
<h2>Escalas (scale): ejes</h2>
<p>Una de las capas m√°s importantes es la <span class="hl-yellow"><strong>capa de escalas</strong></span>: dentro de <code>aes()</code> solo le indicamos que variable mapeamos pero no sus ajustes.</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:47%;">
<p>Vamos a configurar el eje x para tener marcas cada 10 unidades (<code>scale_x_continuous()</code>)</p>
</div><div class="column" style="width:53%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-503-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb714"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb714-1"><a href="#cb714-1"></a><span class="fu">ggplot</span>(gapminder_1997,</span>
<span id="cb714-2"><a href="#cb714-2"></a>       <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp,</span>
<span id="cb714-3"><a href="#cb714-3"></a>           <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb714-4"><a href="#cb714-4"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb714-5"><a href="#cb714-5"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">35</span>, <span class="dv">85</span>, <span class="at">by =</span> <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb714-6"><a href="#cb714-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>,</span>
<span id="cb714-7"><a href="#cb714-7"></a>       <span class="at">title =</span> <span class="st">"Primer ggplot"</span>, <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>,</span>
<span id="cb714-8"><a href="#cb714-8"></a>       <span class="at">color =</span> <span class="st">"continente"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="escalas-scale-colores" class="slide level2">
<h2>Escalas (scale): colores</h2>
<p>La misma idea la podemos aplicar a otro atr√≠buto como los <span class="hl-yellow"><strong>colores</strong></span> con <code>scale_color_...()</code> y <code>scale_fill_...()</code>: hemos indicado que mape√© dicho atributo por continente pero‚Ä¶¬øqu√© colores usar?</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<p>Con <code>scale_color_manual()</code> podemos indicar manualmente una <span class="hl-yellow"><strong>paleta</strong></span> (puedes buscar en <a href="https://htmlcolorcodes.com/" class="uri">https://htmlcolorcodes.com/</a>)</p>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-505-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb715"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb715-1"><a href="#cb715-1"></a>pal <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#A02B85"</span>, <span class="st">"#2DE86B"</span>, <span class="st">"#4FB2CA"</span>, <span class="st">"#E8DA2D"</span>, <span class="st">"#E84C2D"</span>)</span>
<span id="cb715-2"><a href="#cb715-2"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb715-3"><a href="#cb715-3"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb715-4"><a href="#cb715-4"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">35</span>, <span class="dv">85</span>, <span class="at">by =</span> <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb715-5"><a href="#cb715-5"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> pal) <span class="sc">+</span></span>
<span id="cb715-6"><a href="#cb715-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb715-7"><a href="#cb715-7"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="escalas-scale-colores-1" class="slide level2">
<h2>Escalas (scale): colores</h2>
<p>Otra opci√≥n es elegir alguna de las <span class="hl-yellow"><strong>paletas de colores dise√±adas</strong></span> en el paquete <code>{ggthemes}</code>:</p>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li><code>scale_color_economist()</code>: paleta de colores basada en los colores de <strong>The Economist</strong>.</li>
</ul>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-507-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb716"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb716-1"><a href="#cb716-1"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">color =</span> continent, <span class="at">size =</span> pop)) <span class="sc">+</span></span>
<span id="cb716-2"><a href="#cb716-2"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb716-3"><a href="#cb716-3"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">35</span>, <span class="dv">85</span>, <span class="at">by =</span> <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb716-4"><a href="#cb716-4"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_economist</span>() <span class="sc">+</span></span>
<span id="cb716-5"><a href="#cb716-5"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb716-6"><a href="#cb716-6"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="escalas-scale-colores-2" class="slide level2">
<h2>Escalas (scale): colores</h2>
<p>Otra opci√≥n es elegir alguna de las <span class="hl-yellow"><strong>paletas de colores dise√±adas</strong></span> en el paquete <code>{ggthemes}</code>:</p>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li><code>scale_color_colorblind()</code>: paleta de colores basada en los colores de <span class="hl-yellow"><strong>dalt√≥nicos/as</strong></span>.</li>
</ul>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-509-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb717"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb717-1"><a href="#cb717-1"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">color =</span> continent, <span class="at">size =</span> pop)) <span class="sc">+</span></span>
<span id="cb717-2"><a href="#cb717-2"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb717-3"><a href="#cb717-3"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">35</span>, <span class="dv">85</span>, <span class="at">by =</span> <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb717-4"><a href="#cb717-4"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb717-5"><a href="#cb717-5"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb717-6"><a href="#cb717-6"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="escalas-scale-colores-3" class="slide level2">
<h2>Escalas (scale): colores</h2>
<p>Incluso cargar <span class="hl-yellow"><strong>paletas de colores dise√±adas en base a pel√≠culas o arte</strong></span></p>
<div class="columns">
<div class="column" style="width:44%;">
<ul>
<li><span class="hl-yellow"><strong>pel√≠culas</strong></span>: paquete <code>{harrypotter}</code> (repositorio de Github <code>aljrico/harrypotter</code>) usando <code>scale_color_hp_d()</code>.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://raw.githubusercontent.com/aljrico/harrypotter/master/readme_raw_files/palettes/ravenclaw.png" style="width:20.0%"></p>
<p></p><figcaption>Paleta basada en la casa Ravenclaw</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-512-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb718"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb718-1"><a href="#cb718-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="at">repo =</span> <span class="st">"aljrico/harrypotter"</span>) </span>
<span id="cb718-2"><a href="#cb718-2"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">color =</span> continent, <span class="at">size =</span> pop)) <span class="sc">+</span></span>
<span id="cb718-3"><a href="#cb718-3"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb718-4"><a href="#cb718-4"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">35</span>, <span class="dv">85</span>, <span class="at">by =</span> <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb718-5"><a href="#cb718-5"></a>  harrypotter<span class="sc">::</span><span class="fu">scale_color_hp_d</span>(<span class="at">option =</span> <span class="st">"ravenclaw"</span>)<span class="sc">+</span></span>
<span id="cb718-6"><a href="#cb718-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb718-7"><a href="#cb718-7"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="escalas-scale-colores-4" class="slide level2">
<h2>Escalas (scale): colores</h2>
<p>Incluso cargar <span class="hl-yellow"><strong>paletas de colores dise√±adas en base a pel√≠culas o arte</strong></span></p>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li><span class="hl-yellow"><strong>cuadros</strong></span>: paquete <code>{MetBrewer}</code> (repositorio de Github <code>BlakeRMills/MetBrewer</code>) usando <code>scale_colour_manual(values = met.brewer(...))</code>.</li>
</ul>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-514-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb719"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb719-1"><a href="#cb719-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="at">repo =</span> <span class="st">"BlakeRMills/MetBrewer"</span>) </span>
<span id="cb719-2"><a href="#cb719-2"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb719-3"><a href="#cb719-3"></a></span>
<span id="cb719-4"><a href="#cb719-4"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">color =</span> continent, <span class="at">size =</span> pop)) <span class="sc">+</span></span>
<span id="cb719-5"><a href="#cb719-5"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb719-6"><a href="#cb719-6"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">35</span>, <span class="dv">85</span>, <span class="at">by =</span> <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb719-7"><a href="#cb719-7"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">met.brewer</span>(<span class="st">"Monet"</span>)) <span class="sc">+</span></span>
<span id="cb719-8"><a href="#cb719-8"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb719-9"><a href="#cb719-9"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="escalas-scale-colores-5" class="slide level2">
<h2>Escalas (scale): colores</h2>
<p>Incluso cargar <span class="hl-yellow"><strong>paletas de colores dise√±adas en base a pel√≠culas o arte</strong></span></p>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li><span class="hl-yellow"><strong>discos</strong></span>: paquete <code>{peRReo}</code> (repositorio de Github <code>jbgb13/peRReo</code>) usando <code>scale_colour_manual(values = latin_palette())</code>.</li>
</ul>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-516-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb720"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb720-1"><a href="#cb720-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="at">repo =</span> <span class="st">"jbgb13/peRReo"</span>) </span>
<span id="cb720-2"><a href="#cb720-2"></a><span class="fu">library</span>(peRReo)</span>
<span id="cb720-3"><a href="#cb720-3"></a></span>
<span id="cb720-4"><a href="#cb720-4"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">color =</span> continent, <span class="at">size =</span> pop)) <span class="sc">+</span></span>
<span id="cb720-5"><a href="#cb720-5"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb720-6"><a href="#cb720-6"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">35</span>, <span class="dv">85</span>, <span class="at">by =</span> <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb720-7"><a href="#cb720-7"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">latin_palette</span>(<span class="st">"rosalia"</span>)) <span class="sc">+</span></span>
<span id="cb720-8"><a href="#cb720-8"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb720-9"><a href="#cb720-9"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="escalas-otros-atributos" class="slide level2">
<h2>Escalas : otros atributos</h2>
<p>Lo mismo que hemos hecho para los ejes o colores podemos hacer para el <span class="hl-yellow"><strong>resto de atr√≠butos est√©ticos</strong></span></p>
<div class="columns">
<div class="column" style="width:40%;">
<p>Por ejemplo, vamos a indicarle que mape√© el tama√±o en funci√≥n de poblaci√≥n pero indic√°ndole el <span class="hl-yellow"><strong>rango de valores</strong></span> (continuo en este caso) entre los que moverse con <code>scale_size_continuous()</code></p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-518-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb721"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb721-1"><a href="#cb721-1"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">color =</span> continent, <span class="at">size =</span> pop)) <span class="sc">+</span></span>
<span id="cb721-2"><a href="#cb721-2"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb721-3"><a href="#cb721-3"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">35</span>, <span class="dv">85</span>, <span class="at">by =</span> <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb721-4"><a href="#cb721-4"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb721-5"><a href="#cb721-5"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb721-6"><a href="#cb721-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb721-7"><a href="#cb721-7"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>::: ::::</p>
</section>
<section id="tema-b√°sico" class="slide level2">
<h2>Tema (b√°sico)</h2>
<p>Por √∫ltimo en este primer gr√°fico, vamos personalizar el tema con alguna de las capas <code>theme_...()</code></p>
<div class="columns">
<div class="column" style="width:45%;">
<p>Por ejemplo, vamos a usar <code>theme_minimal()</code> para tener un tema ‚Äúaustero‚Äù y minimalista (aprenderemos a definir cada detalle de nuestro tema).</p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-520-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb722"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb722-1"><a href="#cb722-1"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">color =</span> continent, <span class="at">size =</span> pop)) <span class="sc">+</span></span>
<span id="cb722-2"><a href="#cb722-2"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb722-3"><a href="#cb722-3"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">35</span>, <span class="dv">85</span>, <span class="at">by =</span> <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb722-4"><a href="#cb722-4"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb722-5"><a href="#cb722-5"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb722-6"><a href="#cb722-6"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>) <span class="sc">+</span></span>
<span id="cb722-7"><a href="#cb722-7"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="clase-13" class="title-slide slide level1 center">
<h1>Clase 13: profundizando en ggplot</h1>
<p><span style="color:#444442;"><strong>Visualizaci√≥n de datos</strong></span></p>
</section>
<section id="resumen-de-capas" class="slide level2">
<h2>Resumen de capas</h2>
<p>Vamos a hacer un peque√±o resumen de lo que llevamos aprendido hasta ahora respecto a <code>{ggplot2}</code></p>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Capa de datos</strong></span>: normalmente un gr√°fico en <code>{ggplot2}</code> empieza con <code>ggplot(datos)</code>.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Mapeo de atributos est√©ticos</strong></span>: todo lo que queramos que se <span class="hl-purple"><strong>codifique en funci√≥n de los datos</strong></span> debe ir dentro de <code>aes()</code></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Capa geom√©trica</strong></span>: para decidir si queremos un scatter plot, un diagrama de barras, un histograma, etc</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Capas de escalas</strong></span>: para decidir los ajustes personalizados de atributos est√©ticos (escala del alpha o size, paleta de colores, etc)</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Tema</strong></span>: tema para personalizar el gr√°fico (y etiquetas)</li>
</ul>
</div>
</section>
<section id="capa-de-escalas" class="slide level2">
<h2>Capa de escalas</h2>
<p>Vamos a profundizar un poco dentro de nuestro scatter plot en <span class="hl-yellow"><strong>escalas</strong></span></p>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li>¬øC√≥mo <span class="hl-purple"><strong>fijar l√≠mites en los ejes</strong></span>? En <code>scale_x_continuous()</code> y <code>scale_y_continuous()</code>, adem√°s de ‚Äúsaltos‚Äù podemos indicar l√≠mites con <code>limits = ...</code></li>
</ul>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-522-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb723"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb723-1"><a href="#cb723-1"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">color =</span> continent, <span class="at">size =</span> pop)) <span class="sc">+</span></span>
<span id="cb723-2"><a href="#cb723-2"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb723-3"><a href="#cb723-3"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">70</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">70</span>, <span class="at">by =</span> <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb723-4"><a href="#cb723-4"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1000</span>, <span class="dv">18000</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">18000</span>, <span class="at">by =</span> <span class="dv">1000</span>)) <span class="sc">+</span></span>
<span id="cb723-5"><a href="#cb723-5"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb723-6"><a href="#cb723-6"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb723-7"><a href="#cb723-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb723-8"><a href="#cb723-8"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>) <span class="sc">+</span></span>
<span id="cb723-9"><a href="#cb723-9"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="capa-de-escalas-1" class="slide level2">
<h2>Capa de escalas</h2>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li>¬øC√≥mo <span class="hl-purple"><strong>etiquetar las unidades de los ejes</strong></span>? Haciendo uso del paquete <code>{scales}</code> podemos a√±adir <span class="hl-yellow"><strong>prefijos/sufijos</strong></span> con <code>labels = label_number(...)</code></li>
</ul>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-524-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb724"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb724-1"><a href="#cb724-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb724-2"><a href="#cb724-2"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">color =</span> continent, <span class="at">size =</span> pop)) <span class="sc">+</span></span>
<span id="cb724-3"><a href="#cb724-3"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb724-4"><a href="#cb724-4"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">70</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">70</span>, <span class="at">by =</span> <span class="dv">5</span>),</span>
<span id="cb724-5"><a href="#cb724-5"></a>                     <span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">suffix =</span> <span class="st">" a√±os"</span>)) <span class="sc">+</span></span>
<span id="cb724-6"><a href="#cb724-6"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1000</span>, <span class="dv">18000</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">18000</span>, <span class="at">by =</span> <span class="dv">1000</span>),</span>
<span id="cb724-7"><a href="#cb724-7"></a>                     <span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">suffix =</span> <span class="st">" $"</span>)) <span class="sc">+</span></span>
<span id="cb724-8"><a href="#cb724-8"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb724-9"><a href="#cb724-9"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb724-10"><a href="#cb724-10"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb724-11"><a href="#cb724-11"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>) <span class="sc">+</span></span>
<span id="cb724-12"><a href="#cb724-12"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="capa-de-escalas-2" class="slide level2">
<h2>Capa de escalas</h2>
<p>Vamos a profundizar un poco dentro de nuestro scatter plot en <span class="hl-yellow"><strong>escalas</strong></span></p>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li>¬øC√≥mo <span class="hl-purple"><strong>cambiar los ajustes de tama√±o, alpha, etc</strong></span>? Igual que tenemos <code>scale_x_...()</code> o <code>scale_color_...()</code>, tenemos tambi√©n <code>scale_size_...()</code> y <code>scale_alpha_...()</code></li>
</ul>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-526-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb725"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb725-1"><a href="#cb725-1"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">color =</span> continent, <span class="at">size =</span> pop)) <span class="sc">+</span></span>
<span id="cb725-2"><a href="#cb725-2"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">alpha =</span> pop)) <span class="sc">+</span></span>
<span id="cb725-3"><a href="#cb725-3"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">12</span>)) <span class="sc">+</span></span>
<span id="cb725-4"><a href="#cb725-4"></a>  <span class="fu">scale_alpha</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb725-5"><a href="#cb725-5"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb725-6"><a href="#cb725-6"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>, <span class="at">alpha =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb725-7"><a href="#cb725-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb725-8"><a href="#cb725-8"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>) <span class="sc">+</span></span>
<span id="cb725-9"><a href="#cb725-9"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="capa-de-escalas-3" class="slide level2">
<h2>Capa de escalas</h2>
<p>Vamos a profundizar un poco dentro de nuestro scatter plot en <span class="hl-yellow"><strong>escalas</strong></span></p>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li>¬øC√≥mo <span class="hl-purple"><strong>cambiar la escala (relaci√≥n) lineal entre los ejes</strong></span>? Con <code>scale_x_sqrt()</code> o <code>scale_x_log10()</code> podemos cambiar la escala de los ejes.</li>
</ul>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-528-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb726"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb726-1"><a href="#cb726-1"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">color =</span> continent, <span class="at">size =</span> pop)) <span class="sc">+</span></span>
<span id="cb726-2"><a href="#cb726-2"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb726-3"><a href="#cb726-3"></a>  <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb726-4"><a href="#cb726-4"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb726-5"><a href="#cb726-5"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb726-6"><a href="#cb726-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb726-7"><a href="#cb726-7"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>) <span class="sc">+</span></span>
<span id="cb726-8"><a href="#cb726-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="scale_color-paleta-brewer" class="slide level2">
<h2>scale_color: paleta Brewer</h2>
<p>Una de las capas de escalas m√°s importantes son las <span class="hl-yellow"><strong>capas de color</strong></span>. Ya vimos como definir paletas manuales, ¬øpero qu√© <span class="hl-purple"><strong>opciones hay para escalas continuas de colores</strong></span>?</p>
<div class="fragment">
<p>Existen unas <span class="hl-yellow"><strong>paletas de colores conocidas como ColorBrewer</strong></span> pudiendo definirse de manera <strong>secuencial</strong>, <strong>divergente</strong> o de manera <strong>cualitativa</strong> (ver info en <a href="https://colorbrewer2.org" class="uri">https://colorbrewer2.org</a>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb727"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb727-1"><a href="#cb727-1"></a>RColorBrewer<span class="sc">::</span>brewer.pal.info</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         maxcolors category colorblind
BrBG            11      div       TRUE
PiYG            11      div       TRUE
PRGn            11      div       TRUE
PuOr            11      div       TRUE
RdBu            11      div       TRUE
RdGy            11      div      FALSE
RdYlBu          11      div       TRUE
RdYlGn          11      div      FALSE
Spectral        11      div      FALSE
Accent           8     qual      FALSE
Dark2            8     qual       TRUE
Paired          12     qual       TRUE
Pastel1          9     qual      FALSE
Pastel2          8     qual      FALSE
Set1             9     qual      FALSE
Set2             8     qual       TRUE
Set3            12     qual      FALSE
Blues            9      seq       TRUE
BuGn             9      seq       TRUE
BuPu             9      seq       TRUE
GnBu             9      seq       TRUE
Greens           9      seq       TRUE
Greys            9      seq       TRUE
Oranges          9      seq       TRUE
OrRd             9      seq       TRUE
PuBu             9      seq       TRUE
PuBuGn           9      seq       TRUE
PuRd             9      seq       TRUE
Purples          9      seq       TRUE
RdPu             9      seq       TRUE
Reds             9      seq       TRUE
YlGn             9      seq       TRUE
YlGnBu           9      seq       TRUE
YlOrBr           9      seq       TRUE
YlOrRd           9      seq       TRUE</code></pre>
</div>
</div>
</div>
</section>
<section id="scale_color-paleta-brewer-1" class="slide level2">
<h2>scale_color: paleta Brewer</h2>
<p>Con <code>RColorBrewer::brewer.pal()</code> podemos obtener el vector de n colores para una paleta dada</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb729"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb729-1"><a href="#cb729-1"></a>RColorBrewer<span class="sc">::</span><span class="fu">brewer.pal</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="at">name =</span> <span class="st">"RdYlBu"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "#D7191C" "#FDAE61" "#FFFFBF" "#ABD9E9" "#2C7BB6"</code></pre>
</div>
</div>
<div class="fragment">
<p>Con <code>RColorBrewer::display.brewer.pal()</code> podemos <strong>visualizar los colores</strong> de dicha paleta</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb731"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb731-1"><a href="#cb731-1"></a>RColorBrewer<span class="sc">::</span><span class="fu">display.brewer.pal</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="at">name =</span> <span class="st">"RdYlBu"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-532-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="scale_color-paleta-brewer-2" class="slide level2">
<h2>scale_color: paleta Brewer</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>Para incluirlo podemos usar <code>scale_colour_brewer()</code> o bien <code>scale_color_distiller()</code> si queremos crear una <strong>escala continua</strong> (interpolando entre los colores)</p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-533-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb732"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb732-1"><a href="#cb732-1"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> pop, <span class="at">color =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb732-2"><a href="#cb732-2"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb732-3"><a href="#cb732-3"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb732-4"><a href="#cb732-4"></a>  <span class="fu">scale_color_distiller</span>(<span class="at">palette =</span> <span class="st">"RdYlBu"</span>) <span class="sc">+</span></span>
<span id="cb732-5"><a href="#cb732-5"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb732-6"><a href="#cb732-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Poblaci√≥n"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb732-7"><a href="#cb732-7"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"esperanza de vida"</span>) <span class="sc">+</span></span>
<span id="cb732-8"><a href="#cb732-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="gradiente-de-color-manual" class="slide level2">
<h2>Gradiente de color manual</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>Tambien podemos crear un <span class="hl-yellow"><strong>gradiente de color manual</strong></span> son <code>scale_..._gradient()</code> para dos colores, <code>scale_..._gradient2()</code> para tres colores (bajo, medio y alto) y <code>scale_..._gradientn()</code> para n colores</p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-535-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb733"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb733-1"><a href="#cb733-1"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> pop, <span class="at">color =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb733-2"><a href="#cb733-2"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb733-3"><a href="#cb733-3"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb733-4"><a href="#cb733-4"></a>  <span class="fu">scale_color_gradient2</span>(<span class="at">low =</span> <span class="st">"#E92745"</span>, <span class="at">mid =</span> <span class="st">"#F4ED5B"</span>, <span class="at">high =</span> <span class="st">"#56B1F7"</span>, <span class="at">midpoint =</span> <span class="dv">60</span>) <span class="sc">+</span></span>
<span id="cb733-5"><a href="#cb733-5"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Poblaci√≥n"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb733-6"><a href="#cb733-6"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"esperanza de vida"</span>) <span class="sc">+</span></span>
<span id="cb733-7"><a href="#cb733-7"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="capa-de-coordenadas" class="slide level2">
<h2>Capa de coordenadas</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>Adem√°s de escalas tenemos una <span class="hl-yellow"><strong>capa de coordenadas</strong></span> con <code>coord_...</code> para indicar si queremos un sistema cartesiano (y sus l√≠mites), coordenadas polares (<code>coord_polar()</code>), si queremos coordenadas iguales (<code>coord_equal()</code>) o invertir su rol (<code>coord_flip()</code>)</p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-537-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb734"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb734-1"><a href="#cb734-1"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> pop, <span class="at">color =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb734-2"><a href="#cb734-2"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb734-3"><a href="#cb734-3"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb734-4"><a href="#cb734-4"></a>  <span class="fu">scale_color_gradient2</span>(<span class="at">low =</span> <span class="st">"#E92745"</span>, <span class="at">mid =</span> <span class="st">"#F4ED5B"</span>, <span class="at">high =</span> <span class="st">"#56B1F7"</span>, <span class="at">midpoint =</span> <span class="dv">60</span>) <span class="sc">+</span></span>
<span id="cb734-5"><a href="#cb734-5"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb734-6"><a href="#cb734-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Poblaci√≥n"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb734-7"><a href="#cb734-7"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"esperanza de vida"</span>) <span class="sc">+</span></span>
<span id="cb734-8"><a href="#cb734-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="capa-de-stats" class="slide level2">
<h2>Capa de stats</h2>
<p>Una capa importante es la <span class="hl-yellow"><strong>capa de estad√≠sticas</strong></span></p>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li><code>stat_smooth()</code>: visualiza un <span class="hl-yellow"><strong>ajuste suavizado</strong></span> de los datos (reg. lineal, glm, loess, gam, etc).</li>
</ul>
<p>Con <code>stat_smooth(method = "lm", se = FALSE)</code> una recta de regresi√≥n (sin intervalos).</p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-539-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb735"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb735-1"><a href="#cb735-1"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb735-2"><a href="#cb735-2"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> continent, <span class="at">size =</span> pop), <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb735-3"><a href="#cb735-3"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb735-4"><a href="#cb735-4"></a>  <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb735-5"><a href="#cb735-5"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb735-6"><a href="#cb735-6"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb735-7"><a href="#cb735-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb735-8"><a href="#cb735-8"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>) <span class="sc">+</span></span>
<span id="cb735-9"><a href="#cb735-9"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="capa-de-stats-1" class="slide level2">
<h2>Capa de stats</h2>
<p>Una capa importante es la <span class="hl-yellow"><strong>capa de estad√≠sticas</strong></span> que nos permite combinar en nuestro gr√°fico algunas funcionalidades</p>
<div class="columns">
<div class="column" style="width:45%;">
<p>F√≠jate que si usas en la <span class="hl-yellow"><strong>primera capa par√°metros est√©ticos</strong></span> se acaban <span class="hl-purple"><strong>heredando a capas posteriores</strong></span>, en concreto al ajuste visualizado.</p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-541-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb736"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb736-1"><a href="#cb736-1"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">color =</span> continent, <span class="at">size =</span> pop)) <span class="sc">+</span></span>
<span id="cb736-2"><a href="#cb736-2"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb736-3"><a href="#cb736-3"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb736-4"><a href="#cb736-4"></a>  <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb736-5"><a href="#cb736-5"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb736-6"><a href="#cb736-6"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb736-7"><a href="#cb736-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb736-8"><a href="#cb736-8"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>) <span class="sc">+</span></span>
<span id="cb736-9"><a href="#cb736-9"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="geom_text" class="slide level2">
<h2>geom_text()</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>Podemos a√±adirle <span class="hl-yellow"><strong>textos simples</strong></span> con <code>geom_text(label = ...)</code>, por ejemplo, para a√±adir la correlaci√≥n del ajuste.</p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-543-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb737"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb737-1"><a href="#cb737-1"></a>cor <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">cor</span>(gapminder_1997<span class="sc">$</span>gdpPercap, gapminder_1997<span class="sc">$</span>lifeExp), <span class="dv">3</span>)</span>
<span id="cb737-2"><a href="#cb737-2"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb737-3"><a href="#cb737-3"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> continent, <span class="at">size =</span> pop), <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb737-4"><a href="#cb737-4"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb737-5"><a href="#cb737-5"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">50</span>, <span class="at">y =</span> <span class="dv">20000</span>, <span class="at">label =</span> <span class="fu">glue</span>(<span class="st">"Correlaci√≥n: {cor}"</span>)),</span>
<span id="cb737-6"><a href="#cb737-6"></a>                <span class="at">size =</span> <span class="dv">5</span>, <span class="at">color =</span> <span class="st">"darkcyan"</span>) <span class="sc">+</span></span>
<span id="cb737-7"><a href="#cb737-7"></a>  <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb737-8"><a href="#cb737-8"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb737-9"><a href="#cb737-9"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb737-10"><a href="#cb737-10"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb737-11"><a href="#cb737-11"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>) <span class="sc">+</span></span>
<span id="cb737-12"><a href="#cb737-12"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="capa-de-stats-2" class="slide level2">
<h2>Capa de stats</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>Dentro de <code>stat_smooth()</code> podemos especificarle otro <span class="hl-yellow"><strong>ajuste polin√≥mico</strong></span> d√°ndole expresi√≥n en <code>formula = ...</code></p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-545-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb738"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb738-1"><a href="#cb738-1"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb738-2"><a href="#cb738-2"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> continent, <span class="at">size =</span> pop), <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb738-3"><a href="#cb738-3"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">formula =</span> y <span class="sc">~</span> x <span class="sc">+</span> <span class="fu">I</span>(x<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> <span class="fu">I</span>(x<span class="sc">^</span><span class="dv">3</span>) <span class="sc">+</span> <span class="fu">I</span>(x<span class="sc">^</span><span class="dv">4</span>) <span class="sc">+</span> <span class="fu">I</span>(x<span class="sc">^</span><span class="dv">5</span>),</span>
<span id="cb738-4"><a href="#cb738-4"></a>              <span class="at">color =</span> <span class="st">"firebrick"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb738-5"><a href="#cb738-5"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb738-6"><a href="#cb738-6"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb738-7"><a href="#cb738-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb738-8"><a href="#cb738-8"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>) <span class="sc">+</span></span>
<span id="cb738-9"><a href="#cb738-9"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="capa-de-stats-3" class="slide level2">
<h2>Capa de stats</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>Sin <code>method</code> especificado ajuste por un LOESS (menos de 1000 puntos) o GAM (m√°s de 1000 puntos)</p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-547-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb739"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb739-1"><a href="#cb739-1"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb739-2"><a href="#cb739-2"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> continent, <span class="at">size =</span> pop), <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb739-3"><a href="#cb739-3"></a>  <span class="fu">stat_smooth</span>(<span class="at">color =</span> <span class="st">"firebrick"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb739-4"><a href="#cb739-4"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb739-5"><a href="#cb739-5"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb739-6"><a href="#cb739-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb739-7"><a href="#cb739-7"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>) <span class="sc">+</span></span>
<span id="cb739-8"><a href="#cb739-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="capa-de-stats-4" class="slide level2">
<h2>Capa de stats</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>Con <code>stat_summary()</code> podemos incluso a√±adir <span class="hl-yellow"><strong>estad√≠sticas por grupos</strong></span>, como la media o mediana.</p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-549-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb740"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb740-1"><a href="#cb740-1"></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> year)) <span class="sc">+</span></span>
<span id="cb740-2"><a href="#cb740-2"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">1.7</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb740-3"><a href="#cb740-3"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> <span class="st">"mean"</span>, <span class="at">size =</span> <span class="fl">0.4</span>, <span class="at">color =</span> <span class="st">"coral"</span>) <span class="sc">+</span> </span>
<span id="cb740-4"><a href="#cb740-4"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> <span class="st">"median"</span>, <span class="at">size =</span> <span class="fl">0.4</span>, <span class="at">color =</span> <span class="st">"darkcyan"</span>) <span class="sc">+</span></span>
<span id="cb740-5"><a href="#cb740-5"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb740-6"><a href="#cb740-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb740-7"><a href="#cb740-7"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>) <span class="sc">+</span></span>
<span id="cb740-8"><a href="#cb740-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="capa-de-stats-5" class="slide level2">
<h2>Capa de stats</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>F√≠jate que si no tenemos una variable cuali, la media la hace con <code>n = 1</code> (es decir, es el propio punto).</p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-551-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb741"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb741-1"><a href="#cb741-1"></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> pop)) <span class="sc">+</span></span>
<span id="cb741-2"><a href="#cb741-2"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">1.7</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb741-3"><a href="#cb741-3"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> <span class="st">"mean"</span>, <span class="at">size =</span> <span class="fl">0.4</span>, <span class="at">color =</span> <span class="st">"coral"</span>) <span class="sc">+</span> </span>
<span id="cb741-4"><a href="#cb741-4"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> <span class="st">"median"</span>, <span class="at">size =</span> <span class="fl">0.4</span>, <span class="at">color =</span> <span class="st">"darkcyan"</span>) <span class="sc">+</span></span>
<span id="cb741-5"><a href="#cb741-5"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb741-6"><a href="#cb741-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb741-7"><a href="#cb741-7"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>) <span class="sc">+</span></span>
<span id="cb741-8"><a href="#cb741-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="componiendo-facet" class="slide level2">
<h2>Componiendo (facet)</h2>
<p>Tambi√©n podemos <span class="hl-yellow"><strong>desagregar los gr√°ficos (facetar)</strong></span> por grupos, equivalente al <code>group_by()</code> en tidyverse.</p>
<div class="columns">
<div class="column" style="width:45%;">
<p>Por ejemplo, vamos a crear un <span class="hl-yellow"><strong>gr√°fico por continente</strong></span>, mostrando todos los gr√°ficos a la vez (pero por separado) con <code>facet_wrap(~continent)</code>.</p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-553-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb742"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb742-1"><a href="#cb742-1"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">size =</span> pop, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb742-2"><a href="#cb742-2"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb742-3"><a href="#cb742-3"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb742-4"><a href="#cb742-4"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>continent) <span class="sc">+</span></span>
<span id="cb742-5"><a href="#cb742-5"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb742-6"><a href="#cb742-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb742-7"><a href="#cb742-7"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>) <span class="sc">+</span></span>
<span id="cb742-8"><a href="#cb742-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="componiendo-facet-1" class="slide level2">
<h2>Componiendo (facet)</h2>
<p>Tambi√©n podemos <span class="hl-yellow"><strong>desagregar los gr√°ficos (facetar)</strong></span> por grupos, equivalente al <code>group_by()</code> en tidyverse.</p>
<div class="columns">
<div class="column" style="width:45%;">
<p>Por defecto las escalas en los ejes son compartidas. Si queremos que la <span class="hl-yellow"><strong>escala de los ejes</strong></span> vaya por libre debemos usar <code>scales = "free_x"</code>, <code>scales = "free_y"</code> o <code>scales = "free"</code></p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-555-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb743"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb743-1"><a href="#cb743-1"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">size =</span> pop, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb743-2"><a href="#cb743-2"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb743-3"><a href="#cb743-3"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb743-4"><a href="#cb743-4"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>continent, <span class="at">scales =</span> <span class="st">"free"</span>) <span class="sc">+</span></span>
<span id="cb743-5"><a href="#cb743-5"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb743-6"><a href="#cb743-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb743-7"><a href="#cb743-7"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>) <span class="sc">+</span></span>
<span id="cb743-8"><a href="#cb743-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="componiendo-facet-2" class="slide level2">
<h2>Componiendo (facet)</h2>
<p>Tambi√©n podemos <span class="hl-yellow"><strong>desagregar los gr√°ficos (facetar)</strong></span> por grupos, equivalente al <code>group_by()</code> en tidyverse.</p>
<div class="columns">
<div class="column" style="width:45%;">
<p>Con <code>nrow = ...</code> y <code>ncol = ...</code> podemos especificar cuantas columnas y filas tenemos en la cuadr√≠cula de gr√°ficas</p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-557-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb744"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb744-1"><a href="#cb744-1"></a><span class="fu">ggplot</span>(gapminder_1997, <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">size =</span> pop, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb744-2"><a href="#cb744-2"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb744-3"><a href="#cb744-3"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb744-4"><a href="#cb744-4"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>continent, <span class="at">scales =</span> <span class="st">"free"</span>, <span class="at">nrow =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb744-5"><a href="#cb744-5"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb744-6"><a href="#cb744-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb744-7"><a href="#cb744-7"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>) <span class="sc">+</span></span>
<span id="cb744-8"><a href="#cb744-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="componiendo-facet-3" class="slide level2">
<h2>Componiendo (facet)</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>Tambi√©n le podemos pasar dos argumentos (variables) para formar un <span class="hl-yellow"><strong>grid de gr√°ficas</strong></span></p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-559-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb745"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb745-1"><a href="#cb745-1"></a><span class="fu">ggplot</span>(gapminder <span class="sc">|&gt;</span> <span class="fu">filter</span>(year <span class="sc">&gt;=</span> <span class="dv">1962</span>), <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">size =</span> pop, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb745-2"><a href="#cb745-2"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb745-3"><a href="#cb745-3"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb745-4"><a href="#cb745-4"></a>  <span class="fu">facet_grid</span>(continent <span class="sc">~</span> year, <span class="at">scales =</span> <span class="st">"free"</span>) <span class="sc">+</span></span>
<span id="cb745-5"><a href="#cb745-5"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb745-6"><a href="#cb745-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb745-7"><a href="#cb745-7"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>) <span class="sc">+</span></span>
<span id="cb745-8"><a href="#cb745-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="componiendo-facet-4" class="slide level2">
<h2>Componiendo (facet)</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>Aprenderemos distintas personalizaciones del tema pero con <code>theme(legend.position = ...)</code> podemos <span class="hl-yellow"><strong>decidir la posici√≥n de la leyenda</strong></span></p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-561-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb746"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb746-1"><a href="#cb746-1"></a><span class="fu">ggplot</span>(gapminder <span class="sc">|&gt;</span> <span class="fu">filter</span>(year <span class="sc">&gt;=</span> <span class="dv">1962</span>), <span class="fu">aes</span>(<span class="at">y =</span> gdpPercap, <span class="at">x =</span> lifeExp, <span class="at">size =</span> pop, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb746-2"><a href="#cb746-2"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb746-3"><a href="#cb746-3"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb746-4"><a href="#cb746-4"></a>  <span class="fu">facet_grid</span>(continent <span class="sc">~</span> year, <span class="at">scales =</span> <span class="st">"free"</span>) <span class="sc">+</span></span>
<span id="cb746-5"><a href="#cb746-5"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb746-6"><a href="#cb746-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Esperanza de vida"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita"</span>, <span class="at">title =</span> <span class="st">"Primer ggplot"</span>,</span>
<span id="cb746-7"><a href="#cb746-7"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>, <span class="at">color =</span> <span class="st">"continente"</span>) <span class="sc">+</span></span>
<span id="cb746-8"><a href="#cb746-8"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb746-9"><a href="#cb746-9"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="clase-14" class="title-slide slide level1 center">
<h1>Clase 14: profundizando en ggplot</h1>
<p><span style="color:#444442;"><strong>Visualizaci√≥n de datos</strong></span></p>
</section>
<section id="variables-continuas" class="slide level2">
<h2>Variables continuas</h2>
<p>Hemos aprendido a realizar uno de los gr√°ficos m√°s famosos, un <span class="hl-yellow"><strong>diagrama de dispersi√≥n</strong></span>, pero‚Ä¶¬øqu√© propiedades deben cumplir las variables?</p>
<div class="fragment">
<p>Para visualizar dos variables con un <span class="hl-yellow"><strong>diagrama de dispersi√≥n</strong></span> es necesario que ambas sean <span class="hl-purple"><strong>variables num√©ricas continuas</strong></span></p>
</div>
<div class="fragment">
<p>¬øSe te ocurre alg√∫na gr√°fico b√°sico para <span class="hl-yellow"><strong>variables discretas</strong></span>?</p>
</div>
</section>
<section id="cualis-barras" class="slide level2">
<h2>Cualis: barras</h2>
<p>¬øY si tengo <span class="hl-yellow"><strong>variables discretas o cualitativas</strong></span>?</p>
<div class="fragment">
<p>Vamos a usar el ya conocido conjunto <code>starwars</code> para visualizar en un <span class="hl-yellow"><strong>diagrama de barras</strong></span>: vamos a representar la <span class="hl-yellow"><strong>frecuencia</strong></span> de una <span class="hl-yellow"><strong>variable cualitativa</strong></span> como es <code>sex</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb747"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb747-1"><a href="#cb747-1"></a>starwars <span class="sc">|&gt;</span>  </span>
<span id="cb747-2"><a href="#cb747-2"></a>  <span class="fu">count</span>(sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 2
  sex                n
  &lt;chr&gt;          &lt;int&gt;
1 female            16
2 hermaphroditic     1
3 male              60
4 none               6
5 &lt;NA&gt;               4</code></pre>
</div>
</div>
</div>
</section>
<section id="cualis-barras-1" class="slide level2">
<h2>Cualis: barras</h2>
<p>La ventaja de ggplot es que, al trabajar por <span class="hl-yellow"><strong>capas</strong></span>, todo lo que hemos aprendido nos sirve: solo tenemos que <span class="hl-purple"><strong>cambiar la geometr√≠a</strong></span>.</p>
<div class="columns">
<div class="column" style="width:40%;">
<p>En este caso para realizar un <span class="hl-yellow"><strong>diagrama de barras</strong></span> usaremos <code>geom_bar()</code> en lugar de <code>geom_point()</code>, indicando <span class="hl-purple"><strong>solo la variable de grupo</strong></span> con <code>x = sex</code> (ggplot har√° solo el recuento)</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-564-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb749"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb749-1"><a href="#cb749-1"></a><span class="fu">ggplot</span>(starwars, <span class="fu">aes</span>(<span class="at">x =</span> sex)) <span class="sc">+</span></span>
<span id="cb749-2"><a href="#cb749-2"></a>  <span class="fu">geom_bar</span>()</span>
<span id="cb749-3"><a href="#cb749-3"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cualis-barras-2" class="slide level2">
<h2>Cualis: barras</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Podemos aplicar lo aprendido sobre <span class="hl-yellow"><strong>colores para codificar</strong></span> la informaci√≥n, en este caso vamos a usar las paletas ya cargadas en <code>scale_color_colorblind()</code> del paquete <code>{ggthemes}</code></p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-566-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb750"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb750-1"><a href="#cb750-1"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb750-2"><a href="#cb750-2"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb750-3"><a href="#cb750-3"></a>  <span class="fu">drop_na</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb750-4"><a href="#cb750-4"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sex)) <span class="sc">+</span></span>
<span id="cb750-5"><a href="#cb750-5"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">color =</span> sex), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb750-6"><a href="#cb750-6"></a>  <span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb750-7"><a href="#cb750-7"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cualis-barras-3" class="slide level2">
<h2>Cualis: barras</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>F√≠jate que ahora <span class="hl-red"><strong>solo nos ha coloreado el contorno</strong></span>: en otras geometr√≠as, como las barras, ser√° importante distinguir entre <code>color</code> y <code>fill</code></p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-568-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb751"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb751-1"><a href="#cb751-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb751-2"><a href="#cb751-2"></a>  <span class="fu">drop_na</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb751-3"><a href="#cb751-3"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sex)) <span class="sc">+</span></span>
<span id="cb751-4"><a href="#cb751-4"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> sex), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb751-5"><a href="#cb751-5"></a>  <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb751-6"><a href="#cb751-6"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cualis-barras-4" class="slide level2">
<h2>Cualis: barras</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Podemos <span class="hl-yellow"><strong>personalizar el gr√°fico</strong></span> haciendo uso de las opciones ya vistas, por ejemplo, con escalas en ejes, t√≠tulos de las variables, leyendas, etc</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-570-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb752"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb752-1"><a href="#cb752-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb752-2"><a href="#cb752-2"></a>  <span class="fu">drop_na</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb752-3"><a href="#cb752-3"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sex)) <span class="sc">+</span></span>
<span id="cb752-4"><a href="#cb752-4"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> sex), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb752-5"><a href="#cb752-5"></a>  <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb752-6"><a href="#cb752-6"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">70</span>, <span class="at">by =</span> <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb752-7"><a href="#cb752-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"sexo"</span>, <span class="at">y =</span> <span class="st">"frecuencia absoluta"</span>, <span class="at">fill =</span> <span class="st">"sexo"</span>, <span class="at">title =</span> <span class="st">"Primer diagrama de barras"</span>,</span>
<span id="cb752-8"><a href="#cb752-8"></a>       <span class="at">subtitle =</span> <span class="st">"Sexos: femenino, masculino, hemafrodita, ninguno y ausente"</span>,</span>
<span id="cb752-9"><a href="#cb752-9"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>) <span class="sc">+</span></span>
<span id="cb752-10"><a href="#cb752-10"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cualis-barras-5" class="slide level2">
<h2>Cualis: barras</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Para cambiar el rol de los ejes, generando un diagrama de <span class="hl-yellow"><strong>barras horizontales</strong></span>, podemos dejar el gr√°fico igual y luego simplemente hacer <code>coord_flip()</code></p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-572-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb753"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb753-1"><a href="#cb753-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb753-2"><a href="#cb753-2"></a>  <span class="fu">drop_na</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb753-3"><a href="#cb753-3"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sex)) <span class="sc">+</span></span>
<span id="cb753-4"><a href="#cb753-4"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> sex), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb753-5"><a href="#cb753-5"></a>  <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb753-6"><a href="#cb753-6"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">70</span>, <span class="at">by =</span> <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb753-7"><a href="#cb753-7"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb753-8"><a href="#cb753-8"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"sexo"</span>, <span class="at">y =</span> <span class="st">"frecuencia absoluta"</span>, <span class="at">fill =</span> <span class="st">"sexo"</span>, <span class="at">title =</span> <span class="st">"Primer diagrama de barras"</span>,</span>
<span id="cb753-9"><a href="#cb753-9"></a>       <span class="at">subtitle =</span> <span class="st">"Sexos: femenino, masculino, hemafrodita, ninguno y ausente"</span>,</span>
<span id="cb753-10"><a href="#cb753-10"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>) <span class="sc">+</span></span>
<span id="cb753-11"><a href="#cb753-11"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="par√©ntesis-temas" class="slide level2">
<h2>Par√©ntesis: temas</h2>
<p>Vamos a hacer un par√©ntesis y aprender a <span class="hl-yellow"><strong>personalizar m√°s nuestras gr√°ficas</strong></span></p>
<div class="columns">
<div class="column" style="width:55%;">
<ul>
<li><p><code>theme_set(theme_minimal())</code> fija tema base</p></li>
<li><p><code>theme_update(...)</code> personaliza par√°metros.</p></li>
</ul>
<p>Por ejemplo, en <code>plot.title</code> vamos a indicarle el <span class="hl-yellow"><strong>tama√±o y negrita</strong></span> en el t√≠tulo, dentro de <code>element_text()</code></p>
</div><div class="column" style="width:45%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-574-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb754"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb754-1"><a href="#cb754-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())</span>
<span id="cb754-2"><a href="#cb754-2"></a><span class="fu">theme_update</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">25</span>, <span class="at">face =</span> <span class="st">"bold"</span>))</span>
<span id="cb754-3"><a href="#cb754-3"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb754-4"><a href="#cb754-4"></a>  <span class="fu">drop_na</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb754-5"><a href="#cb754-5"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sex)) <span class="sc">+</span></span>
<span id="cb754-6"><a href="#cb754-6"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> sex), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb754-7"><a href="#cb754-7"></a>  <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb754-8"><a href="#cb754-8"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb754-9"><a href="#cb754-9"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"sexo"</span>, <span class="at">y =</span> <span class="st">"frecuencia absoluta"</span>, <span class="at">fill =</span> <span class="st">"sexo"</span>, <span class="at">title =</span> <span class="st">"Primer diagrama de barras"</span>,</span>
<span id="cb754-10"><a href="#cb754-10"></a>       <span class="at">subtitle =</span> <span class="st">"Sexos: femenino, masculino, hemafrodita, ninguno y ausente"</span>, <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="par√©ntesis-temas-1" class="slide level2">
<h2>Par√©ntesis: temas</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Podemos hacer lo mismo con otros textos con <code>plot.subtitle</code> o <code>plot.caption</code></p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-576-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb755"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb755-1"><a href="#cb755-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())</span>
<span id="cb755-2"><a href="#cb755-2"></a><span class="fu">theme_update</span>(</span>
<span id="cb755-3"><a href="#cb755-3"></a>  <span class="at">plot.title =</span></span>
<span id="cb755-4"><a href="#cb755-4"></a>    <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">25</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb755-5"><a href="#cb755-5"></a>  <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">13</span>),</span>
<span id="cb755-6"><a href="#cb755-6"></a>  <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="par√©ntesis-temas-2" class="slide level2">
<h2>Par√©ntesis: temas</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Vamos incluso a <span class="hl-yellow"><strong>elegir fuente o el color</strong></span></p>
<ul>
<li><p><code>sysfonts::font_add_google()</code>: le indicaremos la tipograf√≠a de <a href="https://fonts.google.com/" class="uri">https://fonts.google.com/</a></p></li>
<li><p><code>showtext_auto()</code> del paquete <code>{showtext}</code> nos permite su uso.</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-578-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb756"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb756-1"><a href="#cb756-1"></a><span class="fu">library</span>(showtext)</span>
<span id="cb756-2"><a href="#cb756-2"></a><span class="fu">library</span>(sysfonts)</span>
<span id="cb756-3"><a href="#cb756-3"></a><span class="fu">font_add_google</span>(<span class="at">name =</span> <span class="st">"Roboto"</span>)</span>
<span id="cb756-4"><a href="#cb756-4"></a><span class="fu">showtext_auto</span>()</span>
<span id="cb756-5"><a href="#cb756-5"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>(<span class="at">base_family =</span> <span class="st">"Roboto"</span>)) </span>
<span id="cb756-6"><a href="#cb756-6"></a></span>
<span id="cb756-7"><a href="#cb756-7"></a><span class="co"># Configurar tema</span></span>
<span id="cb756-8"><a href="#cb756-8"></a><span class="fu">theme_update</span>(</span>
<span id="cb756-9"><a href="#cb756-9"></a>  <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"#C34539"</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">33</span>),</span>
<span id="cb756-10"><a href="#cb756-10"></a>  <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"#3E6FCB"</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">21</span>),</span>
<span id="cb756-11"><a href="#cb756-11"></a>  <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">19</span>),</span>
<span id="cb756-12"><a href="#cb756-12"></a>  <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">19</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cualis-barras-apiladas" class="slide level2">
<h2>Cualis: barras apiladas</h2>
<p>¬øPodr√≠amos visualizar <span class="hl-yellow"><strong>dos variables discretas/cualis a la vez</strong></span>?</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:40%;">
<p>Podemos incluir una en <code>x = ...</code> y otra en <code>fill = ...</code>, de manera que <span class="hl-yellow"><strong>por defecto nos visualiza barras apiladas</strong></span>, por ejemplo, para ver el reparto de sexos entre humanos y no humanos.</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-580-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb757"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb757-1"><a href="#cb757-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb757-2"><a href="#cb757-2"></a>  <span class="fu">drop_na</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb757-3"><a href="#cb757-3"></a>  <span class="fu">mutate</span>(<span class="at">Human =</span> species <span class="sc">==</span> <span class="st">"Human"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb757-4"><a href="#cb757-4"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Human)) <span class="sc">+</span></span>
<span id="cb757-5"><a href="#cb757-5"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> sex), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb757-6"><a href="#cb757-6"></a>  <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb757-7"><a href="#cb757-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"¬øHumanos?"</span>, <span class="at">y =</span> <span class="st">"frecuencia absoluta"</span>, <span class="at">fill =</span> <span class="st">"sexo"</span>, <span class="at">title =</span> <span class="st">"Primer diagrama de barras"</span>,</span>
<span id="cb757-8"><a href="#cb757-8"></a>       <span class="at">subtitle =</span> <span class="st">"Sexos: femenino, masculino, hemafrodita, ninguno y ausente"</span>,</span>
<span id="cb757-9"><a href="#cb757-9"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="cualis-barras-solapas" class="slide level2">
<h2>Cualis: barras solapas</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Con <code>position = "dodge"</code> visualizamos las barras sin apilar, solapadas una al lado de otra</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-582-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb758"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb758-1"><a href="#cb758-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb758-2"><a href="#cb758-2"></a>  <span class="fu">drop_na</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb758-3"><a href="#cb758-3"></a>  <span class="fu">mutate</span>(<span class="at">Human =</span> species <span class="sc">==</span> <span class="st">"Human"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb758-4"><a href="#cb758-4"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Human)) <span class="sc">+</span></span>
<span id="cb758-5"><a href="#cb758-5"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> sex), <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span> </span>
<span id="cb758-6"><a href="#cb758-6"></a>  <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb758-7"><a href="#cb758-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"¬øHumanos?"</span>, <span class="at">y =</span> <span class="st">"frecuencia absoluta"</span>, <span class="at">fill =</span> <span class="st">"sexo"</span>, <span class="at">title =</span> <span class="st">"Primer diagrama de barras"</span>,</span>
<span id="cb758-8"><a href="#cb758-8"></a>       <span class="at">subtitle =</span> <span class="st">"Sexos: femenino, masculino, hemafrodita, ninguno y ausente"</span>,</span>
<span id="cb758-9"><a href="#cb758-9"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cualis-barras-fill" class="slide level2">
<h2>Cualis: barras fill</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Con <code>position = "fill"</code> visualizamos las barras en forma de <span class="hl-yellow"><strong>frecuencia relativa</strong></span>, con las barras de la misma altura para facilitar la comparativa.</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-584-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb759"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb759-1"><a href="#cb759-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb759-2"><a href="#cb759-2"></a>  <span class="fu">drop_na</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb759-3"><a href="#cb759-3"></a>  <span class="fu">mutate</span>(<span class="at">Human =</span> species <span class="sc">==</span> <span class="st">"Human"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb759-4"><a href="#cb759-4"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Human)) <span class="sc">+</span></span>
<span id="cb759-5"><a href="#cb759-5"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> sex), <span class="at">alpha =</span> <span class="fl">0.5</span>,  <span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span> </span>
<span id="cb759-6"><a href="#cb759-6"></a>  <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb759-7"><a href="#cb759-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"¬øHumanos?"</span>, <span class="at">y =</span> <span class="st">"frecuencia relativa"</span>, <span class="at">fill =</span> <span class="st">"sexo"</span>, <span class="at">title =</span> <span class="st">"Primer diagrama de barras"</span>,</span>
<span id="cb759-8"><a href="#cb759-8"></a>       <span class="at">subtitle =</span> <span class="st">"Sexos: femenino, masculino, hemafrodita, ninguno y ausente"</span>,</span>
<span id="cb759-9"><a href="#cb759-9"></a>       <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="par√©ntesis-factores" class="slide level2">
<h2>Par√©ntesis: factores</h2>
<p>En el caso de las <span class="hl-yellow"><strong>variables cualitativas</strong></span>, llamaremos <strong>niveles o modalidades</strong> a los <strong>diferentes valores</strong> que pueden tomar estos datos. Por ejemplo, en el caso de la variable <code>sex</code> del conjunto <code>starwars</code>, tenemos 4 niveles permitidos: <code>female</code>, <code>hermaphroditic</code>, <code>male</code> y <code>none</code> (am√©n de datos ausentes).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb760"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb760-1"><a href="#cb760-1"></a>starwars <span class="sc">|&gt;</span> <span class="fu">count</span>(sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 2
  sex                n
  &lt;chr&gt;          &lt;int&gt;
1 female            16
2 hermaphroditic     1
3 male              60
4 none               6
5 &lt;NA&gt;               4</code></pre>
</div>
</div>
</section>
<section id="par√©ntesis-factores-1" class="slide level2">
<h2>Par√©ntesis: factores</h2>
<p>Este tipo de variables se conocen en <code>R</code> como <span class="hl-yellow"><strong>factores</strong></span>. Y el paquete fundamental para tratarlos es <code>{forcats}</code> (del entorno <code>{tidyverse}</code>).</p>

<img data-src="./img/factors.jpg" class="r-stretch"></section>
<section id="par√©ntesis-factores-2" class="slide level2">
<h2>Par√©ntesis: factores</h2>
<p>Este paquete nos permite fijar los <span class="hl-yellow"><strong>niveles</strong></span> (guardados internamente como <code>levels</code>) que toma una determinada variable categ√≥rica, d√°ndoles un <span class="hl-yellow"><strong>tratamiento diferente a las cadena de texto normales</strong></span>.</p>
<div class="fragment">
<p>Veamos un ejempo sencillo definiendo una variable <code>estado</code> que tome los valores <code>"sano"</code>, <code>"leve"</code> y <code>"grave"</code> de la siguiente manera.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb762"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb762-1"><a href="#cb762-1"></a>estado <span class="ot">&lt;-</span></span>
<span id="cb762-2"><a href="#cb762-2"></a>  <span class="fu">c</span>(<span class="st">"leve"</span>, <span class="st">"grave"</span>, <span class="st">"sano"</span>, <span class="st">"sano"</span>, <span class="st">"leve"</span>, <span class="st">"sano"</span>, <span class="st">"sano"</span>, <span class="st">"grave"</span>,</span>
<span id="cb762-3"><a href="#cb762-3"></a>    <span class="st">"grave"</span>, <span class="st">"leve"</span>, <span class="st">"grave"</span>, <span class="st">"sano"</span>, <span class="st">"sano"</span>)</span>
<span id="cb762-4"><a href="#cb762-4"></a>estado</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "leve"  "grave" "sano"  "sano"  "leve"  "sano"  "sano"  "grave" "grave"
[10] "leve"  "grave" "sano"  "sano" </code></pre>
</div>
</div>
<p>La variable <code>estado</code> actualmente es de <span class="hl-yellow"><strong>tipo texto</strong></span>, de tipo <code>chr</code>, algo que podemos comprobar con <code>class(estado)</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb764"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb764-1"><a href="#cb764-1"></a><span class="fu">class</span>(estado)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</div>
</section>
<section id="par√©ntesis-factores-3" class="slide level2">
<h2>Par√©ntesis: factores</h2>
<p>Desde un punto de vista estad√≠stico y computacional, para <code>R</code> esta variable ahora mismo ser√≠a equivalente una variable de nombres. Pero estad√≠sticamente <span class="hl-yellow"><strong>no es lo mismo una variable con nombres</strong></span> (que identifican muchas veces el registro) que una variable categ√≥rica como estado que <span class="hl-yellow"><strong>solo puede tomar esos 3 niveles</strong></span>. ¬øC√≥mo <span class="hl-yellow"><strong>convertir a factor</strong></span>?</p>
<div class="fragment">
<p>Haciendo uso de la funci√≥n <code>as_factor()</code> del paquete <code>{forcats}</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb766"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb766-1"><a href="#cb766-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb766-2"><a href="#cb766-2"></a>estado_fct <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">paciente =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(estado),</span>
<span id="cb766-3"><a href="#cb766-3"></a>                     <span class="at">estado =</span> <span class="fu">as_factor</span>(estado))</span>
<span id="cb766-4"><a href="#cb766-4"></a>estado_fct</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 13 √ó 2
   paciente estado
      &lt;int&gt; &lt;fct&gt; 
 1        1 leve  
 2        2 grave 
 3        3 sano  
 4        4 sano  
 5        5 leve  
 6        6 sano  
 7        7 sano  
 8        8 grave 
 9        9 grave 
10       10 leve  
11       11 grave 
12       12 sano  
13       13 sano  </code></pre>
</div>
</div>
</div>
</section>
<section id="par√©ntesis-factores-4" class="slide level2">
<h2>Par√©ntesis: factores</h2>
<p>No solo ha cambiado la clase de la variable sino que ahora, debajo del valor guardado, nos aparece la frase <code>Levels: grave leve sano</code>: son las <span class="hl-yellow"><strong>modalidades o niveles</strong></span> de nuestra cualitativa.</p>
<p>&nbsp;</p>
<p>Imagina que ese d√≠a en el hospital no tuvi√©semos a <strong>nadie en estado grave</strong>: aunque ese d√≠a nuestra variable no tome dicho valor, el estado <code>grave</code> es un <span class="hl-yellow"><strong>nivel permitido en la base de datos</strong></span>, as√≠ que aunque lo eliminemos, por ser un factor, el nivel permanece (no lo tenemos ahora pero es un nivel permitido).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb768"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb768-1"><a href="#cb768-1"></a>estado_fct <span class="sc">|&gt;</span> </span>
<span id="cb768-2"><a href="#cb768-2"></a>  <span class="fu">filter</span>(estado <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"sano"</span>, <span class="st">"leve"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb768-3"><a href="#cb768-3"></a>  <span class="fu">pull</span>(estado)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] leve sano sano leve sano sano leve sano sano
Levels: leve grave sano</code></pre>
</div>
</div>
</section>
<section id="par√©ntesis-factores-5" class="slide level2">
<h2>Par√©ntesis: factores</h2>
<p>Con <code>factor()</code> podemos <span class="hl-yellow"><strong>especificar expl√≠citamente</strong></span> los nombres de las modalidades, incluso si son nominales u <span class="hl-yellow"><strong>ordinales</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb770"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb770-1"><a href="#cb770-1"></a>estado_fct <span class="ot">&lt;-</span></span>
<span id="cb770-2"><a href="#cb770-2"></a>  <span class="fu">tibble</span>(<span class="at">paciente =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(estado),</span>
<span id="cb770-3"><a href="#cb770-3"></a>         <span class="at">estado =</span> <span class="fu">factor</span>(estado, <span class="at">ordered =</span> <span class="cn">TRUE</span>))</span>
<span id="cb770-4"><a href="#cb770-4"></a>estado_fct <span class="sc">|&gt;</span> <span class="fu">pull</span>(estado)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] leve  grave sano  sano  leve  sano  sano  grave grave leve  grave sano 
[13] sano 
Levels: grave &lt; leve &lt; sano</code></pre>
</div>
</div>
</section>
<section id="par√©ntesis-factores-6" class="slide level2">
<h2>Par√©ntesis: factores</h2>
<p>Con <code>levels = ...</code> podemos indicarle expl√≠citamente el <span class="hl-yellow"><strong>orden de las modalidades</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb772"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb772-1"><a href="#cb772-1"></a>estado_fct <span class="ot">&lt;-</span></span>
<span id="cb772-2"><a href="#cb772-2"></a>  <span class="fu">tibble</span>(<span class="at">paciente =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(estado),</span>
<span id="cb772-3"><a href="#cb772-3"></a>         <span class="at">estado =</span> <span class="fu">factor</span>(estado,</span>
<span id="cb772-4"><a href="#cb772-4"></a>                         <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"sano"</span>, <span class="st">"leve"</span>, <span class="st">"grave"</span>),</span>
<span id="cb772-5"><a href="#cb772-5"></a>                         <span class="at">ordered =</span> <span class="cn">TRUE</span>))</span>
<span id="cb772-6"><a href="#cb772-6"></a>estado_fct <span class="sc">|&gt;</span> <span class="fu">pull</span>(estado)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] leve  grave sano  sano  leve  sano  sano  grave grave leve  grave sano 
[13] sano 
Levels: sano &lt; leve &lt; grave</code></pre>
</div>
</div>
</section>
<section id="par√©ntesis-factores-7" class="slide level2">
<h2>Par√©ntesis: factores</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Si queremos indicarle que <span class="hl-yellow"><strong>elimine un nivel no usado</strong></span> en ese momento (y que queremos excluir de la definici√≥n) podemos hacerlo con <code>fct_drop()</code></p>
</div><div class="column" style="width:50%;">
<p><img data-src="img/drop_factor.jpg"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb774"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb774-1"><a href="#cb774-1"></a>estado_fct <span class="sc">|&gt;</span> </span>
<span id="cb774-2"><a href="#cb774-2"></a>  <span class="fu">filter</span>(estado <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"sano"</span>, <span class="st">"leve"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb774-3"><a href="#cb774-3"></a>  <span class="fu">mutate</span>(<span class="at">estado =</span> <span class="fu">fct_drop</span>(estado)) <span class="sc">|&gt;</span> </span>
<span id="cb774-4"><a href="#cb774-4"></a>  <span class="fu">pull</span>(estado)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] leve sano sano leve sano sano leve sano sano
Levels: sano &lt; leve</code></pre>
</div>
</div>
</section>
<section id="par√©ntesis-factores-8" class="slide level2">
<h2>Par√©ntesis: factores</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Al igual que podemos eliminar niveles podemos <span class="hl-yellow"><strong>ampliar los niveles existentes</strong></span> (aunque no existan datos de ese nivel en ese momento) con <code>fct_expand()</code></p>
</div><div class="column" style="width:50%;">
<p><img data-src="./img/factor_expand.jpg"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb776"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb776-1"><a href="#cb776-1"></a>estado_fct <span class="sc">|&gt;</span> </span>
<span id="cb776-2"><a href="#cb776-2"></a>  <span class="fu">mutate</span>(<span class="at">estado =</span> <span class="fu">fct_expand</span>(estado, <span class="fu">c</span>(<span class="st">"UCI"</span>, <span class="st">"fallecido"</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb776-3"><a href="#cb776-3"></a>  <span class="fu">pull</span>(estado)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] leve  grave sano  sano  leve  sano  sano  grave grave leve  grave sano 
[13] sano 
Levels: sano &lt; leve &lt; grave &lt; UCI &lt; fallecido</code></pre>
</div>
</div>
</section>
<section id="par√©ntesis-factores-9" class="slide level2">
<h2>Par√©ntesis: factores</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Adem√°s con <code>fct_explicit_na()</code> podemos <span class="hl-yellow"><strong>asignar un nivel a los valores</strong></span> para que sea incluido dicho nivel en los an√°lisis y visualizaciones.</p>
</div><div class="column" style="width:50%;">
<p><img data-src="./img/factor_explicit.jpg"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb778"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb778-1"><a href="#cb778-1"></a><span class="fu">fct_explicit_na</span>(<span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="cn">NA</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] a         b         (Missing)
Levels: a b (Missing)</code></pre>
</div>
</div>
</section>
<section id="par√©ntesis-factores-10" class="slide level2">
<h2>Par√©ntesis: factores</h2>
<p>Incluso una vez definidos podemos <span class="hl-yellow"><strong>reordenar los n√≠veles</strong></span> con <code>fct_relevel()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb780"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb780-1"><a href="#cb780-1"></a>estado_fct_expand <span class="ot">&lt;-</span> </span>
<span id="cb780-2"><a href="#cb780-2"></a>  estado_fct <span class="sc">|&gt;</span> </span>
<span id="cb780-3"><a href="#cb780-3"></a>  <span class="fu">mutate</span>(<span class="at">estado =</span> <span class="fu">fct_expand</span>(estado, <span class="fu">c</span>(<span class="st">"UCI"</span>, <span class="st">"fallecido"</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb780-4"><a href="#cb780-4"></a>  <span class="fu">pull</span>(estado)</span>
<span id="cb780-5"><a href="#cb780-5"></a></span>
<span id="cb780-6"><a href="#cb780-6"></a>estado_fct_expand <span class="sc">|&gt;</span></span>
<span id="cb780-7"><a href="#cb780-7"></a>  <span class="fu">fct_relevel</span>(<span class="fu">c</span>(<span class="st">"fallecido"</span>, <span class="st">"leve"</span>, <span class="st">"sano"</span>, <span class="st">"grave"</span>, <span class="st">"UCI"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] leve  grave sano  sano  leve  sano  sano  grave grave leve  grave sano 
[13] sano 
Levels: fallecido &lt; leve &lt; sano &lt; grave &lt; UCI</code></pre>
</div>
</div>
</section>
<section id="par√©ntesis-factores-11" class="slide level2">
<h2>Par√©ntesis: factores</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Esta forma de trabajar con variables cualitativas nos permite dar una <span class="hl-yellow"><strong>definici√≥n te√≥rica</strong></span> de nuestra base de datos, pudiendo incluso contar valores que a√∫n no existen (pero que podr√≠an), haciendo uso de <code>fct_count()</code></p>
</div><div class="column" style="width:50%;">
<p><img data-src="./img/fct_count.jpg"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb782"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb782-1"><a href="#cb782-1"></a>estado_fct <span class="sc">|&gt;</span> </span>
<span id="cb782-2"><a href="#cb782-2"></a>  <span class="fu">mutate</span>(<span class="at">estado =</span> <span class="fu">fct_expand</span>(estado, <span class="fu">c</span>(<span class="st">"UCI"</span>, <span class="st">"fallecido"</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb782-3"><a href="#cb782-3"></a>  <span class="fu">pull</span>(estado) <span class="sc">|&gt;</span> </span>
<span id="cb782-4"><a href="#cb782-4"></a>  <span class="fu">fct_count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 2
  f             n
  &lt;ord&gt;     &lt;int&gt;
1 sano          6
2 leve          3
3 grave         4
4 UCI           0
5 fallecido     0</code></pre>
</div>
</div>
</section>
<section id="par√©ntesis-factores-12" class="slide level2">
<h2>Par√©ntesis: factores</h2>
<p>Los n√≠veles tambi√©n podemos <span class="hl-yellow"><strong>ordenarlos por frecuencia</strong></span> con <code>fct_infreq()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb784"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb784-1"><a href="#cb784-1"></a>estado_fct <span class="sc">|&gt;</span> </span>
<span id="cb784-2"><a href="#cb784-2"></a>  <span class="fu">mutate</span>(<span class="at">estado =</span> <span class="fu">fct_infreq</span>(estado)) <span class="sc">|&gt;</span> </span>
<span id="cb784-3"><a href="#cb784-3"></a>  <span class="fu">pull</span>(estado) <span class="sc">|&gt;</span> </span>
<span id="cb784-4"><a href="#cb784-4"></a>  <span class="fu">fct_count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 2
  f         n
  &lt;ord&gt; &lt;int&gt;
1 sano      6
2 grave     4
3 leve      3</code></pre>
</div>
</div>
</section>
<section id="par√©ntesis-factores-13" class="slide level2">
<h2>Par√©ntesis: factores</h2>
<p>A veces querremos <span class="hl-yellow"><strong>agrupar niveles</strong></span>, por ejemplo, no permitiendo niveles que <span class="hl-yellow"><strong>no sucedan un m√≠nimo de veces</strong></span> con <code>fct_lump_min(.., min = ..)</code> (las observaciones que no lo cumplan ir√°n a un <strong>nivel gen√©rico</strong> llamado <code>Other</code>, aunque se puede cambiar con el argumento <code>other_level</code>).</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb786"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb786-1"><a href="#cb786-1"></a>estado_fct <span class="sc">|&gt;</span> </span>
<span id="cb786-2"><a href="#cb786-2"></a>  <span class="fu">pull</span>(estado) <span class="sc">|&gt;</span> </span>
<span id="cb786-3"><a href="#cb786-3"></a>  <span class="fu">fct_lump_min</span>(<span class="at">min =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] Other grave sano  sano  Other sano  sano  grave grave Other grave sano 
[13] sano 
Levels: sano &lt; grave &lt; Other</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb788"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb788-1"><a href="#cb788-1"></a>estado_fct <span class="sc">|&gt;</span> </span>
<span id="cb788-2"><a href="#cb788-2"></a>  <span class="fu">pull</span>(estado) <span class="sc">|&gt;</span> </span>
<span id="cb788-3"><a href="#cb788-3"></a>  <span class="fu">fct_lump_min</span>(<span class="at">min =</span> <span class="dv">4</span>,</span>
<span id="cb788-4"><a href="#cb788-4"></a>               <span class="at">other_level =</span> <span class="st">"otros"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] otros grave sano  sano  otros sano  sano  grave grave otros grave sano 
[13] sano 
Levels: sano &lt; grave &lt; otros</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="par√©ntesis-factores-14" class="slide level2">
<h2>Par√©ntesis: factores</h2>
<p>Podemos hacer algo equivalente pero en funci√≥n de su <span class="hl-yellow"><strong>frecuencia relativa</strong></span> con <code>fct_lump_prop()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb790"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb790-1"><a href="#cb790-1"></a>estado_fct <span class="sc">|&gt;</span> </span>
<span id="cb790-2"><a href="#cb790-2"></a>  <span class="fu">pull</span>(estado) <span class="sc">|&gt;</span> </span>
<span id="cb790-3"><a href="#cb790-3"></a>  <span class="fu">fct_lump_prop</span>(<span class="at">prop =</span> <span class="fl">0.4</span>,</span>
<span id="cb790-4"><a href="#cb790-4"></a>                <span class="at">other_level =</span> <span class="st">"otros"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] otros otros sano  sano  otros sano  sano  otros otros otros otros sano 
[13] sano 
Levels: sano &lt; otros</code></pre>
</div>
</div>
</section>
<section id="par√©ntesis-factores-15" class="slide level2">
<h2>Par√©ntesis: factores</h2>
<p>Esto lo podemos aplicar a nuestros conjuntos de datos para <span class="hl-yellow"><strong>recategorizar variables</strong></span> de forma muy r√°pida.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb792"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb792-1"><a href="#cb792-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb792-2"><a href="#cb792-2"></a>  <span class="fu">drop_na</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb792-3"><a href="#cb792-3"></a>  <span class="fu">mutate</span>(<span class="at">species =</span></span>
<span id="cb792-4"><a href="#cb792-4"></a>           <span class="fu">fct_lump_min</span>(species, <span class="at">min =</span> <span class="dv">3</span>,</span>
<span id="cb792-5"><a href="#cb792-5"></a>                        <span class="at">other_level =</span> <span class="st">"Otras"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb792-6"><a href="#cb792-6"></a>  <span class="fu">count</span>(species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 2
  species     n
  &lt;fct&gt;   &lt;int&gt;
1 Droid       6
2 Gungan      3
3 Human      35
4 Otras      39</code></pre>
</div>
</div>
</section>
<section id="par√©ntesis-factores-16" class="slide level2">
<h2>Par√©ntesis: factores</h2>
<p>Con <code>fct_reorder()</code> podemos tambi√©n indicar que queremos <span class="hl-yellow"><strong>ordenar los factores</strong></span> en funci√≥n de una funci√≥n aplicada a otra variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb794"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb794-1"><a href="#cb794-1"></a>starwars_factor <span class="ot">&lt;-</span> </span>
<span id="cb794-2"><a href="#cb794-2"></a>  starwars <span class="sc">|&gt;</span> </span>
<span id="cb794-3"><a href="#cb794-3"></a>  <span class="fu">drop_na</span>(height, species) <span class="sc">|&gt;</span> </span>
<span id="cb794-4"><a href="#cb794-4"></a>  <span class="fu">mutate</span>(<span class="at">species =</span></span>
<span id="cb794-5"><a href="#cb794-5"></a>           <span class="fu">fct_lump_min</span>(species, <span class="at">min =</span> <span class="dv">3</span>,</span>
<span id="cb794-6"><a href="#cb794-6"></a>                        <span class="at">other_level =</span> <span class="st">"Otras"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb795"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb795-1"><a href="#cb795-1"></a>starwars_factor <span class="sc">|&gt;</span> <span class="fu">pull</span>(species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] Human  Droid  Droid  Human  Human  Human  Human  Droid  Human  Human 
[11] Human  Human  Otras  Human  Otras  Otras  Human  Otras  Human  Human 
[21] Droid  Otras  Human  Human  Otras  Human  Otras  Otras  Human  Otras 
[31] Human  Human  Gungan Gungan Gungan Human  Otras  Otras  Human  Human 
[41] Otras  Otras  Otras  Otras  Otras  Otras  Otras  Human  Otras  Otras 
[51] Otras  Otras  Otras  Otras  Otras  Otras  Human  Otras  Otras  Otras 
[61] Human  Human  Human  Human  Otras  Otras  Otras  Otras  Human  Droid 
[71] Otras  Otras  Otras  Otras  Otras  Human  Otras 
Levels: Droid Gungan Human Otras</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb797"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb797-1"><a href="#cb797-1"></a>starwars_factor <span class="sc">|&gt;</span></span>
<span id="cb797-2"><a href="#cb797-2"></a>  <span class="fu">mutate</span>(<span class="at">species =</span> <span class="fu">fct_reorder</span>(species, height, mean)) <span class="sc">|&gt;</span> </span>
<span id="cb797-3"><a href="#cb797-3"></a>  <span class="fu">pull</span>(species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] Human  Droid  Droid  Human  Human  Human  Human  Droid  Human  Human 
[11] Human  Human  Otras  Human  Otras  Otras  Human  Otras  Human  Human 
[21] Droid  Otras  Human  Human  Otras  Human  Otras  Otras  Human  Otras 
[31] Human  Human  Gungan Gungan Gungan Human  Otras  Otras  Human  Human 
[41] Otras  Otras  Otras  Otras  Otras  Otras  Otras  Human  Otras  Otras 
[51] Otras  Otras  Otras  Otras  Otras  Otras  Human  Otras  Otras  Otras 
[61] Human  Human  Human  Human  Otras  Otras  Otras  Otras  Human  Droid 
[71] Otras  Otras  Otras  Otras  Otras  Human  Otras 
Levels: Droid Otras Human Gungan</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="tu-turno-14" class="slide level2">
<h2>üíª Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-16" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-16-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-16-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-16-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-16-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-16-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li><li><a href="#tabset-16-6"><span class="hl-yellow"><strong>Ejercicio 6</strong></span></a></li><li><a href="#tabset-16-7"><span class="hl-yellow"><strong>Ejercicio 7</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-16-1">
<p>üìù Dada la variable <code>meses</code> definida debajo (definida como un vector de caracteres), convierte dicha variable a factor (solo eso)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb799"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb799-1"><a href="#cb799-1"></a>meses <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Ene"</span>, <span class="st">"Feb"</span>, <span class="st">"Mar"</span>, <span class="st">"Abr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb800"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb800-1"><a href="#cb800-1"></a>meses <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Ene"</span>, <span class="st">"Feb"</span>, <span class="st">"Mar"</span>, <span class="st">"Abr"</span>)</span>
<span id="cb800-2"><a href="#cb800-2"></a>meses_fct <span class="ot">&lt;-</span> <span class="fu">as_factor</span>(meses)</span>
<span id="cb800-3"><a href="#cb800-3"></a>meses_fct</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-16-2">
<p>üìù Dada la variable <code>meses</code> definida debajo convierte dicha variable a factor pero indicando los niveles de forma correcta.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb801"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb801-1"><a href="#cb801-1"></a>meses <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">"Abr"</span>, <span class="st">"Ene"</span>, <span class="st">"Oct"</span>, <span class="st">"Jul"</span>, <span class="st">"Ene"</span>, <span class="st">"Sep"</span>, <span class="cn">NA</span>, <span class="st">"Feb"</span>, <span class="st">"Dic"</span>,</span>
<span id="cb801-2"><a href="#cb801-2"></a>           <span class="st">"Jul"</span>, <span class="st">"Mar"</span>, <span class="st">"Ene"</span>, <span class="st">"Mar"</span>, <span class="st">"Feb"</span>, <span class="st">"Abr"</span>, <span class="st">"May"</span>, <span class="st">"Oct"</span>, <span class="st">"Sep"</span>,  <span class="cn">NA</span>,</span>
<span id="cb801-3"><a href="#cb801-3"></a>           <span class="st">"Dic"</span>, <span class="st">"Jul"</span>, <span class="st">"Nov"</span>, <span class="st">"Feb"</span>, <span class="st">"Oct"</span>, <span class="st">"Jun"</span>, <span class="st">"Sep"</span>, <span class="st">"Oct"</span>, <span class="st">"Oct"</span>, <span class="st">"Sep"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb802"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb802-1"><a href="#cb802-1"></a>meses <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">"Abr"</span>, <span class="st">"Ene"</span>, <span class="st">"Oct"</span>, <span class="st">"Jul"</span>, <span class="st">"Ene"</span>, <span class="st">"Sep"</span>, <span class="cn">NA</span>, <span class="st">"Feb"</span>, <span class="st">"Dic"</span>,</span>
<span id="cb802-2"><a href="#cb802-2"></a>           <span class="st">"Jul"</span>, <span class="st">"Mar"</span>, <span class="st">"Ene"</span>, <span class="st">"Mar"</span>, <span class="st">"Feb"</span>, <span class="st">"Abr"</span>, <span class="st">"May"</span>, <span class="st">"Oct"</span>, <span class="st">"Sep"</span>,  <span class="cn">NA</span>,</span>
<span id="cb802-3"><a href="#cb802-3"></a>           <span class="st">"Dic"</span>, <span class="st">"Jul"</span>, <span class="st">"Nov"</span>, <span class="st">"Feb"</span>, <span class="st">"Oct"</span>, <span class="st">"Jun"</span>, <span class="st">"Sep"</span>, <span class="st">"Oct"</span>, <span class="st">"Oct"</span>, <span class="st">"Sep"</span>)</span>
<span id="cb802-4"><a href="#cb802-4"></a></span>
<span id="cb802-5"><a href="#cb802-5"></a><span class="co"># Orden de niveles correcto e incluimos agosto aunque no haya</span></span>
<span id="cb802-6"><a href="#cb802-6"></a>meses_fct <span class="ot">&lt;-</span></span>
<span id="cb802-7"><a href="#cb802-7"></a>  <span class="fu">factor</span>(meses,</span>
<span id="cb802-8"><a href="#cb802-8"></a>         <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Ene"</span>, <span class="st">"Feb"</span>, <span class="st">"Mar"</span>, <span class="st">"Abr"</span>, <span class="st">"May"</span>, <span class="st">"Jun"</span>, <span class="st">"Jul"</span>, <span class="st">"Ago"</span>, <span class="st">"Sep"</span>, <span class="st">"Oct"</span>, <span class="st">"Nov"</span>, <span class="st">"Dic"</span>))</span>
<span id="cb802-9"><a href="#cb802-9"></a>meses_fct</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-16-3">
<p>üìù Cuenta cuantos valores hay de cada mes pero teniendo en cuenta que son factores (quiz√°s haya niveles sin ser usados y de los que deber√≠a obtener un 0).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb803"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb803-1"><a href="#cb803-1"></a>meses_fct <span class="sc">|&gt;</span> <span class="fu">fct_count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-16-4">
<p>üìù Dado que hay ausentes, indica que los ausentes sea un decimotercer nivel etiquetado como ‚Äúausente‚Äù.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb804"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb804-1"><a href="#cb804-1"></a>meses_fct <span class="ot">&lt;-</span> </span>
<span id="cb804-2"><a href="#cb804-2"></a>  meses_fct <span class="sc">|&gt;</span></span>
<span id="cb804-3"><a href="#cb804-3"></a>  <span class="fu">fct_explicit_na</span>(<span class="at">na_level =</span> <span class="st">"ausente"</span>)</span>
<span id="cb804-4"><a href="#cb804-4"></a>meses_fct</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-16-5">
<p>üìù Elimina los niveles no usados.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb805"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb805-1"><a href="#cb805-1"></a>meses_fct <span class="ot">&lt;-</span> </span>
<span id="cb805-2"><a href="#cb805-2"></a>  meses_fct <span class="sc">|&gt;</span></span>
<span id="cb805-3"><a href="#cb805-3"></a>  <span class="fu">fct_drop</span>()</span>
<span id="cb805-4"><a href="#cb805-4"></a>meses_fct</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-16-6">
<p>üìù Ordena los niveles por frecuencia de aparici√≥n.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb806"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb806-1"><a href="#cb806-1"></a>meses_fct <span class="sc">|&gt;</span> </span>
<span id="cb806-2"><a href="#cb806-2"></a>  <span class="fu">fct_infreq</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-16-7">
<p>üìù Agrupa niveles de forma que todo nivel que no aparezca al menos el 7% de las veces se agrupe en un nivel llamado ‚Äúotros meses‚Äù</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb807"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb807-1"><a href="#cb807-1"></a>meses_fct <span class="ot">&lt;-</span></span>
<span id="cb807-2"><a href="#cb807-2"></a>  meses_fct <span class="sc">|&gt;</span> </span>
<span id="cb807-3"><a href="#cb807-3"></a>  <span class="fu">fct_lump_prop</span>(<span class="at">prop =</span> <span class="fl">0.07</span>, <span class="at">other_level =</span> <span class="st">"otros"</span>)</span>
<span id="cb807-4"><a href="#cb807-4"></a>meses_fct</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="cualis-barras-ordenadas" class="slide level2">
<h2>Cualis: barras ordenadas</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Haciendo uso de los que sabemos <span class="hl-yellow"><strong>sobre factores</strong></span> podemos indicarle que nos <span class="hl-purple"><strong>ordene las columnas de manera personalizada</strong></span> definiendo la variable cuali como un factor.</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-615-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb808"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb808-1"><a href="#cb808-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb808-2"><a href="#cb808-2"></a>  <span class="fu">drop_na</span>(sex) <span class="sc">|&gt;</span></span>
<span id="cb808-3"><a href="#cb808-3"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">factor</span>(sex, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"female"</span>, <span class="st">"male"</span>, <span class="st">"hermaphroditic"</span>, <span class="st">"none"</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb808-4"><a href="#cb808-4"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sex)) <span class="sc">+</span></span>
<span id="cb808-5"><a href="#cb808-5"></a>    <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> sex), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb808-6"><a href="#cb808-6"></a>    <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb808-7"><a href="#cb808-7"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Sexo"</span>, <span class="at">y =</span> <span class="st">"frecuencia absoluta"</span>, <span class="at">fill =</span> <span class="st">"sexo"</span>, <span class="at">title =</span> <span class="st">"Primer diagrama de barras"</span>,</span>
<span id="cb808-8"><a href="#cb808-8"></a>         <span class="at">subtitle =</span> <span class="st">"Sexos: femenino, masculino, hemafrodita, ninguno y ausente"</span>,</span>
<span id="cb808-9"><a href="#cb808-9"></a>         <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cualis-barras-ordenadas-1" class="slide level2">
<h2>Cualis: barras ordenadas</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Tambi√©n podemos indicarle que nos <span class="hl-yellow"><strong>ordene las columnas de mayor a menor frecuencia</strong></span> usando simplemente <code>fct_infreq()</code></p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-617-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb809"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb809-1"><a href="#cb809-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb809-2"><a href="#cb809-2"></a>    <span class="fu">drop_na</span>(sex) <span class="sc">|&gt;</span></span>
<span id="cb809-3"><a href="#cb809-3"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">factor</span>(sex, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"female"</span>, <span class="st">"male"</span>, <span class="st">"hermaphroditic"</span>, <span class="st">"none"</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb809-4"><a href="#cb809-4"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_infreq</span>(sex))) <span class="sc">+</span></span>
<span id="cb809-5"><a href="#cb809-5"></a>    <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> sex), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb809-6"><a href="#cb809-6"></a>    <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb809-7"><a href="#cb809-7"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Sexo"</span>, <span class="at">y =</span> <span class="st">"frecuencia absoluta"</span>, <span class="at">fill =</span> <span class="st">"sexo"</span>, <span class="at">title =</span> <span class="st">"Primer diagrama de barras"</span>,</span>
<span id="cb809-8"><a href="#cb809-8"></a>         <span class="at">subtitle =</span> <span class="st">"Sexos: femenino, masculino, hemafrodita, ninguno y ausente"</span>,</span>
<span id="cb809-9"><a href="#cb809-9"></a>         <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cualis-barras-ordenadas-2" class="slide level2">
<h2>Cualis: barras ordenadas</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Para <span class="hl-yellow"><strong>invertir el orden de los factores</strong></span> basta usar <code>fct_rev()</code></p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-619-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb810"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb810-1"><a href="#cb810-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb810-2"><a href="#cb810-2"></a>    <span class="fu">drop_na</span>(sex) <span class="sc">|&gt;</span></span>
<span id="cb810-3"><a href="#cb810-3"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">factor</span>(sex, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"female"</span>, <span class="st">"male"</span>, <span class="st">"hermaphroditic"</span>, <span class="st">"none"</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb810-4"><a href="#cb810-4"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_rev</span>(<span class="fu">fct_infreq</span>(sex)))) <span class="sc">+</span></span>
<span id="cb810-5"><a href="#cb810-5"></a>    <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> sex), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb810-6"><a href="#cb810-6"></a>    <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb810-7"><a href="#cb810-7"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Sexo"</span>, <span class="at">y =</span> <span class="st">"frecuencia absoluta"</span>, <span class="at">fill =</span> <span class="st">"sexo"</span>, <span class="at">title =</span> <span class="st">"Primer diagrama de barras"</span>,</span>
<span id="cb810-8"><a href="#cb810-8"></a>         <span class="at">subtitle =</span> <span class="st">"Sexos: femenino, masculino, hemafrodita, ninguno y ausente"</span>,</span>
<span id="cb810-9"><a href="#cb810-9"></a>         <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cualis-geom_col" class="slide level2">
<h2>Cualis: geom_col()</h2>
<p>La capa <code>geom_bar()</code> est√° solo pensada para <span class="hl-yellow"><strong>conteos de variables discretas o cualitativas</strong></span>. ¬øY si queremos visualizar en el peso por sexo?</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:45%;">
<p>Usaremos <code>geom_col()</code> (ahora si necesitamos <code>x,y</code>)</p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-621-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb811"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb811-1"><a href="#cb811-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb811-2"><a href="#cb811-2"></a>  <span class="fu">drop_na</span>(mass, sex) <span class="sc">|&gt;</span></span>
<span id="cb811-3"><a href="#cb811-3"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sex, <span class="at">y =</span> mass)) <span class="sc">+</span></span>
<span id="cb811-4"><a href="#cb811-4"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> sex), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb811-5"><a href="#cb811-5"></a>  <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb811-6"><a href="#cb811-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Sexo"</span>, <span class="at">y =</span> <span class="st">"Peso"</span>, <span class="at">fill =</span> <span class="st">"sexo"</span>, <span class="at">title =</span> <span class="st">"Primer diagrama de columnas"</span>,</span>
<span id="cb811-7"><a href="#cb811-7"></a>       <span class="at">subtitle =</span> <span class="st">"Sexos: femenino, masculino, hemafrodita, ninguno y ausente"</span>, <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="cualis-geom_col-1" class="slide level2">
<h2>Cualis: geom_col()</h2>
<p>F√≠jate que <span class="hl-red"><strong>por defecto</strong></span> lo que hace es <span class="hl-yellow"><strong>sumar la variable continua</strong></span>. ¬øC√≥mo pedir que visualice, por ejemplo, la <span class="hl-purple"><strong>media por grupos</strong></span>?</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:45%;">
<p>La forma m√°s inmediata es hacer un <code>geom_col()</code> pero en lugar de a la tabla original a un resumen de la misma.</p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-623-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb812"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb812-1"><a href="#cb812-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb812-2"><a href="#cb812-2"></a>  <span class="fu">drop_na</span>(mass, sex) <span class="sc">|&gt;</span> </span>
<span id="cb812-3"><a href="#cb812-3"></a>  <span class="fu">summarise</span>(<span class="at">mean_mass =</span> <span class="fu">mean</span>(mass), <span class="at">.by =</span> sex) <span class="sc">|&gt;</span> </span>
<span id="cb812-4"><a href="#cb812-4"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sex, <span class="at">y =</span> mean_mass)) <span class="sc">+</span></span>
<span id="cb812-5"><a href="#cb812-5"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> sex), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb812-6"><a href="#cb812-6"></a>  <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb812-7"><a href="#cb812-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Sexo"</span>, <span class="at">y =</span> <span class="st">"Peso (medio)"</span>, <span class="at">fill =</span> <span class="st">"sexo"</span>, <span class="at">title =</span> <span class="st">"Primer diagrama de columnas"</span>,</span>
<span id="cb812-8"><a href="#cb812-8"></a>       <span class="at">subtitle =</span> <span class="st">"Sexos: femenino, masculino, hemafrodita, ninguno y ausente"</span>, <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="cualis-geom_col-2" class="slide level2">
<h2>Cualis: geom_col()</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>Otra opci√≥n es no usar la capa geom√©trica sino la capa estad√≠stica, con <code>stat_summary()</code> e indic√°ndole la funci√≥n a visualizar y el geometr√≠a</p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-625-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb813"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb813-1"><a href="#cb813-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb813-2"><a href="#cb813-2"></a>    <span class="fu">drop_na</span>(mass, sex) <span class="sc">|&gt;</span></span>
<span id="cb813-3"><a href="#cb813-3"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">factor</span>(sex, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"female"</span>, <span class="st">"male"</span>, <span class="st">"hermaphroditic"</span>, <span class="st">"none"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb813-4"><a href="#cb813-4"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sex, <span class="at">y =</span> mass, <span class="at">fill =</span> sex)) <span class="sc">+</span></span>
<span id="cb813-5"><a href="#cb813-5"></a>    <span class="fu">stat_summary</span>(<span class="at">geom =</span> <span class="st">"col"</span>, <span class="at">fun =</span> mean, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb813-6"><a href="#cb813-6"></a>    <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb813-7"><a href="#cb813-7"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Sexo"</span>, <span class="at">y =</span> <span class="st">"Peso (medio)"</span>, <span class="at">fill =</span> <span class="st">"sexo"</span>,</span>
<span id="cb813-8"><a href="#cb813-8"></a>         <span class="at">title =</span> <span class="st">"Primer diagrama de columnas"</span>,</span>
<span id="cb813-9"><a href="#cb813-9"></a>         <span class="at">subtitle =</span> <span class="st">"Sexos: femenino, masculino, hemafrodita, ninguno y ausente"</span>,</span>
<span id="cb813-10"><a href="#cb813-10"></a>         <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cualis-geom_col-3" class="slide level2">
<h2>Cualis: geom_col()</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>F√≠jate que ambas formas nos permiten visualizar cualquier otro estad√≠stico, por ejempo, la mediana</p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-627-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb814"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb814-1"><a href="#cb814-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb814-2"><a href="#cb814-2"></a>    <span class="fu">drop_na</span>(mass, sex) <span class="sc">|&gt;</span></span>
<span id="cb814-3"><a href="#cb814-3"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">factor</span>(sex, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"female"</span>, <span class="st">"male"</span>, <span class="st">"hermaphroditic"</span>, <span class="st">"none"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb814-4"><a href="#cb814-4"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sex, <span class="at">y =</span> mass, <span class="at">fill =</span> sex)) <span class="sc">+</span></span>
<span id="cb814-5"><a href="#cb814-5"></a>    <span class="fu">stat_summary</span>(<span class="at">geom =</span> <span class="st">"col"</span>, <span class="at">fun =</span> median, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb814-6"><a href="#cb814-6"></a>    <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb814-7"><a href="#cb814-7"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Sexo"</span>, <span class="at">y =</span> <span class="st">"Peso (mediana)"</span>, <span class="at">fill =</span> <span class="st">"sexo"</span>,</span>
<span id="cb814-8"><a href="#cb814-8"></a>         <span class="at">title =</span> <span class="st">"Primer diagrama de columnas"</span>,</span>
<span id="cb814-9"><a href="#cb814-9"></a>         <span class="at">subtitle =</span> <span class="st">"Sexos: femenino, masculino, hemafrodita, ninguno y ausente"</span>,</span>
<span id="cb814-10"><a href="#cb814-10"></a>         <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cualis-geom_col-4" class="slide level2">
<h2>Cualis: geom_col()</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>La √∫ltima opci√≥n es volver a nuestra conocida <code>geom_bar()</code>, indic√°ndole <code>stat = "summary", fun = "mean"</code>, por ejemplo (por defecto <code>stat = "count"</code>) con ahora s√≠ dos variables</p>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-629-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb815"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb815-1"><a href="#cb815-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="cb815-2"><a href="#cb815-2"></a>    <span class="fu">drop_na</span>(mass, sex) <span class="sc">|&gt;</span></span>
<span id="cb815-3"><a href="#cb815-3"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">factor</span>(sex, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"female"</span>, <span class="st">"male"</span>, <span class="st">"hermaphroditic"</span>, <span class="st">"none"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb815-4"><a href="#cb815-4"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sex, <span class="at">y =</span> mass)) <span class="sc">+</span></span>
<span id="cb815-5"><a href="#cb815-5"></a>    <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> sex), <span class="at">alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb815-6"><a href="#cb815-6"></a>             <span class="at">stat =</span> <span class="st">"summary"</span>, <span class="at">fun =</span> <span class="st">"mean"</span>) <span class="sc">+</span> </span>
<span id="cb815-7"><a href="#cb815-7"></a>    <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb815-8"><a href="#cb815-8"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Sexo"</span>, <span class="at">y =</span> <span class="st">"Peso (media)"</span>, <span class="at">fill =</span> <span class="st">"sexo"</span>,</span>
<span id="cb815-9"><a href="#cb815-9"></a>         <span class="at">title =</span> <span class="st">"Primer diagrama de columnas"</span>,</span>
<span id="cb815-10"><a href="#cb815-10"></a>         <span class="at">subtitle =</span> <span class="st">"Sexos: femenino, masculino, hemafrodita, ninguno y ausente"</span>,</span>
<span id="cb815-11"><a href="#cb815-11"></a>         <span class="at">caption =</span> <span class="st">"J. √Ålvarez Li√©bana"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="imitando-a-nightingale" class="slide level2">
<h2>Imitando a Nightingale</h2>
<p>Vamos a intentar replicar el <span class="hl-yellow"><strong>famoso gr√°fico de rosa o diagrama de √°rea polar de Florence Nightingale</strong></span>, cargando los datos de <code>{HistData}</code>. Los datos representan, por meses, las diferentes causas de mortalidad de los soldados ingleses en la Guerra de Crimea (busca en la ayuda para saber qu√© es cada cosa)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb816"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb816-1"><a href="#cb816-1"></a><span class="fu">library</span>(HistData)</span>
<span id="cb816-2"><a href="#cb816-2"></a>datos <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(Nightingale)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<img data-src="./img/rosa_nightingale.jpg" class="r-stretch"></section>
<section id="imitando-a-nightingale-1" class="slide level2">
<h2>Imitando a Nightingale</h2>
<ol type="1">
<li>Filtra solo las variables relativas a fecha y las relativadas a tasas de mortalidad (por cada 1000 habitantes), aquellas que acaban por <code>".rate"</code>. Tras ello prepara los datos de manera adecuada para su visualizaci√≥n (todo en castellano)</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb817"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb817-1"><a href="#cb817-1"></a>datos_filtrados <span class="ot">&lt;-</span></span>
<span id="cb817-2"><a href="#cb817-2"></a>  datos <span class="sc">|&gt;</span> </span>
<span id="cb817-3"><a href="#cb817-3"></a>  <span class="fu">select</span>(Date<span class="sc">:</span>Year, <span class="fu">contains</span>(<span class="st">"rate"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb817-4"><a href="#cb817-4"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">contains</span>(<span class="st">"rate"</span>),</span>
<span id="cb817-5"><a href="#cb817-5"></a>               <span class="at">names_to =</span> <span class="st">"causa"</span>,</span>
<span id="cb817-6"><a href="#cb817-6"></a>               <span class="at">values_to =</span> <span class="st">"tasa"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb817-7"><a href="#cb817-7"></a>  <span class="fu">rename</span>(<span class="at">fecha =</span> Date, <span class="at">mes =</span> Month, <span class="at">anno =</span> Year) <span class="sc">|&gt;</span> </span>
<span id="cb817-8"><a href="#cb817-8"></a>  <span class="fu">mutate</span>(<span class="at">causa =</span></span>
<span id="cb817-9"><a href="#cb817-9"></a>           <span class="fu">case_when</span>(causa <span class="sc">==</span> <span class="st">"Disease.rate"</span> <span class="sc">~</span> <span class="st">"infecciosas"</span>,</span>
<span id="cb817-10"><a href="#cb817-10"></a>                     causa <span class="sc">==</span> <span class="st">"Wounds.rate"</span> <span class="sc">~</span> <span class="st">"heridas"</span>,</span>
<span id="cb817-11"><a href="#cb817-11"></a>                     <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"otras"</span>))</span>
<span id="cb817-12"><a href="#cb817-12"></a>datos_filtrados</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 72 √ó 5
   fecha      mes    anno causa        tasa
   &lt;date&gt;     &lt;ord&gt; &lt;int&gt; &lt;chr&gt;       &lt;dbl&gt;
 1 1854-04-01 Apr    1854 infecciosas   1.4
 2 1854-04-01 Apr    1854 heridas       0  
 3 1854-04-01 Apr    1854 otras         7  
 4 1854-05-01 May    1854 infecciosas   6.2
 5 1854-05-01 May    1854 heridas       0  
 6 1854-05-01 May    1854 otras         4.6
 7 1854-06-01 Jun    1854 infecciosas   4.7
 8 1854-06-01 Jun    1854 heridas       0  
 9 1854-06-01 Jun    1854 otras         2.5
10 1854-07-01 Jul    1854 infecciosas 150  
# ‚Ñπ 62 more rows</code></pre>
</div>
</div>
</section>
<section id="imitando-a-nightingale-2" class="slide level2">
<h2>Imitando a Nightingale</h2>
<ol start="2" type="1">
<li>Realiza las transformaciones en los datos que consideres y replica el gr√°fico.</li>
</ol>

<img data-src="index_files/figure-revealjs/unnamed-chunk-633-1.png" width="1056" class="r-stretch"></section>
<section id="imitando-a-nightingale-3" class="slide level2">
<h2>Imitando a Nightingale</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb819"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb819-1"><a href="#cb819-1"></a>datos_filtrados <span class="ot">&lt;-</span></span>
<span id="cb819-2"><a href="#cb819-2"></a>  datos_filtrados <span class="sc">|&gt;</span></span>
<span id="cb819-3"><a href="#cb819-3"></a>  <span class="fu">mutate</span>(<span class="at">periodo =</span> <span class="fu">ifelse</span>(fecha <span class="sc">&gt;=</span> <span class="st">"1855-04-01"</span>, <span class="st">"Abril 1855 - Marzo 1856"</span>, <span class="st">"Abril 1854 - Marzo 1855"</span>),</span>
<span id="cb819-4"><a href="#cb819-4"></a>         <span class="at">periodo =</span></span>
<span id="cb819-5"><a href="#cb819-5"></a>           <span class="fu">factor</span>(periodo, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Abril 1854 - Marzo 1855"</span>, <span class="st">"Abril 1855 - Marzo 1856"</span>),</span>
<span id="cb819-6"><a href="#cb819-6"></a>                  <span class="at">ordered =</span> <span class="cn">TRUE</span>))</span>
<span id="cb819-7"><a href="#cb819-7"></a></span>
<span id="cb819-8"><a href="#cb819-8"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())</span>
<span id="cb819-9"><a href="#cb819-9"></a><span class="fu">ggplot</span>(datos_filtrados, <span class="fu">aes</span>(<span class="at">x =</span> mes, <span class="at">y =</span> tasa, <span class="at">fill =</span> causa)) <span class="sc">+</span> </span>
<span id="cb819-10"><a href="#cb819-10"></a>  <span class="fu">geom_col</span>(<span class="at">alpha =</span> <span class="fl">0.85</span>) <span class="sc">+</span></span>
<span id="cb819-11"><a href="#cb819-11"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#e3aeae"</span>, <span class="st">"#a5acb0"</span>, <span class="st">"#594b4a"</span>)) <span class="sc">+</span></span>
<span id="cb819-12"><a href="#cb819-12"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>periodo) <span class="sc">+</span></span>
<span id="cb819-13"><a href="#cb819-13"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Causas"</span>, <span class="at">title =</span> <span class="st">"Causas de mortalidad"</span>,</span>
<span id="cb819-14"><a href="#cb819-14"></a>       <span class="at">subtitle =</span> <span class="st">"Periodos: Abril 1854 - Marzo 1855 y Abril 1855 - Marzo 1856"</span>,</span>
<span id="cb819-15"><a href="#cb819-15"></a>       <span class="at">caption =</span> <span class="st">"Autor: J. √Ålvarez Li√©bana | Data: {HistData}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="imitando-a-nightingale-4" class="slide level2">
<h2>Imitando a Nightingale</h2>
<ol start="3" type="1">
<li>Nuestros datos abarcan dos periodos: de abril 1854 a marzo 1855, y de abril 1855 a marzo 1856. Realiza los cambios necesarios para obtener el siguiente gr√°fico.</li>
</ol>

<img data-src="index_files/figure-revealjs/unnamed-chunk-635-1.png" width="1056" class="r-stretch"></section>
<section id="imitando-a-nightingale-5" class="slide level2">
<h2>Imitando a Nightingale</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb820"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb820-1"><a href="#cb820-1"></a>datos_filtrados <span class="ot">&lt;-</span></span>
<span id="cb820-2"><a href="#cb820-2"></a>  datos_filtrados <span class="sc">|&gt;</span></span>
<span id="cb820-3"><a href="#cb820-3"></a>  <span class="fu">mutate</span>(<span class="at">periodo =</span> <span class="fu">ifelse</span>(fecha <span class="sc">&gt;=</span> <span class="st">"1855-04-01"</span>, <span class="st">"Abril 1855 - Marzo 1856"</span>, <span class="st">"Abril 1854 - Marzo 1855"</span>),</span>
<span id="cb820-4"><a href="#cb820-4"></a>         <span class="at">periodo =</span></span>
<span id="cb820-5"><a href="#cb820-5"></a>           <span class="fu">factor</span>(periodo, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Abril 1854 - Marzo 1855"</span>, <span class="st">"Abril 1855 - Marzo 1856"</span>),</span>
<span id="cb820-6"><a href="#cb820-6"></a>                  <span class="at">ordered =</span> <span class="cn">TRUE</span>),</span>
<span id="cb820-7"><a href="#cb820-7"></a>         <span class="at">mes =</span> <span class="fu">fct_relevel</span>(mes, <span class="st">"Apr"</span>, <span class="st">"May"</span>, <span class="st">"Jun"</span>, <span class="st">"Jul"</span>, <span class="st">"Aug"</span>, <span class="st">"Sep"</span>, <span class="st">"Oct"</span>, <span class="st">"Nov"</span>,</span>
<span id="cb820-8"><a href="#cb820-8"></a>                           <span class="st">"Dec"</span>, <span class="st">"Jan"</span>, <span class="st">"Feb"</span>, <span class="st">"Mar"</span>))</span>
<span id="cb820-9"><a href="#cb820-9"></a></span>
<span id="cb820-10"><a href="#cb820-10"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())</span>
<span id="cb820-11"><a href="#cb820-11"></a><span class="fu">ggplot</span>(datos_filtrados, <span class="fu">aes</span>(<span class="at">x =</span> mes, <span class="at">y =</span> tasa, <span class="at">fill =</span> causa)) <span class="sc">+</span> </span>
<span id="cb820-12"><a href="#cb820-12"></a>  <span class="fu">geom_col</span>(<span class="at">alpha =</span> <span class="fl">0.85</span>) <span class="sc">+</span></span>
<span id="cb820-13"><a href="#cb820-13"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#e3aeae"</span>, <span class="st">"#a5acb0"</span>, <span class="st">"#594b4a"</span>)) <span class="sc">+</span></span>
<span id="cb820-14"><a href="#cb820-14"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>periodo) <span class="sc">+</span></span>
<span id="cb820-15"><a href="#cb820-15"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Causas"</span>, <span class="at">title =</span> <span class="st">"Causas de mortalidad"</span>,</span>
<span id="cb820-16"><a href="#cb820-16"></a>       <span class="at">subtitle =</span> <span class="st">"Periodos: Abril 1854 - Marzo 1855 y Abril 1855 - Marzo 1856"</span>,</span>
<span id="cb820-17"><a href="#cb820-17"></a>       <span class="at">caption =</span> <span class="st">"Autor: J. √Ålvarez Li√©bana | Data: {HistData}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="imitando-a-nightingale-6" class="slide level2">
<h2>Imitando a Nightingale</h2>
<ol start="4" type="1">
<li>Piensa que cambio hemos realizado en el siguiente gr√°fico. ¬øQu√© se ha cambiado en las coordenadas? ¬øTenemos alguna capa que pueda ayudarnos a realizarlo? Investiga</li>
</ol>

<img data-src="index_files/figure-revealjs/unnamed-chunk-637-1.png" width="1056" class="r-stretch"></section>
<section id="imitando-a-nightingale-7" class="slide level2">
<h2>Imitando a Nightingale</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb821"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb821-1"><a href="#cb821-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())</span>
<span id="cb821-2"><a href="#cb821-2"></a><span class="fu">ggplot</span>(datos_filtrados, <span class="fu">aes</span>(<span class="at">x =</span> mes, <span class="at">y =</span> tasa, <span class="at">fill =</span> causa)) <span class="sc">+</span> </span>
<span id="cb821-3"><a href="#cb821-3"></a>  <span class="fu">geom_col</span>(<span class="at">alpha =</span> <span class="fl">0.85</span>) <span class="sc">+</span></span>
<span id="cb821-4"><a href="#cb821-4"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#e3aeae"</span>, <span class="st">"#a5acb0"</span>, <span class="st">"#594b4a"</span>)) <span class="sc">+</span></span>
<span id="cb821-5"><a href="#cb821-5"></a>  <span class="fu">coord_polar</span>() <span class="sc">+</span></span>
<span id="cb821-6"><a href="#cb821-6"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>periodo) <span class="sc">+</span></span>
<span id="cb821-7"><a href="#cb821-7"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Causas"</span>, <span class="at">title =</span> <span class="st">"Causas de mortalidad"</span>,</span>
<span id="cb821-8"><a href="#cb821-8"></a>       <span class="at">subtitle =</span> <span class="st">"Periodos: Abril 1854 - Marzo 1855 y Abril 1855 - Marzo 1856"</span>,</span>
<span id="cb821-9"><a href="#cb821-9"></a>       <span class="at">caption =</span> <span class="st">"Autor: J. √Ålvarez Li√©bana | Data: {HistData}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="imitando-a-nightingale-8" class="slide level2">
<h2>Imitando a Nightingale</h2>
<ol start="5" type="1">
<li>Ahora mismo se notan mucho las diferencias entre gajos. ¬øC√≥mo podr√≠amos reducir esa diferencia? ¬øQu√© tipo de cambio deber√≠amos realizar (qu√© tipo de capa usar)?</li>
</ol>

<img data-src="index_files/figure-revealjs/unnamed-chunk-639-1.png" width="1056" class="r-stretch"></section>
<section id="imitando-a-nightingale-9" class="slide level2">
<h2>Imitando a Nightingale</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb822"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb822-1"><a href="#cb822-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())</span>
<span id="cb822-2"><a href="#cb822-2"></a><span class="fu">ggplot</span>(datos_filtrados, <span class="fu">aes</span>(<span class="at">x =</span> mes, <span class="at">y =</span> tasa, <span class="at">fill =</span> causa)) <span class="sc">+</span> </span>
<span id="cb822-3"><a href="#cb822-3"></a>  <span class="fu">geom_col</span>(<span class="at">alpha =</span> <span class="fl">0.85</span>) <span class="sc">+</span></span>
<span id="cb822-4"><a href="#cb822-4"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#e3aeae"</span>, <span class="st">"#a5acb0"</span>, <span class="st">"#594b4a"</span>)) <span class="sc">+</span></span>
<span id="cb822-5"><a href="#cb822-5"></a>  <span class="fu">coord_polar</span>() <span class="sc">+</span></span>
<span id="cb822-6"><a href="#cb822-6"></a>  <span class="fu">scale_y_sqrt</span>() <span class="sc">+</span></span>
<span id="cb822-7"><a href="#cb822-7"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>periodo) <span class="sc">+</span></span>
<span id="cb822-8"><a href="#cb822-8"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Causas"</span>, <span class="at">title =</span> <span class="st">"Causas de mortalidad"</span>,</span>
<span id="cb822-9"><a href="#cb822-9"></a>       <span class="at">subtitle =</span> <span class="st">"Periodos: Abril 1854 - Marzo 1855 y Abril 1855 - Marzo 1856"</span>,</span>
<span id="cb822-10"><a href="#cb822-10"></a>       <span class="at">caption =</span> <span class="st">"Autor: J. √Ålvarez Li√©bana | Data: {HistData}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="imitando-a-nightingale-10" class="slide level2">
<h2>Imitando a Nightingale</h2>
<ol start="6" type="1">
<li>Dado que en el gr√°fico original no hay marcas en el eje Y, vamos <strong>eliminar el eje Y</strong> (sin t√≠tulo, sin textos, sin marcas). ¬øQu√© habr√≠a que cambiar? Investiga en <code>theme()</code> Situa adem√°s la leyenda en la parte inferior</li>
</ol>

<img data-src="index_files/figure-revealjs/unnamed-chunk-641-1.png" width="1056" class="r-stretch"></section>
<section id="imitando-a-nightingale-11" class="slide level2">
<h2>Imitando a Nightingale</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb823"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb823-1"><a href="#cb823-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())</span>
<span id="cb823-2"><a href="#cb823-2"></a><span class="fu">theme_update</span>(<span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb823-3"><a href="#cb823-3"></a>             <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb823-4"><a href="#cb823-4"></a>             <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb823-5"><a href="#cb823-5"></a>             <span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="imitando-a-nightingale-12" class="slide level2">
<h2>Imitando a Nightingale</h2>
<ol start="7" type="1">
<li>Para que sea m√°s legible vamos a <strong>reducir el tama√±o de las etiquetas de los meses</strong> y vamos a darle <strong>etiquetas correctas a los meses</strong> (July en lugar de Jul, December en lugar de Dec, etc).</li>
</ol>

<img data-src="index_files/figure-revealjs/unnamed-chunk-643-1.png" width="1056" class="r-stretch"></section>
<section id="imitando-a-nightingale-13" class="slide level2">
<h2>Imitando a Nightingale</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb824"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb824-1"><a href="#cb824-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())</span>
<span id="cb824-2"><a href="#cb824-2"></a><span class="fu">theme_update</span>(<span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(), <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb824-3"><a href="#cb824-3"></a>             <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>(), <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">6</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb824-4"><a href="#cb824-4"></a>             <span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span>
<span id="cb824-5"><a href="#cb824-5"></a></span>
<span id="cb824-6"><a href="#cb824-6"></a>... <span class="sc">+</span> </span>
<span id="cb824-7"><a href="#cb824-7"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span></span>
<span id="cb824-8"><a href="#cb824-8"></a>                     <span class="fu">c</span>(<span class="st">"JULY"</span>, <span class="st">"AUGUST"</span>, <span class="st">"SEPTEMBER"</span>, <span class="st">"OCTOBER"</span>, <span class="st">"NOVEMBER"</span>, <span class="st">"DECEMBER"</span>,</span>
<span id="cb824-9"><a href="#cb824-9"></a>                       <span class="st">"JANUARY"</span>, <span class="st">"FEBRUARY"</span>, <span class="st">"MARCH"</span>, <span class="st">"APRIL"</span>, <span class="st">"MAY"</span>, <span class="st">"JUNE"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="caso-pr√°ctico-14-a-ggplot" class="slide level2">
<h2>üê£ Caso pr√°ctico 14 a: ggplot</h2>
<p>Usa el dataset <code>gapminder</code> y visualiza en un gr√°fico la media de la variable <code>gdpPercap</code> por continente y a√±o mediante un diagrama de barras en 3 formas:</p>
<ul>
<li>barras solapadas</li>
<li>barras apiladas</li>
<li>barras fill</li>
</ul>
</section>
<section id="caso-pr√°ctico-14-b-ggplot" class="slide level2">
<h2>üê£ Caso pr√°ctico 14 b: ggplot</h2>
<p>El objetivo es analizar un conjunto de datos que contiene las respuestas a las pregunta <span class="hl-yellow"><strong>¬´¬øQu√© probabilidad (%) asignar√≠as al t√©rmino (entre otros) ‚Ä¶</strong></span></p>
<ul>
<li><strong>¬´almost no chance¬ª</strong></li>
<li><strong>¬´probable¬ª</strong></li>
<li><strong>¬´almost certainly¬ª</strong></li>
</ul>
<p>‚Ä¶con el objetivo de <span class="hl-yellow"><strong>comprender c√≥mo la gente percibe el vocabulario</strong></span> de la probabilidad.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb825"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb825-1"><a href="#cb825-1"></a>datos <span class="ot">&lt;-</span></span>
<span id="cb825-2"><a href="#cb825-2"></a>  <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/zonination/perceptions/master/probly.csv"</span>)</span>
<span id="cb825-3"><a href="#cb825-3"></a>datos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 46 √ó 17
   `Almost Certainly` `Highly Likely` `Very Good Chance` Probable Likely
                &lt;dbl&gt;           &lt;dbl&gt;              &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;
 1                 95              80                 85       75     66
 2                 95              75                 75       51     75
 3                 95              85                 85       70     75
 4                 95              85                 85       70     75
 5                 98              95                 80       70     70
 6                 95              99                 85       90     75
 7                 85              95                 65       80     40
 8                 97              95                 75       70     70
 9                 95              95                 80       70     65
10                 90              85                 90       70     75
# ‚Ñπ 36 more rows
# ‚Ñπ 12 more variables: Probably &lt;dbl&gt;, `We Believe` &lt;dbl&gt;,
#   `Better Than Even` &lt;dbl&gt;, `About Even` &lt;dbl&gt;, `We Doubt` &lt;dbl&gt;,
#   Improbable &lt;dbl&gt;, Unlikely &lt;dbl&gt;, `Probably Not` &lt;dbl&gt;,
#   `Little Chance` &lt;dbl&gt;, `Almost No Chance` &lt;dbl&gt;, `Highly Unlikely` &lt;dbl&gt;,
#   `Chances Are Slight` &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="caso-pr√°ctico-14-b-ggplot-1" class="slide level2">
<h2>üê£ Caso pr√°ctico 14 b: ggplot</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb827"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb827-1"><a href="#cb827-1"></a>datos <span class="ot">&lt;-</span></span>
<span id="cb827-2"><a href="#cb827-2"></a>  <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/zonination/perceptions/master/probly.csv"</span>)</span>
<span id="cb827-3"><a href="#cb827-3"></a>datos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 46 √ó 17
   `Almost Certainly` `Highly Likely` `Very Good Chance` Probable Likely
                &lt;dbl&gt;           &lt;dbl&gt;              &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;
 1                 95              80                 85       75     66
 2                 95              75                 75       51     75
 3                 95              85                 85       70     75
 4                 95              85                 85       70     75
 5                 98              95                 80       70     70
 6                 95              99                 85       90     75
 7                 85              95                 65       80     40
 8                 97              95                 75       70     70
 9                 95              95                 80       70     65
10                 90              85                 90       70     75
# ‚Ñπ 36 more rows
# ‚Ñπ 12 more variables: Probably &lt;dbl&gt;, `We Believe` &lt;dbl&gt;,
#   `Better Than Even` &lt;dbl&gt;, `About Even` &lt;dbl&gt;, `We Doubt` &lt;dbl&gt;,
#   Improbable &lt;dbl&gt;, Unlikely &lt;dbl&gt;, `Probably Not` &lt;dbl&gt;,
#   `Little Chance` &lt;dbl&gt;, `Almost No Chance` &lt;dbl&gt;, `Highly Unlikely` &lt;dbl&gt;,
#   `Chances Are Slight` &lt;dbl&gt;</code></pre>
</div>
</div>
<p>Solo haciendo uso de los gr√°ficos aprendidos hasta ahora, ¬øc√≥mo visualizar√≠as dicho dataset? Realiza las tranformaciones que consideres para una correcta preparaci√≥n de los datos.</p>
</section></section>
<section>
<section id="clase-15-dataviz" class="title-slide slide level1 center">
<h1>Clase 15: dataviz</h1>
<p><span style="color:#444442;"><strong>Visualizaci√≥n de datos</strong></span></p>
</section>
<section id="variables-continuas-1" class="slide level2">
<h2>Variables continuas</h2>
<blockquote>
<p>Solo haciendo uso de los gr√°ficos aprendidos hasta ahora, ¬øc√≥mo visualizar√≠as dicho dataset? Realiza las tranformaciones que consideres para una correcta preparaci√≥n de los datos.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb829"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb829-1"><a href="#cb829-1"></a>datos <span class="ot">&lt;-</span></span>
<span id="cb829-2"><a href="#cb829-2"></a>  <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/zonination/perceptions/master/probly.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Lo primero que deberemos hacer es <span class="hl-yellow"><strong>preparar nuestros datos</strong></span> para la posterior visualizaci√≥n en formato tidy</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb830"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb830-1"><a href="#cb830-1"></a>datos_tidy <span class="ot">&lt;-</span></span>
<span id="cb830-2"><a href="#cb830-2"></a>  datos <span class="sc">|&gt;</span> </span>
<span id="cb830-3"><a href="#cb830-3"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(),</span>
<span id="cb830-4"><a href="#cb830-4"></a>               <span class="at">names_to =</span> <span class="st">"termino"</span>, <span class="at">values_to =</span> <span class="st">"prob"</span>)</span>
<span id="cb830-5"><a href="#cb830-5"></a>datos_tidy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 782 √ó 2
   termino           prob
   &lt;chr&gt;            &lt;dbl&gt;
 1 Almost Certainly    95
 2 Highly Likely       80
 3 Very Good Chance    85
 4 Probable            75
 5 Likely              66
 6 Probably            75
 7 We Believe          66
 8 Better Than Even    55
 9 About Even          50
10 We Doubt            40
# ‚Ñπ 772 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="variables-continuas-2" class="slide level2">
<h2>Variables continuas</h2>
<p>¬øC√≥mo podemos visualizar estos datos?</p>
<div class="fragment">
<p>Tenemos dos variables:</p>
<ul>
<li><code>termino</code>: <span class="hl-yellow"><strong>cualitativa ordinal</strong></span></li>
<li><code>prob</code>: <span class="hl-yellow"><strong>cuantitativa continua</strong></span></li>
</ul>
<p>Por lo que de momento no tenemos herramienta para visualizarlo ya que</p>
<ul>
<li><span class="hl-purple"><strong>scatter plot</strong></span>: dos variables continuas.</li>
<li><span class="hl-purple"><strong>diagrama de barras</strong></span>: variables discretas o cualitativas</li>
</ul>
</div>
<div class="fragment">
<p>La √∫nica manera ser√° <span class="hl-yellow"><strong>realizar un resumen</strong></span> de los datos visualizando, por ejemplo, la <span class="hl-yellow"><strong>media de probabilidad</strong></span> asignada</p>
</div>
</section>
<section id="variables-continuas-3" class="slide level2">
<h2>Variables continuas</h2>
<p>La √∫nica manera ser√° <span class="hl-yellow"><strong>realizar un resumen</strong></span> de los datos visualizando, por ejemplo, la <span class="hl-yellow"><strong>media de probabilidad</strong></span> asignada</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb832"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb832-1"><a href="#cb832-1"></a>resumen <span class="ot">&lt;-</span> </span>
<span id="cb832-2"><a href="#cb832-2"></a>  datos_tidy <span class="sc">|&gt;</span></span>
<span id="cb832-3"><a href="#cb832-3"></a>  <span class="fu">summarise</span>(<span class="at">mean_prob =</span> <span class="fu">mean</span>(prob), <span class="at">.by =</span> termino)</span>
<span id="cb832-4"><a href="#cb832-4"></a>resumen</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 17 √ó 2
   termino            mean_prob
   &lt;chr&gt;                  &lt;dbl&gt;
 1 Almost Certainly       92.6 
 2 Highly Likely          86.2 
 3 Very Good Chance       79.8 
 4 Probable               71.5 
 5 Likely                 72   
 6 Probably               71.5 
 7 We Believe             68.5 
 8 Better Than Even       58.4 
 9 About Even             49.6 
10 We Doubt               27.9 
11 Improbable             18.0 
12 Unlikely               19.9 
13 Probably Not           29.5 
14 Little Chance          16.0 
15 Almost No Chance        5.63
16 Highly Unlikely        10.1 
17 Chances Are Slight     14.1 </code></pre>
</div>
</div>
</div>
</section>
<section id="variables-continuas-4" class="slide level2">
<h2>Variables continuas</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Con <code>scale_fill_gradient2()</code> vamos a crear un gradiente de color, y con <code>scale_y_continuous()</code> incorporamos % en el eje Y.</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-650-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb834"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb834-1"><a href="#cb834-1"></a><span class="fu">ggplot</span>(resumen, <span class="fu">aes</span>(<span class="at">x =</span> termino, <span class="at">y =</span> mean_prob, <span class="at">fill =</span> mean_prob)) <span class="sc">+</span></span>
<span id="cb834-2"><a href="#cb834-2"></a>  <span class="fu">geom_col</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb834-3"><a href="#cb834-3"></a>  <span class="fu">scale_fill_gradient2</span>(<span class="at">low =</span> <span class="st">"#DA4A4A"</span>, <span class="at">mid =</span> <span class="st">"#FEFADF"</span>, <span class="at">high =</span> <span class="st">"#144F8D"</span>, <span class="at">midpoint =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb834-4"><a href="#cb834-4"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>(<span class="at">suffix =</span> <span class="st">"%"</span>)) <span class="sc">+</span></span>
<span id="cb834-5"><a href="#cb834-5"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Prob. media"</span>, <span class="at">x =</span> <span class="st">"T√©rminos"</span>, <span class="at">y =</span> <span class="st">"Probabilidad media"</span>,</span>
<span id="cb834-6"><a href="#cb834-6"></a>       <span class="at">title =</span> <span class="st">"Percepci√≥n de la probabilidad"</span>) <span class="sc">+</span></span>
<span id="cb834-7"><a href="#cb834-7"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="variables-continuas-5" class="slide level2">
<h2>Variables continuas</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Para mejorar la legibilidad vamos a reducir el tama√±o de las etiquetas del eje X.</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-652-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb835"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb835-1"><a href="#cb835-1"></a><span class="fu">ggplot</span>(resumen, <span class="fu">aes</span>(<span class="at">x =</span> termino, <span class="at">y =</span> mean_prob, <span class="at">fill =</span> mean_prob)) <span class="sc">+</span></span>
<span id="cb835-2"><a href="#cb835-2"></a>  <span class="fu">geom_col</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb835-3"><a href="#cb835-3"></a>  <span class="fu">scale_fill_gradient2</span>(<span class="at">low =</span> <span class="st">"#DA4A4A"</span>, <span class="at">mid =</span> <span class="st">"#FEFADF"</span>, <span class="at">high =</span> <span class="st">"#144F8D"</span>, <span class="at">midpoint =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb835-4"><a href="#cb835-4"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>(<span class="at">suffix =</span> <span class="st">"%"</span>)) <span class="sc">+</span></span>
<span id="cb835-5"><a href="#cb835-5"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Prob. media"</span>, <span class="at">x =</span> <span class="st">"T√©rminos"</span>, <span class="at">y =</span> <span class="st">"Probabilidad media"</span>,</span>
<span id="cb835-6"><a href="#cb835-6"></a>       <span class="at">title =</span> <span class="st">"Percepci√≥n de la probabilidad"</span>) <span class="sc">+</span></span>
<span id="cb835-7"><a href="#cb835-7"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb835-8"><a href="#cb835-8"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">6</span>, <span class="at">angle =</span> <span class="dv">30</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="variables-continuas-6" class="slide level2">
<h2>Variables continuas</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Por √∫ltimo, vamos a ordenar las barras de m√°s a menos</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-654-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb836"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb836-1"><a href="#cb836-1"></a><span class="fu">ggplot</span>(resumen <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">termino =</span> <span class="fu">fct_reorder</span>(termino, mean_prob)), <span class="fu">aes</span>(<span class="at">x =</span> termino, <span class="at">y =</span> mean_prob, <span class="at">fill =</span> mean_prob)) <span class="sc">+</span></span>
<span id="cb836-2"><a href="#cb836-2"></a>  <span class="fu">geom_col</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb836-3"><a href="#cb836-3"></a>  <span class="fu">scale_fill_gradient2</span>(<span class="at">low =</span> <span class="st">"#DA4A4A"</span>, <span class="at">mid =</span> <span class="st">"#FEFADF"</span>, <span class="at">high =</span> <span class="st">"#144F8D"</span>, <span class="at">midpoint =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb836-4"><a href="#cb836-4"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>(<span class="at">suffix =</span> <span class="st">"%"</span>)) <span class="sc">+</span></span>
<span id="cb836-5"><a href="#cb836-5"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Prob. media"</span>, <span class="at">x =</span> <span class="st">"T√©rminos"</span>, <span class="at">y =</span> <span class="st">"Probabilidad media"</span>,</span>
<span id="cb836-6"><a href="#cb836-6"></a>       <span class="at">title =</span> <span class="st">"Percepci√≥n de la probabilidad"</span>) <span class="sc">+</span></span>
<span id="cb836-7"><a href="#cb836-7"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb836-8"><a href="#cb836-8"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">6</span>, <span class="at">angle =</span> <span class="dv">30</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="variables-continuas-7" class="slide level2">
<h2>Variables continuas</h2>
<p>Aun as√≠ al haber sumarizado, estamos perdiendo informaci√≥n‚Ä¶</p>
<p>¬øQu√© otros gr√°ficos se te ocurren para hacer con <span class="hl-yellow"><strong>variables continuas</strong></span>?</p>
<div class="fragment">
<p>Algunos de los m√°s habituales son:</p>
<ul>
<li><span class="hl-purple"><strong>Distribuciones</strong></span>: histogramas, densidades (ridgeline), boxplot (alternativas: viol√≠n, raincloud plots)</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-purple"><strong>Evoluci√≥n</strong></span>: gr√°ficos de l√≠neas, gr√°ficos de √°rea, series temporales, etc</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-purple"><strong>Correlaciones</strong></span>: mapas de calor, correlograma, grafos, etc</li>
</ul>
</div>
</section>
<section id="distribuciones-histogramas" class="slide level2">
<h2>Distribuciones: histogramas</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Nuestra primera alternativa ser√° el conocido como <span class="hl-yellow"><strong>histograma</strong></span> con <code>geom_histogram()</code></p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-656-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<p>F√≠jate que est√° realizando el histograma de todo el dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb837"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb837-1"><a href="#cb837-1"></a><span class="fu">ggplot</span>(datos_tidy, <span class="fu">aes</span>(<span class="at">x =</span> prob)) <span class="sc">+</span></span>
<span id="cb837-2"><a href="#cb837-2"></a>  <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">fill =</span> <span class="st">"#144F8D"</span>) <span class="sc">+</span></span>
<span id="cb837-3"><a href="#cb837-3"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Probabilidad"</span>, <span class="at">y =</span> <span class="st">"Frecuencia"</span>,</span>
<span id="cb837-4"><a href="#cb837-4"></a>       <span class="at">title =</span> <span class="st">"Percepci√≥n de la probabilidad"</span>) <span class="sc">+</span></span>
<span id="cb837-5"><a href="#cb837-5"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="distribuciones-histogramas-1" class="slide level2">
<h2>Distribuciones: histogramas</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>El argumento <code>bins = ...</code> nos servir√° para personalizar el n√≠mero de barras que queremos. F√≠jate que el gr√°fico es una <span class="hl-yellow"><strong>proximaci√≥n discreta</strong></span> de un gr√°fico de densidad.</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-658-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb838"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb838-1"><a href="#cb838-1"></a><span class="fu">ggplot</span>(datos_tidy, <span class="fu">aes</span>(<span class="at">x =</span> prob)) <span class="sc">+</span></span>
<span id="cb838-2"><a href="#cb838-2"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">12</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">fill =</span> <span class="st">"#144F8D"</span>) <span class="sc">+</span></span>
<span id="cb838-3"><a href="#cb838-3"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Probabilidad"</span>, <span class="at">y =</span> <span class="st">"Frecuencia"</span>,</span>
<span id="cb838-4"><a href="#cb838-4"></a>       <span class="at">title =</span> <span class="st">"Percepci√≥n de la probabilidad"</span>) <span class="sc">+</span></span>
<span id="cb838-5"><a href="#cb838-5"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="distribuciones-histogramas-2" class="slide level2">
<h2>Distribuciones: histogramas</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Si queremos hacer uno por t√©rmino, basta con a√±adir a nuestro gr√°fico un <code>facet_wrap()</code> para componer</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-660-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb839"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb839-1"><a href="#cb839-1"></a><span class="fu">ggplot</span>(datos_tidy, <span class="fu">aes</span>(<span class="at">x =</span> prob, <span class="at">fill =</span> termino)) <span class="sc">+</span></span>
<span id="cb839-2"><a href="#cb839-2"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">12</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb839-3"><a href="#cb839-3"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>termino, <span class="at">scale =</span> <span class="st">"free_y"</span>, <span class="at">ncol =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb839-4"><a href="#cb839-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Probabilidad"</span>, <span class="at">y =</span> <span class="st">"Frecuencia"</span>,</span>
<span id="cb839-5"><a href="#cb839-5"></a>       <span class="at">title =</span> <span class="st">"Percepci√≥n de la probabilidad"</span>) <span class="sc">+</span></span>
<span id="cb839-6"><a href="#cb839-6"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="distribuciones-histogramas-3" class="slide level2">
<h2>Distribuciones: histogramas</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Vamos a filtrar solo algunos t√©rminos para poder usar la paleta <code>scale_fill_brewer()</code></p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-662-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb840"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb840-1"><a href="#cb840-1"></a>datos_tidy <span class="ot">&lt;-</span></span>
<span id="cb840-2"><a href="#cb840-2"></a>  datos_tidy <span class="sc">|&gt;</span> </span>
<span id="cb840-3"><a href="#cb840-3"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(termino <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Chances Are Slight"</span>, <span class="st">"Improbable"</span>, <span class="st">"Probably Not"</span>, <span class="st">"Probable"</span>, <span class="st">"Likely"</span>, <span class="st">"Very Good Chance"</span>)))</span>
<span id="cb840-4"><a href="#cb840-4"></a></span>
<span id="cb840-5"><a href="#cb840-5"></a><span class="fu">ggplot</span>(datos_tidy, <span class="fu">aes</span>(<span class="at">x =</span> prob, <span class="at">fill =</span> termino)) <span class="sc">+</span></span>
<span id="cb840-6"><a href="#cb840-6"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">12</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb840-7"><a href="#cb840-7"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb840-8"><a href="#cb840-8"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>termino, <span class="at">scale =</span> <span class="st">"free_y"</span>, <span class="at">ncol =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb840-9"><a href="#cb840-9"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Probabilidad"</span>, <span class="at">y =</span> <span class="st">"Frecuencia"</span>,</span>
<span id="cb840-10"><a href="#cb840-10"></a>       <span class="at">title =</span> <span class="st">"Percepci√≥n de la probabilidad"</span>) <span class="sc">+</span></span>
<span id="cb840-11"><a href="#cb840-11"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="distribuciones-histogramas-4" class="slide level2">
<h2>Distribuciones: histogramas</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Nos aparecen desordenadas as√≠ que de nuevo podemos hacer uso del paquete <code>{forcats}</code></p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-664-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb841"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb841-1"><a href="#cb841-1"></a><span class="fu">ggplot</span>(datos_tidy <span class="sc">|&gt;</span> </span>
<span id="cb841-2"><a href="#cb841-2"></a>       <span class="fu">mutate</span>(<span class="at">termino =</span> <span class="fu">fct_reorder</span>(termino, prob, <span class="at">.fun =</span> mean)), <span class="fu">aes</span>(<span class="at">x =</span> prob, <span class="at">fill =</span> termino)) <span class="sc">+</span></span>
<span id="cb841-3"><a href="#cb841-3"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">12</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb841-4"><a href="#cb841-4"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb841-5"><a href="#cb841-5"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>termino, <span class="at">scale =</span> <span class="st">"free_y"</span>, <span class="at">ncol =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb841-6"><a href="#cb841-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Probabilidad"</span>, <span class="at">y =</span> <span class="st">"Frecuencia"</span>,</span>
<span id="cb841-7"><a href="#cb841-7"></a>       <span class="at">title =</span> <span class="st">"Percepci√≥n de la probabilidad"</span>) <span class="sc">+</span></span>
<span id="cb841-8"><a href="#cb841-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="par√©ntesis-tema-y-fuente" class="slide level2">
<h2>Par√©ntesis: tema y fuente</h2>
<p>Vamos a a√±adir una fuente personaliza al gr√°fico anterior.</p>
<div class="columns">
<div class="column" style="width:40%;">
<p>Con el paquete <code>{showtext}</code> podemos cargar fuentes de <a href="https://fonts.google.com/" class="uri">https://fonts.google.com/</a>: con <code>font_add_google()</code> a√±adimos la fuente y con <code>showtext_auto()</code> habilitamos su uso.</p>
<p>Con <code>theme_set()</code> podemos fijar un tema base (en nuestro caso <code>theme_minimal(base_family = ...)</code>) y con <code>theme_update()</code> a√±adimos el resto de personalizaciones</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-666-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb842"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb842-1"><a href="#cb842-1"></a><span class="fu">library</span>(showtext)</span>
<span id="cb842-2"><a href="#cb842-2"></a><span class="fu">font_add_google</span>(<span class="at">family =</span> <span class="st">"Roboto"</span>, <span class="at">name =</span> <span class="st">"Roboto"</span>)</span>
<span id="cb842-3"><a href="#cb842-3"></a><span class="fu">showtext_auto</span>()</span>
<span id="cb842-4"><a href="#cb842-4"></a></span>
<span id="cb842-5"><a href="#cb842-5"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>(<span class="at">base_family =</span> <span class="st">"Roboto"</span>))</span>
<span id="cb842-6"><a href="#cb842-6"></a><span class="fu">theme_update</span>(</span>
<span id="cb842-7"><a href="#cb842-7"></a>  <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">27</span>),</span>
<span id="cb842-8"><a href="#cb842-8"></a>  <span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="distribuciones-densidades" class="slide level2">
<h2>Distribuciones: densidades</h2>
<p>Los histogramas en realidad son una <span class="hl-yellow"><strong>aproximaci√≥n discreta de los gr√°ficos de densidad</strong></span> (asumiendo que los intervalos se pudieran ir haciendo tan peque√±os como queramos).</p>
<div class="columns">
<div class="column" style="width:40%;">
<p>Las densidades mejoran la robustez al histograma. Para ello usaremos <code>geom_density()</code></p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-668-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb843"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb843-1"><a href="#cb843-1"></a><span class="fu">ggplot</span>(datos_tidy <span class="sc">|&gt;</span> </span>
<span id="cb843-2"><a href="#cb843-2"></a>       <span class="fu">mutate</span>(<span class="at">termino =</span> <span class="fu">fct_reorder</span>(termino, prob, <span class="at">.fun =</span> mean)), <span class="fu">aes</span>(<span class="at">x =</span> prob, <span class="at">fill =</span> termino)) <span class="sc">+</span></span>
<span id="cb843-3"><a href="#cb843-3"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb843-4"><a href="#cb843-4"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb843-5"><a href="#cb843-5"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>termino, <span class="at">scale =</span> <span class="st">"free_y"</span>, <span class="at">ncol =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb843-6"><a href="#cb843-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Probabilidad"</span>, <span class="at">y =</span> <span class="st">"Frecuencia relativa"</span>,</span>
<span id="cb843-7"><a href="#cb843-7"></a>       <span class="at">title =</span> <span class="st">"Percepci√≥n de la probabilidad"</span>) <span class="sc">+</span></span>
<span id="cb843-8"><a href="#cb843-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="distribuciones-densidades-1" class="slide level2">
<h2>Distribuciones: densidades</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>A veces puede ser interesante [<strong>superponer las densidades</strong>], lo cual lo podemos hacer con <code>geom_density_ridges()</code> del paquete <code>{ggridges}</code> (ahora s√≠ necesitamos indicarle un <code>y = ...</code>)</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-670-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb844"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb844-1"><a href="#cb844-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb844-2"><a href="#cb844-2"></a><span class="fu">ggplot</span>(datos_tidy <span class="sc">|&gt;</span> </span>
<span id="cb844-3"><a href="#cb844-3"></a>       <span class="fu">mutate</span>(<span class="at">termino =</span> <span class="fu">fct_reorder</span>(termino, prob, <span class="at">.fun =</span> mean)),</span>
<span id="cb844-4"><a href="#cb844-4"></a>       <span class="fu">aes</span>(<span class="at">x =</span> prob, <span class="at">y =</span> termino, <span class="at">fill =</span> termino, <span class="at">color =</span> termino)) <span class="sc">+</span></span>
<span id="cb844-5"><a href="#cb844-5"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb844-6"><a href="#cb844-6"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb844-7"><a href="#cb844-7"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb844-8"><a href="#cb844-8"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb844-9"><a href="#cb844-9"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Probabilidad"</span>, <span class="at">y =</span> <span class="st">"T√©rminos"</span>,</span>
<span id="cb844-10"><a href="#cb844-10"></a>       <span class="at">title =</span> <span class="st">"Percepci√≥n de la probabilidad"</span>) <span class="sc">+</span></span>
<span id="cb844-11"><a href="#cb844-11"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="distribuciones-boxplot" class="slide level2">
<h2>Distribuciones: boxplot</h2>
<p>Una opci√≥n muy habitual en variables continuas son los <span class="hl-yellow"><strong>gr√°ficos de cajas y bigotes</strong></span> o boxplots</p>
<div class="columns">
<div class="column" style="width:40%;">
<p>Para realizar estos gr√°ficos debemos usar la geometr√≠a <code>geom_boxplot()</code></p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-672-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb845"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb845-1"><a href="#cb845-1"></a><span class="fu">ggplot</span>(datos_tidy <span class="sc">|&gt;</span> </span>
<span id="cb845-2"><a href="#cb845-2"></a>       <span class="fu">mutate</span>(<span class="at">termino =</span> <span class="fu">fct_reorder</span>(termino, prob, <span class="at">.fun =</span> mean)),</span>
<span id="cb845-3"><a href="#cb845-3"></a>       <span class="fu">aes</span>(<span class="at">x =</span> termino, <span class="at">y =</span> prob, <span class="at">fill =</span> termino, <span class="at">color =</span> termino)) <span class="sc">+</span></span>
<span id="cb845-4"><a href="#cb845-4"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb845-5"><a href="#cb845-5"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb845-6"><a href="#cb845-6"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb845-7"><a href="#cb845-7"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb845-8"><a href="#cb845-8"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"T√©rminos"</span>, <span class="at">y =</span> <span class="st">"Probabilidad"</span>,</span>
<span id="cb845-9"><a href="#cb845-9"></a>       <span class="at">title =</span> <span class="st">"Percepci√≥n de la probabilidad"</span>) <span class="sc">+</span></span>
<span id="cb845-10"><a href="#cb845-10"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="distribuciones-jitter" class="slide level2">
<h2>Distribuciones: jitter</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Los boxplot a veces pueden ser insuficiente y podemos usar <code>geom_jitter()</code> que nos a√±adir√° puntos como un <span class="hl-yellow"><strong>¬´gotel√© aleatorio¬ª</strong></span> (ver <a href="https://hausetutorials.netlify.app/posts/2019-02-22-why-we-should-never-use-barplots-use-geomquasirandom-instead/" class="uri">https://hausetutorials.netlify.app/posts/2019-02-22-why-we-should-never-use-barplots-use-geomquasirandom-instead/</a>)</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-674-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb846"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb846-1"><a href="#cb846-1"></a><span class="fu">ggplot</span>(datos_tidy <span class="sc">|&gt;</span> </span>
<span id="cb846-2"><a href="#cb846-2"></a>       <span class="fu">mutate</span>(<span class="at">termino =</span> <span class="fu">fct_reorder</span>(termino, prob, <span class="at">.fun =</span> mean)),</span>
<span id="cb846-3"><a href="#cb846-3"></a>       <span class="fu">aes</span>(<span class="at">x =</span> termino, <span class="at">y =</span> prob, <span class="at">fill =</span> termino, <span class="at">color =</span> termino)) <span class="sc">+</span></span>
<span id="cb846-4"><a href="#cb846-4"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb846-5"><a href="#cb846-5"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb846-6"><a href="#cb846-6"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb846-7"><a href="#cb846-7"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb846-8"><a href="#cb846-8"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb846-9"><a href="#cb846-9"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"T√©rminos"</span>, <span class="at">y =</span> <span class="st">"Probabilidad"</span>,</span>
<span id="cb846-10"><a href="#cb846-10"></a>       <span class="at">title =</span> <span class="st">"Percepci√≥n de la probabilidad"</span>) <span class="sc">+</span></span>
<span id="cb846-11"><a href="#cb846-11"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="distribuciones-jitter-1" class="slide level2">
<h2>Distribuciones: jitter</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Si te fijas los <span class="hl-yellow"><strong>outliers</strong></span> aparecen dos veces ya que el boxplot los marca. Dentro de <code>geom_boxplot()</code> podemos indicarle la forma, color y alpha de los at√≠picos.</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-676-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb847"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb847-1"><a href="#cb847-1"></a><span class="fu">ggplot</span>(datos_tidy <span class="sc">|&gt;</span> </span>
<span id="cb847-2"><a href="#cb847-2"></a>       <span class="fu">mutate</span>(<span class="at">termino =</span> <span class="fu">fct_reorder</span>(termino, prob, <span class="at">.fun =</span> mean)),</span>
<span id="cb847-3"><a href="#cb847-3"></a>       <span class="fu">aes</span>(<span class="at">x =</span> termino, <span class="at">y =</span> prob, <span class="at">fill =</span> termino, <span class="at">color =</span> termino)) <span class="sc">+</span></span>
<span id="cb847-4"><a href="#cb847-4"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">outlier.shape =</span> <span class="dv">23</span>) <span class="sc">+</span></span>
<span id="cb847-5"><a href="#cb847-5"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb847-6"><a href="#cb847-6"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb847-7"><a href="#cb847-7"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb847-8"><a href="#cb847-8"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb847-9"><a href="#cb847-9"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"T√©rminos"</span>, <span class="at">y =</span> <span class="st">"Probabilidad"</span>,</span>
<span id="cb847-10"><a href="#cb847-10"></a>       <span class="at">title =</span> <span class="st">"Percepci√≥n de la probabilidad"</span>) <span class="sc">+</span></span>
<span id="cb847-11"><a href="#cb847-11"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="distribuciones-jitter-2" class="slide level2">
<h2>Distribuciones: jitter</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Si te fijas los <span class="hl-yellow"><strong>outliers</strong></span> aparecen dos veces ya que el boxplot los marca. Dentro de <code>geom_boxplot()</code> podemos indicarle la forma, color y alpha de los at√≠picos.</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-678-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb848"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb848-1"><a href="#cb848-1"></a><span class="fu">ggplot</span>(datos_tidy <span class="sc">|&gt;</span> </span>
<span id="cb848-2"><a href="#cb848-2"></a>       <span class="fu">mutate</span>(<span class="at">termino =</span> <span class="fu">fct_reorder</span>(termino, prob, <span class="at">.fun =</span> mean)),</span>
<span id="cb848-3"><a href="#cb848-3"></a>       <span class="fu">aes</span>(<span class="at">x =</span> termino, <span class="at">y =</span> prob, <span class="at">fill =</span> termino, <span class="at">color =</span> termino)) <span class="sc">+</span></span>
<span id="cb848-4"><a href="#cb848-4"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">outlier.alpha =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb848-5"><a href="#cb848-5"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb848-6"><a href="#cb848-6"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb848-7"><a href="#cb848-7"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb848-8"><a href="#cb848-8"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb848-9"><a href="#cb848-9"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"T√©rminos"</span>, <span class="at">y =</span> <span class="st">"Probabilidad"</span>,</span>
<span id="cb848-10"><a href="#cb848-10"></a>       <span class="at">title =</span> <span class="st">"Percepci√≥n de la probabilidad"</span>) <span class="sc">+</span></span>
<span id="cb848-11"><a href="#cb848-11"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="distribuciones-geom_quasirandom" class="slide level2">
<h2>Distribuciones: geom_quasirandom</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Podemos mejorar el <span class="hl-yellow"><strong>¬´gotel√© aleatorio¬ª</strong></span> con <code>geom_quasirandom()</code> del paquete <code>{ggbeeswarm}</code> (con <code>width = ...</code> controlamos la anchura de lo aleatorio)</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-680-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb849"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb849-1"><a href="#cb849-1"></a><span class="fu">ggplot</span>(datos_tidy <span class="sc">|&gt;</span> </span>
<span id="cb849-2"><a href="#cb849-2"></a>       <span class="fu">mutate</span>(<span class="at">termino =</span> <span class="fu">fct_reorder</span>(termino, prob, <span class="at">.fun =</span> mean)),</span>
<span id="cb849-3"><a href="#cb849-3"></a>       <span class="fu">aes</span>(<span class="at">x =</span> termino, <span class="at">y =</span> prob, <span class="at">fill =</span> termino, <span class="at">color =</span> termino)) <span class="sc">+</span></span>
<span id="cb849-4"><a href="#cb849-4"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">outlier.alpha =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb849-5"><a href="#cb849-5"></a>  <span class="fu">geom_quasirandom</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>,  <span class="at">width =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb849-6"><a href="#cb849-6"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb849-7"><a href="#cb849-7"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb849-8"><a href="#cb849-8"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb849-9"><a href="#cb849-9"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"T√©rminos"</span>, <span class="at">y =</span> <span class="st">"Probabilidad"</span>,</span>
<span id="cb849-10"><a href="#cb849-10"></a>       <span class="at">title =</span> <span class="st">"Percepci√≥n de la probabilidad"</span>) <span class="sc">+</span></span>
<span id="cb849-11"><a href="#cb849-11"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="distribuciones-violin" class="slide level2">
<h2>Distribuciones: violin</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Para solventar los problemas de los box-plots, una alternativa muy popular son los <span class="hl-yellow"><strong>gr√°ficos de viol√≠n</strong></span> (en realidad es una densidad reflejada)</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-682-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb850"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb850-1"><a href="#cb850-1"></a><span class="fu">ggplot</span>(datos_tidy <span class="sc">|&gt;</span> </span>
<span id="cb850-2"><a href="#cb850-2"></a>       <span class="fu">mutate</span>(<span class="at">termino =</span> <span class="fu">fct_reorder</span>(termino, prob, <span class="at">.fun =</span> mean)),</span>
<span id="cb850-3"><a href="#cb850-3"></a>       <span class="fu">aes</span>(<span class="at">x =</span> termino, <span class="at">y =</span> prob, <span class="at">fill =</span> termino, <span class="at">color =</span> termino)) <span class="sc">+</span></span>
<span id="cb850-4"><a href="#cb850-4"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb850-5"><a href="#cb850-5"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb850-6"><a href="#cb850-6"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb850-7"><a href="#cb850-7"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb850-8"><a href="#cb850-8"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"T√©rminos"</span>, <span class="at">y =</span> <span class="st">"Probabilidad"</span>,</span>
<span id="cb850-9"><a href="#cb850-9"></a>       <span class="at">title =</span> <span class="st">"Percepci√≥n de la probabilidad"</span>) <span class="sc">+</span></span>
<span id="cb850-10"><a href="#cb850-10"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="distribuciones-violin-1" class="slide level2">
<h2>Distribuciones: violin</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Con el argumento <code>scale = "count"</code> las √†reas son proporcionales al n√∫mero de observaciones en cada viol√≠n (por defecto <code>scale = "area"</code>, todos la misma √°rea). Con <code>bw = ...</code> modulamos la suavidad del kernel usado (bandwidth).</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-684-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb851"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb851-1"><a href="#cb851-1"></a><span class="fu">ggplot</span>(datos_tidy <span class="sc">|&gt;</span> </span>
<span id="cb851-2"><a href="#cb851-2"></a>       <span class="fu">mutate</span>(<span class="at">termino =</span> <span class="fu">fct_reorder</span>(termino, prob, <span class="at">.fun =</span> mean)),</span>
<span id="cb851-3"><a href="#cb851-3"></a>       <span class="fu">aes</span>(<span class="at">x =</span> termino, <span class="at">y =</span> prob, <span class="at">fill =</span> termino, <span class="at">color =</span> termino)) <span class="sc">+</span></span>
<span id="cb851-4"><a href="#cb851-4"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">scale =</span> <span class="st">"count"</span>, <span class="at">bw =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb851-5"><a href="#cb851-5"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb851-6"><a href="#cb851-6"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"RdBu"</span>) <span class="sc">+</span></span>
<span id="cb851-7"><a href="#cb851-7"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb851-8"><a href="#cb851-8"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"T√©rminos"</span>, <span class="at">y =</span> <span class="st">"Probabilidad"</span>,</span>
<span id="cb851-9"><a href="#cb851-9"></a>       <span class="at">title =</span> <span class="st">"Percepci√≥n de la probabilidad"</span>) <span class="sc">+</span></span>
<span id="cb851-10"><a href="#cb851-10"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="clase-16-dataviz" class="title-slide slide level1 center">
<h1>Clase 16: dataviz</h1>
<p><span style="color:#444442;"><strong>Visualizaci√≥n de datos</strong></span></p>
</section>
<section id="evoluci√≥n-gr√°ficos-de-l√≠neas" class="slide level2">
<h2>Evoluci√≥n: gr√°ficos de l√≠neas</h2>
<p>Otra categor√≠a muy com√∫n de gr√°ficos con variables continusa son los <span class="hl-yellow"><strong>gr√°ficos de evoluci√≥n</strong></span></p>
<div class="columns">
<div class="column" style="width:40%;">
<p>El m√°s simple es el [<strong>gr√°fico de l√≠neas</strong>] {.hl-yellow}, que podemos construir con <code>geom_line()</code>, y para el que ahora s√≠ necesitamos un <code>x = ...</code> y un <code>y = ...</code></p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-686-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb852"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb852-1"><a href="#cb852-1"></a><span class="fu">ggplot</span>(gapminder <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">mean_gdp =</span> <span class="fu">mean</span>(gdpPercap), <span class="at">.by =</span> <span class="fu">c</span>(continent, year)), <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> mean_gdp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb852-2"><a href="#cb852-2"></a>  <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">linewidth =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb852-3"><a href="#cb852-3"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_dollar</span>()) <span class="sc">+</span></span>
<span id="cb852-4"><a href="#cb852-4"></a>  <span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb852-5"><a href="#cb852-5"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"A√±o"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita media"</span>,</span>
<span id="cb852-6"><a href="#cb852-6"></a>       <span class="at">title =</span> <span class="st">"Evoluci√≥n en gapminder"</span>) <span class="sc">+</span></span>
<span id="cb852-7"><a href="#cb852-7"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="evoluci√≥n-gr√°ficos-de-l√≠neas-1" class="slide level2">
<h2>Evoluci√≥n: gr√°ficos de l√≠neas</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>F√≠jate que dando <code>color = ...</code> nos hace solo una gr√°fica por variable de grupo. Si usamos <code>geom_step()</code> en su lugar obtenemos un <span class="hl-yellow"><strong>gr√°fico de escalera</strong></span></p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-688-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb853"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb853-1"><a href="#cb853-1"></a><span class="fu">ggplot</span>(gapminder <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">mean_gdp =</span> <span class="fu">mean</span>(gdpPercap), <span class="at">.by =</span> <span class="fu">c</span>(continent, year)), <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> mean_gdp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb853-2"><a href="#cb853-2"></a>  <span class="fu">geom_step</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb853-3"><a href="#cb853-3"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_dollar</span>()) <span class="sc">+</span></span>
<span id="cb853-4"><a href="#cb853-4"></a>  <span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb853-5"><a href="#cb853-5"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"A√±o"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita media"</span>,</span>
<span id="cb853-6"><a href="#cb853-6"></a>       <span class="at">title =</span> <span class="st">"Evoluci√≥n en gapminder"</span>) <span class="sc">+</span></span>
<span id="cb853-7"><a href="#cb853-7"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="evoluci√≥n-serie-temporal" class="slide level2">
<h2>Evoluci√≥n: serie temporal</h2>
<p>Un gr√°fico de l√≠nea muy particular son las <span class="hl-yellow"><strong>series temporales</strong></span>, donde en el eje X hay una variable de <span class="hl-purple"><strong>fecha y/o hora</strong></span></p>
<div class="fragment">
<p>Por ejemplo, vamos a cargar el siguiente dataset de Github de la <span class="hl-yellow"><strong>evoluci√≥n del precio de bitcoins</strong></span> cuyo separado es el espacio</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb854"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb854-1"><a href="#cb854-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_table</span>(<span class="at">file =</span> <span class="st">"https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/3_TwoNumOrdered.csv"</span>)</span>
<span id="cb854-2"><a href="#cb854-2"></a>data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,822 √ó 2
   date       value
   &lt;date&gt;     &lt;dbl&gt;
 1 2013-04-28  136.
 2 2013-04-29  147.
 3 2013-04-30  147.
 4 2013-05-01  140.
 5 2013-05-02  126.
 6 2013-05-03  108.
 7 2013-05-04  115 
 8 2013-05-05  119.
 9 2013-05-06  125.
10 2013-05-07  113.
# ‚Ñπ 1,812 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="evoluci√≥n-serie-temporal-1" class="slide level2">
<h2>Evoluci√≥n: serie temporal</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>La forma m√°s sencilla es de nuevo usar <code>geom_line()</code>. Con <code>scale_x_date(date_breaks = ...)</code> podemos indicarle los saltos en las fechas de manera sencilla.</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-691-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb856"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb856-1"><a href="#cb856-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb856-2"><a href="#cb856-2"></a>  <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">color =</span> <span class="st">"#145412"</span>, <span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb856-3"><a href="#cb856-3"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"4 months"</span>) <span class="sc">+</span></span>
<span id="cb856-4"><a href="#cb856-4"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_dollar</span>()) <span class="sc">+</span></span>
<span id="cb856-5"><a href="#cb856-5"></a>  <span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb856-6"><a href="#cb856-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Fecha"</span>, <span class="at">y =</span> <span class="st">"Precio del bitcoin"</span>,</span>
<span id="cb856-7"><a href="#cb856-7"></a>       <span class="at">title =</span> <span class="st">"Evoluci√≥n del precio del bitcoin"</span>) <span class="sc">+</span></span>
<span id="cb856-8"><a href="#cb856-8"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb856-9"><a href="#cb856-9"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">30</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="evoluci√≥n-gr√°ficos-de-√°rea" class="slide level2">
<h2>Evoluci√≥n: gr√°ficos de √°rea</h2>
<p>Una mejora de los gr√°ficos de l√≠nea son los <span class="hl-yellow"><strong>gr√°ficos de √°rea</strong></span> (visualizando la curva con rellena)</p>
<div class="columns">
<div class="column" style="width:40%;">
<p>La forma m√°s sencilla es de nuevo usar <code>geom_line()</code> pero a√±adiendo la capa <code>geom_area()</code> (con <code>fill</code> en lugar de <code>color</code>)</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-693-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb857"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb857-1"><a href="#cb857-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb857-2"><a href="#cb857-2"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#145412"</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb857-3"><a href="#cb857-3"></a>  <span class="fu">geom_area</span>(<span class="at">alpha =</span> <span class="fl">0.4</span>, <span class="at">fill =</span> <span class="st">"#145412"</span>) <span class="sc">+</span></span>
<span id="cb857-4"><a href="#cb857-4"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"4 months"</span>) <span class="sc">+</span></span>
<span id="cb857-5"><a href="#cb857-5"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_dollar</span>()) <span class="sc">+</span></span>
<span id="cb857-6"><a href="#cb857-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Fecha"</span>, <span class="at">y =</span> <span class="st">"Precio del bitcoin"</span>,</span>
<span id="cb857-7"><a href="#cb857-7"></a>       <span class="at">title =</span> <span class="st">"Evoluci√≥n del precio del bitcoin"</span>) <span class="sc">+</span></span>
<span id="cb857-8"><a href="#cb857-8"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb857-9"><a href="#cb857-9"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">30</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="par√©ntesis-interactivos" class="slide level2">
<h2>Par√©ntesis: interactivos</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Todo gr√°fico ggplot podemos hacerlo <span class="hl-yellow"><strong>interactivo</strong></span> guard√°ndonos la gr√°fico y haciendo uso de <code>{plotly}</code></p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-606c4d6c2259c646c3a4" style="width:960px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-606c4d6c2259c646c3a4">{"x":{"data":[{"x":[15823,15824,15825,15826,15827,15828,15829,15830,15831,15832,15833,15834,15835,15836,15837,15838,15839,15840,15841,15842,15843,15844,15845,15846,15847,15848,15849,15850,15851,15852,15853,15854,15855,15856,15857,15858,15859,15860,15861,15862,15863,15864,15865,15866,15867,15868,15869,15870,15871,15872,15873,15874,15875,15876,15877,15878,15879,15880,15881,15882,15883,15884,15885,15886,15887,15888,15889,15890,15891,15892,15893,15894,15895,15896,15897,15898,15899,15900,15901,15902,15903,15904,15905,15906,15907,15908,15909,15910,15911,15912,15913,15914,15915,15916,15917,15918,15919,15920,15921,15922,15923,15924,15925,15926,15927,15928,15929,15930,15931,15932,15933,15934,15935,15936,15937,15938,15939,15940,15941,15942,15943,15944,15945,15946,15947,15948,15949,15950,15951,15952,15953,15954,15955,15956,15957,15958,15959,15960,15961,15962,15963,15964,15965,15966,15967,15968,15969,15970,15971,15972,15973,15974,15975,15976,15977,15978,15979,15980,15981,15982,15983,15984,15985,15986,15987,15988,15989,15990,15991,15992,15993,15994,15995,15996,15997,15998,15999,16000,16001,16002,16003,16004,16005,16006,16007,16008,16009,16010,16011,16012,16013,16014,16015,16016,16017,16018,16019,16020,16021,16022,16023,16024,16025,16026,16027,16028,16029,16030,16031,16032,16033,16034,16035,16036,16037,16038,16039,16040,16041,16042,16043,16044,16045,16046,16047,16048,16049,16050,16051,16052,16053,16054,16055,16056,16057,16058,16059,16060,16061,16062,16063,16064,16065,16066,16067,16068,16069,16070,16071,16072,16073,16074,16075,16076,16077,16078,16079,16080,16081,16082,16083,16084,16085,16086,16087,16088,16089,16090,16091,16092,16093,16094,16095,16096,16097,16098,16099,16100,16101,16102,16103,16104,16105,16106,16107,16108,16109,16110,16111,16112,16113,16114,16115,16116,16117,16118,16119,16120,16121,16122,16123,16124,16125,16126,16127,16128,16129,16130,16131,16132,16133,16134,16135,16136,16137,16138,16139,16140,16141,16142,16143,16144,16145,16146,16147,16148,16149,16150,16151,16152,16153,16154,16155,16156,16157,16158,16159,16160,16161,16162,16163,16164,16165,16166,16167,16168,16169,16170,16171,16172,16173,16174,16175,16176,16177,16178,16179,16180,16181,16182,16183,16184,16185,16186,16187,16188,16189,16190,16191,16192,16193,16194,16195,16196,16197,16198,16199,16200,16201,16202,16203,16204,16205,16206,16207,16208,16209,16210,16211,16212,16213,16214,16215,16216,16217,16218,16219,16220,16221,16222,16223,16224,16225,16226,16227,16228,16229,16230,16231,16232,16233,16234,16235,16236,16237,16238,16239,16240,16241,16242,16243,16244,16245,16246,16247,16248,16249,16250,16251,16252,16253,16254,16255,16256,16257,16258,16259,16260,16261,16262,16263,16264,16265,16266,16267,16268,16269,16270,16271,16272,16273,16274,16275,16276,16277,16278,16279,16280,16281,16282,16283,16284,16285,16286,16287,16288,16289,16290,16291,16292,16293,16294,16295,16296,16297,16298,16299,16300,16301,16302,16303,16304,16305,16306,16307,16308,16309,16310,16311,16312,16313,16314,16315,16316,16317,16318,16319,16320,16321,16322,16323,16324,16325,16326,16327,16328,16329,16330,16331,16332,16333,16334,16335,16336,16337,16338,16339,16340,16341,16342,16343,16344,16345,16346,16347,16348,16349,16350,16351,16352,16353,16354,16355,16356,16357,16358,16359,16360,16361,16362,16363,16364,16365,16366,16367,16368,16369,16370,16371,16372,16373,16374,16375,16376,16377,16378,16379,16380,16381,16382,16383,16384,16385,16386,16387,16388,16389,16390,16391,16392,16393,16394,16395,16396,16397,16398,16399,16400,16401,16402,16403,16404,16405,16406,16407,16408,16409,16410,16411,16412,16413,16414,16415,16416,16417,16418,16419,16420,16421,16422,16423,16424,16425,16426,16427,16428,16429,16430,16431,16432,16433,16434,16435,16436,16437,16438,16439,16440,16441,16442,16443,16444,16445,16446,16447,16448,16449,16450,16451,16452,16453,16454,16455,16456,16457,16458,16459,16460,16461,16462,16463,16464,16465,16466,16467,16468,16469,16470,16471,16472,16473,16474,16475,16476,16477,16478,16479,16480,16481,16482,16483,16484,16485,16486,16487,16488,16489,16490,16491,16492,16493,16494,16495,16496,16497,16498,16499,16500,16501,16502,16503,16504,16505,16506,16507,16508,16509,16510,16511,16512,16513,16514,16515,16516,16517,16518,16519,16520,16521,16522,16523,16524,16525,16526,16527,16528,16529,16530,16531,16532,16533,16534,16535,16536,16537,16538,16539,16540,16541,16542,16543,16544,16545,16546,16547,16548,16549,16550,16551,16552,16553,16554,16555,16556,16557,16558,16559,16560,16561,16562,16563,16564,16565,16566,16567,16568,16569,16570,16571,16572,16573,16574,16575,16576,16577,16578,16579,16580,16581,16582,16583,16584,16585,16586,16587,16588,16589,16590,16591,16592,16593,16594,16595,16596,16597,16598,16599,16600,16601,16602,16603,16604,16605,16606,16607,16608,16609,16610,16611,16612,16613,16614,16615,16616,16617,16618,16619,16620,16621,16622,16623,16624,16625,16626,16627,16628,16629,16630,16631,16632,16633,16634,16635,16636,16637,16638,16639,16640,16641,16642,16643,16644,16645,16646,16647,16648,16649,16650,16651,16652,16653,16654,16655,16656,16657,16658,16659,16660,16661,16662,16663,16664,16665,16666,16667,16668,16669,16670,16671,16672,16673,16674,16675,16676,16677,16678,16679,16680,16681,16682,16683,16684,16685,16686,16687,16688,16689,16690,16691,16692,16693,16694,16695,16696,16697,16698,16699,16700,16701,16702,16703,16704,16705,16706,16707,16708,16709,16710,16711,16712,16713,16714,16715,16716,16717,16718,16719,16720,16721,16722,16723,16724,16725,16726,16727,16728,16729,16730,16731,16732,16733,16734,16735,16736,16737,16738,16739,16740,16741,16742,16743,16744,16745,16746,16747,16748,16749,16750,16751,16752,16753,16754,16755,16756,16757,16758,16759,16760,16761,16762,16763,16764,16765,16766,16767,16768,16769,16770,16771,16772,16773,16774,16775,16776,16777,16778,16779,16780,16781,16782,16783,16784,16785,16786,16787,16788,16789,16790,16791,16792,16793,16794,16795,16796,16797,16798,16799,16800,16801,16802,16803,16804,16805,16806,16807,16808,16809,16810,16811,16812,16813,16814,16815,16816,16817,16818,16819,16820,16821,16822,16823,16824,16825,16826,16827,16828,16829,16830,16831,16832,16833,16834,16835,16836,16837,16838,16839,16840,16841,16842,16843,16844,16845,16846,16847,16848,16849,16850,16851,16852,16853,16854,16855,16856,16857,16858,16859,16860,16861,16862,16863,16864,16865,16866,16867,16868,16869,16870,16871,16872,16873,16874,16875,16876,16877,16878,16879,16880,16881,16882,16883,16884,16885,16886,16887,16888,16889,16890,16891,16892,16893,16894,16895,16896,16897,16898,16899,16900,16901,16902,16903,16904,16905,16906,16907,16908,16909,16910,16911,16912,16913,16914,16915,16916,16917,16918,16919,16920,16921,16922,16923,16924,16925,16926,16927,16928,16929,16930,16931,16932,16933,16934,16935,16936,16937,16938,16939,16940,16941,16942,16943,16944,16945,16946,16947,16948,16949,16950,16951,16952,16953,16954,16955,16956,16957,16958,16959,16960,16961,16962,16963,16964,16965,16966,16967,16968,16969,16970,16971,16972,16973,16974,16975,16976,16977,16978,16979,16980,16981,16982,16983,16984,16985,16986,16987,16988,16989,16990,16991,16992,16993,16994,16995,16996,16997,16998,16999,17000,17001,17002,17003,17004,17005,17006,17007,17008,17009,17010,17011,17012,17013,17014,17015,17016,17017,17018,17019,17020,17021,17022,17023,17024,17025,17026,17027,17028,17029,17030,17031,17032,17033,17034,17035,17036,17037,17038,17039,17040,17041,17042,17043,17044,17045,17046,17047,17048,17049,17050,17051,17052,17053,17054,17055,17056,17057,17058,17059,17060,17061,17062,17063,17064,17065,17066,17067,17068,17069,17070,17071,17072,17073,17074,17075,17076,17077,17078,17079,17080,17081,17082,17083,17084,17085,17086,17087,17088,17089,17090,17091,17092,17093,17094,17095,17096,17097,17098,17099,17100,17101,17102,17103,17104,17105,17106,17107,17108,17109,17110,17111,17112,17113,17114,17115,17116,17117,17118,17119,17120,17121,17122,17123,17124,17125,17126,17127,17128,17129,17130,17131,17132,17133,17134,17135,17136,17137,17138,17139,17140,17141,17142,17143,17144,17145,17146,17147,17148,17149,17150,17151,17152,17153,17154,17155,17156,17157,17158,17159,17160,17161,17162,17163,17164,17165,17166,17167,17168,17169,17170,17171,17172,17173,17174,17175,17176,17177,17178,17179,17180,17181,17182,17183,17184,17185,17186,17187,17188,17189,17190,17191,17192,17193,17194,17195,17196,17197,17198,17199,17200,17201,17202,17203,17204,17205,17206,17207,17208,17209,17210,17211,17212,17213,17214,17215,17216,17217,17218,17219,17220,17221,17222,17223,17224,17225,17226,17227,17228,17229,17230,17231,17232,17233,17234,17235,17236,17237,17238,17239,17240,17241,17242,17243,17244,17245,17246,17247,17248,17249,17250,17251,17252,17253,17254,17255,17256,17257,17258,17259,17260,17261,17262,17263,17264,17265,17266,17267,17268,17269,17270,17271,17272,17273,17274,17275,17276,17277,17278,17279,17280,17281,17282,17283,17284,17285,17286,17287,17288,17289,17290,17291,17292,17293,17294,17295,17296,17297,17298,17299,17300,17301,17302,17303,17304,17305,17306,17307,17308,17309,17310,17311,17312,17313,17314,17315,17316,17317,17318,17319,17320,17321,17322,17323,17324,17325,17326,17327,17328,17329,17330,17331,17332,17333,17334,17335,17336,17337,17338,17339,17340,17341,17342,17343,17344,17345,17346,17347,17348,17349,17350,17351,17352,17353,17354,17355,17356,17357,17358,17359,17360,17361,17362,17363,17364,17365,17366,17367,17368,17369,17370,17371,17372,17373,17374,17375,17376,17377,17378,17379,17380,17381,17382,17383,17384,17385,17386,17387,17388,17389,17390,17391,17392,17393,17394,17395,17396,17397,17398,17399,17400,17401,17402,17403,17404,17405,17406,17407,17408,17409,17410,17411,17412,17413,17414,17415,17416,17417,17418,17419,17420,17421,17422,17423,17424,17425,17426,17427,17428,17429,17430,17431,17432,17433,17434,17435,17436,17437,17438,17439,17440,17441,17442,17443,17444,17445,17446,17447,17448,17449,17450,17451,17452,17453,17454,17455,17456,17457,17458,17459,17460,17461,17462,17463,17464,17465,17466,17467,17468,17469,17470,17471,17472,17473,17474,17475,17476,17477,17478,17479,17480,17481,17482,17483,17484,17485,17486,17487,17488,17489,17490,17491,17492,17493,17494,17495,17496,17497,17498,17499,17500,17501,17502,17503,17504,17505,17506,17507,17508,17509,17510,17511,17512,17513,17514,17515,17516,17517,17518,17519,17520,17521,17522,17523,17524,17525,17526,17527,17528,17529,17530,17531,17532,17533,17534,17535,17536,17537,17538,17539,17540,17541,17542,17543,17544,17545,17546,17547,17548,17549,17550,17551,17552,17553,17554,17555,17556,17557,17558,17559,17560,17561,17562,17563,17564,17565,17566,17567,17568,17569,17570,17571,17572,17573,17574,17575,17576,17577,17578,17579,17580,17581,17582,17583,17584,17585,17586,17587,17588,17589,17590,17591,17592,17593,17594,17595,17596,17597,17598,17599,17600,17601,17602,17603,17604,17605,17606,17607,17608,17609,17610,17611,17612,17613,17614,17615,17616,17617,17618,17619,17620,17621,17622,17623,17624,17625,17626,17627,17628,17629,17630,17631,17632,17633,17634,17635,17636,17637,17638,17639,17640,17641,17642,17643,17644],"y":[135.97999999999999,147.49000000000001,146.93000000000001,139.88999999999999,125.59999999999999,108.13,115,118.8,124.66,113.44,115.78,113.45999999999999,122,118.68000000000001,117.45,118.7,119.8,115.81,118.76000000000001,125.3,125.25,124.5,123.62,123,124,126.93000000000001,133.84999999999999,133.22,136,135.47,130.58000000000001,132.59,132.25,129.90000000000001,129.78,129.40000000000001,122.5,123.84,123.47,123.09999999999999,119,111.42,108.98999999999999,110.09999999999999,109.59999999999999,111.79000000000001,110.3,104.7,103.7,101.59999999999999,102.20999999999999,111.11,110.22,114.3,114.98999999999999,109.95999999999999,108.8,108.33,106.47,105.48999999999999,104,101.73999999999999,99.989999999999995,98.120000000000005,97.659999999999997,92.299999999999997,90.980000000000004,83.109999999999999,80,75,74.560000000000002,80,78.299999999999997,87,90.280000000000001,104,98.25,98.700000000000003,101.90000000000001,99.859999999999999,99.969999999999999,98.799999999999997,95.200000000000003,93.099999999999994,91.950000000000003,92,96.819999999999993,95.989999999999995,97.329999999999998,97.469999999999999,97,100.58,102.5,107.98999999999999,111.34,108,108,105.78,105.95,107.77,107.38,106.75,106.75,105.75,103.90000000000001,105.19,108,109.34999999999999,115,113.25,112.3,113.75,114.69,123.06,123.01000000000001,124.91,123.5,122,121.39,122.98999999999999,122.75,127.23999999999999,127.31999999999999,123.7,135.75,140.88999999999999,145.81,146.5,138.34,144.5,131.44,127.34,125.94,124.72,129.06,129.74000000000001,137.83000000000001,136.08000000000001,137.58000000000001,135.84999999999999,131.44,132.72,132.75999999999999,133.19999999999999,131.77000000000001,135.62,128.61000000000001,133.94,132.72,127.45999999999999,129.69,134.93000000000001,134.74000000000001,135.63,140.61000000000001,138.34999999999999,134.63,133.59,123.63,130.09,130.44,129.66,130.27000000000001,127.47,131.75,131.5,131.81,135.66,138.66,144.12,145.38999999999999,152.22999999999999,147.41999999999999,155.96000000000001,177.47999999999999,174.91,184.81999999999999,196.27000000000001,213.62,217.41999999999999,198.87,188.41,196.44,198.62,204.78999999999999,209.16,205.18000000000001,206.65000000000001,207.75999999999999,215.05000000000001,231.00999999999999,250.66,263,304.17000000000002,338.66000000000003,370.81999999999999,350.69999999999999,351.26999999999998,362.81,414.05000000000001,425.89999999999998,437.88999999999999,450.25999999999999,500.57999999999998,703.77999999999997,806.11000000000001,599.64999999999998,733.39999999999998,780.85000000000002,844.97000000000003,807.36000000000001,810.67999999999995,928.53999999999996,1001.96,1077.5599999999999,1146.97,1156.1400000000001,1133.0799999999999,1055.4200000000001,1096,1156.1199999999999,1154.3599999999999,1042.3800000000001,854.63999999999999,802.50999999999999,921.92999999999995,997.23000000000002,1001.58,901.94000000000005,941.78999999999996,904.64999999999998,886.15999999999997,882.25,754.83000000000004,679.32000000000005,707.23000000000002,729.15999999999997,654.26999999999998,666.74000000000001,680.90999999999997,684.38999999999999,682.70000000000005,777.75,777.50999999999999,747.05999999999995,748.61000000000001,766.60000000000002,760.58000000000004,775.35000000000002,820.30999999999995,834.14999999999998,859.50999999999999,952.39999999999998,1017.12,965.74000000000001,870.67999999999995,864.36000000000001,871.19000000000005,921.48000000000002,928.51999999999998,861.28999999999996,855.69000000000005,872.80999999999995,866.15999999999997,842.90999999999997,841.49000000000001,870.96000000000004,886.38999999999999,881.20000000000005,870.14999999999998,851.57000000000005,822.42999999999995,861.45000000000005,897.01999999999998,893,832.5,836.87,830.5,831.87,853.51999999999998,844.72000000000003,826.48000000000002,840.16999999999996,837.32000000000005,819.80999999999995,783.20000000000005,721.82000000000005,712.26999999999998,703.71000000000004,712.46000000000004,672.89999999999998,657.99000000000001,691.72000000000003,661.84000000000003,665.10000000000002,656.95000000000005,645.75999999999999,631.76999999999998,627.73000000000002,582.96000000000004,614.48000000000002,639.90999999999997,607.61000000000001,541.38,603.79999999999995,594.04999999999995,584.13999999999999,573.38,570.48000000000002,702.90999999999997,696.22000000000003,674.27999999999997,669.76999999999998,665.34000000000003,635.13999999999999,643.95000000000005,644.75999999999999,638.41999999999996,648.02999999999997,644.20000000000005,639.52999999999997,639.13999999999999,637.51999999999998,632.67999999999995,622.38999999999999,622,609.75,604.59000000000003,572.54999999999995,570.24000000000001,586.55999999999995,585.44000000000005,590.02999999999997,580.55999999999995,526.01999999999998,504.86000000000001,492.37,483.01999999999998,495.33999999999997,495.05000000000001,449.56,454.64999999999998,463.56999999999999,466.31999999999999,462.56,457.42000000000002,455.73000000000002,443.37,429.76999999999998,439.61000000000001,427.39999999999998,469.75,519,542.38,533.51999999999998,498.60000000000002,503.56,510.87,510.56999999999999,503.22000000000003,493.25,500.45999999999998,500.30000000000001,464.54000000000002,459.32999999999998,447.52999999999997,451.63999999999999,451.10000000000002,460.61000000000001,457.93000000000001,449.39999999999998,439.76999999999998,440.97000000000003,448.04000000000002,446.13,448.39999999999998,452.69,455.76999999999998,455.33999999999997,442.25999999999999,441.98000000000002,446.66000000000003,449.80000000000001,450.66000000000003,451.98000000000002,449.76999999999998,447.56,491.44,494.37,525.36000000000001,541.96000000000004,525.16999999999996,576.48000000000002,588.38999999999999,589.51999999999998,578.62,577.10000000000002,618.46000000000004,624.72000000000003,671.50999999999999,665.5,674.11000000000001,668.55999999999995,663.52999999999997,661.37,656.94000000000005,658.88,657.70000000000005,659.62,657.03999999999996,638.11000000000001,615.13999999999999,601.26999999999998,592.94000000000005,608.72000000000003,610.88999999999999,615.88,612.24000000000001,599.75,599.46000000000004,606,603.21000000000004,596.97000000000003,583.60000000000002,581.63,600.12,604.47000000000003,604.08000000000004,645.14999999999998,657.86000000000001,656.67999999999995,650.76999999999998,648.42999999999995,633.22000000000003,638.64999999999998,637.15999999999997,626.70000000000005,627,626.12,632.09000000000003,636.65999999999997,634.73000000000002,627.34000000000003,625.13999999999999,623.09000000000003,626.28999999999996,629.21000000000004,629.16999999999996,628.55999999999995,624.09000000000003,624.29999999999995,624.42999999999995,620.42999999999995,607.07000000000005,602.09000000000003,598.94000000000005,594.57000000000005,588.38,585.12,586.24000000000001,597.91999999999996,594.90999999999997,589.14999999999998,591.95000000000005,589.87,587.49000000000001,591.10000000000002,598.12,592.47000000000003,594.46000000000004,591.50999999999999,576.95000000000005,573.02999999999997,546.24000000000001,518.17999999999995,521.48000000000002,520.19000000000005,499.37,485.70999999999998,518.27999999999997,531.89999999999998,521.48000000000002,514.29999999999995,512.88999999999999,508.22000000000003,512.69000000000005,520.71000000000004,516.15999999999997,511.69,509.31,504.88,485.31,482.99000000000001,481.70999999999998,493.93000000000001,490.63999999999999,488.60000000000002,488.06999999999999,489.82999999999998,477.38,487.47000000000003,482.35000000000002,479.63,482.12,479.85000000000002,478.62,475.63999999999999,468.17000000000002,456.86000000000001,427.82999999999998,423.30000000000001,412.43000000000001,406.92000000000002,441.56,436.11000000000001,423.51999999999998,414.94,406.62,401.01999999999998,385.20999999999998,390.98000000000002,391.38,385.5,377.69,364.49000000000001,341.80000000000001,345.13,339.25,354.36000000000001,382.73000000000002,375.06999999999999,367.19,379.43000000000001,397.23000000000002,411.69999999999999,402.23000000000002,398.81,385.48000000000002,395.16000000000003,393.94,390.07999999999998,392.64999999999998,388.57999999999998,385.05000000000001,364.35000000000002,359.86000000000001,359.22000000000003,358.63,359.98000000000002,357.82999999999998,350.91000000000003,348.05000000000001,340.52999999999997,329.05000000000001,334,331.76999999999998,343.37,352.97000000000003,352.73000000000002,347.02999999999997,363.63,374.81999999999999,371.31,429.72000000000003,457.08999999999997,419.25,405.52999999999997,390.80000000000001,410.19999999999999,392.39999999999998,386.48000000000002,382.01999999999998,357.88,364.83999999999997,370.85000000000002,387.20999999999998,394.69999999999999,377.69999999999999,373.99000000000001,382.83999999999997,387.60000000000002,382.52999999999997,383.66000000000003,384.04000000000002,383.02999999999997,378.64999999999998,379.19,378.44999999999999,376.29000000000002,376.02999999999997,363.06999999999999,352.38,361.36000000000001,352.98000000000002,352.38,353.31999999999999,351.81,345.86000000000001,333.94999999999999,323.70999999999998,318.52999999999997,330.31999999999999,329.63,334.12,336.29000000000002,334.74000000000001,322.67000000000002,331.42000000000002,328.91000000000003,320.02999999999997,320.26999999999998,314.81,320.19,320.44,315.83999999999997,315.14999999999998,287.23000000000002,278.33999999999997,287.55000000000001,298.75,294.13,291.11000000000001,288.13,279.63999999999999,272.19999999999999,268.27999999999997,223.88999999999999,229.06999999999999,221.59,211.72999999999999,218.69,216.72999999999999,215.24000000000001,227.78999999999999,237.02000000000001,234.84,248.21000000000001,255.06999999999999,309.38,275.48000000000002,266.54000000000002,238.71000000000001,242.84999999999999,233.5,231.56999999999999,242.18000000000001,245.96000000000001,230.06,239.41,230.50999999999999,230.30000000000001,229.44,223.97999999999999,221.81,223.41,222.19999999999999,240.25999999999999,259.81,265.61000000000001,239.52000000000001,245.78,244.25,242.66999999999999,247.09999999999999,255.31999999999999,246.38999999999999,240.11000000000001,239.90000000000001,239.34,237.71000000000001,256.64999999999998,254.69,261.66000000000003,276.30000000000001,285.80000000000001,284.23000000000002,281.67000000000002,277.61000000000001,277.85000000000002,277.86000000000001,292.69999999999999,300.04000000000002,297.38999999999999,297.08999999999997,294.5,286.33999999999997,286.52999999999997,294.11000000000001,292.37,285.33999999999997,264.24000000000001,264.85000000000002,262.19999999999999,269.75,277.30000000000001,267,249.19,254.34999999999999,256.81,254.21000000000001,253.13999999999999,249.24000000000001,248.72999999999999,247.53999999999999,254.46000000000001,256.04000000000002,255.25999999999999,260.68000000000001,261.80000000000001,255.81,253.84999999999999,246.12,243.69,239.53999999999999,237.72999999999999,236.94,224.97999999999999,223.83000000000001,229.66999999999999,228.91,224.31999999999999,226.34999999999999,226.34999999999999,235.27000000000001,237.91,236.47,236.31,232.56,226.94,233.31,229.5,227.03999999999999,239.56,238.97,235.72999999999999,243.24000000000001,242.63999999999999,239.19999999999999,236.44999999999999,239.09999999999999,246.28,247.80000000000001,244.06999999999999,244.27000000000001,242.88,243.69999999999999,237.80000000000001,238.75,237.69999999999999,238.03,237.21000000000001,234.15000000000001,234.68000000000001,236.24000000000001,240.97,241.03,241.97999999999999,241.02000000000001,238.24000000000001,238.63999999999999,237.81999999999999,237.52000000000001,237.09,233.25,231.71000000000001,226.41999999999999,227.40000000000001,226.58000000000001,225.97,225.72,226.19,229.46000000000001,230.94999999999999,229.78,230.28999999999999,231.06,232.65000000000001,234.86000000000001,237.84,251.74000000000001,256.85000000000002,252.11000000000001,250.97999999999999,245.83000000000001,245.22,247.91999999999999,247.30000000000001,244.34,243.33000000000001,243.75,251.34,251.16999999999999,257.17000000000002,267.87,265.17000000000002,261.63,257.07999999999998,261.45999999999998,274.50999999999999,277.42000000000002,271.33999999999997,272.97000000000003,272.32999999999998,294.58999999999997,298.50999999999999,314.38999999999999,310.94999999999999,296.14999999999998,293.25,291.18000000000001,280.27999999999997,282.52999999999997,275.67000000000002,278.98000000000002,280.55000000000001,277.67000000000002,278.11000000000001,289.25,290.73000000000002,293.05000000000001,297.76999999999998,296.64999999999998,294.54000000000002,290.13,288.95999999999998,284.93000000000001,283.02999999999997,285.47000000000003,285.70999999999998,285.5,281.91000000000003,280.38999999999999,279.93000000000001,267,267.02999999999997,270.38999999999999,270.67000000000002,266.23000000000002,267.47000000000003,266.67000000000002,262.44,260.5,257.99000000000001,237.41,237.37,236.43000000000001,234.96000000000001,232.71000000000001,228.13999999999999,226.31999999999999,231.18000000000001,228.63999999999999,235.22,233.22,232.06999999999999,231.96000000000001,231.22,230.58000000000001,229.59999999999999,230.90000000000001,236.13999999999999,242.91,242.11000000000001,245.78,244.41999999999999,241.28999999999999,241.16999999999999,240.12,235.94,232.44,259.18000000000001,231.22,230.28,234.34999999999999,233.21000000000001,232.37,231.22,232.38999999999999,231.84,235.65000000000001,237.43000000000001,235.40000000000001,234.53,239.34,239.80000000000001,237.72999999999999,238.44,238.53999999999999,239.31,238.97,240.38,246.94,246.68000000000001,244.25,244.22999999999999,245.31999999999999,247.24000000000001,247.44999999999999,250.24000000000001,254.28,255.96000000000001,266.13,273.57999999999998,271.67000000000002,264.81999999999999,270.82999999999998,270.76999999999998,276.50999999999999,278.68000000000001,281.70999999999998,294.06,285.30000000000001,296.20999999999998,306.32999999999998,318.17000000000002,334.17000000000002,332.77999999999997,327.47000000000003,365.36000000000001,417.89999999999998,495.56,447.56,395.83999999999997,390.58999999999997,389.88999999999999,385.27999999999997,381.38999999999999,340.57999999999998,345.07999999999998,340.91000000000003,338.18000000000001,334.66000000000003,331.63,338.35000000000002,336.52999999999997,335.32999999999998,326.47000000000003,328.16000000000003,327.00999999999999,325.12,323.06,329.13,366.75999999999999,363.58999999999997,359.54000000000002,371.94,382.36000000000001,378.93000000000001,362.23000000000002,370.26999999999998,363.51999999999998,389.79000000000002,402.81,399.97000000000003,415.56,423.12,419.50999999999999,451.94,469.10000000000002,441.68000000000001,447.13999999999999,465.31999999999999,465.20999999999998,457.86000000000001,465.18000000000001,465.57999999999998,462.63999999999999,444.73000000000002,443.69,444.52999999999997,458.45999999999998,458.31,457.49000000000001,424.00999999999999,429.76999999999998,432.98000000000002,434.38999999999999,432.92000000000002,436.25,436.06,433.74000000000001,434.51999999999998,434.18000000000001,431.86000000000001,458.76999999999998,462.93000000000001,454.63999999999999,448.31,450.66000000000003,448.18000000000001,435.19,433.31999999999999,430.25,390.56,390.95999999999998,388.10000000000002,387.73000000000002,425.26999999999998,422.88,410.41000000000003,394.54000000000002,405.49000000000001,402.31999999999999,397.76999999999998,396.83999999999997,395.5,384.38,380.92000000000002,380.35000000000002,378.06999999999999,375.88,374.94999999999999,391.61000000000001,391.08999999999997,386.63,380.87,379.88,377.25,385.48000000000002,383.13,384.94999999999999,391.86000000000001,407.23000000000002,410.38,408.94,421.17000000000002,426,423.10000000000002,441.98000000000002,448.05000000000001,439.05000000000001,439.86000000000001,425.55000000000001,427.72000000000003,432.14999999999998,434.23000000000002,435.68000000000001,441.50999999999999,439.64999999999998,435.92000000000002,425.37,425.18000000000001,411.25999999999999,411.91000000000003,415.92000000000002,416.24000000000001,416.02999999999997,417.50999999999999,423.93000000000001,421.80000000000001,416.60000000000002,416.68000000000001,418.13,417.69,421,420.55000000000001,410.98000000000002,414.63,413.42000000000002,418.38,419.26999999999998,418.68000000000001,418.07999999999998,418.99000000000001,428.80000000000001,426.86000000000001,426.19999999999999,416.82999999999998,418.37,418.17000000000002,422.07999999999998,421.57999999999998,422.33999999999997,424.25999999999999,424.52999999999997,423.66000000000003,425.36000000000001,420.88999999999999,422.44,422.74000000000001,427.27999999999997,426.66000000000003,425.37,429.93000000000001,432.63,431.37,429.26999999999998,436.01999999999998,443.05000000000001,450.55000000000001,449.81,450.27999999999997,460.14999999999998,466.62,467.95999999999998,467.07999999999998,449.55000000000001,455.38,455.58999999999997,452.48000000000002,452.44,451.10000000000002,450.38,448.50999999999999,461.38,460.68000000000001,459.42000000000002,462.48000000000002,461.93000000000001,454.57999999999998,454.94999999999999,457.06,456.83999999999997,458.69,458.19999999999999,455.06999999999999,456,454.63,444.05000000000001,443.77999999999997,443.43000000000001,444.35000000000002,447.10000000000002,450.30000000000001,453.63999999999999,478.14999999999998,533.47000000000003,553.96000000000004,544.35000000000002,546.62,543.08000000000004,540.35000000000002,574.63999999999999,590.13,582.80999999999995,586.47000000000003,590.25999999999999,582.84000000000003,582.20000000000005,579.13,607.12,684.84000000000003,716,704.5,696.29999999999995,773.72000000000003,775.36000000000001,777.99000000000001,766.62,764.08000000000004,735.88,678.66999999999996,629.33000000000004,681.73000000000002,691.73000000000002,665.98000000000002,655.26999999999998,659.25,644.67999999999995,675.39999999999998,686.14999999999998,703.70000000000005,704.97000000000003,683.65999999999997,683.49000000000001,681.89999999999998,682.42999999999995,666.71000000000004,666.38,652.28999999999996,659.63,675.25999999999999,668.70000000000005,662.89999999999998,667.08000000000004,666.46000000000004,682.37,681.54999999999995,673.27999999999997,672.92999999999995,666.22000000000003,666.58000000000004,656.37,663.11000000000001,661.83000000000004,656.23000000000002,657.46000000000004,657.60000000000002,657.79999999999995,658.22000000000003,655.27999999999997,626.12,612.85000000000002,573.36000000000001,579.5,578.27999999999997,588.39999999999998,597.50999999999999,592.99000000000001,591.09000000000003,599.98000000000002,597.53999999999996,589.90999999999997,589.76999999999998,585.66999999999996,573.58000000000004,581.74000000000001,580.88999999999999,577.78999999999996,578.24000000000001,582.82000000000005,584.15999999999997,588.45000000000005,589.47000000000003,583.59000000000003,580.45000000000005,580.62,579.85000000000002,574.03999999999996,576.27999999999997,578.36000000000001,577.86000000000001,576.30999999999995,575.63999999999999,599.5,611.84000000000003,609.04999999999995,610.83000000000004,614.53999999999996,628.76999999999998,626.83000000000004,625.10000000000002,628.82000000000005,608.46000000000004,611.19000000000005,611.95000000000005,611.09000000000003,609.25999999999999,607.86000000000001,610.15999999999997,610.92999999999995,609.51999999999998,603.59000000000003,598.49000000000001,603.21000000000004,604.58000000000004,603.38,608.13999999999999,608.25,606.59000000000003,606.82000000000005,609.74000000000001,615.24000000000001,614,612.57000000000005,612.04999999999995,613.80999999999995,613.82000000000005,617.90999999999997,619.85000000000002,619.20000000000005,621.32000000000005,642.08000000000004,641.34000000000003,638.83000000000004,641.27999999999997,642.10000000000002,642.89999999999998,642.33000000000004,640.74000000000001,638.87,631.91999999999996,634.09000000000003,658.20000000000005,661.13,657.25,664.41999999999996,679.73000000000002,688.59000000000003,690.44000000000005,720.39999999999998,714.12,709.28999999999996,736.45000000000005,740.83000000000004,745.76999999999998,706.92999999999995,707.50999999999999,714.25999999999999,710.74000000000001,712.99000000000001,740.04999999999995,723.01999999999998,718.32000000000005,717.14999999999998,705.25999999999999,706.27999999999997,715.72000000000003,747.62,755.63999999999999,752.88,756.24000000000001,755.48000000000002,741.72000000000003,753.87,752.25,746.83000000000004,741.64999999999998,742.21000000000004,739.01999999999998,738.00999999999999,737.47000000000003,747.92999999999995,758.26999999999998,781.29999999999995,778.25,773.87,773.47000000000003,765.62,771.53999999999996,774.70000000000005,774.52999999999997,777.09000000000003,774.79999999999995,781.91999999999996,788.46000000000004,782.02999999999997,781.42999999999995,785.02999999999997,792.50999999999999,794.74000000000001,793.61000000000001,801.34000000000003,834.27999999999997,875.77999999999997,925.12,923.48000000000002,899.64999999999998,913.17999999999995,940.04999999999995,975.91999999999996,979.39999999999998,972.52999999999997,963.74000000000001,1003.08,1031.3900000000001,1044.0799999999999,1159.4200000000001,1191.0999999999999,1046.8099999999999,908.59000000000003,942.72000000000003,913.69000000000005,914.87,919.45000000000005,826.25,829,835.09000000000003,823.30999999999995,834.52999999999997,910.55999999999995,917.5,904.61000000000001,899.39999999999998,927.37,937.51999999999998,928.26999999999998,924.13999999999999,903.25,919.33000000000004,923.22000000000003,923.90999999999997,923.41999999999996,923.04999999999995,972.01999999999998,989.11000000000001,1013.52,1033.8699999999999,1045.9000000000001,1043.6300000000001,1044.6400000000001,1061.9300000000001,1078.97,1088.99,998.89999999999998,1009.29,1004.76,1002.1,1011.51,1008.84,1033.3699999999999,1053.1700000000001,1061.0999999999999,1056.8099999999999,1080.49,1117.25,1125.3900000000001,1176.6199999999999,1200.3900000000001,1174.8499999999999,1167.47,1181.98,1193.25,1222.5,1262.1300000000001,1280.3099999999999,1279.4000000000001,1267.29,1276,1275.55,1232.1600000000001,1197.46,1270.47,1193.8299999999999,1226.98,1237.3699999999999,1244.8099999999999,1251.6099999999999,1257.98,1180.1600000000001,1114.0699999999999,1069.9100000000001,1063.03,1122.4300000000001,1120.6500000000001,1058.01,1040.47,975.75999999999999,1007.96,1046.4000000000001,1064.6500000000001,1055.1300000000001,1049.29,1074.9200000000001,1091.72,1107.5899999999999,1151.74,1156.4400000000001,1135.0899999999999,1188.3699999999999,1186.5799999999999,1184.98,1197.21,1190.3399999999999,1208.0699999999999,1207.1400000000001,1205.8900000000001,1190.8,1188,1187.22,1194.9000000000001,1217.5699999999999,1215.51,1240.79,1235.9400000000001,1235.5599999999999,1232.2,1250.9400000000001,1267.5799999999999,1294.8299999999999,1319.7,1331.28,1327.2,1347.9100000000001,1434.3199999999999,1473.9000000000001,1492.77,1608.9100000000001,1618.03,1578.8,1596.72,1723.3499999999999,1833.49,1788.4400000000001,1873.9300000000001,1856.1500000000001,1812.99,1831.4200000000001,1812.8,1785.9400000000001,1864.05,1904.48,2004.52,2084.73,2119.0799999999999,2303.9000000000001,2320.8200000000002,2523.7199999999998,2763.71,2573.79,2260.1999999999998,2267.3400000000001,2307.0500000000002,2301.96,2311.0799999999999,2448.3899999999999,2488.5500000000002,2581.9099999999999,2585.8899999999999,2686.8099999999999,2999.9099999999999,2869.3800000000001,2815.3000000000002,2901.71,2950.9899999999998,2996.5999999999999,2997.2600000000002,2789.04,2786.8299999999999,2534.71,2539.9200000000001,2685.1900000000001,2662.0999999999999,2662.8499999999999,2763.4499999999998,2772.0100000000002,2723.7399999999998,2765.1700000000001,2757.9400000000001,2682.2600000000002,2615.25,2552.4499999999998,2603.98,2588.8299999999999,2559.25,2515.27,2514.2800000000002,2595,2631.5900000000001,2622.6500000000001,2616.7199999999998,2916.1399999999999,2571.3400000000001,2635.4899999999998,2537.1599999999999,2413.4699999999998,2423.71,2425.2199999999998,2363.25,2231.1399999999999,2058.77,2230.4899999999998,2387.6100000000001,2397.1700000000001,2900.6999999999998,2838.4099999999999,2862.4200000000001,2832.1799999999998,2777.2600000000002,2768.0799999999999,2610.7600000000002,2693.3200000000002,2897.4499999999998,2808.7600000000002,2758.5300000000002,2889.6199999999999,2921.3499999999999,2762.5300000000002,2813.3099999999999,2899.3299999999999,3290.0100000000002,3293.29,3397.6799999999998,3484.8499999999999,3422.7600000000002,3453.4499999999998,3679.7199999999998,3949.9200000000001,4208.3900000000003,4325.1300000000001,4455.9700000000003,4381.2299999999996,4484.6999999999998,4370.1300000000001,4243.2600000000002,4196.29,4109.1400000000003,4128.7600000000002,4255.7799999999997,4376.3900000000003,4455.6999999999998,4379.2799999999997,4416.5900000000001,4403.9300000000003,4625.6800000000003,4626.5200000000004,4736.0500000000002,4892.0100000000002,4975.04,4714.0799999999999,4591.6300000000001,4427.8400000000001,4617.25,4655.04,4661,4308.8199999999997,4245.4399999999996,4261.6700000000001,4344.6499999999996,4131.9799999999996,3920.5999999999999,3733.4499999999998,3808.8400000000001,3664.8099999999999,4079.23,4094.0700000000002,4031.3899999999999,3916.4200000000001,3758.27,3819.21,3796.1500000000001,3950.25,3969.8899999999999,4210.0500000000002,4279.3100000000004,4214.6300000000001,4358.4300000000003,4403.7399999999998,4470.2299999999996,4432.4700000000003,4352.3100000000004,4362.6400000000003,4413.2700000000004,4443.8800000000001,4624.1400000000003,4878.71,4922.1700000000001,4873.7299999999996,5446.9099999999999,5840.3000000000002,5837.6999999999998,5852.4799999999996,5776.2299999999996,5800.3500000000004,5603.8199999999997,5744.3500000000004,6060.1099999999997,6194.8800000000001,6076.2600000000002,6075.5900000000001,5935.5200000000004,5754.3299999999999,5976.8000000000002,5988.3900000000003,5876.7200000000003,6255.71,6214.9899999999998,6470.4300000000003,6767.3100000000004,7367.3299999999999,7461.29,7492.8599999999997,7617.4799999999996,7445.7700000000004,7253.3199999999997,7776.4200000000001,7446.8299999999999,7312,6873.1499999999996,6625.0500000000002,6811.1899999999996,6764.9799999999996,7342.25,7967.3800000000001,8004.5900000000001,7884.9899999999998,8101.9099999999999,8336.8600000000006,8348.6599999999999,8302.2600000000002,8267.3999999999996,8374.1599999999999,8790.9200000000001,9522.9300000000003,9818.3500000000004,10125.700000000001,11517.4,10801,11046.700000000001,11320.200000000001,11858.700000000001,11657.200000000001,12032,14369.1,17899.700000000001,18353.400000000001,16783,15850.6,17513.900000000001,17781.799999999999,17653.099999999999,17085.799999999999,18154.099999999999,19716.700000000001,20089,19371,19177.799999999999,17934.700000000001,17567.700000000001,15943.4,15603.200000000001,14626,14593,16461.200000000001,16930.900000000001,15888.4,15279,14681.9,14377.4,14112.200000000001,15444.6,15572.799999999999,15739.700000000001,17705.200000000001,17712.400000000001,17579.599999999999,16537.900000000001,15497.5,14973.299999999999,15018.799999999999,14229.9,14659.5,14511.799999999999,14445.5,13843.1,11678,12107.299999999999,11992.799999999999,13103,12895.9,11966.4,11377.6,11501.4,11785.700000000001,11656.700000000001,11614.9,12040.299999999999,11875.6,11307.200000000001,10381.6,10288.799999999999,9142.2800000000007,9430.75,9334.8700000000008,8364.8400000000001,7850.6999999999998,8509.1100000000006,8558.7700000000004,8736.9799999999996,9122.5499999999993,8616.1299999999992,8985.9200000000001,8958.4699999999993,9518.5400000000009,10234.799999999999,10324.1,11139.5,11349.799999999999,11273.799999999999,11958.5,11418.5,11039.1,10487.299999999999,10597.200000000001,9923.2199999999993,10475,10878.5,11089.799999999999,11052.299999999999,11189,11528.200000000001,11512.6,11704.1,11500.1,10929.5,10147.4,9466.3500000000004,9531.3199999999997,9711.8899999999994,9937.5,9470.3799999999992,9355.8500000000004,8428.3500000000004,8585.1499999999996,8346.5300000000007,8245.5100000000002,8675.8700000000008,9051.0200000000004,9177.3700000000008,9100.7099999999991,8879.6200000000008,8996.1800000000003,8682.0100000000002,8530.0799999999999,8232.7800000000007,8122.8900000000003,7994.3299999999999,7276.6599999999999,7207.8500000000004,7060.9499999999998,7135.4700000000003,7530.9399999999996,7469.8800000000001,6933.8199999999997,6857.4899999999998,7050.54,7111.5600000000004,7178.1099999999997,6872.4099999999999,6968.3199999999997,7899.2299999999996,8183.96,8140.71,8338.4200000000001,8371.1499999999996,8285.9599999999991,8197.7999999999993,8298.6900000000005,8880.2299999999996,8997.5699999999997,9001.6399999999994,8958.5499999999993],"text":["date: 2013-04-28<br />value:   135.98","date: 2013-04-29<br />value:   147.49","date: 2013-04-30<br />value:   146.93","date: 2013-05-01<br />value:   139.89","date: 2013-05-02<br />value:   125.60","date: 2013-05-03<br />value:   108.13","date: 2013-05-04<br />value:   115.00","date: 2013-05-05<br />value:   118.80","date: 2013-05-06<br />value:   124.66","date: 2013-05-07<br />value:   113.44","date: 2013-05-08<br />value:   115.78","date: 2013-05-09<br />value:   113.46","date: 2013-05-10<br />value:   122.00","date: 2013-05-11<br />value:   118.68","date: 2013-05-12<br />value:   117.45","date: 2013-05-13<br />value:   118.70","date: 2013-05-14<br />value:   119.80","date: 2013-05-15<br />value:   115.81","date: 2013-05-16<br />value:   118.76","date: 2013-05-17<br />value:   125.30","date: 2013-05-18<br />value:   125.25","date: 2013-05-19<br />value:   124.50","date: 2013-05-20<br />value:   123.62","date: 2013-05-21<br />value:   123.00","date: 2013-05-22<br />value:   124.00","date: 2013-05-23<br />value:   126.93","date: 2013-05-24<br />value:   133.85","date: 2013-05-25<br />value:   133.22","date: 2013-05-26<br />value:   136.00","date: 2013-05-27<br />value:   135.47","date: 2013-05-28<br />value:   130.58","date: 2013-05-29<br />value:   132.59","date: 2013-05-30<br />value:   132.25","date: 2013-05-31<br />value:   129.90","date: 2013-06-01<br />value:   129.78","date: 2013-06-02<br />value:   129.40","date: 2013-06-03<br />value:   122.50","date: 2013-06-04<br />value:   123.84","date: 2013-06-05<br />value:   123.47","date: 2013-06-06<br />value:   123.10","date: 2013-06-07<br />value:   119.00","date: 2013-06-08<br />value:   111.42","date: 2013-06-09<br />value:   108.99","date: 2013-06-10<br />value:   110.10","date: 2013-06-11<br />value:   109.60","date: 2013-06-12<br />value:   111.79","date: 2013-06-13<br />value:   110.30","date: 2013-06-14<br />value:   104.70","date: 2013-06-15<br />value:   103.70","date: 2013-06-16<br />value:   101.60","date: 2013-06-17<br />value:   102.21","date: 2013-06-18<br />value:   111.11","date: 2013-06-19<br />value:   110.22","date: 2013-06-20<br />value:   114.30","date: 2013-06-21<br />value:   114.99","date: 2013-06-22<br />value:   109.96","date: 2013-06-23<br />value:   108.80","date: 2013-06-24<br />value:   108.33","date: 2013-06-25<br />value:   106.47","date: 2013-06-26<br />value:   105.49","date: 2013-06-27<br />value:   104.00","date: 2013-06-28<br />value:   101.74","date: 2013-06-29<br />value:    99.99","date: 2013-06-30<br />value:    98.12","date: 2013-07-01<br />value:    97.66","date: 2013-07-02<br />value:    92.30","date: 2013-07-03<br />value:    90.98","date: 2013-07-04<br />value:    83.11","date: 2013-07-05<br />value:    80.00","date: 2013-07-06<br />value:    75.00","date: 2013-07-07<br />value:    74.56","date: 2013-07-08<br />value:    80.00","date: 2013-07-09<br />value:    78.30","date: 2013-07-10<br />value:    87.00","date: 2013-07-11<br />value:    90.28","date: 2013-07-12<br />value:   104.00","date: 2013-07-13<br />value:    98.25","date: 2013-07-14<br />value:    98.70","date: 2013-07-15<br />value:   101.90","date: 2013-07-16<br />value:    99.86","date: 2013-07-17<br />value:    99.97","date: 2013-07-18<br />value:    98.80","date: 2013-07-19<br />value:    95.20","date: 2013-07-20<br />value:    93.10","date: 2013-07-21<br />value:    91.95","date: 2013-07-22<br />value:    92.00","date: 2013-07-23<br />value:    96.82","date: 2013-07-24<br />value:    95.99","date: 2013-07-25<br />value:    97.33","date: 2013-07-26<br />value:    97.47","date: 2013-07-27<br />value:    97.00","date: 2013-07-28<br />value:   100.58","date: 2013-07-29<br />value:   102.50","date: 2013-07-30<br />value:   107.99","date: 2013-07-31<br />value:   111.34","date: 2013-08-01<br />value:   108.00","date: 2013-08-02<br />value:   108.00","date: 2013-08-03<br />value:   105.78","date: 2013-08-04<br />value:   105.95","date: 2013-08-05<br />value:   107.77","date: 2013-08-06<br />value:   107.38","date: 2013-08-07<br />value:   106.75","date: 2013-08-08<br />value:   106.75","date: 2013-08-09<br />value:   105.75","date: 2013-08-10<br />value:   103.90","date: 2013-08-11<br />value:   105.19","date: 2013-08-12<br />value:   108.00","date: 2013-08-13<br />value:   109.35","date: 2013-08-14<br />value:   115.00","date: 2013-08-15<br />value:   113.25","date: 2013-08-16<br />value:   112.30","date: 2013-08-17<br />value:   113.75","date: 2013-08-18<br />value:   114.69","date: 2013-08-19<br />value:   123.06","date: 2013-08-20<br />value:   123.01","date: 2013-08-21<br />value:   124.91","date: 2013-08-22<br />value:   123.50","date: 2013-08-23<br />value:   122.00","date: 2013-08-24<br />value:   121.39","date: 2013-08-25<br />value:   122.99","date: 2013-08-26<br />value:   122.75","date: 2013-08-27<br />value:   127.24","date: 2013-08-28<br />value:   127.32","date: 2013-08-29<br />value:   123.70","date: 2013-08-30<br />value:   135.75","date: 2013-08-31<br />value:   140.89","date: 2013-09-01<br />value:   145.81","date: 2013-09-02<br />value:   146.50","date: 2013-09-03<br />value:   138.34","date: 2013-09-04<br />value:   144.50","date: 2013-09-05<br />value:   131.44","date: 2013-09-06<br />value:   127.34","date: 2013-09-07<br />value:   125.94","date: 2013-09-08<br />value:   124.72","date: 2013-09-09<br />value:   129.06","date: 2013-09-10<br />value:   129.74","date: 2013-09-11<br />value:   137.83","date: 2013-09-12<br />value:   136.08","date: 2013-09-13<br />value:   137.58","date: 2013-09-14<br />value:   135.85","date: 2013-09-15<br />value:   131.44","date: 2013-09-16<br />value:   132.72","date: 2013-09-17<br />value:   132.76","date: 2013-09-18<br />value:   133.20","date: 2013-09-19<br />value:   131.77","date: 2013-09-20<br />value:   135.62","date: 2013-09-21<br />value:   128.61","date: 2013-09-22<br />value:   133.94","date: 2013-09-23<br />value:   132.72","date: 2013-09-24<br />value:   127.46","date: 2013-09-25<br />value:   129.69","date: 2013-09-26<br />value:   134.93","date: 2013-09-27<br />value:   134.74","date: 2013-09-28<br />value:   135.63","date: 2013-09-29<br />value:   140.61","date: 2013-09-30<br />value:   138.35","date: 2013-10-01<br />value:   134.63","date: 2013-10-02<br />value:   133.59","date: 2013-10-03<br />value:   123.63","date: 2013-10-04<br />value:   130.09","date: 2013-10-05<br />value:   130.44","date: 2013-10-06<br />value:   129.66","date: 2013-10-07<br />value:   130.27","date: 2013-10-08<br />value:   127.47","date: 2013-10-09<br />value:   131.75","date: 2013-10-10<br />value:   131.50","date: 2013-10-11<br />value:   131.81","date: 2013-10-12<br />value:   135.66","date: 2013-10-13<br />value:   138.66","date: 2013-10-14<br />value:   144.12","date: 2013-10-15<br />value:   145.39","date: 2013-10-16<br />value:   152.23","date: 2013-10-17<br />value:   147.42","date: 2013-10-18<br />value:   155.96","date: 2013-10-19<br />value:   177.48","date: 2013-10-20<br />value:   174.91","date: 2013-10-21<br />value:   184.82","date: 2013-10-22<br />value:   196.27","date: 2013-10-23<br />value:   213.62","date: 2013-10-24<br />value:   217.42","date: 2013-10-25<br />value:   198.87","date: 2013-10-26<br />value:   188.41","date: 2013-10-27<br />value:   196.44","date: 2013-10-28<br />value:   198.62","date: 2013-10-29<br />value:   204.79","date: 2013-10-30<br />value:   209.16","date: 2013-10-31<br />value:   205.18","date: 2013-11-01<br />value:   206.65","date: 2013-11-02<br />value:   207.76","date: 2013-11-03<br />value:   215.05","date: 2013-11-04<br />value:   231.01","date: 2013-11-05<br />value:   250.66","date: 2013-11-06<br />value:   263.00","date: 2013-11-07<br />value:   304.17","date: 2013-11-08<br />value:   338.66","date: 2013-11-09<br />value:   370.82","date: 2013-11-10<br />value:   350.70","date: 2013-11-11<br />value:   351.27","date: 2013-11-12<br />value:   362.81","date: 2013-11-13<br />value:   414.05","date: 2013-11-14<br />value:   425.90","date: 2013-11-15<br />value:   437.89","date: 2013-11-16<br />value:   450.26","date: 2013-11-17<br />value:   500.58","date: 2013-11-18<br />value:   703.78","date: 2013-11-19<br />value:   806.11","date: 2013-11-20<br />value:   599.65","date: 2013-11-21<br />value:   733.40","date: 2013-11-22<br />value:   780.85","date: 2013-11-23<br />value:   844.97","date: 2013-11-24<br />value:   807.36","date: 2013-11-25<br />value:   810.68","date: 2013-11-26<br />value:   928.54","date: 2013-11-27<br />value:  1001.96","date: 2013-11-28<br />value:  1077.56","date: 2013-11-29<br />value:  1146.97","date: 2013-11-30<br />value:  1156.14","date: 2013-12-01<br />value:  1133.08","date: 2013-12-02<br />value:  1055.42","date: 2013-12-03<br />value:  1096.00","date: 2013-12-04<br />value:  1156.12","date: 2013-12-05<br />value:  1154.36","date: 2013-12-06<br />value:  1042.38","date: 2013-12-07<br />value:   854.64","date: 2013-12-08<br />value:   802.51","date: 2013-12-09<br />value:   921.93","date: 2013-12-10<br />value:   997.23","date: 2013-12-11<br />value:  1001.58","date: 2013-12-12<br />value:   901.94","date: 2013-12-13<br />value:   941.79","date: 2013-12-14<br />value:   904.65","date: 2013-12-15<br />value:   886.16","date: 2013-12-16<br />value:   882.25","date: 2013-12-17<br />value:   754.83","date: 2013-12-18<br />value:   679.32","date: 2013-12-19<br />value:   707.23","date: 2013-12-20<br />value:   729.16","date: 2013-12-21<br />value:   654.27","date: 2013-12-22<br />value:   666.74","date: 2013-12-23<br />value:   680.91","date: 2013-12-24<br />value:   684.39","date: 2013-12-25<br />value:   682.70","date: 2013-12-26<br />value:   777.75","date: 2013-12-27<br />value:   777.51","date: 2013-12-28<br />value:   747.06","date: 2013-12-29<br />value:   748.61","date: 2013-12-30<br />value:   766.60","date: 2013-12-31<br />value:   760.58","date: 2014-01-01<br />value:   775.35","date: 2014-01-02<br />value:   820.31","date: 2014-01-03<br />value:   834.15","date: 2014-01-04<br />value:   859.51","date: 2014-01-05<br />value:   952.40","date: 2014-01-06<br />value:  1017.12","date: 2014-01-07<br />value:   965.74","date: 2014-01-08<br />value:   870.68","date: 2014-01-09<br />value:   864.36","date: 2014-01-10<br />value:   871.19","date: 2014-01-11<br />value:   921.48","date: 2014-01-12<br />value:   928.52","date: 2014-01-13<br />value:   861.29","date: 2014-01-14<br />value:   855.69","date: 2014-01-15<br />value:   872.81","date: 2014-01-16<br />value:   866.16","date: 2014-01-17<br />value:   842.91","date: 2014-01-18<br />value:   841.49","date: 2014-01-19<br />value:   870.96","date: 2014-01-20<br />value:   886.39","date: 2014-01-21<br />value:   881.20","date: 2014-01-22<br />value:   870.15","date: 2014-01-23<br />value:   851.57","date: 2014-01-24<br />value:   822.43","date: 2014-01-25<br />value:   861.45","date: 2014-01-26<br />value:   897.02","date: 2014-01-27<br />value:   893.00","date: 2014-01-28<br />value:   832.50","date: 2014-01-29<br />value:   836.87","date: 2014-01-30<br />value:   830.50","date: 2014-01-31<br />value:   831.87","date: 2014-02-01<br />value:   853.52","date: 2014-02-02<br />value:   844.72","date: 2014-02-03<br />value:   826.48","date: 2014-02-04<br />value:   840.17","date: 2014-02-05<br />value:   837.32","date: 2014-02-06<br />value:   819.81","date: 2014-02-07<br />value:   783.20","date: 2014-02-08<br />value:   721.82","date: 2014-02-09<br />value:   712.27","date: 2014-02-10<br />value:   703.71","date: 2014-02-11<br />value:   712.46","date: 2014-02-12<br />value:   672.90","date: 2014-02-13<br />value:   657.99","date: 2014-02-14<br />value:   691.72","date: 2014-02-15<br />value:   661.84","date: 2014-02-16<br />value:   665.10","date: 2014-02-17<br />value:   656.95","date: 2014-02-18<br />value:   645.76","date: 2014-02-19<br />value:   631.77","date: 2014-02-20<br />value:   627.73","date: 2014-02-21<br />value:   582.96","date: 2014-02-22<br />value:   614.48","date: 2014-02-23<br />value:   639.91","date: 2014-02-24<br />value:   607.61","date: 2014-02-25<br />value:   541.38","date: 2014-02-26<br />value:   603.80","date: 2014-02-27<br />value:   594.05","date: 2014-02-28<br />value:   584.14","date: 2014-03-01<br />value:   573.38","date: 2014-03-02<br />value:   570.48","date: 2014-03-03<br />value:   702.91","date: 2014-03-04<br />value:   696.22","date: 2014-03-05<br />value:   674.28","date: 2014-03-06<br />value:   669.77","date: 2014-03-07<br />value:   665.34","date: 2014-03-08<br />value:   635.14","date: 2014-03-09<br />value:   643.95","date: 2014-03-10<br />value:   644.76","date: 2014-03-11<br />value:   638.42","date: 2014-03-12<br />value:   648.03","date: 2014-03-13<br />value:   644.20","date: 2014-03-14<br />value:   639.53","date: 2014-03-15<br />value:   639.14","date: 2014-03-16<br />value:   637.52","date: 2014-03-17<br />value:   632.68","date: 2014-03-18<br />value:   622.39","date: 2014-03-19<br />value:   622.00","date: 2014-03-20<br />value:   609.75","date: 2014-03-21<br />value:   604.59","date: 2014-03-22<br />value:   572.55","date: 2014-03-23<br />value:   570.24","date: 2014-03-24<br />value:   586.56","date: 2014-03-25<br />value:   585.44","date: 2014-03-26<br />value:   590.03","date: 2014-03-27<br />value:   580.56","date: 2014-03-28<br />value:   526.02","date: 2014-03-29<br />value:   504.86","date: 2014-03-30<br />value:   492.37","date: 2014-03-31<br />value:   483.02","date: 2014-04-01<br />value:   495.34","date: 2014-04-02<br />value:   495.05","date: 2014-04-03<br />value:   449.56","date: 2014-04-04<br />value:   454.65","date: 2014-04-05<br />value:   463.57","date: 2014-04-06<br />value:   466.32","date: 2014-04-07<br />value:   462.56","date: 2014-04-08<br />value:   457.42","date: 2014-04-09<br />value:   455.73","date: 2014-04-10<br />value:   443.37","date: 2014-04-11<br />value:   429.77","date: 2014-04-12<br />value:   439.61","date: 2014-04-13<br />value:   427.40","date: 2014-04-14<br />value:   469.75","date: 2014-04-15<br />value:   519.00","date: 2014-04-16<br />value:   542.38","date: 2014-04-17<br />value:   533.52","date: 2014-04-18<br />value:   498.60","date: 2014-04-19<br />value:   503.56","date: 2014-04-20<br />value:   510.87","date: 2014-04-21<br />value:   510.57","date: 2014-04-22<br />value:   503.22","date: 2014-04-23<br />value:   493.25","date: 2014-04-24<br />value:   500.46","date: 2014-04-25<br />value:   500.30","date: 2014-04-26<br />value:   464.54","date: 2014-04-27<br />value:   459.33","date: 2014-04-28<br />value:   447.53","date: 2014-04-29<br />value:   451.64","date: 2014-04-30<br />value:   451.10","date: 2014-05-01<br />value:   460.61","date: 2014-05-02<br />value:   457.93","date: 2014-05-03<br />value:   449.40","date: 2014-05-04<br />value:   439.77","date: 2014-05-05<br />value:   440.97","date: 2014-05-06<br />value:   448.04","date: 2014-05-07<br />value:   446.13","date: 2014-05-08<br />value:   448.40","date: 2014-05-09<br />value:   452.69","date: 2014-05-10<br />value:   455.77","date: 2014-05-11<br />value:   455.34","date: 2014-05-12<br />value:   442.26","date: 2014-05-13<br />value:   441.98","date: 2014-05-14<br />value:   446.66","date: 2014-05-15<br />value:   449.80","date: 2014-05-16<br />value:   450.66","date: 2014-05-17<br />value:   451.98","date: 2014-05-18<br />value:   449.77","date: 2014-05-19<br />value:   447.56","date: 2014-05-20<br />value:   491.44","date: 2014-05-21<br />value:   494.37","date: 2014-05-22<br />value:   525.36","date: 2014-05-23<br />value:   541.96","date: 2014-05-24<br />value:   525.17","date: 2014-05-25<br />value:   576.48","date: 2014-05-26<br />value:   588.39","date: 2014-05-27<br />value:   589.52","date: 2014-05-28<br />value:   578.62","date: 2014-05-29<br />value:   577.10","date: 2014-05-30<br />value:   618.46","date: 2014-05-31<br />value:   624.72","date: 2014-06-01<br />value:   671.51","date: 2014-06-02<br />value:   665.50","date: 2014-06-03<br />value:   674.11","date: 2014-06-04<br />value:   668.56","date: 2014-06-05<br />value:   663.53","date: 2014-06-06<br />value:   661.37","date: 2014-06-07<br />value:   656.94","date: 2014-06-08<br />value:   658.88","date: 2014-06-09<br />value:   657.70","date: 2014-06-10<br />value:   659.62","date: 2014-06-11<br />value:   657.04","date: 2014-06-12<br />value:   638.11","date: 2014-06-13<br />value:   615.14","date: 2014-06-14<br />value:   601.27","date: 2014-06-15<br />value:   592.94","date: 2014-06-16<br />value:   608.72","date: 2014-06-17<br />value:   610.89","date: 2014-06-18<br />value:   615.88","date: 2014-06-19<br />value:   612.24","date: 2014-06-20<br />value:   599.75","date: 2014-06-21<br />value:   599.46","date: 2014-06-22<br />value:   606.00","date: 2014-06-23<br />value:   603.21","date: 2014-06-24<br />value:   596.97","date: 2014-06-25<br />value:   583.60","date: 2014-06-26<br />value:   581.63","date: 2014-06-27<br />value:   600.12","date: 2014-06-28<br />value:   604.47","date: 2014-06-29<br />value:   604.08","date: 2014-06-30<br />value:   645.15","date: 2014-07-01<br />value:   657.86","date: 2014-07-02<br />value:   656.68","date: 2014-07-03<br />value:   650.77","date: 2014-07-04<br />value:   648.43","date: 2014-07-05<br />value:   633.22","date: 2014-07-06<br />value:   638.65","date: 2014-07-07<br />value:   637.16","date: 2014-07-08<br />value:   626.70","date: 2014-07-09<br />value:   627.00","date: 2014-07-10<br />value:   626.12","date: 2014-07-11<br />value:   632.09","date: 2014-07-12<br />value:   636.66","date: 2014-07-13<br />value:   634.73","date: 2014-07-14<br />value:   627.34","date: 2014-07-15<br />value:   625.14","date: 2014-07-16<br />value:   623.09","date: 2014-07-17<br />value:   626.29","date: 2014-07-18<br />value:   629.21","date: 2014-07-19<br />value:   629.17","date: 2014-07-20<br />value:   628.56","date: 2014-07-21<br />value:   624.09","date: 2014-07-22<br />value:   624.30","date: 2014-07-23<br />value:   624.43","date: 2014-07-24<br />value:   620.43","date: 2014-07-25<br />value:   607.07","date: 2014-07-26<br />value:   602.09","date: 2014-07-27<br />value:   598.94","date: 2014-07-28<br />value:   594.57","date: 2014-07-29<br />value:   588.38","date: 2014-07-30<br />value:   585.12","date: 2014-07-31<br />value:   586.24","date: 2014-08-01<br />value:   597.92","date: 2014-08-02<br />value:   594.91","date: 2014-08-03<br />value:   589.15","date: 2014-08-04<br />value:   591.95","date: 2014-08-05<br />value:   589.87","date: 2014-08-06<br />value:   587.49","date: 2014-08-07<br />value:   591.10","date: 2014-08-08<br />value:   598.12","date: 2014-08-09<br />value:   592.47","date: 2014-08-10<br />value:   594.46","date: 2014-08-11<br />value:   591.51","date: 2014-08-12<br />value:   576.95","date: 2014-08-13<br />value:   573.03","date: 2014-08-14<br />value:   546.24","date: 2014-08-15<br />value:   518.18","date: 2014-08-16<br />value:   521.48","date: 2014-08-17<br />value:   520.19","date: 2014-08-18<br />value:   499.37","date: 2014-08-19<br />value:   485.71","date: 2014-08-20<br />value:   518.28","date: 2014-08-21<br />value:   531.90","date: 2014-08-22<br />value:   521.48","date: 2014-08-23<br />value:   514.30","date: 2014-08-24<br />value:   512.89","date: 2014-08-25<br />value:   508.22","date: 2014-08-26<br />value:   512.69","date: 2014-08-27<br />value:   520.71","date: 2014-08-28<br />value:   516.16","date: 2014-08-29<br />value:   511.69","date: 2014-08-30<br />value:   509.31","date: 2014-08-31<br />value:   504.88","date: 2014-09-01<br />value:   485.31","date: 2014-09-02<br />value:   482.99","date: 2014-09-03<br />value:   481.71","date: 2014-09-04<br />value:   493.93","date: 2014-09-05<br />value:   490.64","date: 2014-09-06<br />value:   488.60","date: 2014-09-07<br />value:   488.07","date: 2014-09-08<br />value:   489.83","date: 2014-09-09<br />value:   477.38","date: 2014-09-10<br />value:   487.47","date: 2014-09-11<br />value:   482.35","date: 2014-09-12<br />value:   479.63","date: 2014-09-13<br />value:   482.12","date: 2014-09-14<br />value:   479.85","date: 2014-09-15<br />value:   478.62","date: 2014-09-16<br />value:   475.64","date: 2014-09-17<br />value:   468.17","date: 2014-09-18<br />value:   456.86","date: 2014-09-19<br />value:   427.83","date: 2014-09-20<br />value:   423.30","date: 2014-09-21<br />value:   412.43","date: 2014-09-22<br />value:   406.92","date: 2014-09-23<br />value:   441.56","date: 2014-09-24<br />value:   436.11","date: 2014-09-25<br />value:   423.52","date: 2014-09-26<br />value:   414.94","date: 2014-09-27<br />value:   406.62","date: 2014-09-28<br />value:   401.02","date: 2014-09-29<br />value:   385.21","date: 2014-09-30<br />value:   390.98","date: 2014-10-01<br />value:   391.38","date: 2014-10-02<br />value:   385.50","date: 2014-10-03<br />value:   377.69","date: 2014-10-04<br />value:   364.49","date: 2014-10-05<br />value:   341.80","date: 2014-10-06<br />value:   345.13","date: 2014-10-07<br />value:   339.25","date: 2014-10-08<br />value:   354.36","date: 2014-10-09<br />value:   382.73","date: 2014-10-10<br />value:   375.07","date: 2014-10-11<br />value:   367.19","date: 2014-10-12<br />value:   379.43","date: 2014-10-13<br />value:   397.23","date: 2014-10-14<br />value:   411.70","date: 2014-10-15<br />value:   402.23","date: 2014-10-16<br />value:   398.81","date: 2014-10-17<br />value:   385.48","date: 2014-10-18<br />value:   395.16","date: 2014-10-19<br />value:   393.94","date: 2014-10-20<br />value:   390.08","date: 2014-10-21<br />value:   392.65","date: 2014-10-22<br />value:   388.58","date: 2014-10-23<br />value:   385.05","date: 2014-10-24<br />value:   364.35","date: 2014-10-25<br />value:   359.86","date: 2014-10-26<br />value:   359.22","date: 2014-10-27<br />value:   358.63","date: 2014-10-28<br />value:   359.98","date: 2014-10-29<br />value:   357.83","date: 2014-10-30<br />value:   350.91","date: 2014-10-31<br />value:   348.05","date: 2014-11-01<br />value:   340.53","date: 2014-11-02<br />value:   329.05","date: 2014-11-03<br />value:   334.00","date: 2014-11-04<br />value:   331.77","date: 2014-11-05<br />value:   343.37","date: 2014-11-06<br />value:   352.97","date: 2014-11-07<br />value:   352.73","date: 2014-11-08<br />value:   347.03","date: 2014-11-09<br />value:   363.63","date: 2014-11-10<br />value:   374.82","date: 2014-11-11<br />value:   371.31","date: 2014-11-12<br />value:   429.72","date: 2014-11-13<br />value:   457.09","date: 2014-11-14<br />value:   419.25","date: 2014-11-15<br />value:   405.53","date: 2014-11-16<br />value:   390.80","date: 2014-11-17<br />value:   410.20","date: 2014-11-18<br />value:   392.40","date: 2014-11-19<br />value:   386.48","date: 2014-11-20<br />value:   382.02","date: 2014-11-21<br />value:   357.88","date: 2014-11-22<br />value:   364.84","date: 2014-11-23<br />value:   370.85","date: 2014-11-24<br />value:   387.21","date: 2014-11-25<br />value:   394.70","date: 2014-11-26<br />value:   377.70","date: 2014-11-27<br />value:   373.99","date: 2014-11-28<br />value:   382.84","date: 2014-11-29<br />value:   387.60","date: 2014-11-30<br />value:   382.53","date: 2014-12-01<br />value:   383.66","date: 2014-12-02<br />value:   384.04","date: 2014-12-03<br />value:   383.03","date: 2014-12-04<br />value:   378.65","date: 2014-12-05<br />value:   379.19","date: 2014-12-06<br />value:   378.45","date: 2014-12-07<br />value:   376.29","date: 2014-12-08<br />value:   376.03","date: 2014-12-09<br />value:   363.07","date: 2014-12-10<br />value:   352.38","date: 2014-12-11<br />value:   361.36","date: 2014-12-12<br />value:   352.98","date: 2014-12-13<br />value:   352.38","date: 2014-12-14<br />value:   353.32","date: 2014-12-15<br />value:   351.81","date: 2014-12-16<br />value:   345.86","date: 2014-12-17<br />value:   333.95","date: 2014-12-18<br />value:   323.71","date: 2014-12-19<br />value:   318.53","date: 2014-12-20<br />value:   330.32","date: 2014-12-21<br />value:   329.63","date: 2014-12-22<br />value:   334.12","date: 2014-12-23<br />value:   336.29","date: 2014-12-24<br />value:   334.74","date: 2014-12-25<br />value:   322.67","date: 2014-12-26<br />value:   331.42","date: 2014-12-27<br />value:   328.91","date: 2014-12-28<br />value:   320.03","date: 2014-12-29<br />value:   320.27","date: 2014-12-30<br />value:   314.81","date: 2014-12-31<br />value:   320.19","date: 2015-01-01<br />value:   320.44","date: 2015-01-02<br />value:   315.84","date: 2015-01-03<br />value:   315.15","date: 2015-01-04<br />value:   287.23","date: 2015-01-05<br />value:   278.34","date: 2015-01-06<br />value:   287.55","date: 2015-01-07<br />value:   298.75","date: 2015-01-08<br />value:   294.13","date: 2015-01-09<br />value:   291.11","date: 2015-01-10<br />value:   288.13","date: 2015-01-11<br />value:   279.64","date: 2015-01-12<br />value:   272.20","date: 2015-01-13<br />value:   268.28","date: 2015-01-14<br />value:   223.89","date: 2015-01-15<br />value:   229.07","date: 2015-01-16<br />value:   221.59","date: 2015-01-17<br />value:   211.73","date: 2015-01-18<br />value:   218.69","date: 2015-01-19<br />value:   216.73","date: 2015-01-20<br />value:   215.24","date: 2015-01-21<br />value:   227.79","date: 2015-01-22<br />value:   237.02","date: 2015-01-23<br />value:   234.84","date: 2015-01-24<br />value:   248.21","date: 2015-01-25<br />value:   255.07","date: 2015-01-26<br />value:   309.38","date: 2015-01-27<br />value:   275.48","date: 2015-01-28<br />value:   266.54","date: 2015-01-29<br />value:   238.71","date: 2015-01-30<br />value:   242.85","date: 2015-01-31<br />value:   233.50","date: 2015-02-01<br />value:   231.57","date: 2015-02-02<br />value:   242.18","date: 2015-02-03<br />value:   245.96","date: 2015-02-04<br />value:   230.06","date: 2015-02-05<br />value:   239.41","date: 2015-02-06<br />value:   230.51","date: 2015-02-07<br />value:   230.30","date: 2015-02-08<br />value:   229.44","date: 2015-02-09<br />value:   223.98","date: 2015-02-10<br />value:   221.81","date: 2015-02-11<br />value:   223.41","date: 2015-02-12<br />value:   222.20","date: 2015-02-13<br />value:   240.26","date: 2015-02-14<br />value:   259.81","date: 2015-02-15<br />value:   265.61","date: 2015-02-16<br />value:   239.52","date: 2015-02-17<br />value:   245.78","date: 2015-02-18<br />value:   244.25","date: 2015-02-19<br />value:   242.67","date: 2015-02-20<br />value:   247.10","date: 2015-02-21<br />value:   255.32","date: 2015-02-22<br />value:   246.39","date: 2015-02-23<br />value:   240.11","date: 2015-02-24<br />value:   239.90","date: 2015-02-25<br />value:   239.34","date: 2015-02-26<br />value:   237.71","date: 2015-02-27<br />value:   256.65","date: 2015-02-28<br />value:   254.69","date: 2015-03-01<br />value:   261.66","date: 2015-03-02<br />value:   276.30","date: 2015-03-03<br />value:   285.80","date: 2015-03-04<br />value:   284.23","date: 2015-03-05<br />value:   281.67","date: 2015-03-06<br />value:   277.61","date: 2015-03-07<br />value:   277.85","date: 2015-03-08<br />value:   277.86","date: 2015-03-09<br />value:   292.70","date: 2015-03-10<br />value:   300.04","date: 2015-03-11<br />value:   297.39","date: 2015-03-12<br />value:   297.09","date: 2015-03-13<br />value:   294.50","date: 2015-03-14<br />value:   286.34","date: 2015-03-15<br />value:   286.53","date: 2015-03-16<br />value:   294.11","date: 2015-03-17<br />value:   292.37","date: 2015-03-18<br />value:   285.34","date: 2015-03-19<br />value:   264.24","date: 2015-03-20<br />value:   264.85","date: 2015-03-21<br />value:   262.20","date: 2015-03-22<br />value:   269.75","date: 2015-03-23<br />value:   277.30","date: 2015-03-24<br />value:   267.00","date: 2015-03-25<br />value:   249.19","date: 2015-03-26<br />value:   254.35","date: 2015-03-27<br />value:   256.81","date: 2015-03-28<br />value:   254.21","date: 2015-03-29<br />value:   253.14","date: 2015-03-30<br />value:   249.24","date: 2015-03-31<br />value:   248.73","date: 2015-04-01<br />value:   247.54","date: 2015-04-02<br />value:   254.46","date: 2015-04-03<br />value:   256.04","date: 2015-04-04<br />value:   255.26","date: 2015-04-05<br />value:   260.68","date: 2015-04-06<br />value:   261.80","date: 2015-04-07<br />value:   255.81","date: 2015-04-08<br />value:   253.85","date: 2015-04-09<br />value:   246.12","date: 2015-04-10<br />value:   243.69","date: 2015-04-11<br />value:   239.54","date: 2015-04-12<br />value:   237.73","date: 2015-04-13<br />value:   236.94","date: 2015-04-14<br />value:   224.98","date: 2015-04-15<br />value:   223.83","date: 2015-04-16<br />value:   229.67","date: 2015-04-17<br />value:   228.91","date: 2015-04-18<br />value:   224.32","date: 2015-04-19<br />value:   226.35","date: 2015-04-20<br />value:   226.35","date: 2015-04-21<br />value:   235.27","date: 2015-04-22<br />value:   237.91","date: 2015-04-23<br />value:   236.47","date: 2015-04-24<br />value:   236.31","date: 2015-04-25<br />value:   232.56","date: 2015-04-26<br />value:   226.94","date: 2015-04-27<br />value:   233.31","date: 2015-04-28<br />value:   229.50","date: 2015-04-29<br />value:   227.04","date: 2015-04-30<br />value:   239.56","date: 2015-05-01<br />value:   238.97","date: 2015-05-02<br />value:   235.73","date: 2015-05-03<br />value:   243.24","date: 2015-05-04<br />value:   242.64","date: 2015-05-05<br />value:   239.20","date: 2015-05-06<br />value:   236.45","date: 2015-05-07<br />value:   239.10","date: 2015-05-08<br />value:   246.28","date: 2015-05-09<br />value:   247.80","date: 2015-05-10<br />value:   244.07","date: 2015-05-11<br />value:   244.27","date: 2015-05-12<br />value:   242.88","date: 2015-05-13<br />value:   243.70","date: 2015-05-14<br />value:   237.80","date: 2015-05-15<br />value:   238.75","date: 2015-05-16<br />value:   237.70","date: 2015-05-17<br />value:   238.03","date: 2015-05-18<br />value:   237.21","date: 2015-05-19<br />value:   234.15","date: 2015-05-20<br />value:   234.68","date: 2015-05-21<br />value:   236.24","date: 2015-05-22<br />value:   240.97","date: 2015-05-23<br />value:   241.03","date: 2015-05-24<br />value:   241.98","date: 2015-05-25<br />value:   241.02","date: 2015-05-26<br />value:   238.24","date: 2015-05-27<br />value:   238.64","date: 2015-05-28<br />value:   237.82","date: 2015-05-29<br />value:   237.52","date: 2015-05-30<br />value:   237.09","date: 2015-05-31<br />value:   233.25","date: 2015-06-01<br />value:   231.71","date: 2015-06-02<br />value:   226.42","date: 2015-06-03<br />value:   227.40","date: 2015-06-04<br />value:   226.58","date: 2015-06-05<br />value:   225.97","date: 2015-06-06<br />value:   225.72","date: 2015-06-07<br />value:   226.19","date: 2015-06-08<br />value:   229.46","date: 2015-06-09<br />value:   230.95","date: 2015-06-10<br />value:   229.78","date: 2015-06-11<br />value:   230.29","date: 2015-06-12<br />value:   231.06","date: 2015-06-13<br />value:   232.65","date: 2015-06-14<br />value:   234.86","date: 2015-06-15<br />value:   237.84","date: 2015-06-16<br />value:   251.74","date: 2015-06-17<br />value:   256.85","date: 2015-06-18<br />value:   252.11","date: 2015-06-19<br />value:   250.98","date: 2015-06-20<br />value:   245.83","date: 2015-06-21<br />value:   245.22","date: 2015-06-22<br />value:   247.92","date: 2015-06-23<br />value:   247.30","date: 2015-06-24<br />value:   244.34","date: 2015-06-25<br />value:   243.33","date: 2015-06-26<br />value:   243.75","date: 2015-06-27<br />value:   251.34","date: 2015-06-28<br />value:   251.17","date: 2015-06-29<br />value:   257.17","date: 2015-06-30<br />value:   267.87","date: 2015-07-01<br />value:   265.17","date: 2015-07-02<br />value:   261.63","date: 2015-07-03<br />value:   257.08","date: 2015-07-04<br />value:   261.46","date: 2015-07-05<br />value:   274.51","date: 2015-07-06<br />value:   277.42","date: 2015-07-07<br />value:   271.34","date: 2015-07-08<br />value:   272.97","date: 2015-07-09<br />value:   272.33","date: 2015-07-10<br />value:   294.59","date: 2015-07-11<br />value:   298.51","date: 2015-07-12<br />value:   314.39","date: 2015-07-13<br />value:   310.95","date: 2015-07-14<br />value:   296.15","date: 2015-07-15<br />value:   293.25","date: 2015-07-16<br />value:   291.18","date: 2015-07-17<br />value:   280.28","date: 2015-07-18<br />value:   282.53","date: 2015-07-19<br />value:   275.67","date: 2015-07-20<br />value:   278.98","date: 2015-07-21<br />value:   280.55","date: 2015-07-22<br />value:   277.67","date: 2015-07-23<br />value:   278.11","date: 2015-07-24<br />value:   289.25","date: 2015-07-25<br />value:   290.73","date: 2015-07-26<br />value:   293.05","date: 2015-07-27<br />value:   297.77","date: 2015-07-28<br />value:   296.65","date: 2015-07-29<br />value:   294.54","date: 2015-07-30<br />value:   290.13","date: 2015-07-31<br />value:   288.96","date: 2015-08-01<br />value:   284.93","date: 2015-08-02<br />value:   283.03","date: 2015-08-03<br />value:   285.47","date: 2015-08-04<br />value:   285.71","date: 2015-08-05<br />value:   285.50","date: 2015-08-06<br />value:   281.91","date: 2015-08-07<br />value:   280.39","date: 2015-08-08<br />value:   279.93","date: 2015-08-09<br />value:   267.00","date: 2015-08-10<br />value:   267.03","date: 2015-08-11<br />value:   270.39","date: 2015-08-12<br />value:   270.67","date: 2015-08-13<br />value:   266.23","date: 2015-08-14<br />value:   267.47","date: 2015-08-15<br />value:   266.67","date: 2015-08-16<br />value:   262.44","date: 2015-08-17<br />value:   260.50","date: 2015-08-18<br />value:   257.99","date: 2015-08-19<br />value:   237.41","date: 2015-08-20<br />value:   237.37","date: 2015-08-21<br />value:   236.43","date: 2015-08-22<br />value:   234.96","date: 2015-08-23<br />value:   232.71","date: 2015-08-24<br />value:   228.14","date: 2015-08-25<br />value:   226.32","date: 2015-08-26<br />value:   231.18","date: 2015-08-27<br />value:   228.64","date: 2015-08-28<br />value:   235.22","date: 2015-08-29<br />value:   233.22","date: 2015-08-30<br />value:   232.07","date: 2015-08-31<br />value:   231.96","date: 2015-09-01<br />value:   231.22","date: 2015-09-02<br />value:   230.58","date: 2015-09-03<br />value:   229.60","date: 2015-09-04<br />value:   230.90","date: 2015-09-05<br />value:   236.14","date: 2015-09-06<br />value:   242.91","date: 2015-09-07<br />value:   242.11","date: 2015-09-08<br />value:   245.78","date: 2015-09-09<br />value:   244.42","date: 2015-09-10<br />value:   241.29","date: 2015-09-11<br />value:   241.17","date: 2015-09-12<br />value:   240.12","date: 2015-09-13<br />value:   235.94","date: 2015-09-14<br />value:   232.44","date: 2015-09-15<br />value:   259.18","date: 2015-09-16<br />value:   231.22","date: 2015-09-17<br />value:   230.28","date: 2015-09-18<br />value:   234.35","date: 2015-09-19<br />value:   233.21","date: 2015-09-20<br />value:   232.37","date: 2015-09-21<br />value:   231.22","date: 2015-09-22<br />value:   232.39","date: 2015-09-23<br />value:   231.84","date: 2015-09-24<br />value:   235.65","date: 2015-09-25<br />value:   237.43","date: 2015-09-26<br />value:   235.40","date: 2015-09-27<br />value:   234.53","date: 2015-09-28<br />value:   239.34","date: 2015-09-29<br />value:   239.80","date: 2015-09-30<br />value:   237.73","date: 2015-10-01<br />value:   238.44","date: 2015-10-02<br />value:   238.54","date: 2015-10-03<br />value:   239.31","date: 2015-10-04<br />value:   238.97","date: 2015-10-05<br />value:   240.38","date: 2015-10-06<br />value:   246.94","date: 2015-10-07<br />value:   246.68","date: 2015-10-08<br />value:   244.25","date: 2015-10-09<br />value:   244.23","date: 2015-10-10<br />value:   245.32","date: 2015-10-11<br />value:   247.24","date: 2015-10-12<br />value:   247.45","date: 2015-10-13<br />value:   250.24","date: 2015-10-14<br />value:   254.28","date: 2015-10-15<br />value:   255.96","date: 2015-10-16<br />value:   266.13","date: 2015-10-17<br />value:   273.58","date: 2015-10-18<br />value:   271.67","date: 2015-10-19<br />value:   264.82","date: 2015-10-20<br />value:   270.83","date: 2015-10-21<br />value:   270.77","date: 2015-10-22<br />value:   276.51","date: 2015-10-23<br />value:   278.68","date: 2015-10-24<br />value:   281.71","date: 2015-10-25<br />value:   294.06","date: 2015-10-26<br />value:   285.30","date: 2015-10-27<br />value:   296.21","date: 2015-10-28<br />value:   306.33","date: 2015-10-29<br />value:   318.17","date: 2015-10-30<br />value:   334.17","date: 2015-10-31<br />value:   332.78","date: 2015-11-01<br />value:   327.47","date: 2015-11-02<br />value:   365.36","date: 2015-11-03<br />value:   417.90","date: 2015-11-04<br />value:   495.56","date: 2015-11-05<br />value:   447.56","date: 2015-11-06<br />value:   395.84","date: 2015-11-07<br />value:   390.59","date: 2015-11-08<br />value:   389.89","date: 2015-11-09<br />value:   385.28","date: 2015-11-10<br />value:   381.39","date: 2015-11-11<br />value:   340.58","date: 2015-11-12<br />value:   345.08","date: 2015-11-13<br />value:   340.91","date: 2015-11-14<br />value:   338.18","date: 2015-11-15<br />value:   334.66","date: 2015-11-16<br />value:   331.63","date: 2015-11-17<br />value:   338.35","date: 2015-11-18<br />value:   336.53","date: 2015-11-19<br />value:   335.33","date: 2015-11-20<br />value:   326.47","date: 2015-11-21<br />value:   328.16","date: 2015-11-22<br />value:   327.01","date: 2015-11-23<br />value:   325.12","date: 2015-11-24<br />value:   323.06","date: 2015-11-25<br />value:   329.13","date: 2015-11-26<br />value:   366.76","date: 2015-11-27<br />value:   363.59","date: 2015-11-28<br />value:   359.54","date: 2015-11-29<br />value:   371.94","date: 2015-11-30<br />value:   382.36","date: 2015-12-01<br />value:   378.93","date: 2015-12-02<br />value:   362.23","date: 2015-12-03<br />value:   370.27","date: 2015-12-04<br />value:   363.52","date: 2015-12-05<br />value:   389.79","date: 2015-12-06<br />value:   402.81","date: 2015-12-07<br />value:   399.97","date: 2015-12-08<br />value:   415.56","date: 2015-12-09<br />value:   423.12","date: 2015-12-10<br />value:   419.51","date: 2015-12-11<br />value:   451.94","date: 2015-12-12<br />value:   469.10","date: 2015-12-13<br />value:   441.68","date: 2015-12-14<br />value:   447.14","date: 2015-12-15<br />value:   465.32","date: 2015-12-16<br />value:   465.21","date: 2015-12-17<br />value:   457.86","date: 2015-12-18<br />value:   465.18","date: 2015-12-19<br />value:   465.58","date: 2015-12-20<br />value:   462.64","date: 2015-12-21<br />value:   444.73","date: 2015-12-22<br />value:   443.69","date: 2015-12-23<br />value:   444.53","date: 2015-12-24<br />value:   458.46","date: 2015-12-25<br />value:   458.31","date: 2015-12-26<br />value:   457.49","date: 2015-12-27<br />value:   424.01","date: 2015-12-28<br />value:   429.77","date: 2015-12-29<br />value:   432.98","date: 2015-12-30<br />value:   434.39","date: 2015-12-31<br />value:   432.92","date: 2016-01-01<br />value:   436.25","date: 2016-01-02<br />value:   436.06","date: 2016-01-03<br />value:   433.74","date: 2016-01-04<br />value:   434.52","date: 2016-01-05<br />value:   434.18","date: 2016-01-06<br />value:   431.86","date: 2016-01-07<br />value:   458.77","date: 2016-01-08<br />value:   462.93","date: 2016-01-09<br />value:   454.64","date: 2016-01-10<br />value:   448.31","date: 2016-01-11<br />value:   450.66","date: 2016-01-12<br />value:   448.18","date: 2016-01-13<br />value:   435.19","date: 2016-01-14<br />value:   433.32","date: 2016-01-15<br />value:   430.25","date: 2016-01-16<br />value:   390.56","date: 2016-01-17<br />value:   390.96","date: 2016-01-18<br />value:   388.10","date: 2016-01-19<br />value:   387.73","date: 2016-01-20<br />value:   425.27","date: 2016-01-21<br />value:   422.88","date: 2016-01-22<br />value:   410.41","date: 2016-01-23<br />value:   394.54","date: 2016-01-24<br />value:   405.49","date: 2016-01-25<br />value:   402.32","date: 2016-01-26<br />value:   397.77","date: 2016-01-27<br />value:   396.84","date: 2016-01-28<br />value:   395.50","date: 2016-01-29<br />value:   384.38","date: 2016-01-30<br />value:   380.92","date: 2016-01-31<br />value:   380.35","date: 2016-02-01<br />value:   378.07","date: 2016-02-02<br />value:   375.88","date: 2016-02-03<br />value:   374.95","date: 2016-02-04<br />value:   391.61","date: 2016-02-05<br />value:   391.09","date: 2016-02-06<br />value:   386.63","date: 2016-02-07<br />value:   380.87","date: 2016-02-08<br />value:   379.88","date: 2016-02-09<br />value:   377.25","date: 2016-02-10<br />value:   385.48","date: 2016-02-11<br />value:   383.13","date: 2016-02-12<br />value:   384.95","date: 2016-02-13<br />value:   391.86","date: 2016-02-14<br />value:   407.23","date: 2016-02-15<br />value:   410.38","date: 2016-02-16<br />value:   408.94","date: 2016-02-17<br />value:   421.17","date: 2016-02-18<br />value:   426.00","date: 2016-02-19<br />value:   423.10","date: 2016-02-20<br />value:   441.98","date: 2016-02-21<br />value:   448.05","date: 2016-02-22<br />value:   439.05","date: 2016-02-23<br />value:   439.86","date: 2016-02-24<br />value:   425.55","date: 2016-02-25<br />value:   427.72","date: 2016-02-26<br />value:   432.15","date: 2016-02-27<br />value:   434.23","date: 2016-02-28<br />value:   435.68","date: 2016-02-29<br />value:   441.51","date: 2016-03-01<br />value:   439.65","date: 2016-03-02<br />value:   435.92","date: 2016-03-03<br />value:   425.37","date: 2016-03-04<br />value:   425.18","date: 2016-03-05<br />value:   411.26","date: 2016-03-06<br />value:   411.91","date: 2016-03-07<br />value:   415.92","date: 2016-03-08<br />value:   416.24","date: 2016-03-09<br />value:   416.03","date: 2016-03-10<br />value:   417.51","date: 2016-03-11<br />value:   423.93","date: 2016-03-12<br />value:   421.80","date: 2016-03-13<br />value:   416.60","date: 2016-03-14<br />value:   416.68","date: 2016-03-15<br />value:   418.13","date: 2016-03-16<br />value:   417.69","date: 2016-03-17<br />value:   421.00","date: 2016-03-18<br />value:   420.55","date: 2016-03-19<br />value:   410.98","date: 2016-03-20<br />value:   414.63","date: 2016-03-21<br />value:   413.42","date: 2016-03-22<br />value:   418.38","date: 2016-03-23<br />value:   419.27","date: 2016-03-24<br />value:   418.68","date: 2016-03-25<br />value:   418.08","date: 2016-03-26<br />value:   418.99","date: 2016-03-27<br />value:   428.80","date: 2016-03-28<br />value:   426.86","date: 2016-03-29<br />value:   426.20","date: 2016-03-30<br />value:   416.83","date: 2016-03-31<br />value:   418.37","date: 2016-04-01<br />value:   418.17","date: 2016-04-02<br />value:   422.08","date: 2016-04-03<br />value:   421.58","date: 2016-04-04<br />value:   422.34","date: 2016-04-05<br />value:   424.26","date: 2016-04-06<br />value:   424.53","date: 2016-04-07<br />value:   423.66","date: 2016-04-08<br />value:   425.36","date: 2016-04-09<br />value:   420.89","date: 2016-04-10<br />value:   422.44","date: 2016-04-11<br />value:   422.74","date: 2016-04-12<br />value:   427.28","date: 2016-04-13<br />value:   426.66","date: 2016-04-14<br />value:   425.37","date: 2016-04-15<br />value:   429.93","date: 2016-04-16<br />value:   432.63","date: 2016-04-17<br />value:   431.37","date: 2016-04-18<br />value:   429.27","date: 2016-04-19<br />value:   436.02","date: 2016-04-20<br />value:   443.05","date: 2016-04-21<br />value:   450.55","date: 2016-04-22<br />value:   449.81","date: 2016-04-23<br />value:   450.28","date: 2016-04-24<br />value:   460.15","date: 2016-04-25<br />value:   466.62","date: 2016-04-26<br />value:   467.96","date: 2016-04-27<br />value:   467.08","date: 2016-04-28<br />value:   449.55","date: 2016-04-29<br />value:   455.38","date: 2016-04-30<br />value:   455.59","date: 2016-05-01<br />value:   452.48","date: 2016-05-02<br />value:   452.44","date: 2016-05-03<br />value:   451.10","date: 2016-05-04<br />value:   450.38","date: 2016-05-05<br />value:   448.51","date: 2016-05-06<br />value:   461.38","date: 2016-05-07<br />value:   460.68","date: 2016-05-08<br />value:   459.42","date: 2016-05-09<br />value:   462.48","date: 2016-05-10<br />value:   461.93","date: 2016-05-11<br />value:   454.58","date: 2016-05-12<br />value:   454.95","date: 2016-05-13<br />value:   457.06","date: 2016-05-14<br />value:   456.84","date: 2016-05-15<br />value:   458.69","date: 2016-05-16<br />value:   458.20","date: 2016-05-17<br />value:   455.07","date: 2016-05-18<br />value:   456.00","date: 2016-05-19<br />value:   454.63","date: 2016-05-20<br />value:   444.05","date: 2016-05-21<br />value:   443.78","date: 2016-05-22<br />value:   443.43","date: 2016-05-23<br />value:   444.35","date: 2016-05-24<br />value:   447.10","date: 2016-05-25<br />value:   450.30","date: 2016-05-26<br />value:   453.64","date: 2016-05-27<br />value:   478.15","date: 2016-05-28<br />value:   533.47","date: 2016-05-29<br />value:   553.96","date: 2016-05-30<br />value:   544.35","date: 2016-05-31<br />value:   546.62","date: 2016-06-01<br />value:   543.08","date: 2016-06-02<br />value:   540.35","date: 2016-06-03<br />value:   574.64","date: 2016-06-04<br />value:   590.13","date: 2016-06-05<br />value:   582.81","date: 2016-06-06<br />value:   586.47","date: 2016-06-07<br />value:   590.26","date: 2016-06-08<br />value:   582.84","date: 2016-06-09<br />value:   582.20","date: 2016-06-10<br />value:   579.13","date: 2016-06-11<br />value:   607.12","date: 2016-06-12<br />value:   684.84","date: 2016-06-13<br />value:   716.00","date: 2016-06-14<br />value:   704.50","date: 2016-06-15<br />value:   696.30","date: 2016-06-16<br />value:   773.72","date: 2016-06-17<br />value:   775.36","date: 2016-06-18<br />value:   777.99","date: 2016-06-19<br />value:   766.62","date: 2016-06-20<br />value:   764.08","date: 2016-06-21<br />value:   735.88","date: 2016-06-22<br />value:   678.67","date: 2016-06-23<br />value:   629.33","date: 2016-06-24<br />value:   681.73","date: 2016-06-25<br />value:   691.73","date: 2016-06-26<br />value:   665.98","date: 2016-06-27<br />value:   655.27","date: 2016-06-28<br />value:   659.25","date: 2016-06-29<br />value:   644.68","date: 2016-06-30<br />value:   675.40","date: 2016-07-01<br />value:   686.15","date: 2016-07-02<br />value:   703.70","date: 2016-07-03<br />value:   704.97","date: 2016-07-04<br />value:   683.66","date: 2016-07-05<br />value:   683.49","date: 2016-07-06<br />value:   681.90","date: 2016-07-07<br />value:   682.43","date: 2016-07-08<br />value:   666.71","date: 2016-07-09<br />value:   666.38","date: 2016-07-10<br />value:   652.29","date: 2016-07-11<br />value:   659.63","date: 2016-07-12<br />value:   675.26","date: 2016-07-13<br />value:   668.70","date: 2016-07-14<br />value:   662.90","date: 2016-07-15<br />value:   667.08","date: 2016-07-16<br />value:   666.46","date: 2016-07-17<br />value:   682.37","date: 2016-07-18<br />value:   681.55","date: 2016-07-19<br />value:   673.28","date: 2016-07-20<br />value:   672.93","date: 2016-07-21<br />value:   666.22","date: 2016-07-22<br />value:   666.58","date: 2016-07-23<br />value:   656.37","date: 2016-07-24<br />value:   663.11","date: 2016-07-25<br />value:   661.83","date: 2016-07-26<br />value:   656.23","date: 2016-07-27<br />value:   657.46","date: 2016-07-28<br />value:   657.60","date: 2016-07-29<br />value:   657.80","date: 2016-07-30<br />value:   658.22","date: 2016-07-31<br />value:   655.28","date: 2016-08-01<br />value:   626.12","date: 2016-08-02<br />value:   612.85","date: 2016-08-03<br />value:   573.36","date: 2016-08-04<br />value:   579.50","date: 2016-08-05<br />value:   578.28","date: 2016-08-06<br />value:   588.40","date: 2016-08-07<br />value:   597.51","date: 2016-08-08<br />value:   592.99","date: 2016-08-09<br />value:   591.09","date: 2016-08-10<br />value:   599.98","date: 2016-08-11<br />value:   597.54","date: 2016-08-12<br />value:   589.91","date: 2016-08-13<br />value:   589.77","date: 2016-08-14<br />value:   585.67","date: 2016-08-15<br />value:   573.58","date: 2016-08-16<br />value:   581.74","date: 2016-08-17<br />value:   580.89","date: 2016-08-18<br />value:   577.79","date: 2016-08-19<br />value:   578.24","date: 2016-08-20<br />value:   582.82","date: 2016-08-21<br />value:   584.16","date: 2016-08-22<br />value:   588.45","date: 2016-08-23<br />value:   589.47","date: 2016-08-24<br />value:   583.59","date: 2016-08-25<br />value:   580.45","date: 2016-08-26<br />value:   580.62","date: 2016-08-27<br />value:   579.85","date: 2016-08-28<br />value:   574.04","date: 2016-08-29<br />value:   576.28","date: 2016-08-30<br />value:   578.36","date: 2016-08-31<br />value:   577.86","date: 2016-09-01<br />value:   576.31","date: 2016-09-02<br />value:   575.64","date: 2016-09-03<br />value:   599.50","date: 2016-09-04<br />value:   611.84","date: 2016-09-05<br />value:   609.05","date: 2016-09-06<br />value:   610.83","date: 2016-09-07<br />value:   614.54","date: 2016-09-08<br />value:   628.77","date: 2016-09-09<br />value:   626.83","date: 2016-09-10<br />value:   625.10","date: 2016-09-11<br />value:   628.82","date: 2016-09-12<br />value:   608.46","date: 2016-09-13<br />value:   611.19","date: 2016-09-14<br />value:   611.95","date: 2016-09-15<br />value:   611.09","date: 2016-09-16<br />value:   609.26","date: 2016-09-17<br />value:   607.86","date: 2016-09-18<br />value:   610.16","date: 2016-09-19<br />value:   610.93","date: 2016-09-20<br />value:   609.52","date: 2016-09-21<br />value:   603.59","date: 2016-09-22<br />value:   598.49","date: 2016-09-23<br />value:   603.21","date: 2016-09-24<br />value:   604.58","date: 2016-09-25<br />value:   603.38","date: 2016-09-26<br />value:   608.14","date: 2016-09-27<br />value:   608.25","date: 2016-09-28<br />value:   606.59","date: 2016-09-29<br />value:   606.82","date: 2016-09-30<br />value:   609.74","date: 2016-10-01<br />value:   615.24","date: 2016-10-02<br />value:   614.00","date: 2016-10-03<br />value:   612.57","date: 2016-10-04<br />value:   612.05","date: 2016-10-05<br />value:   613.81","date: 2016-10-06<br />value:   613.82","date: 2016-10-07<br />value:   617.91","date: 2016-10-08<br />value:   619.85","date: 2016-10-09<br />value:   619.20","date: 2016-10-10<br />value:   621.32","date: 2016-10-11<br />value:   642.08","date: 2016-10-12<br />value:   641.34","date: 2016-10-13<br />value:   638.83","date: 2016-10-14<br />value:   641.28","date: 2016-10-15<br />value:   642.10","date: 2016-10-16<br />value:   642.90","date: 2016-10-17<br />value:   642.33","date: 2016-10-18<br />value:   640.74","date: 2016-10-19<br />value:   638.87","date: 2016-10-20<br />value:   631.92","date: 2016-10-21<br />value:   634.09","date: 2016-10-22<br />value:   658.20","date: 2016-10-23<br />value:   661.13","date: 2016-10-24<br />value:   657.25","date: 2016-10-25<br />value:   664.42","date: 2016-10-26<br />value:   679.73","date: 2016-10-27<br />value:   688.59","date: 2016-10-28<br />value:   690.44","date: 2016-10-29<br />value:   720.40","date: 2016-10-30<br />value:   714.12","date: 2016-10-31<br />value:   709.29","date: 2016-11-01<br />value:   736.45","date: 2016-11-02<br />value:   740.83","date: 2016-11-03<br />value:   745.77","date: 2016-11-04<br />value:   706.93","date: 2016-11-05<br />value:   707.51","date: 2016-11-06<br />value:   714.26","date: 2016-11-07<br />value:   710.74","date: 2016-11-08<br />value:   712.99","date: 2016-11-09<br />value:   740.05","date: 2016-11-10<br />value:   723.02","date: 2016-11-11<br />value:   718.32","date: 2016-11-12<br />value:   717.15","date: 2016-11-13<br />value:   705.26","date: 2016-11-14<br />value:   706.28","date: 2016-11-15<br />value:   715.72","date: 2016-11-16<br />value:   747.62","date: 2016-11-17<br />value:   755.64","date: 2016-11-18<br />value:   752.88","date: 2016-11-19<br />value:   756.24","date: 2016-11-20<br />value:   755.48","date: 2016-11-21<br />value:   741.72","date: 2016-11-22<br />value:   753.87","date: 2016-11-23<br />value:   752.25","date: 2016-11-24<br />value:   746.83","date: 2016-11-25<br />value:   741.65","date: 2016-11-26<br />value:   742.21","date: 2016-11-27<br />value:   739.02","date: 2016-11-28<br />value:   738.01","date: 2016-11-29<br />value:   737.47","date: 2016-11-30<br />value:   747.93","date: 2016-12-01<br />value:   758.27","date: 2016-12-02<br />value:   781.30","date: 2016-12-03<br />value:   778.25","date: 2016-12-04<br />value:   773.87","date: 2016-12-05<br />value:   773.47","date: 2016-12-06<br />value:   765.62","date: 2016-12-07<br />value:   771.54","date: 2016-12-08<br />value:   774.70","date: 2016-12-09<br />value:   774.53","date: 2016-12-10<br />value:   777.09","date: 2016-12-11<br />value:   774.80","date: 2016-12-12<br />value:   781.92","date: 2016-12-13<br />value:   788.46","date: 2016-12-14<br />value:   782.03","date: 2016-12-15<br />value:   781.43","date: 2016-12-16<br />value:   785.03","date: 2016-12-17<br />value:   792.51","date: 2016-12-18<br />value:   794.74","date: 2016-12-19<br />value:   793.61","date: 2016-12-20<br />value:   801.34","date: 2016-12-21<br />value:   834.28","date: 2016-12-22<br />value:   875.78","date: 2016-12-23<br />value:   925.12","date: 2016-12-24<br />value:   923.48","date: 2016-12-25<br />value:   899.65","date: 2016-12-26<br />value:   913.18","date: 2016-12-27<br />value:   940.05","date: 2016-12-28<br />value:   975.92","date: 2016-12-29<br />value:   979.40","date: 2016-12-30<br />value:   972.53","date: 2016-12-31<br />value:   963.74","date: 2017-01-01<br />value:  1003.08","date: 2017-01-02<br />value:  1031.39","date: 2017-01-03<br />value:  1044.08","date: 2017-01-04<br />value:  1159.42","date: 2017-01-05<br />value:  1191.10","date: 2017-01-06<br />value:  1046.81","date: 2017-01-07<br />value:   908.59","date: 2017-01-08<br />value:   942.72","date: 2017-01-09<br />value:   913.69","date: 2017-01-10<br />value:   914.87","date: 2017-01-11<br />value:   919.45","date: 2017-01-12<br />value:   826.25","date: 2017-01-13<br />value:   829.00","date: 2017-01-14<br />value:   835.09","date: 2017-01-15<br />value:   823.31","date: 2017-01-16<br />value:   834.53","date: 2017-01-17<br />value:   910.56","date: 2017-01-18<br />value:   917.50","date: 2017-01-19<br />value:   904.61","date: 2017-01-20<br />value:   899.40","date: 2017-01-21<br />value:   927.37","date: 2017-01-22<br />value:   937.52","date: 2017-01-23<br />value:   928.27","date: 2017-01-24<br />value:   924.14","date: 2017-01-25<br />value:   903.25","date: 2017-01-26<br />value:   919.33","date: 2017-01-27<br />value:   923.22","date: 2017-01-28<br />value:   923.91","date: 2017-01-29<br />value:   923.42","date: 2017-01-30<br />value:   923.05","date: 2017-01-31<br />value:   972.02","date: 2017-02-01<br />value:   989.11","date: 2017-02-02<br />value:  1013.52","date: 2017-02-03<br />value:  1033.87","date: 2017-02-04<br />value:  1045.90","date: 2017-02-05<br />value:  1043.63","date: 2017-02-06<br />value:  1044.64","date: 2017-02-07<br />value:  1061.93","date: 2017-02-08<br />value:  1078.97","date: 2017-02-09<br />value:  1088.99","date: 2017-02-10<br />value:   998.90","date: 2017-02-11<br />value:  1009.29","date: 2017-02-12<br />value:  1004.76","date: 2017-02-13<br />value:  1002.10","date: 2017-02-14<br />value:  1011.51","date: 2017-02-15<br />value:  1008.84","date: 2017-02-16<br />value:  1033.37","date: 2017-02-17<br />value:  1053.17","date: 2017-02-18<br />value:  1061.10","date: 2017-02-19<br />value:  1056.81","date: 2017-02-20<br />value:  1080.49","date: 2017-02-21<br />value:  1117.25","date: 2017-02-22<br />value:  1125.39","date: 2017-02-23<br />value:  1176.62","date: 2017-02-24<br />value:  1200.39","date: 2017-02-25<br />value:  1174.85","date: 2017-02-26<br />value:  1167.47","date: 2017-02-27<br />value:  1181.98","date: 2017-02-28<br />value:  1193.25","date: 2017-03-01<br />value:  1222.50","date: 2017-03-02<br />value:  1262.13","date: 2017-03-03<br />value:  1280.31","date: 2017-03-04<br />value:  1279.40","date: 2017-03-05<br />value:  1267.29","date: 2017-03-06<br />value:  1276.00","date: 2017-03-07<br />value:  1275.55","date: 2017-03-08<br />value:  1232.16","date: 2017-03-09<br />value:  1197.46","date: 2017-03-10<br />value:  1270.47","date: 2017-03-11<br />value:  1193.83","date: 2017-03-12<br />value:  1226.98","date: 2017-03-13<br />value:  1237.37","date: 2017-03-14<br />value:  1244.81","date: 2017-03-15<br />value:  1251.61","date: 2017-03-16<br />value:  1257.98","date: 2017-03-17<br />value:  1180.16","date: 2017-03-18<br />value:  1114.07","date: 2017-03-19<br />value:  1069.91","date: 2017-03-20<br />value:  1063.03","date: 2017-03-21<br />value:  1122.43","date: 2017-03-22<br />value:  1120.65","date: 2017-03-23<br />value:  1058.01","date: 2017-03-24<br />value:  1040.47","date: 2017-03-25<br />value:   975.76","date: 2017-03-26<br />value:  1007.96","date: 2017-03-27<br />value:  1046.40","date: 2017-03-28<br />value:  1064.65","date: 2017-03-29<br />value:  1055.13","date: 2017-03-30<br />value:  1049.29","date: 2017-03-31<br />value:  1074.92","date: 2017-04-01<br />value:  1091.72","date: 2017-04-02<br />value:  1107.59","date: 2017-04-03<br />value:  1151.74","date: 2017-04-04<br />value:  1156.44","date: 2017-04-05<br />value:  1135.09","date: 2017-04-06<br />value:  1188.37","date: 2017-04-07<br />value:  1186.58","date: 2017-04-08<br />value:  1184.98","date: 2017-04-09<br />value:  1197.21","date: 2017-04-10<br />value:  1190.34","date: 2017-04-11<br />value:  1208.07","date: 2017-04-12<br />value:  1207.14","date: 2017-04-13<br />value:  1205.89","date: 2017-04-14<br />value:  1190.80","date: 2017-04-15<br />value:  1188.00","date: 2017-04-16<br />value:  1187.22","date: 2017-04-17<br />value:  1194.90","date: 2017-04-18<br />value:  1217.57","date: 2017-04-19<br />value:  1215.51","date: 2017-04-20<br />value:  1240.79","date: 2017-04-21<br />value:  1235.94","date: 2017-04-22<br />value:  1235.56","date: 2017-04-23<br />value:  1232.20","date: 2017-04-24<br />value:  1250.94","date: 2017-04-25<br />value:  1267.58","date: 2017-04-26<br />value:  1294.83","date: 2017-04-27<br />value:  1319.70","date: 2017-04-28<br />value:  1331.28","date: 2017-04-29<br />value:  1327.20","date: 2017-04-30<br />value:  1347.91","date: 2017-05-01<br />value:  1434.32","date: 2017-05-02<br />value:  1473.90","date: 2017-05-03<br />value:  1492.77","date: 2017-05-04<br />value:  1608.91","date: 2017-05-05<br />value:  1618.03","date: 2017-05-06<br />value:  1578.80","date: 2017-05-07<br />value:  1596.72","date: 2017-05-08<br />value:  1723.35","date: 2017-05-09<br />value:  1833.49","date: 2017-05-10<br />value:  1788.44","date: 2017-05-11<br />value:  1873.93","date: 2017-05-12<br />value:  1856.15","date: 2017-05-13<br />value:  1812.99","date: 2017-05-14<br />value:  1831.42","date: 2017-05-15<br />value:  1812.80","date: 2017-05-16<br />value:  1785.94","date: 2017-05-17<br />value:  1864.05","date: 2017-05-18<br />value:  1904.48","date: 2017-05-19<br />value:  2004.52","date: 2017-05-20<br />value:  2084.73","date: 2017-05-21<br />value:  2119.08","date: 2017-05-22<br />value:  2303.90","date: 2017-05-23<br />value:  2320.82","date: 2017-05-24<br />value:  2523.72","date: 2017-05-25<br />value:  2763.71","date: 2017-05-26<br />value:  2573.79","date: 2017-05-27<br />value:  2260.20","date: 2017-05-28<br />value:  2267.34","date: 2017-05-29<br />value:  2307.05","date: 2017-05-30<br />value:  2301.96","date: 2017-05-31<br />value:  2311.08","date: 2017-06-01<br />value:  2448.39","date: 2017-06-02<br />value:  2488.55","date: 2017-06-03<br />value:  2581.91","date: 2017-06-04<br />value:  2585.89","date: 2017-06-05<br />value:  2686.81","date: 2017-06-06<br />value:  2999.91","date: 2017-06-07<br />value:  2869.38","date: 2017-06-08<br />value:  2815.30","date: 2017-06-09<br />value:  2901.71","date: 2017-06-10<br />value:  2950.99","date: 2017-06-11<br />value:  2996.60","date: 2017-06-12<br />value:  2997.26","date: 2017-06-13<br />value:  2789.04","date: 2017-06-14<br />value:  2786.83","date: 2017-06-15<br />value:  2534.71","date: 2017-06-16<br />value:  2539.92","date: 2017-06-17<br />value:  2685.19","date: 2017-06-18<br />value:  2662.10","date: 2017-06-19<br />value:  2662.85","date: 2017-06-20<br />value:  2763.45","date: 2017-06-21<br />value:  2772.01","date: 2017-06-22<br />value:  2723.74","date: 2017-06-23<br />value:  2765.17","date: 2017-06-24<br />value:  2757.94","date: 2017-06-25<br />value:  2682.26","date: 2017-06-26<br />value:  2615.25","date: 2017-06-27<br />value:  2552.45","date: 2017-06-28<br />value:  2603.98","date: 2017-06-29<br />value:  2588.83","date: 2017-06-30<br />value:  2559.25","date: 2017-07-01<br />value:  2515.27","date: 2017-07-02<br />value:  2514.28","date: 2017-07-03<br />value:  2595.00","date: 2017-07-04<br />value:  2631.59","date: 2017-07-05<br />value:  2622.65","date: 2017-07-06<br />value:  2616.72","date: 2017-07-07<br />value:  2916.14","date: 2017-07-08<br />value:  2571.34","date: 2017-07-09<br />value:  2635.49","date: 2017-07-10<br />value:  2537.16","date: 2017-07-11<br />value:  2413.47","date: 2017-07-12<br />value:  2423.71","date: 2017-07-13<br />value:  2425.22","date: 2017-07-14<br />value:  2363.25","date: 2017-07-15<br />value:  2231.14","date: 2017-07-16<br />value:  2058.77","date: 2017-07-17<br />value:  2230.49","date: 2017-07-18<br />value:  2387.61","date: 2017-07-19<br />value:  2397.17","date: 2017-07-20<br />value:  2900.70","date: 2017-07-21<br />value:  2838.41","date: 2017-07-22<br />value:  2862.42","date: 2017-07-23<br />value:  2832.18","date: 2017-07-24<br />value:  2777.26","date: 2017-07-25<br />value:  2768.08","date: 2017-07-26<br />value:  2610.76","date: 2017-07-27<br />value:  2693.32","date: 2017-07-28<br />value:  2897.45","date: 2017-07-29<br />value:  2808.76","date: 2017-07-30<br />value:  2758.53","date: 2017-07-31<br />value:  2889.62","date: 2017-08-01<br />value:  2921.35","date: 2017-08-02<br />value:  2762.53","date: 2017-08-03<br />value:  2813.31","date: 2017-08-04<br />value:  2899.33","date: 2017-08-05<br />value:  3290.01","date: 2017-08-06<br />value:  3293.29","date: 2017-08-07<br />value:  3397.68","date: 2017-08-08<br />value:  3484.85","date: 2017-08-09<br />value:  3422.76","date: 2017-08-10<br />value:  3453.45","date: 2017-08-11<br />value:  3679.72","date: 2017-08-12<br />value:  3949.92","date: 2017-08-13<br />value:  4208.39","date: 2017-08-14<br />value:  4325.13","date: 2017-08-15<br />value:  4455.97","date: 2017-08-16<br />value:  4381.23","date: 2017-08-17<br />value:  4484.70","date: 2017-08-18<br />value:  4370.13","date: 2017-08-19<br />value:  4243.26","date: 2017-08-20<br />value:  4196.29","date: 2017-08-21<br />value:  4109.14","date: 2017-08-22<br />value:  4128.76","date: 2017-08-23<br />value:  4255.78","date: 2017-08-24<br />value:  4376.39","date: 2017-08-25<br />value:  4455.70","date: 2017-08-26<br />value:  4379.28","date: 2017-08-27<br />value:  4416.59","date: 2017-08-28<br />value:  4403.93","date: 2017-08-29<br />value:  4625.68","date: 2017-08-30<br />value:  4626.52","date: 2017-08-31<br />value:  4736.05","date: 2017-09-01<br />value:  4892.01","date: 2017-09-02<br />value:  4975.04","date: 2017-09-03<br />value:  4714.08","date: 2017-09-04<br />value:  4591.63","date: 2017-09-05<br />value:  4427.84","date: 2017-09-06<br />value:  4617.25","date: 2017-09-07<br />value:  4655.04","date: 2017-09-08<br />value:  4661.00","date: 2017-09-09<br />value:  4308.82","date: 2017-09-10<br />value:  4245.44","date: 2017-09-11<br />value:  4261.67","date: 2017-09-12<br />value:  4344.65","date: 2017-09-13<br />value:  4131.98","date: 2017-09-14<br />value:  3920.60","date: 2017-09-15<br />value:  3733.45","date: 2017-09-16<br />value:  3808.84","date: 2017-09-17<br />value:  3664.81","date: 2017-09-18<br />value:  4079.23","date: 2017-09-19<br />value:  4094.07","date: 2017-09-20<br />value:  4031.39","date: 2017-09-21<br />value:  3916.42","date: 2017-09-22<br />value:  3758.27","date: 2017-09-23<br />value:  3819.21","date: 2017-09-24<br />value:  3796.15","date: 2017-09-25<br />value:  3950.25","date: 2017-09-26<br />value:  3969.89","date: 2017-09-27<br />value:  4210.05","date: 2017-09-28<br />value:  4279.31","date: 2017-09-29<br />value:  4214.63","date: 2017-09-30<br />value:  4358.43","date: 2017-10-01<br />value:  4403.74","date: 2017-10-02<br />value:  4470.23","date: 2017-10-03<br />value:  4432.47","date: 2017-10-04<br />value:  4352.31","date: 2017-10-05<br />value:  4362.64","date: 2017-10-06<br />value:  4413.27","date: 2017-10-07<br />value:  4443.88","date: 2017-10-08<br />value:  4624.14","date: 2017-10-09<br />value:  4878.71","date: 2017-10-10<br />value:  4922.17","date: 2017-10-11<br />value:  4873.73","date: 2017-10-12<br />value:  5446.91","date: 2017-10-13<br />value:  5840.30","date: 2017-10-14<br />value:  5837.70","date: 2017-10-15<br />value:  5852.48","date: 2017-10-16<br />value:  5776.23","date: 2017-10-17<br />value:  5800.35","date: 2017-10-18<br />value:  5603.82","date: 2017-10-19<br />value:  5744.35","date: 2017-10-20<br />value:  6060.11","date: 2017-10-21<br />value:  6194.88","date: 2017-10-22<br />value:  6076.26","date: 2017-10-23<br />value:  6075.59","date: 2017-10-24<br />value:  5935.52","date: 2017-10-25<br />value:  5754.33","date: 2017-10-26<br />value:  5976.80","date: 2017-10-27<br />value:  5988.39","date: 2017-10-28<br />value:  5876.72","date: 2017-10-29<br />value:  6255.71","date: 2017-10-30<br />value:  6214.99","date: 2017-10-31<br />value:  6470.43","date: 2017-11-01<br />value:  6767.31","date: 2017-11-02<br />value:  7367.33","date: 2017-11-03<br />value:  7461.29","date: 2017-11-04<br />value:  7492.86","date: 2017-11-05<br />value:  7617.48","date: 2017-11-06<br />value:  7445.77","date: 2017-11-07<br />value:  7253.32","date: 2017-11-08<br />value:  7776.42","date: 2017-11-09<br />value:  7446.83","date: 2017-11-10<br />value:  7312.00","date: 2017-11-11<br />value:  6873.15","date: 2017-11-12<br />value:  6625.05","date: 2017-11-13<br />value:  6811.19","date: 2017-11-14<br />value:  6764.98","date: 2017-11-15<br />value:  7342.25","date: 2017-11-16<br />value:  7967.38","date: 2017-11-17<br />value:  8004.59","date: 2017-11-18<br />value:  7884.99","date: 2017-11-19<br />value:  8101.91","date: 2017-11-20<br />value:  8336.86","date: 2017-11-21<br />value:  8348.66","date: 2017-11-22<br />value:  8302.26","date: 2017-11-23<br />value:  8267.40","date: 2017-11-24<br />value:  8374.16","date: 2017-11-25<br />value:  8790.92","date: 2017-11-26<br />value:  9522.93","date: 2017-11-27<br />value:  9818.35","date: 2017-11-28<br />value: 10125.70","date: 2017-11-29<br />value: 11517.40","date: 2017-11-30<br />value: 10801.00","date: 2017-12-01<br />value: 11046.70","date: 2017-12-02<br />value: 11320.20","date: 2017-12-03<br />value: 11858.70","date: 2017-12-04<br />value: 11657.20","date: 2017-12-05<br />value: 12032.00","date: 2017-12-06<br />value: 14369.10","date: 2017-12-07<br />value: 17899.70","date: 2017-12-08<br />value: 18353.40","date: 2017-12-09<br />value: 16783.00","date: 2017-12-10<br />value: 15850.60","date: 2017-12-11<br />value: 17513.90","date: 2017-12-12<br />value: 17781.80","date: 2017-12-13<br />value: 17653.10","date: 2017-12-14<br />value: 17085.80","date: 2017-12-15<br />value: 18154.10","date: 2017-12-16<br />value: 19716.70","date: 2017-12-17<br />value: 20089.00","date: 2017-12-18<br />value: 19371.00","date: 2017-12-19<br />value: 19177.80","date: 2017-12-20<br />value: 17934.70","date: 2017-12-21<br />value: 17567.70","date: 2017-12-22<br />value: 15943.40","date: 2017-12-23<br />value: 15603.20","date: 2017-12-24<br />value: 14626.00","date: 2017-12-25<br />value: 14593.00","date: 2017-12-26<br />value: 16461.20","date: 2017-12-27<br />value: 16930.90","date: 2017-12-28<br />value: 15888.40","date: 2017-12-29<br />value: 15279.00","date: 2017-12-30<br />value: 14681.90","date: 2017-12-31<br />value: 14377.40","date: 2018-01-01<br />value: 14112.20","date: 2018-01-02<br />value: 15444.60","date: 2018-01-03<br />value: 15572.80","date: 2018-01-04<br />value: 15739.70","date: 2018-01-05<br />value: 17705.20","date: 2018-01-06<br />value: 17712.40","date: 2018-01-07<br />value: 17579.60","date: 2018-01-08<br />value: 16537.90","date: 2018-01-09<br />value: 15497.50","date: 2018-01-10<br />value: 14973.30","date: 2018-01-11<br />value: 15018.80","date: 2018-01-12<br />value: 14229.90","date: 2018-01-13<br />value: 14659.50","date: 2018-01-14<br />value: 14511.80","date: 2018-01-15<br />value: 14445.50","date: 2018-01-16<br />value: 13843.10","date: 2018-01-17<br />value: 11678.00","date: 2018-01-18<br />value: 12107.30","date: 2018-01-19<br />value: 11992.80","date: 2018-01-20<br />value: 13103.00","date: 2018-01-21<br />value: 12895.90","date: 2018-01-22<br />value: 11966.40","date: 2018-01-23<br />value: 11377.60","date: 2018-01-24<br />value: 11501.40","date: 2018-01-25<br />value: 11785.70","date: 2018-01-26<br />value: 11656.70","date: 2018-01-27<br />value: 11614.90","date: 2018-01-28<br />value: 12040.30","date: 2018-01-29<br />value: 11875.60","date: 2018-01-30<br />value: 11307.20","date: 2018-01-31<br />value: 10381.60","date: 2018-02-01<br />value: 10288.80","date: 2018-02-02<br />value:  9142.28","date: 2018-02-03<br />value:  9430.75","date: 2018-02-04<br />value:  9334.87","date: 2018-02-05<br />value:  8364.84","date: 2018-02-06<br />value:  7850.70","date: 2018-02-07<br />value:  8509.11","date: 2018-02-08<br />value:  8558.77","date: 2018-02-09<br />value:  8736.98","date: 2018-02-10<br />value:  9122.55","date: 2018-02-11<br />value:  8616.13","date: 2018-02-12<br />value:  8985.92","date: 2018-02-13<br />value:  8958.47","date: 2018-02-14<br />value:  9518.54","date: 2018-02-15<br />value: 10234.80","date: 2018-02-16<br />value: 10324.10","date: 2018-02-17<br />value: 11139.50","date: 2018-02-18<br />value: 11349.80","date: 2018-02-19<br />value: 11273.80","date: 2018-02-20<br />value: 11958.50","date: 2018-02-21<br />value: 11418.50","date: 2018-02-22<br />value: 11039.10","date: 2018-02-23<br />value: 10487.30","date: 2018-02-24<br />value: 10597.20","date: 2018-02-25<br />value:  9923.22","date: 2018-02-26<br />value: 10475.00","date: 2018-02-27<br />value: 10878.50","date: 2018-02-28<br />value: 11089.80","date: 2018-03-01<br />value: 11052.30","date: 2018-03-02<br />value: 11189.00","date: 2018-03-03<br />value: 11528.20","date: 2018-03-04<br />value: 11512.60","date: 2018-03-05<br />value: 11704.10","date: 2018-03-06<br />value: 11500.10","date: 2018-03-07<br />value: 10929.50","date: 2018-03-08<br />value: 10147.40","date: 2018-03-09<br />value:  9466.35","date: 2018-03-10<br />value:  9531.32","date: 2018-03-11<br />value:  9711.89","date: 2018-03-12<br />value:  9937.50","date: 2018-03-13<br />value:  9470.38","date: 2018-03-14<br />value:  9355.85","date: 2018-03-15<br />value:  8428.35","date: 2018-03-16<br />value:  8585.15","date: 2018-03-17<br />value:  8346.53","date: 2018-03-18<br />value:  8245.51","date: 2018-03-19<br />value:  8675.87","date: 2018-03-20<br />value:  9051.02","date: 2018-03-21<br />value:  9177.37","date: 2018-03-22<br />value:  9100.71","date: 2018-03-23<br />value:  8879.62","date: 2018-03-24<br />value:  8996.18","date: 2018-03-25<br />value:  8682.01","date: 2018-03-26<br />value:  8530.08","date: 2018-03-27<br />value:  8232.78","date: 2018-03-28<br />value:  8122.89","date: 2018-03-29<br />value:  7994.33","date: 2018-03-30<br />value:  7276.66","date: 2018-03-31<br />value:  7207.85","date: 2018-04-01<br />value:  7060.95","date: 2018-04-02<br />value:  7135.47","date: 2018-04-03<br />value:  7530.94","date: 2018-04-04<br />value:  7469.88","date: 2018-04-05<br />value:  6933.82","date: 2018-04-06<br />value:  6857.49","date: 2018-04-07<br />value:  7050.54","date: 2018-04-08<br />value:  7111.56","date: 2018-04-09<br />value:  7178.11","date: 2018-04-10<br />value:  6872.41","date: 2018-04-11<br />value:  6968.32","date: 2018-04-12<br />value:  7899.23","date: 2018-04-13<br />value:  8183.96","date: 2018-04-14<br />value:  8140.71","date: 2018-04-15<br />value:  8338.42","date: 2018-04-16<br />value:  8371.15","date: 2018-04-17<br />value:  8285.96","date: 2018-04-18<br />value:  8197.80","date: 2018-04-19<br />value:  8298.69","date: 2018-04-20<br />value:  8880.23","date: 2018-04-21<br />value:  8997.57","date: 2018-04-22<br />value:  9001.64","date: 2018-04-23<br />value:  8958.55"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(20,84,18,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[15822.666666666666,15823,15823.333333333334,15823.666666666666,15824,15824.333333333334,15824.666666666666,15825,15825.333333333334,15825.666666666666,15826,15826.333333333334,15826.666666666666,15827,15827.333333333334,15827.666666666666,15828,15828.333333333334,15828.666666666666,15829,15829.333333333334,15829.666666666666,15830,15830.333333333334,15830.666666666666,15831,15831.333333333334,15831.666666666666,15832,15832.333333333334,15832.666666666666,15833,15833.333333333334,15833.666666666666,15834,15834.333333333334,15834.666666666666,15835,15835.333333333334,15835.666666666666,15836,15836.333333333334,15836.666666666666,15837,15837.333333333334,15837.666666666666,15838,15838.333333333334,15838.666666666666,15839,15839.333333333334,15839.666666666666,15840,15840.333333333334,15840.666666666666,15841,15841.333333333334,15841.666666666666,15842,15842.333333333334,15842.666666666666,15843,15843.333333333334,15843.666666666666,15844,15844.333333333334,15844.666666666666,15845,15845.333333333334,15845.666666666666,15846,15846.333333333334,15846.666666666666,15847,15847.333333333334,15847.666666666666,15848,15848.333333333334,15848.666666666666,15849,15849.333333333334,15849.666666666666,15850,15850.333333333334,15850.666666666666,15851,15851.333333333334,15851.666666666666,15852,15852.333333333334,15852.666666666666,15853,15853.333333333334,15853.666666666666,15854,15854.333333333334,15854.666666666666,15855,15855.333333333334,15855.666666666666,15856,15856.333333333334,15856.666666666666,15857,15857.333333333334,15857.666666666666,15858,15858.333333333334,15858.666666666666,15859,15859.333333333334,15859.666666666666,15860,15860.333333333334,15860.666666666666,15861,15861.333333333334,15861.666666666666,15862,15862.333333333334,15862.666666666666,15863,15863.333333333334,15863.666666666666,15864,15864.333333333334,15864.666666666666,15865,15865.333333333334,15865.666666666666,15866,15866.333333333334,15866.666666666666,15867,15867.333333333334,15867.666666666666,15868,15868.333333333334,15868.666666666666,15869,15869.333333333334,15869.666666666666,15870,15870.333333333334,15870.666666666666,15871,15871.333333333334,15871.666666666666,15872,15872.333333333334,15872.666666666666,15873,15873.333333333334,15873.666666666666,15874,15874.333333333334,15874.666666666666,15875,15875.333333333334,15875.666666666666,15876,15876.333333333334,15876.666666666666,15877,15877.333333333334,15877.666666666666,15878,15878.333333333334,15878.666666666666,15879,15879.333333333334,15879.666666666666,15880,15880.333333333334,15880.666666666666,15881,15881.333333333334,15881.666666666666,15882,15882.333333333334,15882.666666666666,15883,15883.333333333334,15883.666666666666,15884,15884.333333333334,15884.666666666666,15885,15885.333333333334,15885.666666666666,15886,15886.333333333334,15886.666666666666,15887,15887.333333333334,15887.666666666666,15888,15888.333333333334,15888.666666666666,15889,15889.333333333334,15889.666666666666,15890,15890.333333333334,15890.666666666666,15891,15891.333333333334,15891.666666666666,15892,15892.333333333334,15892.666666666666,15893,15893.333333333334,15893.666666666666,15894,15894.333333333334,15894.666666666666,15895,15895.333333333334,15895.666666666666,15896,15896.333333333334,15896.666666666666,15897,15897.333333333334,15897.666666666666,15898,15898.333333333334,15898.666666666666,15899,15899.333333333334,15899.666666666666,15900,15900.333333333334,15900.666666666666,15901,15901.333333333334,15901.666666666666,15902,15902.333333333334,15902.666666666666,15903,15903.333333333334,15903.666666666666,15904,15904.333333333334,15904.666666666666,15905,15905.333333333334,15905.666666666666,15906,15906.333333333334,15906.666666666666,15907,15907.333333333334,15907.666666666666,15908,15908.333333333334,15908.666666666666,15909,15909.333333333334,15909.666666666666,15910,15910.333333333334,15910.666666666666,15911,15911.333333333334,15911.666666666666,15912,15912.333333333334,15912.666666666666,15913,15913.333333333334,15913.666666666666,15914,15914.333333333334,15914.666666666666,15915,15915.333333333334,15915.666666666666,15916,15916.333333333334,15916.666666666666,15917,15917.333333333334,15917.666666666666,15918,15918.333333333334,15918.666666666666,15919,15919.333333333334,15919.666666666666,15920,15920.333333333334,15920.666666666666,15921,15921.333333333334,15921.666666666666,15922,15922.333333333334,15922.666666666666,15923,15923.333333333334,15923.666666666666,15924,15924.333333333334,15924.666666666666,15925,15925.333333333334,15925.666666666666,15926,15926.333333333334,15926.666666666666,15927,15927.333333333334,15927.666666666666,15928,15928.333333333334,15928.666666666666,15929,15929.333333333334,15929.666666666666,15930,15930.333333333334,15930.666666666666,15931,15931.333333333334,15931.666666666666,15932,15932.333333333334,15932.666666666666,15933,15933.333333333334,15933.666666666666,15934,15934.333333333334,15934.666666666666,15935,15935.333333333334,15935.666666666666,15936,15936.333333333334,15936.666666666666,15937,15937.333333333334,15937.666666666666,15938,15938.333333333334,15938.666666666666,15939,15939.333333333334,15939.666666666666,15940,15940.333333333334,15940.666666666666,15941,15941.333333333334,15941.666666666666,15942,15942.333333333334,15942.666666666666,15943,15943.333333333334,15943.666666666666,15944,15944.333333333334,15944.666666666666,15945,15945.333333333334,15945.666666666666,15946,15946.333333333334,15946.666666666666,15947,15947.333333333334,15947.666666666666,15948,15948.333333333334,15948.666666666666,15949,15949.333333333334,15949.666666666666,15950,15950.333333333334,15950.666666666666,15951,15951.333333333334,15951.666666666666,15952,15952.333333333334,15952.666666666666,15953,15953.333333333334,15953.666666666666,15954,15954.333333333334,15954.666666666666,15955,15955.333333333334,15955.666666666666,15956,15956.333333333334,15956.666666666666,15957,15957.333333333334,15957.666666666666,15958,15958.333333333334,15958.666666666666,15959,15959.333333333334,15959.666666666666,15960,15960.333333333334,15960.666666666666,15961,15961.333333333334,15961.666666666666,15962,15962.333333333334,15962.666666666666,15963,15963.333333333334,15963.666666666666,15964,15964.333333333334,15964.666666666666,15965,15965.333333333334,15965.666666666666,15966,15966.333333333334,15966.666666666666,15967,15967.333333333334,15967.666666666666,15968,15968.333333333334,15968.666666666666,15969,15969.333333333334,15969.666666666666,15970,15970.333333333334,15970.666666666666,15971,15971.333333333334,15971.666666666666,15972,15972.333333333334,15972.666666666666,15973,15973.333333333334,15973.666666666666,15974,15974.333333333334,15974.666666666666,15975,15975.333333333334,15975.666666666666,15976,15976.333333333334,15976.666666666666,15977,15977.333333333334,15977.666666666666,15978,15978.333333333334,15978.666666666666,15979,15979.333333333334,15979.666666666666,15980,15980.333333333334,15980.666666666666,15981,15981.333333333334,15981.666666666666,15982,15982.333333333334,15982.666666666666,15983,15983.333333333334,15983.666666666666,15984,15984.333333333334,15984.666666666666,15985,15985.333333333334,15985.666666666666,15986,15986.333333333334,15986.666666666666,15987,15987.333333333334,15987.666666666666,15988,15988.333333333334,15988.666666666666,15989,15989.333333333334,15989.666666666666,15990,15990.333333333334,15990.666666666666,15991,15991.333333333334,15991.666666666666,15992,15992.333333333334,15992.666666666666,15993,15993.333333333334,15993.666666666666,15994,15994.333333333334,15994.666666666666,15995,15995.333333333334,15995.666666666666,15996,15996.333333333334,15996.666666666666,15997,15997.333333333334,15997.666666666666,15998,15998.333333333334,15998.666666666666,15999,15999.333333333334,15999.666666666666,16000,16000.333333333334,16000.666666666666,16001,16001.333333333334,16001.666666666666,16002,16002.333333333334,16002.666666666666,16003,16003.333333333334,16003.666666666666,16004,16004.333333333334,16004.666666666666,16005,16005.333333333334,16005.666666666666,16006,16006.333333333334,16006.666666666666,16007,16007.333333333334,16007.666666666666,16008,16008.333333333334,16008.666666666666,16009,16009.333333333334,16009.666666666666,16010,16010.333333333334,16010.666666666666,16011,16011.333333333334,16011.666666666666,16012,16012.333333333334,16012.666666666666,16013,16013.333333333334,16013.666666666666,16014,16014.333333333334,16014.666666666666,16015,16015.333333333334,16015.666666666666,16016,16016.333333333334,16016.666666666666,16017,16017.333333333334,16017.666666666666,16018,16018.333333333334,16018.666666666666,16019,16019.333333333334,16019.666666666666,16020,16020.333333333334,16020.666666666666,16021,16021.333333333334,16021.666666666666,16022,16022.333333333334,16022.666666666666,16023,16023.333333333334,16023.666666666666,16024,16024.333333333334,16024.666666666666,16025,16025.333333333334,16025.666666666666,16026,16026.333333333334,16026.666666666666,16027,16027.333333333334,16027.666666666666,16028,16028.333333333334,16028.666666666666,16029,16029.333333333334,16029.666666666666,16030,16030.333333333334,16030.666666666666,16031,16031.333333333334,16031.666666666666,16032,16032.333333333334,16032.666666666666,16033,16033.333333333334,16033.666666666666,16034,16034.333333333334,16034.666666666666,16035,16035.333333333334,16035.666666666666,16036,16036.333333333334,16036.666666666666,16037,16037.333333333334,16037.666666666666,16038,16038.333333333334,16038.666666666666,16039,16039.333333333334,16039.666666666666,16040,16040.333333333334,16040.666666666666,16041,16041.333333333334,16041.666666666666,16042,16042.333333333334,16042.666666666666,16043,16043.333333333334,16043.666666666666,16044,16044.333333333334,16044.666666666666,16045,16045.333333333334,16045.666666666666,16046,16046.333333333334,16046.666666666666,16047,16047.333333333334,16047.666666666666,16048,16048.333333333334,16048.666666666666,16049,16049.333333333334,16049.666666666666,16050,16050.333333333334,16050.666666666666,16051,16051.333333333334,16051.666666666666,16052,16052.333333333334,16052.666666666666,16053,16053.333333333334,16053.666666666666,16054,16054.333333333334,16054.666666666666,16055,16055.333333333334,16055.666666666666,16056,16056.333333333334,16056.666666666666,16057,16057.333333333334,16057.666666666666,16058,16058.333333333334,16058.666666666666,16059,16059.333333333334,16059.666666666666,16060,16060.333333333334,16060.666666666666,16061,16061.333333333334,16061.666666666666,16062,16062.333333333334,16062.666666666666,16063,16063.333333333334,16063.666666666666,16064,16064.333333333334,16064.666666666666,16065,16065.333333333334,16065.666666666666,16066,16066.333333333334,16066.666666666666,16067,16067.333333333334,16067.666666666666,16068,16068.333333333334,16068.666666666666,16069,16069.333333333334,16069.666666666666,16070,16070.333333333334,16070.666666666666,16071,16071.333333333334,16071.666666666666,16072,16072.333333333334,16072.666666666666,16073,16073.333333333334,16073.666666666666,16074,16074.333333333334,16074.666666666666,16075,16075.333333333334,16075.666666666666,16076,16076.333333333334,16076.666666666666,16077,16077.333333333334,16077.666666666666,16078,16078.333333333334,16078.666666666666,16079,16079.333333333334,16079.666666666666,16080,16080.333333333334,16080.666666666666,16081,16081.333333333334,16081.666666666666,16082,16082.333333333334,16082.666666666666,16083,16083.333333333334,16083.666666666666,16084,16084.333333333334,16084.666666666666,16085,16085.333333333334,16085.666666666666,16086,16086.333333333334,16086.666666666666,16087,16087.333333333334,16087.666666666666,16088,16088.333333333334,16088.666666666666,16089,16089.333333333334,16089.666666666666,16090,16090.333333333334,16090.666666666666,16091,16091.333333333334,16091.666666666666,16092,16092.333333333334,16092.666666666666,16093,16093.333333333334,16093.666666666666,16094,16094.333333333334,16094.666666666666,16095,16095.333333333334,16095.666666666666,16096,16096.333333333334,16096.666666666666,16097,16097.333333333334,16097.666666666666,16098,16098.333333333334,16098.666666666666,16099,16099.333333333334,16099.666666666666,16100,16100.333333333334,16100.666666666666,16101,16101.333333333334,16101.666666666666,16102,16102.333333333334,16102.666666666666,16103,16103.333333333334,16103.666666666666,16104,16104.333333333334,16104.666666666666,16105,16105.333333333334,16105.666666666666,16106,16106.333333333334,16106.666666666666,16107,16107.333333333334,16107.666666666666,16108,16108.333333333334,16108.666666666666,16109,16109.333333333334,16109.666666666666,16110,16110.333333333334,16110.666666666666,16111,16111.333333333334,16111.666666666666,16112,16112.333333333334,16112.666666666666,16113,16113.333333333334,16113.666666666666,16114,16114.333333333334,16114.666666666666,16115,16115.333333333334,16115.666666666666,16116,16116.333333333334,16116.666666666666,16117,16117.333333333334,16117.666666666666,16118,16118.333333333334,16118.666666666666,16119,16119.333333333334,16119.666666666666,16120,16120.333333333334,16120.666666666666,16121,16121.333333333334,16121.666666666666,16122,16122.333333333334,16122.666666666666,16123,16123.333333333334,16123.666666666666,16124,16124.333333333334,16124.666666666666,16125,16125.333333333334,16125.666666666666,16126,16126.333333333334,16126.666666666666,16127,16127.333333333334,16127.666666666666,16128,16128.333333333334,16128.666666666666,16129,16129.333333333334,16129.666666666666,16130,16130.333333333334,16130.666666666666,16131,16131.333333333334,16131.666666666666,16132,16132.333333333334,16132.666666666666,16133,16133.333333333334,16133.666666666666,16134,16134.333333333334,16134.666666666666,16135,16135.333333333334,16135.666666666666,16136,16136.333333333334,16136.666666666666,16137,16137.333333333334,16137.666666666666,16138,16138.333333333334,16138.666666666666,16139,16139.333333333334,16139.666666666666,16140,16140.333333333334,16140.666666666666,16141,16141.333333333334,16141.666666666666,16142,16142.333333333334,16142.666666666666,16143,16143.333333333334,16143.666666666666,16144,16144.333333333334,16144.666666666666,16145,16145.333333333334,16145.666666666666,16146,16146.333333333334,16146.666666666666,16147,16147.333333333334,16147.666666666666,16148,16148.333333333334,16148.666666666666,16149,16149.333333333334,16149.666666666666,16150,16150.333333333334,16150.666666666666,16151,16151.333333333334,16151.666666666666,16152,16152.333333333334,16152.666666666666,16153,16153.333333333334,16153.666666666666,16154,16154.333333333334,16154.666666666666,16155,16155.333333333334,16155.666666666666,16156,16156.333333333334,16156.666666666666,16157,16157.333333333334,16157.666666666666,16158,16158.333333333334,16158.666666666666,16159,16159.333333333334,16159.666666666666,16160,16160.333333333334,16160.666666666666,16161,16161.333333333334,16161.666666666666,16162,16162.333333333334,16162.666666666666,16163,16163.333333333334,16163.666666666666,16164,16164.333333333334,16164.666666666666,16165,16165.333333333334,16165.666666666666,16166,16166.333333333334,16166.666666666666,16167,16167.333333333334,16167.666666666666,16168,16168.333333333334,16168.666666666666,16169,16169.333333333334,16169.666666666666,16170,16170.333333333334,16170.666666666666,16171,16171.333333333334,16171.666666666666,16172,16172.333333333334,16172.666666666666,16173,16173.333333333334,16173.666666666666,16174,16174.333333333334,16174.666666666666,16175,16175.333333333334,16175.666666666666,16176,16176.333333333334,16176.666666666666,16177,16177.333333333334,16177.666666666666,16178,16178.333333333334,16178.666666666666,16179,16179.333333333334,16179.666666666666,16180,16180.333333333334,16180.666666666666,16181,16181.333333333334,16181.666666666666,16182,16182.333333333334,16182.666666666666,16183,16183.333333333334,16183.666666666666,16184,16184.333333333334,16184.666666666666,16185,16185.333333333334,16185.666666666666,16186,16186.333333333334,16186.666666666666,16187,16187.333333333334,16187.666666666666,16188,16188.333333333334,16188.666666666666,16189,16189.333333333334,16189.666666666666,16190,16190.333333333334,16190.666666666666,16191,16191.333333333334,16191.666666666666,16192,16192.333333333334,16192.666666666666,16193,16193.333333333334,16193.666666666666,16194,16194.333333333334,16194.666666666666,16195,16195.333333333334,16195.666666666666,16196,16196.333333333334,16196.666666666666,16197,16197.333333333334,16197.666666666666,16198,16198.333333333334,16198.666666666666,16199,16199.333333333334,16199.666666666666,16200,16200.333333333334,16200.666666666666,16201,16201.333333333334,16201.666666666666,16202,16202.333333333334,16202.666666666666,16203,16203.333333333334,16203.666666666666,16204,16204.333333333334,16204.666666666666,16205,16205.333333333334,16205.666666666666,16206,16206.333333333334,16206.666666666666,16207,16207.333333333334,16207.666666666666,16208,16208.333333333334,16208.666666666666,16209,16209.333333333334,16209.666666666666,16210,16210.333333333334,16210.666666666666,16211,16211.333333333334,16211.666666666666,16212,16212.333333333334,16212.666666666666,16213,16213.333333333334,16213.666666666666,16214,16214.333333333334,16214.666666666666,16215,16215.333333333334,16215.666666666666,16216,16216.333333333334,16216.666666666666,16217,16217.333333333334,16217.666666666666,16218,16218.333333333334,16218.666666666666,16219,16219.333333333334,16219.666666666666,16220,16220.333333333334,16220.666666666666,16221,16221.333333333334,16221.666666666666,16222,16222.333333333334,16222.666666666666,16223,16223.333333333334,16223.666666666666,16224,16224.333333333334,16224.666666666666,16225,16225.333333333334,16225.666666666666,16226,16226.333333333334,16226.666666666666,16227,16227.333333333334,16227.666666666666,16228,16228.333333333334,16228.666666666666,16229,16229.333333333334,16229.666666666666,16230,16230.333333333334,16230.666666666666,16231,16231.333333333334,16231.666666666666,16232,16232.333333333334,16232.666666666666,16233,16233.333333333334,16233.666666666666,16234,16234.333333333334,16234.666666666666,16235,16235.333333333334,16235.666666666666,16236,16236.333333333334,16236.666666666666,16237,16237.333333333334,16237.666666666666,16238,16238.333333333334,16238.666666666666,16239,16239.333333333334,16239.666666666666,16240,16240.333333333334,16240.666666666666,16241,16241.333333333334,16241.666666666666,16242,16242.333333333334,16242.666666666666,16243,16243.333333333334,16243.666666666666,16244,16244.333333333334,16244.666666666666,16245,16245.333333333334,16245.666666666666,16246,16246.333333333334,16246.666666666666,16247,16247.333333333334,16247.666666666666,16248,16248.333333333334,16248.666666666666,16249,16249.333333333334,16249.666666666666,16250,16250.333333333334,16250.666666666666,16251,16251.333333333334,16251.666666666666,16252,16252.333333333334,16252.666666666666,16253,16253.333333333334,16253.666666666666,16254,16254.333333333334,16254.666666666666,16255,16255.333333333334,16255.666666666666,16256,16256.333333333334,16256.666666666666,16257,16257.333333333334,16257.666666666666,16258,16258.333333333334,16258.666666666666,16259,16259.333333333334,16259.666666666666,16260,16260.333333333334,16260.666666666666,16261,16261.333333333334,16261.666666666666,16262,16262.333333333334,16262.666666666666,16263,16263.333333333334,16263.666666666666,16264,16264.333333333334,16264.666666666666,16265,16265.333333333334,16265.666666666666,16266,16266.333333333334,16266.666666666666,16267,16267.333333333334,16267.666666666666,16268,16268.333333333334,16268.666666666666,16269,16269.333333333334,16269.666666666666,16270,16270.333333333334,16270.666666666666,16271,16271.333333333334,16271.666666666666,16272,16272.333333333334,16272.666666666666,16273,16273.333333333334,16273.666666666666,16274,16274.333333333334,16274.666666666666,16275,16275.333333333334,16275.666666666666,16276,16276.333333333334,16276.666666666666,16277,16277.333333333334,16277.666666666666,16278,16278.333333333334,16278.666666666666,16279,16279.333333333334,16279.666666666666,16280,16280.333333333334,16280.666666666666,16281,16281.333333333334,16281.666666666666,16282,16282.333333333334,16282.666666666666,16283,16283.333333333334,16283.666666666666,16284,16284.333333333334,16284.666666666666,16285,16285.333333333334,16285.666666666666,16286,16286.333333333334,16286.666666666666,16287,16287.333333333334,16287.666666666666,16288,16288.333333333334,16288.666666666666,16289,16289.333333333334,16289.666666666666,16290,16290.333333333334,16290.666666666666,16291,16291.333333333334,16291.666666666666,16292,16292.333333333334,16292.666666666666,16293,16293.333333333334,16293.666666666666,16294,16294.333333333334,16294.666666666666,16295,16295.333333333334,16295.666666666666,16296,16296.333333333334,16296.666666666666,16297,16297.333333333334,16297.666666666666,16298,16298.333333333334,16298.666666666666,16299,16299.333333333334,16299.666666666666,16300,16300.333333333334,16300.666666666666,16301,16301.333333333334,16301.666666666666,16302,16302.333333333334,16302.666666666666,16303,16303.333333333334,16303.666666666666,16304,16304.333333333334,16304.666666666666,16305,16305.333333333334,16305.666666666666,16306,16306.333333333334,16306.666666666666,16307,16307.333333333334,16307.666666666666,16308,16308.333333333334,16308.666666666666,16309,16309.333333333334,16309.666666666666,16310,16310.333333333334,16310.666666666666,16311,16311.333333333334,16311.666666666666,16312,16312.333333333334,16312.666666666666,16313,16313.333333333334,16313.666666666666,16314,16314.333333333334,16314.666666666666,16315,16315.333333333334,16315.666666666666,16316,16316.333333333334,16316.666666666666,16317,16317.333333333334,16317.666666666666,16318,16318.333333333334,16318.666666666666,16319,16319.333333333334,16319.666666666666,16320,16320.333333333334,16320.666666666666,16321,16321.333333333334,16321.666666666666,16322,16322.333333333334,16322.666666666666,16323,16323.333333333334,16323.666666666666,16324,16324.333333333334,16324.666666666666,16325,16325.333333333334,16325.666666666666,16326,16326.333333333334,16326.666666666666,16327,16327.333333333334,16327.666666666666,16328,16328.333333333334,16328.666666666666,16329,16329.333333333334,16329.666666666666,16330,16330.333333333334,16330.666666666666,16331,16331.333333333334,16331.666666666666,16332,16332.333333333334,16332.666666666666,16333,16333.333333333334,16333.666666666666,16334,16334.333333333334,16334.666666666666,16335,16335.333333333334,16335.666666666666,16336,16336.333333333334,16336.666666666666,16337,16337.333333333334,16337.666666666666,16338,16338.333333333334,16338.666666666666,16339,16339.333333333334,16339.666666666666,16340,16340.333333333334,16340.666666666666,16341,16341.333333333334,16341.666666666666,16342,16342.333333333334,16342.666666666666,16343,16343.333333333334,16343.666666666666,16344,16344.333333333334,16344.666666666666,16345,16345.333333333334,16345.666666666666,16346,16346.333333333334,16346.666666666666,16347,16347.333333333334,16347.666666666666,16348,16348.333333333334,16348.666666666666,16349,16349.333333333334,16349.666666666666,16350,16350.333333333334,16350.666666666666,16351,16351.333333333334,16351.666666666666,16352,16352.333333333334,16352.666666666666,16353,16353.333333333334,16353.666666666666,16354,16354.333333333334,16354.666666666666,16355,16355.333333333334,16355.666666666666,16356,16356.333333333334,16356.666666666666,16357,16357.333333333334,16357.666666666666,16358,16358.333333333334,16358.666666666666,16359,16359.333333333334,16359.666666666666,16360,16360.333333333334,16360.666666666666,16361,16361.333333333334,16361.666666666666,16362,16362.333333333334,16362.666666666666,16363,16363.333333333334,16363.666666666666,16364,16364.333333333334,16364.666666666666,16365,16365.333333333334,16365.666666666666,16366,16366.333333333334,16366.666666666666,16367,16367.333333333334,16367.666666666666,16368,16368.333333333334,16368.666666666666,16369,16369.333333333334,16369.666666666666,16370,16370.333333333334,16370.666666666666,16371,16371.333333333334,16371.666666666666,16372,16372.333333333334,16372.666666666666,16373,16373.333333333334,16373.666666666666,16374,16374.333333333334,16374.666666666666,16375,16375.333333333334,16375.666666666666,16376,16376.333333333334,16376.666666666666,16377,16377.333333333334,16377.666666666666,16378,16378.333333333334,16378.666666666666,16379,16379.333333333334,16379.666666666666,16380,16380.333333333334,16380.666666666666,16381,16381.333333333334,16381.666666666666,16382,16382.333333333334,16382.666666666666,16383,16383.333333333334,16383.666666666666,16384,16384.333333333332,16384.666666666668,16385,16385.333333333332,16385.666666666668,16386,16386.333333333332,16386.666666666668,16387,16387.333333333332,16387.666666666668,16388,16388.333333333332,16388.666666666668,16389,16389.333333333332,16389.666666666668,16390,16390.333333333332,16390.666666666668,16391,16391.333333333332,16391.666666666668,16392,16392.333333333332,16392.666666666668,16393,16393.333333333332,16393.666666666668,16394,16394.333333333332,16394.666666666668,16395,16395.333333333332,16395.666666666668,16396,16396.333333333332,16396.666666666668,16397,16397.333333333332,16397.666666666668,16398,16398.333333333332,16398.666666666668,16399,16399.333333333332,16399.666666666668,16400,16400.333333333332,16400.666666666668,16401,16401.333333333332,16401.666666666668,16402,16402.333333333332,16402.666666666668,16403,16403.333333333332,16403.666666666668,16404,16404.333333333332,16404.666666666668,16405,16405.333333333332,16405.666666666668,16406,16406.333333333332,16406.666666666668,16407,16407.333333333332,16407.666666666668,16408,16408.333333333332,16408.666666666668,16409,16409.333333333332,16409.666666666668,16410,16410.333333333332,16410.666666666668,16411,16411.333333333332,16411.666666666668,16412,16412.333333333332,16412.666666666668,16413,16413.333333333332,16413.666666666668,16414,16414.333333333332,16414.666666666668,16415,16415.333333333332,16415.666666666668,16416,16416.333333333332,16416.666666666668,16417,16417.333333333332,16417.666666666668,16418,16418.333333333332,16418.666666666668,16419,16419.333333333332,16419.666666666668,16420,16420.333333333332,16420.666666666668,16421,16421.333333333332,16421.666666666668,16422,16422.333333333332,16422.666666666668,16423,16423.333333333332,16423.666666666668,16424,16424.333333333332,16424.666666666668,16425,16425.333333333332,16425.666666666668,16426,16426.333333333332,16426.666666666668,16427,16427.333333333332,16427.666666666668,16428,16428.333333333332,16428.666666666668,16429,16429.333333333332,16429.666666666668,16430,16430.333333333332,16430.666666666668,16431,16431.333333333332,16431.666666666668,16432,16432.333333333332,16432.666666666668,16433,16433.333333333332,16433.666666666668,16434,16434.333333333332,16434.666666666668,16435,16435.333333333332,16435.666666666668,16436,16436.333333333332,16436.666666666668,16437,16437.333333333332,16437.666666666668,16438,16438.333333333332,16438.666666666668,16439,16439.333333333332,16439.666666666668,16440,16440.333333333332,16440.666666666668,16441,16441.333333333332,16441.666666666668,16442,16442.333333333332,16442.666666666668,16443,16443.333333333332,16443.666666666668,16444,16444.333333333332,16444.666666666668,16445,16445.333333333332,16445.666666666668,16446,16446.333333333332,16446.666666666668,16447,16447.333333333332,16447.666666666668,16448,16448.333333333332,16448.666666666668,16449,16449.333333333332,16449.666666666668,16450,16450.333333333332,16450.666666666668,16451,16451.333333333332,16451.666666666668,16452,16452.333333333332,16452.666666666668,16453,16453.333333333332,16453.666666666668,16454,16454.333333333332,16454.666666666668,16455,16455.333333333332,16455.666666666668,16456,16456.333333333332,16456.666666666668,16457,16457.333333333332,16457.666666666668,16458,16458.333333333332,16458.666666666668,16459,16459.333333333332,16459.666666666668,16460,16460.333333333332,16460.666666666668,16461,16461.333333333332,16461.666666666668,16462,16462.333333333332,16462.666666666668,16463,16463.333333333332,16463.666666666668,16464,16464.333333333332,16464.666666666668,16465,16465.333333333332,16465.666666666668,16466,16466.333333333332,16466.666666666668,16467,16467.333333333332,16467.666666666668,16468,16468.333333333332,16468.666666666668,16469,16469.333333333332,16469.666666666668,16470,16470.333333333332,16470.666666666668,16471,16471.333333333332,16471.666666666668,16472,16472.333333333332,16472.666666666668,16473,16473.333333333332,16473.666666666668,16474,16474.333333333332,16474.666666666668,16475,16475.333333333332,16475.666666666668,16476,16476.333333333332,16476.666666666668,16477,16477.333333333332,16477.666666666668,16478,16478.333333333332,16478.666666666668,16479,16479.333333333332,16479.666666666668,16480,16480.333333333332,16480.666666666668,16481,16481.333333333332,16481.666666666668,16482,16482.333333333332,16482.666666666668,16483,16483.333333333332,16483.666666666668,16484,16484.333333333332,16484.666666666668,16485,16485.333333333332,16485.666666666668,16486,16486.333333333332,16486.666666666668,16487,16487.333333333332,16487.666666666668,16488,16488.333333333332,16488.666666666668,16489,16489.333333333332,16489.666666666668,16490,16490.333333333332,16490.666666666668,16491,16491.333333333332,16491.666666666668,16492,16492.333333333332,16492.666666666668,16493,16493.333333333332,16493.666666666668,16494,16494.333333333332,16494.666666666668,16495,16495.333333333332,16495.666666666668,16496,16496.333333333332,16496.666666666668,16497,16497.333333333332,16497.666666666668,16498,16498.333333333332,16498.666666666668,16499,16499.333333333332,16499.666666666668,16500,16500.333333333332,16500.666666666668,16501,16501.333333333332,16501.666666666668,16502,16502.333333333332,16502.666666666668,16503,16503.333333333332,16503.666666666668,16504,16504.333333333332,16504.666666666668,16505,16505.333333333332,16505.666666666668,16506,16506.333333333332,16506.666666666668,16507,16507.333333333332,16507.666666666668,16508,16508.333333333332,16508.666666666668,16509,16509.333333333332,16509.666666666668,16510,16510.333333333332,16510.666666666668,16511,16511.333333333332,16511.666666666668,16512,16512.333333333332,16512.666666666668,16513,16513.333333333332,16513.666666666668,16514,16514.333333333332,16514.666666666668,16515,16515.333333333332,16515.666666666668,16516,16516.333333333332,16516.666666666668,16517,16517.333333333332,16517.666666666668,16518,16518.333333333332,16518.666666666668,16519,16519.333333333332,16519.666666666668,16520,16520.333333333332,16520.666666666668,16521,16521.333333333332,16521.666666666668,16522,16522.333333333332,16522.666666666668,16523,16523.333333333332,16523.666666666668,16524,16524.333333333332,16524.666666666668,16525,16525.333333333332,16525.666666666668,16526,16526.333333333332,16526.666666666668,16527,16527.333333333332,16527.666666666668,16528,16528.333333333332,16528.666666666668,16529,16529.333333333332,16529.666666666668,16530,16530.333333333332,16530.666666666668,16531,16531.333333333332,16531.666666666668,16532,16532.333333333332,16532.666666666668,16533,16533.333333333332,16533.666666666668,16534,16534.333333333332,16534.666666666668,16535,16535.333333333332,16535.666666666668,16536,16536.333333333332,16536.666666666668,16537,16537.333333333332,16537.666666666668,16538,16538.333333333332,16538.666666666668,16539,16539.333333333332,16539.666666666668,16540,16540.333333333332,16540.666666666668,16541,16541.333333333332,16541.666666666668,16542,16542.333333333332,16542.666666666668,16543,16543.333333333332,16543.666666666668,16544,16544.333333333332,16544.666666666668,16545,16545.333333333332,16545.666666666668,16546,16546.333333333332,16546.666666666668,16547,16547.333333333332,16547.666666666668,16548,16548.333333333332,16548.666666666668,16549,16549.333333333332,16549.666666666668,16550,16550.333333333332,16550.666666666668,16551,16551.333333333332,16551.666666666668,16552,16552.333333333332,16552.666666666668,16553,16553.333333333332,16553.666666666668,16554,16554.333333333332,16554.666666666668,16555,16555.333333333332,16555.666666666668,16556,16556.333333333332,16556.666666666668,16557,16557.333333333332,16557.666666666668,16558,16558.333333333332,16558.666666666668,16559,16559.333333333332,16559.666666666668,16560,16560.333333333332,16560.666666666668,16561,16561.333333333332,16561.666666666668,16562,16562.333333333332,16562.666666666668,16563,16563.333333333332,16563.666666666668,16564,16564.333333333332,16564.666666666668,16565,16565.333333333332,16565.666666666668,16566,16566.333333333332,16566.666666666668,16567,16567.333333333332,16567.666666666668,16568,16568.333333333332,16568.666666666668,16569,16569.333333333332,16569.666666666668,16570,16570.333333333332,16570.666666666668,16571,16571.333333333332,16571.666666666668,16572,16572.333333333332,16572.666666666668,16573,16573.333333333332,16573.666666666668,16574,16574.333333333332,16574.666666666668,16575,16575.333333333332,16575.666666666668,16576,16576.333333333332,16576.666666666668,16577,16577.333333333332,16577.666666666668,16578,16578.333333333332,16578.666666666668,16579,16579.333333333332,16579.666666666668,16580,16580.333333333332,16580.666666666668,16581,16581.333333333332,16581.666666666668,16582,16582.333333333332,16582.666666666668,16583,16583.333333333332,16583.666666666668,16584,16584.333333333332,16584.666666666668,16585,16585.333333333332,16585.666666666668,16586,16586.333333333332,16586.666666666668,16587,16587.333333333332,16587.666666666668,16588,16588.333333333332,16588.666666666668,16589,16589.333333333332,16589.666666666668,16590,16590.333333333332,16590.666666666668,16591,16591.333333333332,16591.666666666668,16592,16592.333333333332,16592.666666666668,16593,16593.333333333332,16593.666666666668,16594,16594.333333333332,16594.666666666668,16595,16595.333333333332,16595.666666666668,16596,16596.333333333332,16596.666666666668,16597,16597.333333333332,16597.666666666668,16598,16598.333333333332,16598.666666666668,16599,16599.333333333332,16599.666666666668,16600,16600.333333333332,16600.666666666668,16601,16601.333333333332,16601.666666666668,16602,16602.333333333332,16602.666666666668,16603,16603.333333333332,16603.666666666668,16604,16604.333333333332,16604.666666666668,16605,16605.333333333332,16605.666666666668,16606,16606.333333333332,16606.666666666668,16607,16607.333333333332,16607.666666666668,16608,16608.333333333332,16608.666666666668,16609,16609.333333333332,16609.666666666668,16610,16610.333333333332,16610.666666666668,16611,16611.333333333332,16611.666666666668,16612,16612.333333333332,16612.666666666668,16613,16613.333333333332,16613.666666666668,16614,16614.333333333332,16614.666666666668,16615,16615.333333333332,16615.666666666668,16616,16616.333333333332,16616.666666666668,16617,16617.333333333332,16617.666666666668,16618,16618.333333333332,16618.666666666668,16619,16619.333333333332,16619.666666666668,16620,16620.333333333332,16620.666666666668,16621,16621.333333333332,16621.666666666668,16622,16622.333333333332,16622.666666666668,16623,16623.333333333332,16623.666666666668,16624,16624.333333333332,16624.666666666668,16625,16625.333333333332,16625.666666666668,16626,16626.333333333332,16626.666666666668,16627,16627.333333333332,16627.666666666668,16628,16628.333333333332,16628.666666666668,16629,16629.333333333332,16629.666666666668,16630,16630.333333333332,16630.666666666668,16631,16631.333333333332,16631.666666666668,16632,16632.333333333332,16632.666666666668,16633,16633.333333333332,16633.666666666668,16634,16634.333333333332,16634.666666666668,16635,16635.333333333332,16635.666666666668,16636,16636.333333333332,16636.666666666668,16637,16637.333333333332,16637.666666666668,16638,16638.333333333332,16638.666666666668,16639,16639.333333333332,16639.666666666668,16640,16640.333333333332,16640.666666666668,16641,16641.333333333332,16641.666666666668,16642,16642.333333333332,16642.666666666668,16643,16643.333333333332,16643.666666666668,16644,16644.333333333332,16644.666666666668,16645,16645.333333333332,16645.666666666668,16646,16646.333333333332,16646.666666666668,16647,16647.333333333332,16647.666666666668,16648,16648.333333333332,16648.666666666668,16649,16649.333333333332,16649.666666666668,16650,16650.333333333332,16650.666666666668,16651,16651.333333333332,16651.666666666668,16652,16652.333333333332,16652.666666666668,16653,16653.333333333332,16653.666666666668,16654,16654.333333333332,16654.666666666668,16655,16655.333333333332,16655.666666666668,16656,16656.333333333332,16656.666666666668,16657,16657.333333333332,16657.666666666668,16658,16658.333333333332,16658.666666666668,16659,16659.333333333332,16659.666666666668,16660,16660.333333333332,16660.666666666668,16661,16661.333333333332,16661.666666666668,16662,16662.333333333332,16662.666666666668,16663,16663.333333333332,16663.666666666668,16664,16664.333333333332,16664.666666666668,16665,16665.333333333332,16665.666666666668,16666,16666.333333333332,16666.666666666668,16667,16667.333333333332,16667.666666666668,16668,16668.333333333332,16668.666666666668,16669,16669.333333333332,16669.666666666668,16670,16670.333333333332,16670.666666666668,16671,16671.333333333332,16671.666666666668,16672,16672.333333333332,16672.666666666668,16673,16673.333333333332,16673.666666666668,16674,16674.333333333332,16674.666666666668,16675,16675.333333333332,16675.666666666668,16676,16676.333333333332,16676.666666666668,16677,16677.333333333332,16677.666666666668,16678,16678.333333333332,16678.666666666668,16679,16679.333333333332,16679.666666666668,16680,16680.333333333332,16680.666666666668,16681,16681.333333333332,16681.666666666668,16682,16682.333333333332,16682.666666666668,16683,16683.333333333332,16683.666666666668,16684,16684.333333333332,16684.666666666668,16685,16685.333333333332,16685.666666666668,16686,16686.333333333332,16686.666666666668,16687,16687.333333333332,16687.666666666668,16688,16688.333333333332,16688.666666666668,16689,16689.333333333332,16689.666666666668,16690,16690.333333333332,16690.666666666668,16691,16691.333333333332,16691.666666666668,16692,16692.333333333332,16692.666666666668,16693,16693.333333333332,16693.666666666668,16694,16694.333333333332,16694.666666666668,16695,16695.333333333332,16695.666666666668,16696,16696.333333333332,16696.666666666668,16697,16697.333333333332,16697.666666666668,16698,16698.333333333332,16698.666666666668,16699,16699.333333333332,16699.666666666668,16700,16700.333333333332,16700.666666666668,16701,16701.333333333332,16701.666666666668,16702,16702.333333333332,16702.666666666668,16703,16703.333333333332,16703.666666666668,16704,16704.333333333332,16704.666666666668,16705,16705.333333333332,16705.666666666668,16706,16706.333333333332,16706.666666666668,16707,16707.333333333332,16707.666666666668,16708,16708.333333333332,16708.666666666668,16709,16709.333333333332,16709.666666666668,16710,16710.333333333332,16710.666666666668,16711,16711.333333333332,16711.666666666668,16712,16712.333333333332,16712.666666666668,16713,16713.333333333332,16713.666666666668,16714,16714.333333333332,16714.666666666668,16715,16715.333333333332,16715.666666666668,16716,16716.333333333332,16716.666666666668,16717,16717.333333333332,16717.666666666668,16718,16718.333333333332,16718.666666666668,16719,16719.333333333332,16719.666666666668,16720,16720.333333333332,16720.666666666668,16721,16721.333333333332,16721.666666666668,16722,16722.333333333332,16722.666666666668,16723,16723.333333333332,16723.666666666668,16724,16724.333333333332,16724.666666666668,16725,16725.333333333332,16725.666666666668,16726,16726.333333333332,16726.666666666668,16727,16727.333333333332,16727.666666666668,16728,16728.333333333332,16728.666666666668,16729,16729.333333333332,16729.666666666668,16730,16730.333333333332,16730.666666666668,16731,16731.333333333332,16731.666666666668,16732,16732.333333333332,16732.666666666668,16733,16733.333333333332,16733.666666666668,16734,16734.333333333332,16734.666666666668,16735,16735.333333333332,16735.666666666668,16736,16736.333333333332,16736.666666666668,16737,16737.333333333332,16737.666666666668,16738,16738.333333333332,16738.666666666668,16739,16739.333333333332,16739.666666666668,16740,16740.333333333332,16740.666666666668,16741,16741.333333333332,16741.666666666668,16742,16742.333333333332,16742.666666666668,16743,16743.333333333332,16743.666666666668,16744,16744.333333333332,16744.666666666668,16745,16745.333333333332,16745.666666666668,16746,16746.333333333332,16746.666666666668,16747,16747.333333333332,16747.666666666668,16748,16748.333333333332,16748.666666666668,16749,16749.333333333332,16749.666666666668,16750,16750.333333333332,16750.666666666668,16751,16751.333333333332,16751.666666666668,16752,16752.333333333332,16752.666666666668,16753,16753.333333333332,16753.666666666668,16754,16754.333333333332,16754.666666666668,16755,16755.333333333332,16755.666666666668,16756,16756.333333333332,16756.666666666668,16757,16757.333333333332,16757.666666666668,16758,16758.333333333332,16758.666666666668,16759,16759.333333333332,16759.666666666668,16760,16760.333333333332,16760.666666666668,16761,16761.333333333332,16761.666666666668,16762,16762.333333333332,16762.666666666668,16763,16763.333333333332,16763.666666666668,16764,16764.333333333332,16764.666666666668,16765,16765.333333333332,16765.666666666668,16766,16766.333333333332,16766.666666666668,16767,16767.333333333332,16767.666666666668,16768,16768.333333333332,16768.666666666668,16769,16769.333333333332,16769.666666666668,16770,16770.333333333332,16770.666666666668,16771,16771.333333333332,16771.666666666668,16772,16772.333333333332,16772.666666666668,16773,16773.333333333332,16773.666666666668,16774,16774.333333333332,16774.666666666668,16775,16775.333333333332,16775.666666666668,16776,16776.333333333332,16776.666666666668,16777,16777.333333333332,16777.666666666668,16778,16778.333333333332,16778.666666666668,16779,16779.333333333332,16779.666666666668,16780,16780.333333333332,16780.666666666668,16781,16781.333333333332,16781.666666666668,16782,16782.333333333332,16782.666666666668,16783,16783.333333333332,16783.666666666668,16784,16784.333333333332,16784.666666666668,16785,16785.333333333332,16785.666666666668,16786,16786.333333333332,16786.666666666668,16787,16787.333333333332,16787.666666666668,16788,16788.333333333332,16788.666666666668,16789,16789.333333333332,16789.666666666668,16790,16790.333333333332,16790.666666666668,16791,16791.333333333332,16791.666666666668,16792,16792.333333333332,16792.666666666668,16793,16793.333333333332,16793.666666666668,16794,16794.333333333332,16794.666666666668,16795,16795.333333333332,16795.666666666668,16796,16796.333333333332,16796.666666666668,16797,16797.333333333332,16797.666666666668,16798,16798.333333333332,16798.666666666668,16799,16799.333333333332,16799.666666666668,16800,16800.333333333332,16800.666666666668,16801,16801.333333333332,16801.666666666668,16802,16802.333333333332,16802.666666666668,16803,16803.333333333332,16803.666666666668,16804,16804.333333333332,16804.666666666668,16805,16805.333333333332,16805.666666666668,16806,16806.333333333332,16806.666666666668,16807,16807.333333333332,16807.666666666668,16808,16808.333333333332,16808.666666666668,16809,16809.333333333332,16809.666666666668,16810,16810.333333333332,16810.666666666668,16811,16811.333333333332,16811.666666666668,16812,16812.333333333332,16812.666666666668,16813,16813.333333333332,16813.666666666668,16814,16814.333333333332,16814.666666666668,16815,16815.333333333332,16815.666666666668,16816,16816.333333333332,16816.666666666668,16817,16817.333333333332,16817.666666666668,16818,16818.333333333332,16818.666666666668,16819,16819.333333333332,16819.666666666668,16820,16820.333333333332,16820.666666666668,16821,16821.333333333332,16821.666666666668,16822,16822.333333333332,16822.666666666668,16823,16823.333333333332,16823.666666666668,16824,16824.333333333332,16824.666666666668,16825,16825.333333333332,16825.666666666668,16826,16826.333333333332,16826.666666666668,16827,16827.333333333332,16827.666666666668,16828,16828.333333333332,16828.666666666668,16829,16829.333333333332,16829.666666666668,16830,16830.333333333332,16830.666666666668,16831,16831.333333333332,16831.666666666668,16832,16832.333333333332,16832.666666666668,16833,16833.333333333332,16833.666666666668,16834,16834.333333333332,16834.666666666668,16835,16835.333333333332,16835.666666666668,16836,16836.333333333332,16836.666666666668,16837,16837.333333333332,16837.666666666668,16838,16838.333333333332,16838.666666666668,16839,16839.333333333332,16839.666666666668,16840,16840.333333333332,16840.666666666668,16841,16841.333333333332,16841.666666666668,16842,16842.333333333332,16842.666666666668,16843,16843.333333333332,16843.666666666668,16844,16844.333333333332,16844.666666666668,16845,16845.333333333332,16845.666666666668,16846,16846.333333333332,16846.666666666668,16847,16847.333333333332,16847.666666666668,16848,16848.333333333332,16848.666666666668,16849,16849.333333333332,16849.666666666668,16850,16850.333333333332,16850.666666666668,16851,16851.333333333332,16851.666666666668,16852,16852.333333333332,16852.666666666668,16853,16853.333333333332,16853.666666666668,16854,16854.333333333332,16854.666666666668,16855,16855.333333333332,16855.666666666668,16856,16856.333333333332,16856.666666666668,16857,16857.333333333332,16857.666666666668,16858,16858.333333333332,16858.666666666668,16859,16859.333333333332,16859.666666666668,16860,16860.333333333332,16860.666666666668,16861,16861.333333333332,16861.666666666668,16862,16862.333333333332,16862.666666666668,16863,16863.333333333332,16863.666666666668,16864,16864.333333333332,16864.666666666668,16865,16865.333333333332,16865.666666666668,16866,16866.333333333332,16866.666666666668,16867,16867.333333333332,16867.666666666668,16868,16868.333333333332,16868.666666666668,16869,16869.333333333332,16869.666666666668,16870,16870.333333333332,16870.666666666668,16871,16871.333333333332,16871.666666666668,16872,16872.333333333332,16872.666666666668,16873,16873.333333333332,16873.666666666668,16874,16874.333333333332,16874.666666666668,16875,16875.333333333332,16875.666666666668,16876,16876.333333333332,16876.666666666668,16877,16877.333333333332,16877.666666666668,16878,16878.333333333332,16878.666666666668,16879,16879.333333333332,16879.666666666668,16880,16880.333333333332,16880.666666666668,16881,16881.333333333332,16881.666666666668,16882,16882.333333333332,16882.666666666668,16883,16883.333333333332,16883.666666666668,16884,16884.333333333332,16884.666666666668,16885,16885.333333333332,16885.666666666668,16886,16886.333333333332,16886.666666666668,16887,16887.333333333332,16887.666666666668,16888,16888.333333333332,16888.666666666668,16889,16889.333333333332,16889.666666666668,16890,16890.333333333332,16890.666666666668,16891,16891.333333333332,16891.666666666668,16892,16892.333333333332,16892.666666666668,16893,16893.333333333332,16893.666666666668,16894,16894.333333333332,16894.666666666668,16895,16895.333333333332,16895.666666666668,16896,16896.333333333332,16896.666666666668,16897,16897.333333333332,16897.666666666668,16898,16898.333333333332,16898.666666666668,16899,16899.333333333332,16899.666666666668,16900,16900.333333333332,16900.666666666668,16901,16901.333333333332,16901.666666666668,16902,16902.333333333332,16902.666666666668,16903,16903.333333333332,16903.666666666668,16904,16904.333333333332,16904.666666666668,16905,16905.333333333332,16905.666666666668,16906,16906.333333333332,16906.666666666668,16907,16907.333333333332,16907.666666666668,16908,16908.333333333332,16908.666666666668,16909,16909.333333333332,16909.666666666668,16910,16910.333333333332,16910.666666666668,16911,16911.333333333332,16911.666666666668,16912,16912.333333333332,16912.666666666668,16913,16913.333333333332,16913.666666666668,16914,16914.333333333332,16914.666666666668,16915,16915.333333333332,16915.666666666668,16916,16916.333333333332,16916.666666666668,16917,16917.333333333332,16917.666666666668,16918,16918.333333333332,16918.666666666668,16919,16919.333333333332,16919.666666666668,16920,16920.333333333332,16920.666666666668,16921,16921.333333333332,16921.666666666668,16922,16922.333333333332,16922.666666666668,16923,16923.333333333332,16923.666666666668,16924,16924.333333333332,16924.666666666668,16925,16925.333333333332,16925.666666666668,16926,16926.333333333332,16926.666666666668,16927,16927.333333333332,16927.666666666668,16928,16928.333333333332,16928.666666666668,16929,16929.333333333332,16929.666666666668,16930,16930.333333333332,16930.666666666668,16931,16931.333333333332,16931.666666666668,16932,16932.333333333332,16932.666666666668,16933,16933.333333333332,16933.666666666668,16934,16934.333333333332,16934.666666666668,16935,16935.333333333332,16935.666666666668,16936,16936.333333333332,16936.666666666668,16937,16937.333333333332,16937.666666666668,16938,16938.333333333332,16938.666666666668,16939,16939.333333333332,16939.666666666668,16940,16940.333333333332,16940.666666666668,16941,16941.333333333332,16941.666666666668,16942,16942.333333333332,16942.666666666668,16943,16943.333333333332,16943.666666666668,16944,16944.333333333332,16944.666666666668,16945,16945.333333333332,16945.666666666668,16946,16946.333333333332,16946.666666666668,16947,16947.333333333332,16947.666666666668,16948,16948.333333333332,16948.666666666668,16949,16949.333333333332,16949.666666666668,16950,16950.333333333332,16950.666666666668,16951,16951.333333333332,16951.666666666668,16952,16952.333333333332,16952.666666666668,16953,16953.333333333332,16953.666666666668,16954,16954.333333333332,16954.666666666668,16955,16955.333333333332,16955.666666666668,16956,16956.333333333332,16956.666666666668,16957,16957.333333333332,16957.666666666668,16958,16958.333333333332,16958.666666666668,16959,16959.333333333332,16959.666666666668,16960,16960.333333333332,16960.666666666668,16961,16961.333333333332,16961.666666666668,16962,16962.333333333332,16962.666666666668,16963,16963.333333333332,16963.666666666668,16964,16964.333333333332,16964.666666666668,16965,16965.333333333332,16965.666666666668,16966,16966.333333333332,16966.666666666668,16967,16967.333333333332,16967.666666666668,16968,16968.333333333332,16968.666666666668,16969,16969.333333333332,16969.666666666668,16970,16970.333333333332,16970.666666666668,16971,16971.333333333332,16971.666666666668,16972,16972.333333333332,16972.666666666668,16973,16973.333333333332,16973.666666666668,16974,16974.333333333332,16974.666666666668,16975,16975.333333333332,16975.666666666668,16976,16976.333333333332,16976.666666666668,16977,16977.333333333332,16977.666666666668,16978,16978.333333333332,16978.666666666668,16979,16979.333333333332,16979.666666666668,16980,16980.333333333332,16980.666666666668,16981,16981.333333333332,16981.666666666668,16982,16982.333333333332,16982.666666666668,16983,16983.333333333332,16983.666666666668,16984,16984.333333333332,16984.666666666668,16985,16985.333333333332,16985.666666666668,16986,16986.333333333332,16986.666666666668,16987,16987.333333333332,16987.666666666668,16988,16988.333333333332,16988.666666666668,16989,16989.333333333332,16989.666666666668,16990,16990.333333333332,16990.666666666668,16991,16991.333333333332,16991.666666666668,16992,16992.333333333332,16992.666666666668,16993,16993.333333333332,16993.666666666668,16994,16994.333333333332,16994.666666666668,16995,16995.333333333332,16995.666666666668,16996,16996.333333333332,16996.666666666668,16997,16997.333333333332,16997.666666666668,16998,16998.333333333332,16998.666666666668,16999,16999.333333333332,16999.666666666668,17000,17000.333333333332,17000.666666666668,17001,17001.333333333332,17001.666666666668,17002,17002.333333333332,17002.666666666668,17003,17003.333333333332,17003.666666666668,17004,17004.333333333332,17004.666666666668,17005,17005.333333333332,17005.666666666668,17006,17006.333333333332,17006.666666666668,17007,17007.333333333332,17007.666666666668,17008,17008.333333333332,17008.666666666668,17009,17009.333333333332,17009.666666666668,17010,17010.333333333332,17010.666666666668,17011,17011.333333333332,17011.666666666668,17012,17012.333333333332,17012.666666666668,17013,17013.333333333332,17013.666666666668,17014,17014.333333333332,17014.666666666668,17015,17015.333333333332,17015.666666666668,17016,17016.333333333332,17016.666666666668,17017,17017.333333333332,17017.666666666668,17018,17018.333333333332,17018.666666666668,17019,17019.333333333332,17019.666666666668,17020,17020.333333333332,17020.666666666668,17021,17021.333333333332,17021.666666666668,17022,17022.333333333332,17022.666666666668,17023,17023.333333333332,17023.666666666668,17024,17024.333333333332,17024.666666666668,17025,17025.333333333332,17025.666666666668,17026,17026.333333333332,17026.666666666668,17027,17027.333333333332,17027.666666666668,17028,17028.333333333332,17028.666666666668,17029,17029.333333333332,17029.666666666668,17030,17030.333333333332,17030.666666666668,17031,17031.333333333332,17031.666666666668,17032,17032.333333333332,17032.666666666668,17033,17033.333333333332,17033.666666666668,17034,17034.333333333332,17034.666666666668,17035,17035.333333333332,17035.666666666668,17036,17036.333333333332,17036.666666666668,17037,17037.333333333332,17037.666666666668,17038,17038.333333333332,17038.666666666668,17039,17039.333333333332,17039.666666666668,17040,17040.333333333332,17040.666666666668,17041,17041.333333333332,17041.666666666668,17042,17042.333333333332,17042.666666666668,17043,17043.333333333332,17043.666666666668,17044,17044.333333333332,17044.666666666668,17045,17045.333333333332,17045.666666666668,17046,17046.333333333332,17046.666666666668,17047,17047.333333333332,17047.666666666668,17048,17048.333333333332,17048.666666666668,17049,17049.333333333332,17049.666666666668,17050,17050.333333333332,17050.666666666668,17051,17051.333333333332,17051.666666666668,17052,17052.333333333332,17052.666666666668,17053,17053.333333333332,17053.666666666668,17054,17054.333333333332,17054.666666666668,17055,17055.333333333332,17055.666666666668,17056,17056.333333333332,17056.666666666668,17057,17057.333333333332,17057.666666666668,17058,17058.333333333332,17058.666666666668,17059,17059.333333333332,17059.666666666668,17060,17060.333333333332,17060.666666666668,17061,17061.333333333332,17061.666666666668,17062,17062.333333333332,17062.666666666668,17063,17063.333333333332,17063.666666666668,17064,17064.333333333332,17064.666666666668,17065,17065.333333333332,17065.666666666668,17066,17066.333333333332,17066.666666666668,17067,17067.333333333332,17067.666666666668,17068,17068.333333333332,17068.666666666668,17069,17069.333333333332,17069.666666666668,17070,17070.333333333332,17070.666666666668,17071,17071.333333333332,17071.666666666668,17072,17072.333333333332,17072.666666666668,17073,17073.333333333332,17073.666666666668,17074,17074.333333333332,17074.666666666668,17075,17075.333333333332,17075.666666666668,17076,17076.333333333332,17076.666666666668,17077,17077.333333333332,17077.666666666668,17078,17078.333333333332,17078.666666666668,17079,17079.333333333332,17079.666666666668,17080,17080.333333333332,17080.666666666668,17081,17081.333333333332,17081.666666666668,17082,17082.333333333332,17082.666666666668,17083,17083.333333333332,17083.666666666668,17084,17084.333333333332,17084.666666666668,17085,17085.333333333332,17085.666666666668,17086,17086.333333333332,17086.666666666668,17087,17087.333333333332,17087.666666666668,17088,17088.333333333332,17088.666666666668,17089,17089.333333333332,17089.666666666668,17090,17090.333333333332,17090.666666666668,17091,17091.333333333332,17091.666666666668,17092,17092.333333333332,17092.666666666668,17093,17093.333333333332,17093.666666666668,17094,17094.333333333332,17094.666666666668,17095,17095.333333333332,17095.666666666668,17096,17096.333333333332,17096.666666666668,17097,17097.333333333332,17097.666666666668,17098,17098.333333333332,17098.666666666668,17099,17099.333333333332,17099.666666666668,17100,17100.333333333332,17100.666666666668,17101,17101.333333333332,17101.666666666668,17102,17102.333333333332,17102.666666666668,17103,17103.333333333332,17103.666666666668,17104,17104.333333333332,17104.666666666668,17105,17105.333333333332,17105.666666666668,17106,17106.333333333332,17106.666666666668,17107,17107.333333333332,17107.666666666668,17108,17108.333333333332,17108.666666666668,17109,17109.333333333332,17109.666666666668,17110,17110.333333333332,17110.666666666668,17111,17111.333333333332,17111.666666666668,17112,17112.333333333332,17112.666666666668,17113,17113.333333333332,17113.666666666668,17114,17114.333333333332,17114.666666666668,17115,17115.333333333332,17115.666666666668,17116,17116.333333333332,17116.666666666668,17117,17117.333333333332,17117.666666666668,17118,17118.333333333332,17118.666666666668,17119,17119.333333333332,17119.666666666668,17120,17120.333333333332,17120.666666666668,17121,17121.333333333332,17121.666666666668,17122,17122.333333333332,17122.666666666668,17123,17123.333333333332,17123.666666666668,17124,17124.333333333332,17124.666666666668,17125,17125.333333333332,17125.666666666668,17126,17126.333333333332,17126.666666666668,17127,17127.333333333332,17127.666666666668,17128,17128.333333333332,17128.666666666668,17129,17129.333333333332,17129.666666666668,17130,17130.333333333332,17130.666666666668,17131,17131.333333333332,17131.666666666668,17132,17132.333333333332,17132.666666666668,17133,17133.333333333332,17133.666666666668,17134,17134.333333333332,17134.666666666668,17135,17135.333333333332,17135.666666666668,17136,17136.333333333332,17136.666666666668,17137,17137.333333333332,17137.666666666668,17138,17138.333333333332,17138.666666666668,17139,17139.333333333332,17139.666666666668,17140,17140.333333333332,17140.666666666668,17141,17141.333333333332,17141.666666666668,17142,17142.333333333332,17142.666666666668,17143,17143.333333333332,17143.666666666668,17144,17144.333333333332,17144.666666666668,17145,17145.333333333332,17145.666666666668,17146,17146.333333333332,17146.666666666668,17147,17147.333333333332,17147.666666666668,17148,17148.333333333332,17148.666666666668,17149,17149.333333333332,17149.666666666668,17150,17150.333333333332,17150.666666666668,17151,17151.333333333332,17151.666666666668,17152,17152.333333333332,17152.666666666668,17153,17153.333333333332,17153.666666666668,17154,17154.333333333332,17154.666666666668,17155,17155.333333333332,17155.666666666668,17156,17156.333333333332,17156.666666666668,17157,17157.333333333332,17157.666666666668,17158,17158.333333333332,17158.666666666668,17159,17159.333333333332,17159.666666666668,17160,17160.333333333332,17160.666666666668,17161,17161.333333333332,17161.666666666668,17162,17162.333333333332,17162.666666666668,17163,17163.333333333332,17163.666666666668,17164,17164.333333333332,17164.666666666668,17165,17165.333333333332,17165.666666666668,17166,17166.333333333332,17166.666666666668,17167,17167.333333333332,17167.666666666668,17168,17168.333333333332,17168.666666666668,17169,17169.333333333332,17169.666666666668,17170,17170.333333333332,17170.666666666668,17171,17171.333333333332,17171.666666666668,17172,17172.333333333332,17172.666666666668,17173,17173.333333333332,17173.666666666668,17174,17174.333333333332,17174.666666666668,17175,17175.333333333332,17175.666666666668,17176,17176.333333333332,17176.666666666668,17177,17177.333333333332,17177.666666666668,17178,17178.333333333332,17178.666666666668,17179,17179.333333333332,17179.666666666668,17180,17180.333333333332,17180.666666666668,17181,17181.333333333332,17181.666666666668,17182,17182.333333333332,17182.666666666668,17183,17183.333333333332,17183.666666666668,17184,17184.333333333332,17184.666666666668,17185,17185.333333333332,17185.666666666668,17186,17186.333333333332,17186.666666666668,17187,17187.333333333332,17187.666666666668,17188,17188.333333333332,17188.666666666668,17189,17189.333333333332,17189.666666666668,17190,17190.333333333332,17190.666666666668,17191,17191.333333333332,17191.666666666668,17192,17192.333333333332,17192.666666666668,17193,17193.333333333332,17193.666666666668,17194,17194.333333333332,17194.666666666668,17195,17195.333333333332,17195.666666666668,17196,17196.333333333332,17196.666666666668,17197,17197.333333333332,17197.666666666668,17198,17198.333333333332,17198.666666666668,17199,17199.333333333332,17199.666666666668,17200,17200.333333333332,17200.666666666668,17201,17201.333333333332,17201.666666666668,17202,17202.333333333332,17202.666666666668,17203,17203.333333333332,17203.666666666668,17204,17204.333333333332,17204.666666666668,17205,17205.333333333332,17205.666666666668,17206,17206.333333333332,17206.666666666668,17207,17207.333333333332,17207.666666666668,17208,17208.333333333332,17208.666666666668,17209,17209.333333333332,17209.666666666668,17210,17210.333333333332,17210.666666666668,17211,17211.333333333332,17211.666666666668,17212,17212.333333333332,17212.666666666668,17213,17213.333333333332,17213.666666666668,17214,17214.333333333332,17214.666666666668,17215,17215.333333333332,17215.666666666668,17216,17216.333333333332,17216.666666666668,17217,17217.333333333332,17217.666666666668,17218,17218.333333333332,17218.666666666668,17219,17219.333333333332,17219.666666666668,17220,17220.333333333332,17220.666666666668,17221,17221.333333333332,17221.666666666668,17222,17222.333333333332,17222.666666666668,17223,17223.333333333332,17223.666666666668,17224,17224.333333333332,17224.666666666668,17225,17225.333333333332,17225.666666666668,17226,17226.333333333332,17226.666666666668,17227,17227.333333333332,17227.666666666668,17228,17228.333333333332,17228.666666666668,17229,17229.333333333332,17229.666666666668,17230,17230.333333333332,17230.666666666668,17231,17231.333333333332,17231.666666666668,17232,17232.333333333332,17232.666666666668,17233,17233.333333333332,17233.666666666668,17234,17234.333333333332,17234.666666666668,17235,17235.333333333332,17235.666666666668,17236,17236.333333333332,17236.666666666668,17237,17237.333333333332,17237.666666666668,17238,17238.333333333332,17238.666666666668,17239,17239.333333333332,17239.666666666668,17240,17240.333333333332,17240.666666666668,17241,17241.333333333332,17241.666666666668,17242,17242.333333333332,17242.666666666668,17243,17243.333333333332,17243.666666666668,17244,17244.333333333332,17244.666666666668,17245,17245.333333333332,17245.666666666668,17246,17246.333333333332,17246.666666666668,17247,17247.333333333332,17247.666666666668,17248,17248.333333333332,17248.666666666668,17249,17249.333333333332,17249.666666666668,17250,17250.333333333332,17250.666666666668,17251,17251.333333333332,17251.666666666668,17252,17252.333333333332,17252.666666666668,17253,17253.333333333332,17253.666666666668,17254,17254.333333333332,17254.666666666668,17255,17255.333333333332,17255.666666666668,17256,17256.333333333332,17256.666666666668,17257,17257.333333333332,17257.666666666668,17258,17258.333333333332,17258.666666666668,17259,17259.333333333332,17259.666666666668,17260,17260.333333333332,17260.666666666668,17261,17261.333333333332,17261.666666666668,17262,17262.333333333332,17262.666666666668,17263,17263.333333333332,17263.666666666668,17264,17264.333333333332,17264.666666666668,17265,17265.333333333332,17265.666666666668,17266,17266.333333333332,17266.666666666668,17267,17267.333333333332,17267.666666666668,17268,17268.333333333332,17268.666666666668,17269,17269.333333333332,17269.666666666668,17270,17270.333333333332,17270.666666666668,17271,17271.333333333332,17271.666666666668,17272,17272.333333333332,17272.666666666668,17273,17273.333333333332,17273.666666666668,17274,17274.333333333332,17274.666666666668,17275,17275.333333333332,17275.666666666668,17276,17276.333333333332,17276.666666666668,17277,17277.333333333332,17277.666666666668,17278,17278.333333333332,17278.666666666668,17279,17279.333333333332,17279.666666666668,17280,17280.333333333332,17280.666666666668,17281,17281.333333333332,17281.666666666668,17282,17282.333333333332,17282.666666666668,17283,17283.333333333332,17283.666666666668,17284,17284.333333333332,17284.666666666668,17285,17285.333333333332,17285.666666666668,17286,17286.333333333332,17286.666666666668,17287,17287.333333333332,17287.666666666668,17288,17288.333333333332,17288.666666666668,17289,17289.333333333332,17289.666666666668,17290,17290.333333333332,17290.666666666668,17291,17291.333333333332,17291.666666666668,17292,17292.333333333332,17292.666666666668,17293,17293.333333333332,17293.666666666668,17294,17294.333333333332,17294.666666666668,17295,17295.333333333332,17295.666666666668,17296,17296.333333333332,17296.666666666668,17297,17297.333333333332,17297.666666666668,17298,17298.333333333332,17298.666666666668,17299,17299.333333333332,17299.666666666668,17300,17300.333333333332,17300.666666666668,17301,17301.333333333332,17301.666666666668,17302,17302.333333333332,17302.666666666668,17303,17303.333333333332,17303.666666666668,17304,17304.333333333332,17304.666666666668,17305,17305.333333333332,17305.666666666668,17306,17306.333333333332,17306.666666666668,17307,17307.333333333332,17307.666666666668,17308,17308.333333333332,17308.666666666668,17309,17309.333333333332,17309.666666666668,17310,17310.333333333332,17310.666666666668,17311,17311.333333333332,17311.666666666668,17312,17312.333333333332,17312.666666666668,17313,17313.333333333332,17313.666666666668,17314,17314.333333333332,17314.666666666668,17315,17315.333333333332,17315.666666666668,17316,17316.333333333332,17316.666666666668,17317,17317.333333333332,17317.666666666668,17318,17318.333333333332,17318.666666666668,17319,17319.333333333332,17319.666666666668,17320,17320.333333333332,17320.666666666668,17321,17321.333333333332,17321.666666666668,17322,17322.333333333332,17322.666666666668,17323,17323.333333333332,17323.666666666668,17324,17324.333333333332,17324.666666666668,17325,17325.333333333332,17325.666666666668,17326,17326.333333333332,17326.666666666668,17327,17327.333333333332,17327.666666666668,17328,17328.333333333332,17328.666666666668,17329,17329.333333333332,17329.666666666668,17330,17330.333333333332,17330.666666666668,17331,17331.333333333332,17331.666666666668,17332,17332.333333333332,17332.666666666668,17333,17333.333333333332,17333.666666666668,17334,17334.333333333332,17334.666666666668,17335,17335.333333333332,17335.666666666668,17336,17336.333333333332,17336.666666666668,17337,17337.333333333332,17337.666666666668,17338,17338.333333333332,17338.666666666668,17339,17339.333333333332,17339.666666666668,17340,17340.333333333332,17340.666666666668,17341,17341.333333333332,17341.666666666668,17342,17342.333333333332,17342.666666666668,17343,17343.333333333332,17343.666666666668,17344,17344.333333333332,17344.666666666668,17345,17345.333333333332,17345.666666666668,17346,17346.333333333332,17346.666666666668,17347,17347.333333333332,17347.666666666668,17348,17348.333333333332,17348.666666666668,17349,17349.333333333332,17349.666666666668,17350,17350.333333333332,17350.666666666668,17351,17351.333333333332,17351.666666666668,17352,17352.333333333332,17352.666666666668,17353,17353.333333333332,17353.666666666668,17354,17354.333333333332,17354.666666666668,17355,17355.333333333332,17355.666666666668,17356,17356.333333333332,17356.666666666668,17357,17357.333333333332,17357.666666666668,17358,17358.333333333332,17358.666666666668,17359,17359.333333333332,17359.666666666668,17360,17360.333333333332,17360.666666666668,17361,17361.333333333332,17361.666666666668,17362,17362.333333333332,17362.666666666668,17363,17363.333333333332,17363.666666666668,17364,17364.333333333332,17364.666666666668,17365,17365.333333333332,17365.666666666668,17366,17366.333333333332,17366.666666666668,17367,17367.333333333332,17367.666666666668,17368,17368.333333333332,17368.666666666668,17369,17369.333333333332,17369.666666666668,17370,17370.333333333332,17370.666666666668,17371,17371.333333333332,17371.666666666668,17372,17372.333333333332,17372.666666666668,17373,17373.333333333332,17373.666666666668,17374,17374.333333333332,17374.666666666668,17375,17375.333333333332,17375.666666666668,17376,17376.333333333332,17376.666666666668,17377,17377.333333333332,17377.666666666668,17378,17378.333333333332,17378.666666666668,17379,17379.333333333332,17379.666666666668,17380,17380.333333333332,17380.666666666668,17381,17381.333333333332,17381.666666666668,17382,17382.333333333332,17382.666666666668,17383,17383.333333333332,17383.666666666668,17384,17384.333333333332,17384.666666666668,17385,17385.333333333332,17385.666666666668,17386,17386.333333333332,17386.666666666668,17387,17387.333333333332,17387.666666666668,17388,17388.333333333332,17388.666666666668,17389,17389.333333333332,17389.666666666668,17390,17390.333333333332,17390.666666666668,17391,17391.333333333332,17391.666666666668,17392,17392.333333333332,17392.666666666668,17393,17393.333333333332,17393.666666666668,17394,17394.333333333332,17394.666666666668,17395,17395.333333333332,17395.666666666668,17396,17396.333333333332,17396.666666666668,17397,17397.333333333332,17397.666666666668,17398,17398.333333333332,17398.666666666668,17399,17399.333333333332,17399.666666666668,17400,17400.333333333332,17400.666666666668,17401,17401.333333333332,17401.666666666668,17402,17402.333333333332,17402.666666666668,17403,17403.333333333332,17403.666666666668,17404,17404.333333333332,17404.666666666668,17405,17405.333333333332,17405.666666666668,17406,17406.333333333332,17406.666666666668,17407,17407.333333333332,17407.666666666668,17408,17408.333333333332,17408.666666666668,17409,17409.333333333332,17409.666666666668,17410,17410.333333333332,17410.666666666668,17411,17411.333333333332,17411.666666666668,17412,17412.333333333332,17412.666666666668,17413,17413.333333333332,17413.666666666668,17414,17414.333333333332,17414.666666666668,17415,17415.333333333332,17415.666666666668,17416,17416.333333333332,17416.666666666668,17417,17417.333333333332,17417.666666666668,17418,17418.333333333332,17418.666666666668,17419,17419.333333333332,17419.666666666668,17420,17420.333333333332,17420.666666666668,17421,17421.333333333332,17421.666666666668,17422,17422.333333333332,17422.666666666668,17423,17423.333333333332,17423.666666666668,17424,17424.333333333332,17424.666666666668,17425,17425.333333333332,17425.666666666668,17426,17426.333333333332,17426.666666666668,17427,17427.333333333332,17427.666666666668,17428,17428.333333333332,17428.666666666668,17429,17429.333333333332,17429.666666666668,17430,17430.333333333332,17430.666666666668,17431,17431.333333333332,17431.666666666668,17432,17432.333333333332,17432.666666666668,17433,17433.333333333332,17433.666666666668,17434,17434.333333333332,17434.666666666668,17435,17435.333333333332,17435.666666666668,17436,17436.333333333332,17436.666666666668,17437,17437.333333333332,17437.666666666668,17438,17438.333333333332,17438.666666666668,17439,17439.333333333332,17439.666666666668,17440,17440.333333333332,17440.666666666668,17441,17441.333333333332,17441.666666666668,17442,17442.333333333332,17442.666666666668,17443,17443.333333333332,17443.666666666668,17444,17444.333333333332,17444.666666666668,17445,17445.333333333332,17445.666666666668,17446,17446.333333333332,17446.666666666668,17447,17447.333333333332,17447.666666666668,17448,17448.333333333332,17448.666666666668,17449,17449.333333333332,17449.666666666668,17450,17450.333333333332,17450.666666666668,17451,17451.333333333332,17451.666666666668,17452,17452.333333333332,17452.666666666668,17453,17453.333333333332,17453.666666666668,17454,17454.333333333332,17454.666666666668,17455,17455.333333333332,17455.666666666668,17456,17456.333333333332,17456.666666666668,17457,17457.333333333332,17457.666666666668,17458,17458.333333333332,17458.666666666668,17459,17459.333333333332,17459.666666666668,17460,17460.333333333332,17460.666666666668,17461,17461.333333333332,17461.666666666668,17462,17462.333333333332,17462.666666666668,17463,17463.333333333332,17463.666666666668,17464,17464.333333333332,17464.666666666668,17465,17465.333333333332,17465.666666666668,17466,17466.333333333332,17466.666666666668,17467,17467.333333333332,17467.666666666668,17468,17468.333333333332,17468.666666666668,17469,17469.333333333332,17469.666666666668,17470,17470.333333333332,17470.666666666668,17471,17471.333333333332,17471.666666666668,17472,17472.333333333332,17472.666666666668,17473,17473.333333333332,17473.666666666668,17474,17474.333333333332,17474.666666666668,17475,17475.333333333332,17475.666666666668,17476,17476.333333333332,17476.666666666668,17477,17477.333333333332,17477.666666666668,17478,17478.333333333332,17478.666666666668,17479,17479.333333333332,17479.666666666668,17480,17480.333333333332,17480.666666666668,17481,17481.333333333332,17481.666666666668,17482,17482.333333333332,17482.666666666668,17483,17483.333333333332,17483.666666666668,17484,17484.333333333332,17484.666666666668,17485,17485.333333333332,17485.666666666668,17486,17486.333333333332,17486.666666666668,17487,17487.333333333332,17487.666666666668,17488,17488.333333333332,17488.666666666668,17489,17489.333333333332,17489.666666666668,17490,17490.333333333332,17490.666666666668,17491,17491.333333333332,17491.666666666668,17492,17492.333333333332,17492.666666666668,17493,17493.333333333332,17493.666666666668,17494,17494.333333333332,17494.666666666668,17495,17495.333333333332,17495.666666666668,17496,17496.333333333332,17496.666666666668,17497,17497.333333333332,17497.666666666668,17498,17498.333333333332,17498.666666666668,17499,17499.333333333332,17499.666666666668,17500,17500.333333333332,17500.666666666668,17501,17501.333333333332,17501.666666666668,17502,17502.333333333332,17502.666666666668,17503,17503.333333333332,17503.666666666668,17504,17504.333333333332,17504.666666666668,17505,17505.333333333332,17505.666666666668,17506,17506.333333333332,17506.666666666668,17507,17507.333333333332,17507.666666666668,17508,17508.333333333332,17508.666666666668,17509,17509.333333333332,17509.666666666668,17510,17510.333333333332,17510.666666666668,17511,17511.333333333332,17511.666666666668,17512,17512.333333333332,17512.666666666668,17513,17513.333333333332,17513.666666666668,17514,17514.333333333332,17514.666666666668,17515,17515.333333333332,17515.666666666668,17516,17516.333333333332,17516.666666666668,17517,17517.333333333332,17517.666666666668,17518,17518.333333333332,17518.666666666668,17519,17519.333333333332,17519.666666666668,17520,17520.333333333332,17520.666666666668,17521,17521.333333333332,17521.666666666668,17522,17522.333333333332,17522.666666666668,17523,17523.333333333332,17523.666666666668,17524,17524.333333333332,17524.666666666668,17525,17525.333333333332,17525.666666666668,17526,17526.333333333332,17526.666666666668,17527,17527.333333333332,17527.666666666668,17528,17528.333333333332,17528.666666666668,17529,17529.333333333332,17529.666666666668,17530,17530.333333333332,17530.666666666668,17531,17531.333333333332,17531.666666666668,17532,17532.333333333332,17532.666666666668,17533,17533.333333333332,17533.666666666668,17534,17534.333333333332,17534.666666666668,17535,17535.333333333332,17535.666666666668,17536,17536.333333333332,17536.666666666668,17537,17537.333333333332,17537.666666666668,17538,17538.333333333332,17538.666666666668,17539,17539.333333333332,17539.666666666668,17540,17540.333333333332,17540.666666666668,17541,17541.333333333332,17541.666666666668,17542,17542.333333333332,17542.666666666668,17543,17543.333333333332,17543.666666666668,17544,17544.333333333332,17544.666666666668,17545,17545.333333333332,17545.666666666668,17546,17546.333333333332,17546.666666666668,17547,17547.333333333332,17547.666666666668,17548,17548.333333333332,17548.666666666668,17549,17549.333333333332,17549.666666666668,17550,17550.333333333332,17550.666666666668,17551,17551.333333333332,17551.666666666668,17552,17552.333333333332,17552.666666666668,17553,17553.333333333332,17553.666666666668,17554,17554.333333333332,17554.666666666668,17555,17555.333333333332,17555.666666666668,17556,17556.333333333332,17556.666666666668,17557,17557.333333333332,17557.666666666668,17558,17558.333333333332,17558.666666666668,17559,17559.333333333332,17559.666666666668,17560,17560.333333333332,17560.666666666668,17561,17561.333333333332,17561.666666666668,17562,17562.333333333332,17562.666666666668,17563,17563.333333333332,17563.666666666668,17564,17564.333333333332,17564.666666666668,17565,17565.333333333332,17565.666666666668,17566,17566.333333333332,17566.666666666668,17567,17567.333333333332,17567.666666666668,17568,17568.333333333332,17568.666666666668,17569,17569.333333333332,17569.666666666668,17570,17570.333333333332,17570.666666666668,17571,17571.333333333332,17571.666666666668,17572,17572.333333333332,17572.666666666668,17573,17573.333333333332,17573.666666666668,17574,17574.333333333332,17574.666666666668,17575,17575.333333333332,17575.666666666668,17576,17576.333333333332,17576.666666666668,17577,17577.333333333332,17577.666666666668,17578,17578.333333333332,17578.666666666668,17579,17579.333333333332,17579.666666666668,17580,17580.333333333332,17580.666666666668,17581,17581.333333333332,17581.666666666668,17582,17582.333333333332,17582.666666666668,17583,17583.333333333332,17583.666666666668,17584,17584.333333333332,17584.666666666668,17585,17585.333333333332,17585.666666666668,17586,17586.333333333332,17586.666666666668,17587,17587.333333333332,17587.666666666668,17588,17588.333333333332,17588.666666666668,17589,17589.333333333332,17589.666666666668,17590,17590.333333333332,17590.666666666668,17591,17591.333333333332,17591.666666666668,17592,17592.333333333332,17592.666666666668,17593,17593.333333333332,17593.666666666668,17594,17594.333333333332,17594.666666666668,17595,17595.333333333332,17595.666666666668,17596,17596.333333333332,17596.666666666668,17597,17597.333333333332,17597.666666666668,17598,17598.333333333332,17598.666666666668,17599,17599.333333333332,17599.666666666668,17600,17600.333333333332,17600.666666666668,17601,17601.333333333332,17601.666666666668,17602,17602.333333333332,17602.666666666668,17603,17603.333333333332,17603.666666666668,17604,17604.333333333332,17604.666666666668,17605,17605.333333333332,17605.666666666668,17606,17606.333333333332,17606.666666666668,17607,17607.333333333332,17607.666666666668,17608,17608.333333333332,17608.666666666668,17609,17609.333333333332,17609.666666666668,17610,17610.333333333332,17610.666666666668,17611,17611.333333333332,17611.666666666668,17612,17612.333333333332,17612.666666666668,17613,17613.333333333332,17613.666666666668,17614,17614.333333333332,17614.666666666668,17615,17615.333333333332,17615.666666666668,17616,17616.333333333332,17616.666666666668,17617,17617.333333333332,17617.666666666668,17618,17618.333333333332,17618.666666666668,17619,17619.333333333332,17619.666666666668,17620,17620.333333333332,17620.666666666668,17621,17621.333333333332,17621.666666666668,17622,17622.333333333332,17622.666666666668,17623,17623.333333333332,17623.666666666668,17624,17624.333333333332,17624.666666666668,17625,17625.333333333332,17625.666666666668,17626,17626.333333333332,17626.666666666668,17627,17627.333333333332,17627.666666666668,17628,17628.333333333332,17628.666666666668,17629,17629.333333333332,17629.666666666668,17630,17630.333333333332,17630.666666666668,17631,17631.333333333332,17631.666666666668,17632,17632.333333333332,17632.666666666668,17633,17633.333333333332,17633.666666666668,17634,17634.333333333332,17634.666666666668,17635,17635.333333333332,17635.666666666668,17636,17636.333333333332,17636.666666666668,17637,17637.333333333332,17637.666666666668,17638,17638.333333333332,17638.666666666668,17639,17639.333333333332,17639.666666666668,17640,17640.333333333332,17640.666666666668,17641,17641.333333333332,17641.666666666668,17642,17642.333333333332,17642.666666666668,17643,17643.333333333332,17643.666666666668,17644,17644.333333333332,17644.333333333332,17644.333333333332,17644,17643.666666666668,17643.333333333332,17643,17642.666666666668,17642.333333333332,17642,17641.666666666668,17641.333333333332,17641,17640.666666666668,17640.333333333332,17640,17639.666666666668,17639.333333333332,17639,17638.666666666668,17638.333333333332,17638,17637.666666666668,17637.333333333332,17637,17636.666666666668,17636.333333333332,17636,17635.666666666668,17635.333333333332,17635,17634.666666666668,17634.333333333332,17634,17633.666666666668,17633.333333333332,17633,17632.666666666668,17632.333333333332,17632,17631.666666666668,17631.333333333332,17631,17630.666666666668,17630.333333333332,17630,17629.666666666668,17629.333333333332,17629,17628.666666666668,17628.333333333332,17628,17627.666666666668,17627.333333333332,17627,17626.666666666668,17626.333333333332,17626,17625.666666666668,17625.333333333332,17625,17624.666666666668,17624.333333333332,17624,17623.666666666668,17623.333333333332,17623,17622.666666666668,17622.333333333332,17622,17621.666666666668,17621.333333333332,17621,17620.666666666668,17620.333333333332,17620,17619.666666666668,17619.333333333332,17619,17618.666666666668,17618.333333333332,17618,17617.666666666668,17617.333333333332,17617,17616.666666666668,17616.333333333332,17616,17615.666666666668,17615.333333333332,17615,17614.666666666668,17614.333333333332,17614,17613.666666666668,17613.333333333332,17613,17612.666666666668,17612.333333333332,17612,17611.666666666668,17611.333333333332,17611,17610.666666666668,17610.333333333332,17610,17609.666666666668,17609.333333333332,17609,17608.666666666668,17608.333333333332,17608,17607.666666666668,17607.333333333332,17607,17606.666666666668,17606.333333333332,17606,17605.666666666668,17605.333333333332,17605,17604.666666666668,17604.333333333332,17604,17603.666666666668,17603.333333333332,17603,17602.666666666668,17602.333333333332,17602,17601.666666666668,17601.333333333332,17601,17600.666666666668,17600.333333333332,17600,17599.666666666668,17599.333333333332,17599,17598.666666666668,17598.333333333332,17598,17597.666666666668,17597.333333333332,17597,17596.666666666668,17596.333333333332,17596,17595.666666666668,17595.333333333332,17595,17594.666666666668,17594.333333333332,17594,17593.666666666668,17593.333333333332,17593,17592.666666666668,17592.333333333332,17592,17591.666666666668,17591.333333333332,17591,17590.666666666668,17590.333333333332,17590,17589.666666666668,17589.333333333332,17589,17588.666666666668,17588.333333333332,17588,17587.666666666668,17587.333333333332,17587,17586.666666666668,17586.333333333332,17586,17585.666666666668,17585.333333333332,17585,17584.666666666668,17584.333333333332,17584,17583.666666666668,17583.333333333332,17583,17582.666666666668,17582.333333333332,17582,17581.666666666668,17581.333333333332,17581,17580.666666666668,17580.333333333332,17580,17579.666666666668,17579.333333333332,17579,17578.666666666668,17578.333333333332,17578,17577.666666666668,17577.333333333332,17577,17576.666666666668,17576.333333333332,17576,17575.666666666668,17575.333333333332,17575,17574.666666666668,17574.333333333332,17574,17573.666666666668,17573.333333333332,17573,17572.666666666668,17572.333333333332,17572,17571.666666666668,17571.333333333332,17571,17570.666666666668,17570.333333333332,17570,17569.666666666668,17569.333333333332,17569,17568.666666666668,17568.333333333332,17568,17567.666666666668,17567.333333333332,17567,17566.666666666668,17566.333333333332,17566,17565.666666666668,17565.333333333332,17565,17564.666666666668,17564.333333333332,17564,17563.666666666668,17563.333333333332,17563,17562.666666666668,17562.333333333332,17562,17561.666666666668,17561.333333333332,17561,17560.666666666668,17560.333333333332,17560,17559.666666666668,17559.333333333332,17559,17558.666666666668,17558.333333333332,17558,17557.666666666668,17557.333333333332,17557,17556.666666666668,17556.333333333332,17556,17555.666666666668,17555.333333333332,17555,17554.666666666668,17554.333333333332,17554,17553.666666666668,17553.333333333332,17553,17552.666666666668,17552.333333333332,17552,17551.666666666668,17551.333333333332,17551,17550.666666666668,17550.333333333332,17550,17549.666666666668,17549.333333333332,17549,17548.666666666668,17548.333333333332,17548,17547.666666666668,17547.333333333332,17547,17546.666666666668,17546.333333333332,17546,17545.666666666668,17545.333333333332,17545,17544.666666666668,17544.333333333332,17544,17543.666666666668,17543.333333333332,17543,17542.666666666668,17542.333333333332,17542,17541.666666666668,17541.333333333332,17541,17540.666666666668,17540.333333333332,17540,17539.666666666668,17539.333333333332,17539,17538.666666666668,17538.333333333332,17538,17537.666666666668,17537.333333333332,17537,17536.666666666668,17536.333333333332,17536,17535.666666666668,17535.333333333332,17535,17534.666666666668,17534.333333333332,17534,17533.666666666668,17533.333333333332,17533,17532.666666666668,17532.333333333332,17532,17531.666666666668,17531.333333333332,17531,17530.666666666668,17530.333333333332,17530,17529.666666666668,17529.333333333332,17529,17528.666666666668,17528.333333333332,17528,17527.666666666668,17527.333333333332,17527,17526.666666666668,17526.333333333332,17526,17525.666666666668,17525.333333333332,17525,17524.666666666668,17524.333333333332,17524,17523.666666666668,17523.333333333332,17523,17522.666666666668,17522.333333333332,17522,17521.666666666668,17521.333333333332,17521,17520.666666666668,17520.333333333332,17520,17519.666666666668,17519.333333333332,17519,17518.666666666668,17518.333333333332,17518,17517.666666666668,17517.333333333332,17517,17516.666666666668,17516.333333333332,17516,17515.666666666668,17515.333333333332,17515,17514.666666666668,17514.333333333332,17514,17513.666666666668,17513.333333333332,17513,17512.666666666668,17512.333333333332,17512,17511.666666666668,17511.333333333332,17511,17510.666666666668,17510.333333333332,17510,17509.666666666668,17509.333333333332,17509,17508.666666666668,17508.333333333332,17508,17507.666666666668,17507.333333333332,17507,17506.666666666668,17506.333333333332,17506,17505.666666666668,17505.333333333332,17505,17504.666666666668,17504.333333333332,17504,17503.666666666668,17503.333333333332,17503,17502.666666666668,17502.333333333332,17502,17501.666666666668,17501.333333333332,17501,17500.666666666668,17500.333333333332,17500,17499.666666666668,17499.333333333332,17499,17498.666666666668,17498.333333333332,17498,17497.666666666668,17497.333333333332,17497,17496.666666666668,17496.333333333332,17496,17495.666666666668,17495.333333333332,17495,17494.666666666668,17494.333333333332,17494,17493.666666666668,17493.333333333332,17493,17492.666666666668,17492.333333333332,17492,17491.666666666668,17491.333333333332,17491,17490.666666666668,17490.333333333332,17490,17489.666666666668,17489.333333333332,17489,17488.666666666668,17488.333333333332,17488,17487.666666666668,17487.333333333332,17487,17486.666666666668,17486.333333333332,17486,17485.666666666668,17485.333333333332,17485,17484.666666666668,17484.333333333332,17484,17483.666666666668,17483.333333333332,17483,17482.666666666668,17482.333333333332,17482,17481.666666666668,17481.333333333332,17481,17480.666666666668,17480.333333333332,17480,17479.666666666668,17479.333333333332,17479,17478.666666666668,17478.333333333332,17478,17477.666666666668,17477.333333333332,17477,17476.666666666668,17476.333333333332,17476,17475.666666666668,17475.333333333332,17475,17474.666666666668,17474.333333333332,17474,17473.666666666668,17473.333333333332,17473,17472.666666666668,17472.333333333332,17472,17471.666666666668,17471.333333333332,17471,17470.666666666668,17470.333333333332,17470,17469.666666666668,17469.333333333332,17469,17468.666666666668,17468.333333333332,17468,17467.666666666668,17467.333333333332,17467,17466.666666666668,17466.333333333332,17466,17465.666666666668,17465.333333333332,17465,17464.666666666668,17464.333333333332,17464,17463.666666666668,17463.333333333332,17463,17462.666666666668,17462.333333333332,17462,17461.666666666668,17461.333333333332,17461,17460.666666666668,17460.333333333332,17460,17459.666666666668,17459.333333333332,17459,17458.666666666668,17458.333333333332,17458,17457.666666666668,17457.333333333332,17457,17456.666666666668,17456.333333333332,17456,17455.666666666668,17455.333333333332,17455,17454.666666666668,17454.333333333332,17454,17453.666666666668,17453.333333333332,17453,17452.666666666668,17452.333333333332,17452,17451.666666666668,17451.333333333332,17451,17450.666666666668,17450.333333333332,17450,17449.666666666668,17449.333333333332,17449,17448.666666666668,17448.333333333332,17448,17447.666666666668,17447.333333333332,17447,17446.666666666668,17446.333333333332,17446,17445.666666666668,17445.333333333332,17445,17444.666666666668,17444.333333333332,17444,17443.666666666668,17443.333333333332,17443,17442.666666666668,17442.333333333332,17442,17441.666666666668,17441.333333333332,17441,17440.666666666668,17440.333333333332,17440,17439.666666666668,17439.333333333332,17439,17438.666666666668,17438.333333333332,17438,17437.666666666668,17437.333333333332,17437,17436.666666666668,17436.333333333332,17436,17435.666666666668,17435.333333333332,17435,17434.666666666668,17434.333333333332,17434,17433.666666666668,17433.333333333332,17433,17432.666666666668,17432.333333333332,17432,17431.666666666668,17431.333333333332,17431,17430.666666666668,17430.333333333332,17430,17429.666666666668,17429.333333333332,17429,17428.666666666668,17428.333333333332,17428,17427.666666666668,17427.333333333332,17427,17426.666666666668,17426.333333333332,17426,17425.666666666668,17425.333333333332,17425,17424.666666666668,17424.333333333332,17424,17423.666666666668,17423.333333333332,17423,17422.666666666668,17422.333333333332,17422,17421.666666666668,17421.333333333332,17421,17420.666666666668,17420.333333333332,17420,17419.666666666668,17419.333333333332,17419,17418.666666666668,17418.333333333332,17418,17417.666666666668,17417.333333333332,17417,17416.666666666668,17416.333333333332,17416,17415.666666666668,17415.333333333332,17415,17414.666666666668,17414.333333333332,17414,17413.666666666668,17413.333333333332,17413,17412.666666666668,17412.333333333332,17412,17411.666666666668,17411.333333333332,17411,17410.666666666668,17410.333333333332,17410,17409.666666666668,17409.333333333332,17409,17408.666666666668,17408.333333333332,17408,17407.666666666668,17407.333333333332,17407,17406.666666666668,17406.333333333332,17406,17405.666666666668,17405.333333333332,17405,17404.666666666668,17404.333333333332,17404,17403.666666666668,17403.333333333332,17403,17402.666666666668,17402.333333333332,17402,17401.666666666668,17401.333333333332,17401,17400.666666666668,17400.333333333332,17400,17399.666666666668,17399.333333333332,17399,17398.666666666668,17398.333333333332,17398,17397.666666666668,17397.333333333332,17397,17396.666666666668,17396.333333333332,17396,17395.666666666668,17395.333333333332,17395,17394.666666666668,17394.333333333332,17394,17393.666666666668,17393.333333333332,17393,17392.666666666668,17392.333333333332,17392,17391.666666666668,17391.333333333332,17391,17390.666666666668,17390.333333333332,17390,17389.666666666668,17389.333333333332,17389,17388.666666666668,17388.333333333332,17388,17387.666666666668,17387.333333333332,17387,17386.666666666668,17386.333333333332,17386,17385.666666666668,17385.333333333332,17385,17384.666666666668,17384.333333333332,17384,17383.666666666668,17383.333333333332,17383,17382.666666666668,17382.333333333332,17382,17381.666666666668,17381.333333333332,17381,17380.666666666668,17380.333333333332,17380,17379.666666666668,17379.333333333332,17379,17378.666666666668,17378.333333333332,17378,17377.666666666668,17377.333333333332,17377,17376.666666666668,17376.333333333332,17376,17375.666666666668,17375.333333333332,17375,17374.666666666668,17374.333333333332,17374,17373.666666666668,17373.333333333332,17373,17372.666666666668,17372.333333333332,17372,17371.666666666668,17371.333333333332,17371,17370.666666666668,17370.333333333332,17370,17369.666666666668,17369.333333333332,17369,17368.666666666668,17368.333333333332,17368,17367.666666666668,17367.333333333332,17367,17366.666666666668,17366.333333333332,17366,17365.666666666668,17365.333333333332,17365,17364.666666666668,17364.333333333332,17364,17363.666666666668,17363.333333333332,17363,17362.666666666668,17362.333333333332,17362,17361.666666666668,17361.333333333332,17361,17360.666666666668,17360.333333333332,17360,17359.666666666668,17359.333333333332,17359,17358.666666666668,17358.333333333332,17358,17357.666666666668,17357.333333333332,17357,17356.666666666668,17356.333333333332,17356,17355.666666666668,17355.333333333332,17355,17354.666666666668,17354.333333333332,17354,17353.666666666668,17353.333333333332,17353,17352.666666666668,17352.333333333332,17352,17351.666666666668,17351.333333333332,17351,17350.666666666668,17350.333333333332,17350,17349.666666666668,17349.333333333332,17349,17348.666666666668,17348.333333333332,17348,17347.666666666668,17347.333333333332,17347,17346.666666666668,17346.333333333332,17346,17345.666666666668,17345.333333333332,17345,17344.666666666668,17344.333333333332,17344,17343.666666666668,17343.333333333332,17343,17342.666666666668,17342.333333333332,17342,17341.666666666668,17341.333333333332,17341,17340.666666666668,17340.333333333332,17340,17339.666666666668,17339.333333333332,17339,17338.666666666668,17338.333333333332,17338,17337.666666666668,17337.333333333332,17337,17336.666666666668,17336.333333333332,17336,17335.666666666668,17335.333333333332,17335,17334.666666666668,17334.333333333332,17334,17333.666666666668,17333.333333333332,17333,17332.666666666668,17332.333333333332,17332,17331.666666666668,17331.333333333332,17331,17330.666666666668,17330.333333333332,17330,17329.666666666668,17329.333333333332,17329,17328.666666666668,17328.333333333332,17328,17327.666666666668,17327.333333333332,17327,17326.666666666668,17326.333333333332,17326,17325.666666666668,17325.333333333332,17325,17324.666666666668,17324.333333333332,17324,17323.666666666668,17323.333333333332,17323,17322.666666666668,17322.333333333332,17322,17321.666666666668,17321.333333333332,17321,17320.666666666668,17320.333333333332,17320,17319.666666666668,17319.333333333332,17319,17318.666666666668,17318.333333333332,17318,17317.666666666668,17317.333333333332,17317,17316.666666666668,17316.333333333332,17316,17315.666666666668,17315.333333333332,17315,17314.666666666668,17314.333333333332,17314,17313.666666666668,17313.333333333332,17313,17312.666666666668,17312.333333333332,17312,17311.666666666668,17311.333333333332,17311,17310.666666666668,17310.333333333332,17310,17309.666666666668,17309.333333333332,17309,17308.666666666668,17308.333333333332,17308,17307.666666666668,17307.333333333332,17307,17306.666666666668,17306.333333333332,17306,17305.666666666668,17305.333333333332,17305,17304.666666666668,17304.333333333332,17304,17303.666666666668,17303.333333333332,17303,17302.666666666668,17302.333333333332,17302,17301.666666666668,17301.333333333332,17301,17300.666666666668,17300.333333333332,17300,17299.666666666668,17299.333333333332,17299,17298.666666666668,17298.333333333332,17298,17297.666666666668,17297.333333333332,17297,17296.666666666668,17296.333333333332,17296,17295.666666666668,17295.333333333332,17295,17294.666666666668,17294.333333333332,17294,17293.666666666668,17293.333333333332,17293,17292.666666666668,17292.333333333332,17292,17291.666666666668,17291.333333333332,17291,17290.666666666668,17290.333333333332,17290,17289.666666666668,17289.333333333332,17289,17288.666666666668,17288.333333333332,17288,17287.666666666668,17287.333333333332,17287,17286.666666666668,17286.333333333332,17286,17285.666666666668,17285.333333333332,17285,17284.666666666668,17284.333333333332,17284,17283.666666666668,17283.333333333332,17283,17282.666666666668,17282.333333333332,17282,17281.666666666668,17281.333333333332,17281,17280.666666666668,17280.333333333332,17280,17279.666666666668,17279.333333333332,17279,17278.666666666668,17278.333333333332,17278,17277.666666666668,17277.333333333332,17277,17276.666666666668,17276.333333333332,17276,17275.666666666668,17275.333333333332,17275,17274.666666666668,17274.333333333332,17274,17273.666666666668,17273.333333333332,17273,17272.666666666668,17272.333333333332,17272,17271.666666666668,17271.333333333332,17271,17270.666666666668,17270.333333333332,17270,17269.666666666668,17269.333333333332,17269,17268.666666666668,17268.333333333332,17268,17267.666666666668,17267.333333333332,17267,17266.666666666668,17266.333333333332,17266,17265.666666666668,17265.333333333332,17265,17264.666666666668,17264.333333333332,17264,17263.666666666668,17263.333333333332,17263,17262.666666666668,17262.333333333332,17262,17261.666666666668,17261.333333333332,17261,17260.666666666668,17260.333333333332,17260,17259.666666666668,17259.333333333332,17259,17258.666666666668,17258.333333333332,17258,17257.666666666668,17257.333333333332,17257,17256.666666666668,17256.333333333332,17256,17255.666666666668,17255.333333333332,17255,17254.666666666668,17254.333333333332,17254,17253.666666666668,17253.333333333332,17253,17252.666666666668,17252.333333333332,17252,17251.666666666668,17251.333333333332,17251,17250.666666666668,17250.333333333332,17250,17249.666666666668,17249.333333333332,17249,17248.666666666668,17248.333333333332,17248,17247.666666666668,17247.333333333332,17247,17246.666666666668,17246.333333333332,17246,17245.666666666668,17245.333333333332,17245,17244.666666666668,17244.333333333332,17244,17243.666666666668,17243.333333333332,17243,17242.666666666668,17242.333333333332,17242,17241.666666666668,17241.333333333332,17241,17240.666666666668,17240.333333333332,17240,17239.666666666668,17239.333333333332,17239,17238.666666666668,17238.333333333332,17238,17237.666666666668,17237.333333333332,17237,17236.666666666668,17236.333333333332,17236,17235.666666666668,17235.333333333332,17235,17234.666666666668,17234.333333333332,17234,17233.666666666668,17233.333333333332,17233,17232.666666666668,17232.333333333332,17232,17231.666666666668,17231.333333333332,17231,17230.666666666668,17230.333333333332,17230,17229.666666666668,17229.333333333332,17229,17228.666666666668,17228.333333333332,17228,17227.666666666668,17227.333333333332,17227,17226.666666666668,17226.333333333332,17226,17225.666666666668,17225.333333333332,17225,17224.666666666668,17224.333333333332,17224,17223.666666666668,17223.333333333332,17223,17222.666666666668,17222.333333333332,17222,17221.666666666668,17221.333333333332,17221,17220.666666666668,17220.333333333332,17220,17219.666666666668,17219.333333333332,17219,17218.666666666668,17218.333333333332,17218,17217.666666666668,17217.333333333332,17217,17216.666666666668,17216.333333333332,17216,17215.666666666668,17215.333333333332,17215,17214.666666666668,17214.333333333332,17214,17213.666666666668,17213.333333333332,17213,17212.666666666668,17212.333333333332,17212,17211.666666666668,17211.333333333332,17211,17210.666666666668,17210.333333333332,17210,17209.666666666668,17209.333333333332,17209,17208.666666666668,17208.333333333332,17208,17207.666666666668,17207.333333333332,17207,17206.666666666668,17206.333333333332,17206,17205.666666666668,17205.333333333332,17205,17204.666666666668,17204.333333333332,17204,17203.666666666668,17203.333333333332,17203,17202.666666666668,17202.333333333332,17202,17201.666666666668,17201.333333333332,17201,17200.666666666668,17200.333333333332,17200,17199.666666666668,17199.333333333332,17199,17198.666666666668,17198.333333333332,17198,17197.666666666668,17197.333333333332,17197,17196.666666666668,17196.333333333332,17196,17195.666666666668,17195.333333333332,17195,17194.666666666668,17194.333333333332,17194,17193.666666666668,17193.333333333332,17193,17192.666666666668,17192.333333333332,17192,17191.666666666668,17191.333333333332,17191,17190.666666666668,17190.333333333332,17190,17189.666666666668,17189.333333333332,17189,17188.666666666668,17188.333333333332,17188,17187.666666666668,17187.333333333332,17187,17186.666666666668,17186.333333333332,17186,17185.666666666668,17185.333333333332,17185,17184.666666666668,17184.333333333332,17184,17183.666666666668,17183.333333333332,17183,17182.666666666668,17182.333333333332,17182,17181.666666666668,17181.333333333332,17181,17180.666666666668,17180.333333333332,17180,17179.666666666668,17179.333333333332,17179,17178.666666666668,17178.333333333332,17178,17177.666666666668,17177.333333333332,17177,17176.666666666668,17176.333333333332,17176,17175.666666666668,17175.333333333332,17175,17174.666666666668,17174.333333333332,17174,17173.666666666668,17173.333333333332,17173,17172.666666666668,17172.333333333332,17172,17171.666666666668,17171.333333333332,17171,17170.666666666668,17170.333333333332,17170,17169.666666666668,17169.333333333332,17169,17168.666666666668,17168.333333333332,17168,17167.666666666668,17167.333333333332,17167,17166.666666666668,17166.333333333332,17166,17165.666666666668,17165.333333333332,17165,17164.666666666668,17164.333333333332,17164,17163.666666666668,17163.333333333332,17163,17162.666666666668,17162.333333333332,17162,17161.666666666668,17161.333333333332,17161,17160.666666666668,17160.333333333332,17160,17159.666666666668,17159.333333333332,17159,17158.666666666668,17158.333333333332,17158,17157.666666666668,17157.333333333332,17157,17156.666666666668,17156.333333333332,17156,17155.666666666668,17155.333333333332,17155,17154.666666666668,17154.333333333332,17154,17153.666666666668,17153.333333333332,17153,17152.666666666668,17152.333333333332,17152,17151.666666666668,17151.333333333332,17151,17150.666666666668,17150.333333333332,17150,17149.666666666668,17149.333333333332,17149,17148.666666666668,17148.333333333332,17148,17147.666666666668,17147.333333333332,17147,17146.666666666668,17146.333333333332,17146,17145.666666666668,17145.333333333332,17145,17144.666666666668,17144.333333333332,17144,17143.666666666668,17143.333333333332,17143,17142.666666666668,17142.333333333332,17142,17141.666666666668,17141.333333333332,17141,17140.666666666668,17140.333333333332,17140,17139.666666666668,17139.333333333332,17139,17138.666666666668,17138.333333333332,17138,17137.666666666668,17137.333333333332,17137,17136.666666666668,17136.333333333332,17136,17135.666666666668,17135.333333333332,17135,17134.666666666668,17134.333333333332,17134,17133.666666666668,17133.333333333332,17133,17132.666666666668,17132.333333333332,17132,17131.666666666668,17131.333333333332,17131,17130.666666666668,17130.333333333332,17130,17129.666666666668,17129.333333333332,17129,17128.666666666668,17128.333333333332,17128,17127.666666666668,17127.333333333332,17127,17126.666666666668,17126.333333333332,17126,17125.666666666668,17125.333333333332,17125,17124.666666666668,17124.333333333332,17124,17123.666666666668,17123.333333333332,17123,17122.666666666668,17122.333333333332,17122,17121.666666666668,17121.333333333332,17121,17120.666666666668,17120.333333333332,17120,17119.666666666668,17119.333333333332,17119,17118.666666666668,17118.333333333332,17118,17117.666666666668,17117.333333333332,17117,17116.666666666668,17116.333333333332,17116,17115.666666666668,17115.333333333332,17115,17114.666666666668,17114.333333333332,17114,17113.666666666668,17113.333333333332,17113,17112.666666666668,17112.333333333332,17112,17111.666666666668,17111.333333333332,17111,17110.666666666668,17110.333333333332,17110,17109.666666666668,17109.333333333332,17109,17108.666666666668,17108.333333333332,17108,17107.666666666668,17107.333333333332,17107,17106.666666666668,17106.333333333332,17106,17105.666666666668,17105.333333333332,17105,17104.666666666668,17104.333333333332,17104,17103.666666666668,17103.333333333332,17103,17102.666666666668,17102.333333333332,17102,17101.666666666668,17101.333333333332,17101,17100.666666666668,17100.333333333332,17100,17099.666666666668,17099.333333333332,17099,17098.666666666668,17098.333333333332,17098,17097.666666666668,17097.333333333332,17097,17096.666666666668,17096.333333333332,17096,17095.666666666668,17095.333333333332,17095,17094.666666666668,17094.333333333332,17094,17093.666666666668,17093.333333333332,17093,17092.666666666668,17092.333333333332,17092,17091.666666666668,17091.333333333332,17091,17090.666666666668,17090.333333333332,17090,17089.666666666668,17089.333333333332,17089,17088.666666666668,17088.333333333332,17088,17087.666666666668,17087.333333333332,17087,17086.666666666668,17086.333333333332,17086,17085.666666666668,17085.333333333332,17085,17084.666666666668,17084.333333333332,17084,17083.666666666668,17083.333333333332,17083,17082.666666666668,17082.333333333332,17082,17081.666666666668,17081.333333333332,17081,17080.666666666668,17080.333333333332,17080,17079.666666666668,17079.333333333332,17079,17078.666666666668,17078.333333333332,17078,17077.666666666668,17077.333333333332,17077,17076.666666666668,17076.333333333332,17076,17075.666666666668,17075.333333333332,17075,17074.666666666668,17074.333333333332,17074,17073.666666666668,17073.333333333332,17073,17072.666666666668,17072.333333333332,17072,17071.666666666668,17071.333333333332,17071,17070.666666666668,17070.333333333332,17070,17069.666666666668,17069.333333333332,17069,17068.666666666668,17068.333333333332,17068,17067.666666666668,17067.333333333332,17067,17066.666666666668,17066.333333333332,17066,17065.666666666668,17065.333333333332,17065,17064.666666666668,17064.333333333332,17064,17063.666666666668,17063.333333333332,17063,17062.666666666668,17062.333333333332,17062,17061.666666666668,17061.333333333332,17061,17060.666666666668,17060.333333333332,17060,17059.666666666668,17059.333333333332,17059,17058.666666666668,17058.333333333332,17058,17057.666666666668,17057.333333333332,17057,17056.666666666668,17056.333333333332,17056,17055.666666666668,17055.333333333332,17055,17054.666666666668,17054.333333333332,17054,17053.666666666668,17053.333333333332,17053,17052.666666666668,17052.333333333332,17052,17051.666666666668,17051.333333333332,17051,17050.666666666668,17050.333333333332,17050,17049.666666666668,17049.333333333332,17049,17048.666666666668,17048.333333333332,17048,17047.666666666668,17047.333333333332,17047,17046.666666666668,17046.333333333332,17046,17045.666666666668,17045.333333333332,17045,17044.666666666668,17044.333333333332,17044,17043.666666666668,17043.333333333332,17043,17042.666666666668,17042.333333333332,17042,17041.666666666668,17041.333333333332,17041,17040.666666666668,17040.333333333332,17040,17039.666666666668,17039.333333333332,17039,17038.666666666668,17038.333333333332,17038,17037.666666666668,17037.333333333332,17037,17036.666666666668,17036.333333333332,17036,17035.666666666668,17035.333333333332,17035,17034.666666666668,17034.333333333332,17034,17033.666666666668,17033.333333333332,17033,17032.666666666668,17032.333333333332,17032,17031.666666666668,17031.333333333332,17031,17030.666666666668,17030.333333333332,17030,17029.666666666668,17029.333333333332,17029,17028.666666666668,17028.333333333332,17028,17027.666666666668,17027.333333333332,17027,17026.666666666668,17026.333333333332,17026,17025.666666666668,17025.333333333332,17025,17024.666666666668,17024.333333333332,17024,17023.666666666668,17023.333333333332,17023,17022.666666666668,17022.333333333332,17022,17021.666666666668,17021.333333333332,17021,17020.666666666668,17020.333333333332,17020,17019.666666666668,17019.333333333332,17019,17018.666666666668,17018.333333333332,17018,17017.666666666668,17017.333333333332,17017,17016.666666666668,17016.333333333332,17016,17015.666666666668,17015.333333333332,17015,17014.666666666668,17014.333333333332,17014,17013.666666666668,17013.333333333332,17013,17012.666666666668,17012.333333333332,17012,17011.666666666668,17011.333333333332,17011,17010.666666666668,17010.333333333332,17010,17009.666666666668,17009.333333333332,17009,17008.666666666668,17008.333333333332,17008,17007.666666666668,17007.333333333332,17007,17006.666666666668,17006.333333333332,17006,17005.666666666668,17005.333333333332,17005,17004.666666666668,17004.333333333332,17004,17003.666666666668,17003.333333333332,17003,17002.666666666668,17002.333333333332,17002,17001.666666666668,17001.333333333332,17001,17000.666666666668,17000.333333333332,17000,16999.666666666668,16999.333333333332,16999,16998.666666666668,16998.333333333332,16998,16997.666666666668,16997.333333333332,16997,16996.666666666668,16996.333333333332,16996,16995.666666666668,16995.333333333332,16995,16994.666666666668,16994.333333333332,16994,16993.666666666668,16993.333333333332,16993,16992.666666666668,16992.333333333332,16992,16991.666666666668,16991.333333333332,16991,16990.666666666668,16990.333333333332,16990,16989.666666666668,16989.333333333332,16989,16988.666666666668,16988.333333333332,16988,16987.666666666668,16987.333333333332,16987,16986.666666666668,16986.333333333332,16986,16985.666666666668,16985.333333333332,16985,16984.666666666668,16984.333333333332,16984,16983.666666666668,16983.333333333332,16983,16982.666666666668,16982.333333333332,16982,16981.666666666668,16981.333333333332,16981,16980.666666666668,16980.333333333332,16980,16979.666666666668,16979.333333333332,16979,16978.666666666668,16978.333333333332,16978,16977.666666666668,16977.333333333332,16977,16976.666666666668,16976.333333333332,16976,16975.666666666668,16975.333333333332,16975,16974.666666666668,16974.333333333332,16974,16973.666666666668,16973.333333333332,16973,16972.666666666668,16972.333333333332,16972,16971.666666666668,16971.333333333332,16971,16970.666666666668,16970.333333333332,16970,16969.666666666668,16969.333333333332,16969,16968.666666666668,16968.333333333332,16968,16967.666666666668,16967.333333333332,16967,16966.666666666668,16966.333333333332,16966,16965.666666666668,16965.333333333332,16965,16964.666666666668,16964.333333333332,16964,16963.666666666668,16963.333333333332,16963,16962.666666666668,16962.333333333332,16962,16961.666666666668,16961.333333333332,16961,16960.666666666668,16960.333333333332,16960,16959.666666666668,16959.333333333332,16959,16958.666666666668,16958.333333333332,16958,16957.666666666668,16957.333333333332,16957,16956.666666666668,16956.333333333332,16956,16955.666666666668,16955.333333333332,16955,16954.666666666668,16954.333333333332,16954,16953.666666666668,16953.333333333332,16953,16952.666666666668,16952.333333333332,16952,16951.666666666668,16951.333333333332,16951,16950.666666666668,16950.333333333332,16950,16949.666666666668,16949.333333333332,16949,16948.666666666668,16948.333333333332,16948,16947.666666666668,16947.333333333332,16947,16946.666666666668,16946.333333333332,16946,16945.666666666668,16945.333333333332,16945,16944.666666666668,16944.333333333332,16944,16943.666666666668,16943.333333333332,16943,16942.666666666668,16942.333333333332,16942,16941.666666666668,16941.333333333332,16941,16940.666666666668,16940.333333333332,16940,16939.666666666668,16939.333333333332,16939,16938.666666666668,16938.333333333332,16938,16937.666666666668,16937.333333333332,16937,16936.666666666668,16936.333333333332,16936,16935.666666666668,16935.333333333332,16935,16934.666666666668,16934.333333333332,16934,16933.666666666668,16933.333333333332,16933,16932.666666666668,16932.333333333332,16932,16931.666666666668,16931.333333333332,16931,16930.666666666668,16930.333333333332,16930,16929.666666666668,16929.333333333332,16929,16928.666666666668,16928.333333333332,16928,16927.666666666668,16927.333333333332,16927,16926.666666666668,16926.333333333332,16926,16925.666666666668,16925.333333333332,16925,16924.666666666668,16924.333333333332,16924,16923.666666666668,16923.333333333332,16923,16922.666666666668,16922.333333333332,16922,16921.666666666668,16921.333333333332,16921,16920.666666666668,16920.333333333332,16920,16919.666666666668,16919.333333333332,16919,16918.666666666668,16918.333333333332,16918,16917.666666666668,16917.333333333332,16917,16916.666666666668,16916.333333333332,16916,16915.666666666668,16915.333333333332,16915,16914.666666666668,16914.333333333332,16914,16913.666666666668,16913.333333333332,16913,16912.666666666668,16912.333333333332,16912,16911.666666666668,16911.333333333332,16911,16910.666666666668,16910.333333333332,16910,16909.666666666668,16909.333333333332,16909,16908.666666666668,16908.333333333332,16908,16907.666666666668,16907.333333333332,16907,16906.666666666668,16906.333333333332,16906,16905.666666666668,16905.333333333332,16905,16904.666666666668,16904.333333333332,16904,16903.666666666668,16903.333333333332,16903,16902.666666666668,16902.333333333332,16902,16901.666666666668,16901.333333333332,16901,16900.666666666668,16900.333333333332,16900,16899.666666666668,16899.333333333332,16899,16898.666666666668,16898.333333333332,16898,16897.666666666668,16897.333333333332,16897,16896.666666666668,16896.333333333332,16896,16895.666666666668,16895.333333333332,16895,16894.666666666668,16894.333333333332,16894,16893.666666666668,16893.333333333332,16893,16892.666666666668,16892.333333333332,16892,16891.666666666668,16891.333333333332,16891,16890.666666666668,16890.333333333332,16890,16889.666666666668,16889.333333333332,16889,16888.666666666668,16888.333333333332,16888,16887.666666666668,16887.333333333332,16887,16886.666666666668,16886.333333333332,16886,16885.666666666668,16885.333333333332,16885,16884.666666666668,16884.333333333332,16884,16883.666666666668,16883.333333333332,16883,16882.666666666668,16882.333333333332,16882,16881.666666666668,16881.333333333332,16881,16880.666666666668,16880.333333333332,16880,16879.666666666668,16879.333333333332,16879,16878.666666666668,16878.333333333332,16878,16877.666666666668,16877.333333333332,16877,16876.666666666668,16876.333333333332,16876,16875.666666666668,16875.333333333332,16875,16874.666666666668,16874.333333333332,16874,16873.666666666668,16873.333333333332,16873,16872.666666666668,16872.333333333332,16872,16871.666666666668,16871.333333333332,16871,16870.666666666668,16870.333333333332,16870,16869.666666666668,16869.333333333332,16869,16868.666666666668,16868.333333333332,16868,16867.666666666668,16867.333333333332,16867,16866.666666666668,16866.333333333332,16866,16865.666666666668,16865.333333333332,16865,16864.666666666668,16864.333333333332,16864,16863.666666666668,16863.333333333332,16863,16862.666666666668,16862.333333333332,16862,16861.666666666668,16861.333333333332,16861,16860.666666666668,16860.333333333332,16860,16859.666666666668,16859.333333333332,16859,16858.666666666668,16858.333333333332,16858,16857.666666666668,16857.333333333332,16857,16856.666666666668,16856.333333333332,16856,16855.666666666668,16855.333333333332,16855,16854.666666666668,16854.333333333332,16854,16853.666666666668,16853.333333333332,16853,16852.666666666668,16852.333333333332,16852,16851.666666666668,16851.333333333332,16851,16850.666666666668,16850.333333333332,16850,16849.666666666668,16849.333333333332,16849,16848.666666666668,16848.333333333332,16848,16847.666666666668,16847.333333333332,16847,16846.666666666668,16846.333333333332,16846,16845.666666666668,16845.333333333332,16845,16844.666666666668,16844.333333333332,16844,16843.666666666668,16843.333333333332,16843,16842.666666666668,16842.333333333332,16842,16841.666666666668,16841.333333333332,16841,16840.666666666668,16840.333333333332,16840,16839.666666666668,16839.333333333332,16839,16838.666666666668,16838.333333333332,16838,16837.666666666668,16837.333333333332,16837,16836.666666666668,16836.333333333332,16836,16835.666666666668,16835.333333333332,16835,16834.666666666668,16834.333333333332,16834,16833.666666666668,16833.333333333332,16833,16832.666666666668,16832.333333333332,16832,16831.666666666668,16831.333333333332,16831,16830.666666666668,16830.333333333332,16830,16829.666666666668,16829.333333333332,16829,16828.666666666668,16828.333333333332,16828,16827.666666666668,16827.333333333332,16827,16826.666666666668,16826.333333333332,16826,16825.666666666668,16825.333333333332,16825,16824.666666666668,16824.333333333332,16824,16823.666666666668,16823.333333333332,16823,16822.666666666668,16822.333333333332,16822,16821.666666666668,16821.333333333332,16821,16820.666666666668,16820.333333333332,16820,16819.666666666668,16819.333333333332,16819,16818.666666666668,16818.333333333332,16818,16817.666666666668,16817.333333333332,16817,16816.666666666668,16816.333333333332,16816,16815.666666666668,16815.333333333332,16815,16814.666666666668,16814.333333333332,16814,16813.666666666668,16813.333333333332,16813,16812.666666666668,16812.333333333332,16812,16811.666666666668,16811.333333333332,16811,16810.666666666668,16810.333333333332,16810,16809.666666666668,16809.333333333332,16809,16808.666666666668,16808.333333333332,16808,16807.666666666668,16807.333333333332,16807,16806.666666666668,16806.333333333332,16806,16805.666666666668,16805.333333333332,16805,16804.666666666668,16804.333333333332,16804,16803.666666666668,16803.333333333332,16803,16802.666666666668,16802.333333333332,16802,16801.666666666668,16801.333333333332,16801,16800.666666666668,16800.333333333332,16800,16799.666666666668,16799.333333333332,16799,16798.666666666668,16798.333333333332,16798,16797.666666666668,16797.333333333332,16797,16796.666666666668,16796.333333333332,16796,16795.666666666668,16795.333333333332,16795,16794.666666666668,16794.333333333332,16794,16793.666666666668,16793.333333333332,16793,16792.666666666668,16792.333333333332,16792,16791.666666666668,16791.333333333332,16791,16790.666666666668,16790.333333333332,16790,16789.666666666668,16789.333333333332,16789,16788.666666666668,16788.333333333332,16788,16787.666666666668,16787.333333333332,16787,16786.666666666668,16786.333333333332,16786,16785.666666666668,16785.333333333332,16785,16784.666666666668,16784.333333333332,16784,16783.666666666668,16783.333333333332,16783,16782.666666666668,16782.333333333332,16782,16781.666666666668,16781.333333333332,16781,16780.666666666668,16780.333333333332,16780,16779.666666666668,16779.333333333332,16779,16778.666666666668,16778.333333333332,16778,16777.666666666668,16777.333333333332,16777,16776.666666666668,16776.333333333332,16776,16775.666666666668,16775.333333333332,16775,16774.666666666668,16774.333333333332,16774,16773.666666666668,16773.333333333332,16773,16772.666666666668,16772.333333333332,16772,16771.666666666668,16771.333333333332,16771,16770.666666666668,16770.333333333332,16770,16769.666666666668,16769.333333333332,16769,16768.666666666668,16768.333333333332,16768,16767.666666666668,16767.333333333332,16767,16766.666666666668,16766.333333333332,16766,16765.666666666668,16765.333333333332,16765,16764.666666666668,16764.333333333332,16764,16763.666666666668,16763.333333333332,16763,16762.666666666668,16762.333333333332,16762,16761.666666666668,16761.333333333332,16761,16760.666666666668,16760.333333333332,16760,16759.666666666668,16759.333333333332,16759,16758.666666666668,16758.333333333332,16758,16757.666666666668,16757.333333333332,16757,16756.666666666668,16756.333333333332,16756,16755.666666666668,16755.333333333332,16755,16754.666666666668,16754.333333333332,16754,16753.666666666668,16753.333333333332,16753,16752.666666666668,16752.333333333332,16752,16751.666666666668,16751.333333333332,16751,16750.666666666668,16750.333333333332,16750,16749.666666666668,16749.333333333332,16749,16748.666666666668,16748.333333333332,16748,16747.666666666668,16747.333333333332,16747,16746.666666666668,16746.333333333332,16746,16745.666666666668,16745.333333333332,16745,16744.666666666668,16744.333333333332,16744,16743.666666666668,16743.333333333332,16743,16742.666666666668,16742.333333333332,16742,16741.666666666668,16741.333333333332,16741,16740.666666666668,16740.333333333332,16740,16739.666666666668,16739.333333333332,16739,16738.666666666668,16738.333333333332,16738,16737.666666666668,16737.333333333332,16737,16736.666666666668,16736.333333333332,16736,16735.666666666668,16735.333333333332,16735,16734.666666666668,16734.333333333332,16734,16733.666666666668,16733.333333333332,16733,16732.666666666668,16732.333333333332,16732,16731.666666666668,16731.333333333332,16731,16730.666666666668,16730.333333333332,16730,16729.666666666668,16729.333333333332,16729,16728.666666666668,16728.333333333332,16728,16727.666666666668,16727.333333333332,16727,16726.666666666668,16726.333333333332,16726,16725.666666666668,16725.333333333332,16725,16724.666666666668,16724.333333333332,16724,16723.666666666668,16723.333333333332,16723,16722.666666666668,16722.333333333332,16722,16721.666666666668,16721.333333333332,16721,16720.666666666668,16720.333333333332,16720,16719.666666666668,16719.333333333332,16719,16718.666666666668,16718.333333333332,16718,16717.666666666668,16717.333333333332,16717,16716.666666666668,16716.333333333332,16716,16715.666666666668,16715.333333333332,16715,16714.666666666668,16714.333333333332,16714,16713.666666666668,16713.333333333332,16713,16712.666666666668,16712.333333333332,16712,16711.666666666668,16711.333333333332,16711,16710.666666666668,16710.333333333332,16710,16709.666666666668,16709.333333333332,16709,16708.666666666668,16708.333333333332,16708,16707.666666666668,16707.333333333332,16707,16706.666666666668,16706.333333333332,16706,16705.666666666668,16705.333333333332,16705,16704.666666666668,16704.333333333332,16704,16703.666666666668,16703.333333333332,16703,16702.666666666668,16702.333333333332,16702,16701.666666666668,16701.333333333332,16701,16700.666666666668,16700.333333333332,16700,16699.666666666668,16699.333333333332,16699,16698.666666666668,16698.333333333332,16698,16697.666666666668,16697.333333333332,16697,16696.666666666668,16696.333333333332,16696,16695.666666666668,16695.333333333332,16695,16694.666666666668,16694.333333333332,16694,16693.666666666668,16693.333333333332,16693,16692.666666666668,16692.333333333332,16692,16691.666666666668,16691.333333333332,16691,16690.666666666668,16690.333333333332,16690,16689.666666666668,16689.333333333332,16689,16688.666666666668,16688.333333333332,16688,16687.666666666668,16687.333333333332,16687,16686.666666666668,16686.333333333332,16686,16685.666666666668,16685.333333333332,16685,16684.666666666668,16684.333333333332,16684,16683.666666666668,16683.333333333332,16683,16682.666666666668,16682.333333333332,16682,16681.666666666668,16681.333333333332,16681,16680.666666666668,16680.333333333332,16680,16679.666666666668,16679.333333333332,16679,16678.666666666668,16678.333333333332,16678,16677.666666666668,16677.333333333332,16677,16676.666666666668,16676.333333333332,16676,16675.666666666668,16675.333333333332,16675,16674.666666666668,16674.333333333332,16674,16673.666666666668,16673.333333333332,16673,16672.666666666668,16672.333333333332,16672,16671.666666666668,16671.333333333332,16671,16670.666666666668,16670.333333333332,16670,16669.666666666668,16669.333333333332,16669,16668.666666666668,16668.333333333332,16668,16667.666666666668,16667.333333333332,16667,16666.666666666668,16666.333333333332,16666,16665.666666666668,16665.333333333332,16665,16664.666666666668,16664.333333333332,16664,16663.666666666668,16663.333333333332,16663,16662.666666666668,16662.333333333332,16662,16661.666666666668,16661.333333333332,16661,16660.666666666668,16660.333333333332,16660,16659.666666666668,16659.333333333332,16659,16658.666666666668,16658.333333333332,16658,16657.666666666668,16657.333333333332,16657,16656.666666666668,16656.333333333332,16656,16655.666666666668,16655.333333333332,16655,16654.666666666668,16654.333333333332,16654,16653.666666666668,16653.333333333332,16653,16652.666666666668,16652.333333333332,16652,16651.666666666668,16651.333333333332,16651,16650.666666666668,16650.333333333332,16650,16649.666666666668,16649.333333333332,16649,16648.666666666668,16648.333333333332,16648,16647.666666666668,16647.333333333332,16647,16646.666666666668,16646.333333333332,16646,16645.666666666668,16645.333333333332,16645,16644.666666666668,16644.333333333332,16644,16643.666666666668,16643.333333333332,16643,16642.666666666668,16642.333333333332,16642,16641.666666666668,16641.333333333332,16641,16640.666666666668,16640.333333333332,16640,16639.666666666668,16639.333333333332,16639,16638.666666666668,16638.333333333332,16638,16637.666666666668,16637.333333333332,16637,16636.666666666668,16636.333333333332,16636,16635.666666666668,16635.333333333332,16635,16634.666666666668,16634.333333333332,16634,16633.666666666668,16633.333333333332,16633,16632.666666666668,16632.333333333332,16632,16631.666666666668,16631.333333333332,16631,16630.666666666668,16630.333333333332,16630,16629.666666666668,16629.333333333332,16629,16628.666666666668,16628.333333333332,16628,16627.666666666668,16627.333333333332,16627,16626.666666666668,16626.333333333332,16626,16625.666666666668,16625.333333333332,16625,16624.666666666668,16624.333333333332,16624,16623.666666666668,16623.333333333332,16623,16622.666666666668,16622.333333333332,16622,16621.666666666668,16621.333333333332,16621,16620.666666666668,16620.333333333332,16620,16619.666666666668,16619.333333333332,16619,16618.666666666668,16618.333333333332,16618,16617.666666666668,16617.333333333332,16617,16616.666666666668,16616.333333333332,16616,16615.666666666668,16615.333333333332,16615,16614.666666666668,16614.333333333332,16614,16613.666666666668,16613.333333333332,16613,16612.666666666668,16612.333333333332,16612,16611.666666666668,16611.333333333332,16611,16610.666666666668,16610.333333333332,16610,16609.666666666668,16609.333333333332,16609,16608.666666666668,16608.333333333332,16608,16607.666666666668,16607.333333333332,16607,16606.666666666668,16606.333333333332,16606,16605.666666666668,16605.333333333332,16605,16604.666666666668,16604.333333333332,16604,16603.666666666668,16603.333333333332,16603,16602.666666666668,16602.333333333332,16602,16601.666666666668,16601.333333333332,16601,16600.666666666668,16600.333333333332,16600,16599.666666666668,16599.333333333332,16599,16598.666666666668,16598.333333333332,16598,16597.666666666668,16597.333333333332,16597,16596.666666666668,16596.333333333332,16596,16595.666666666668,16595.333333333332,16595,16594.666666666668,16594.333333333332,16594,16593.666666666668,16593.333333333332,16593,16592.666666666668,16592.333333333332,16592,16591.666666666668,16591.333333333332,16591,16590.666666666668,16590.333333333332,16590,16589.666666666668,16589.333333333332,16589,16588.666666666668,16588.333333333332,16588,16587.666666666668,16587.333333333332,16587,16586.666666666668,16586.333333333332,16586,16585.666666666668,16585.333333333332,16585,16584.666666666668,16584.333333333332,16584,16583.666666666668,16583.333333333332,16583,16582.666666666668,16582.333333333332,16582,16581.666666666668,16581.333333333332,16581,16580.666666666668,16580.333333333332,16580,16579.666666666668,16579.333333333332,16579,16578.666666666668,16578.333333333332,16578,16577.666666666668,16577.333333333332,16577,16576.666666666668,16576.333333333332,16576,16575.666666666668,16575.333333333332,16575,16574.666666666668,16574.333333333332,16574,16573.666666666668,16573.333333333332,16573,16572.666666666668,16572.333333333332,16572,16571.666666666668,16571.333333333332,16571,16570.666666666668,16570.333333333332,16570,16569.666666666668,16569.333333333332,16569,16568.666666666668,16568.333333333332,16568,16567.666666666668,16567.333333333332,16567,16566.666666666668,16566.333333333332,16566,16565.666666666668,16565.333333333332,16565,16564.666666666668,16564.333333333332,16564,16563.666666666668,16563.333333333332,16563,16562.666666666668,16562.333333333332,16562,16561.666666666668,16561.333333333332,16561,16560.666666666668,16560.333333333332,16560,16559.666666666668,16559.333333333332,16559,16558.666666666668,16558.333333333332,16558,16557.666666666668,16557.333333333332,16557,16556.666666666668,16556.333333333332,16556,16555.666666666668,16555.333333333332,16555,16554.666666666668,16554.333333333332,16554,16553.666666666668,16553.333333333332,16553,16552.666666666668,16552.333333333332,16552,16551.666666666668,16551.333333333332,16551,16550.666666666668,16550.333333333332,16550,16549.666666666668,16549.333333333332,16549,16548.666666666668,16548.333333333332,16548,16547.666666666668,16547.333333333332,16547,16546.666666666668,16546.333333333332,16546,16545.666666666668,16545.333333333332,16545,16544.666666666668,16544.333333333332,16544,16543.666666666668,16543.333333333332,16543,16542.666666666668,16542.333333333332,16542,16541.666666666668,16541.333333333332,16541,16540.666666666668,16540.333333333332,16540,16539.666666666668,16539.333333333332,16539,16538.666666666668,16538.333333333332,16538,16537.666666666668,16537.333333333332,16537,16536.666666666668,16536.333333333332,16536,16535.666666666668,16535.333333333332,16535,16534.666666666668,16534.333333333332,16534,16533.666666666668,16533.333333333332,16533,16532.666666666668,16532.333333333332,16532,16531.666666666668,16531.333333333332,16531,16530.666666666668,16530.333333333332,16530,16529.666666666668,16529.333333333332,16529,16528.666666666668,16528.333333333332,16528,16527.666666666668,16527.333333333332,16527,16526.666666666668,16526.333333333332,16526,16525.666666666668,16525.333333333332,16525,16524.666666666668,16524.333333333332,16524,16523.666666666668,16523.333333333332,16523,16522.666666666668,16522.333333333332,16522,16521.666666666668,16521.333333333332,16521,16520.666666666668,16520.333333333332,16520,16519.666666666668,16519.333333333332,16519,16518.666666666668,16518.333333333332,16518,16517.666666666668,16517.333333333332,16517,16516.666666666668,16516.333333333332,16516,16515.666666666668,16515.333333333332,16515,16514.666666666668,16514.333333333332,16514,16513.666666666668,16513.333333333332,16513,16512.666666666668,16512.333333333332,16512,16511.666666666668,16511.333333333332,16511,16510.666666666668,16510.333333333332,16510,16509.666666666668,16509.333333333332,16509,16508.666666666668,16508.333333333332,16508,16507.666666666668,16507.333333333332,16507,16506.666666666668,16506.333333333332,16506,16505.666666666668,16505.333333333332,16505,16504.666666666668,16504.333333333332,16504,16503.666666666668,16503.333333333332,16503,16502.666666666668,16502.333333333332,16502,16501.666666666668,16501.333333333332,16501,16500.666666666668,16500.333333333332,16500,16499.666666666668,16499.333333333332,16499,16498.666666666668,16498.333333333332,16498,16497.666666666668,16497.333333333332,16497,16496.666666666668,16496.333333333332,16496,16495.666666666668,16495.333333333332,16495,16494.666666666668,16494.333333333332,16494,16493.666666666668,16493.333333333332,16493,16492.666666666668,16492.333333333332,16492,16491.666666666668,16491.333333333332,16491,16490.666666666668,16490.333333333332,16490,16489.666666666668,16489.333333333332,16489,16488.666666666668,16488.333333333332,16488,16487.666666666668,16487.333333333332,16487,16486.666666666668,16486.333333333332,16486,16485.666666666668,16485.333333333332,16485,16484.666666666668,16484.333333333332,16484,16483.666666666668,16483.333333333332,16483,16482.666666666668,16482.333333333332,16482,16481.666666666668,16481.333333333332,16481,16480.666666666668,16480.333333333332,16480,16479.666666666668,16479.333333333332,16479,16478.666666666668,16478.333333333332,16478,16477.666666666668,16477.333333333332,16477,16476.666666666668,16476.333333333332,16476,16475.666666666668,16475.333333333332,16475,16474.666666666668,16474.333333333332,16474,16473.666666666668,16473.333333333332,16473,16472.666666666668,16472.333333333332,16472,16471.666666666668,16471.333333333332,16471,16470.666666666668,16470.333333333332,16470,16469.666666666668,16469.333333333332,16469,16468.666666666668,16468.333333333332,16468,16467.666666666668,16467.333333333332,16467,16466.666666666668,16466.333333333332,16466,16465.666666666668,16465.333333333332,16465,16464.666666666668,16464.333333333332,16464,16463.666666666668,16463.333333333332,16463,16462.666666666668,16462.333333333332,16462,16461.666666666668,16461.333333333332,16461,16460.666666666668,16460.333333333332,16460,16459.666666666668,16459.333333333332,16459,16458.666666666668,16458.333333333332,16458,16457.666666666668,16457.333333333332,16457,16456.666666666668,16456.333333333332,16456,16455.666666666668,16455.333333333332,16455,16454.666666666668,16454.333333333332,16454,16453.666666666668,16453.333333333332,16453,16452.666666666668,16452.333333333332,16452,16451.666666666668,16451.333333333332,16451,16450.666666666668,16450.333333333332,16450,16449.666666666668,16449.333333333332,16449,16448.666666666668,16448.333333333332,16448,16447.666666666668,16447.333333333332,16447,16446.666666666668,16446.333333333332,16446,16445.666666666668,16445.333333333332,16445,16444.666666666668,16444.333333333332,16444,16443.666666666668,16443.333333333332,16443,16442.666666666668,16442.333333333332,16442,16441.666666666668,16441.333333333332,16441,16440.666666666668,16440.333333333332,16440,16439.666666666668,16439.333333333332,16439,16438.666666666668,16438.333333333332,16438,16437.666666666668,16437.333333333332,16437,16436.666666666668,16436.333333333332,16436,16435.666666666668,16435.333333333332,16435,16434.666666666668,16434.333333333332,16434,16433.666666666668,16433.333333333332,16433,16432.666666666668,16432.333333333332,16432,16431.666666666668,16431.333333333332,16431,16430.666666666668,16430.333333333332,16430,16429.666666666668,16429.333333333332,16429,16428.666666666668,16428.333333333332,16428,16427.666666666668,16427.333333333332,16427,16426.666666666668,16426.333333333332,16426,16425.666666666668,16425.333333333332,16425,16424.666666666668,16424.333333333332,16424,16423.666666666668,16423.333333333332,16423,16422.666666666668,16422.333333333332,16422,16421.666666666668,16421.333333333332,16421,16420.666666666668,16420.333333333332,16420,16419.666666666668,16419.333333333332,16419,16418.666666666668,16418.333333333332,16418,16417.666666666668,16417.333333333332,16417,16416.666666666668,16416.333333333332,16416,16415.666666666668,16415.333333333332,16415,16414.666666666668,16414.333333333332,16414,16413.666666666668,16413.333333333332,16413,16412.666666666668,16412.333333333332,16412,16411.666666666668,16411.333333333332,16411,16410.666666666668,16410.333333333332,16410,16409.666666666668,16409.333333333332,16409,16408.666666666668,16408.333333333332,16408,16407.666666666668,16407.333333333332,16407,16406.666666666668,16406.333333333332,16406,16405.666666666668,16405.333333333332,16405,16404.666666666668,16404.333333333332,16404,16403.666666666668,16403.333333333332,16403,16402.666666666668,16402.333333333332,16402,16401.666666666668,16401.333333333332,16401,16400.666666666668,16400.333333333332,16400,16399.666666666668,16399.333333333332,16399,16398.666666666668,16398.333333333332,16398,16397.666666666668,16397.333333333332,16397,16396.666666666668,16396.333333333332,16396,16395.666666666668,16395.333333333332,16395,16394.666666666668,16394.333333333332,16394,16393.666666666668,16393.333333333332,16393,16392.666666666668,16392.333333333332,16392,16391.666666666668,16391.333333333332,16391,16390.666666666668,16390.333333333332,16390,16389.666666666668,16389.333333333332,16389,16388.666666666668,16388.333333333332,16388,16387.666666666668,16387.333333333332,16387,16386.666666666668,16386.333333333332,16386,16385.666666666668,16385.333333333332,16385,16384.666666666668,16384.333333333332,16384,16383.666666666666,16383.333333333334,16383,16382.666666666666,16382.333333333334,16382,16381.666666666666,16381.333333333334,16381,16380.666666666666,16380.333333333334,16380,16379.666666666666,16379.333333333334,16379,16378.666666666666,16378.333333333334,16378,16377.666666666666,16377.333333333334,16377,16376.666666666666,16376.333333333334,16376,16375.666666666666,16375.333333333334,16375,16374.666666666666,16374.333333333334,16374,16373.666666666666,16373.333333333334,16373,16372.666666666666,16372.333333333334,16372,16371.666666666666,16371.333333333334,16371,16370.666666666666,16370.333333333334,16370,16369.666666666666,16369.333333333334,16369,16368.666666666666,16368.333333333334,16368,16367.666666666666,16367.333333333334,16367,16366.666666666666,16366.333333333334,16366,16365.666666666666,16365.333333333334,16365,16364.666666666666,16364.333333333334,16364,16363.666666666666,16363.333333333334,16363,16362.666666666666,16362.333333333334,16362,16361.666666666666,16361.333333333334,16361,16360.666666666666,16360.333333333334,16360,16359.666666666666,16359.333333333334,16359,16358.666666666666,16358.333333333334,16358,16357.666666666666,16357.333333333334,16357,16356.666666666666,16356.333333333334,16356,16355.666666666666,16355.333333333334,16355,16354.666666666666,16354.333333333334,16354,16353.666666666666,16353.333333333334,16353,16352.666666666666,16352.333333333334,16352,16351.666666666666,16351.333333333334,16351,16350.666666666666,16350.333333333334,16350,16349.666666666666,16349.333333333334,16349,16348.666666666666,16348.333333333334,16348,16347.666666666666,16347.333333333334,16347,16346.666666666666,16346.333333333334,16346,16345.666666666666,16345.333333333334,16345,16344.666666666666,16344.333333333334,16344,16343.666666666666,16343.333333333334,16343,16342.666666666666,16342.333333333334,16342,16341.666666666666,16341.333333333334,16341,16340.666666666666,16340.333333333334,16340,16339.666666666666,16339.333333333334,16339,16338.666666666666,16338.333333333334,16338,16337.666666666666,16337.333333333334,16337,16336.666666666666,16336.333333333334,16336,16335.666666666666,16335.333333333334,16335,16334.666666666666,16334.333333333334,16334,16333.666666666666,16333.333333333334,16333,16332.666666666666,16332.333333333334,16332,16331.666666666666,16331.333333333334,16331,16330.666666666666,16330.333333333334,16330,16329.666666666666,16329.333333333334,16329,16328.666666666666,16328.333333333334,16328,16327.666666666666,16327.333333333334,16327,16326.666666666666,16326.333333333334,16326,16325.666666666666,16325.333333333334,16325,16324.666666666666,16324.333333333334,16324,16323.666666666666,16323.333333333334,16323,16322.666666666666,16322.333333333334,16322,16321.666666666666,16321.333333333334,16321,16320.666666666666,16320.333333333334,16320,16319.666666666666,16319.333333333334,16319,16318.666666666666,16318.333333333334,16318,16317.666666666666,16317.333333333334,16317,16316.666666666666,16316.333333333334,16316,16315.666666666666,16315.333333333334,16315,16314.666666666666,16314.333333333334,16314,16313.666666666666,16313.333333333334,16313,16312.666666666666,16312.333333333334,16312,16311.666666666666,16311.333333333334,16311,16310.666666666666,16310.333333333334,16310,16309.666666666666,16309.333333333334,16309,16308.666666666666,16308.333333333334,16308,16307.666666666666,16307.333333333334,16307,16306.666666666666,16306.333333333334,16306,16305.666666666666,16305.333333333334,16305,16304.666666666666,16304.333333333334,16304,16303.666666666666,16303.333333333334,16303,16302.666666666666,16302.333333333334,16302,16301.666666666666,16301.333333333334,16301,16300.666666666666,16300.333333333334,16300,16299.666666666666,16299.333333333334,16299,16298.666666666666,16298.333333333334,16298,16297.666666666666,16297.333333333334,16297,16296.666666666666,16296.333333333334,16296,16295.666666666666,16295.333333333334,16295,16294.666666666666,16294.333333333334,16294,16293.666666666666,16293.333333333334,16293,16292.666666666666,16292.333333333334,16292,16291.666666666666,16291.333333333334,16291,16290.666666666666,16290.333333333334,16290,16289.666666666666,16289.333333333334,16289,16288.666666666666,16288.333333333334,16288,16287.666666666666,16287.333333333334,16287,16286.666666666666,16286.333333333334,16286,16285.666666666666,16285.333333333334,16285,16284.666666666666,16284.333333333334,16284,16283.666666666666,16283.333333333334,16283,16282.666666666666,16282.333333333334,16282,16281.666666666666,16281.333333333334,16281,16280.666666666666,16280.333333333334,16280,16279.666666666666,16279.333333333334,16279,16278.666666666666,16278.333333333334,16278,16277.666666666666,16277.333333333334,16277,16276.666666666666,16276.333333333334,16276,16275.666666666666,16275.333333333334,16275,16274.666666666666,16274.333333333334,16274,16273.666666666666,16273.333333333334,16273,16272.666666666666,16272.333333333334,16272,16271.666666666666,16271.333333333334,16271,16270.666666666666,16270.333333333334,16270,16269.666666666666,16269.333333333334,16269,16268.666666666666,16268.333333333334,16268,16267.666666666666,16267.333333333334,16267,16266.666666666666,16266.333333333334,16266,16265.666666666666,16265.333333333334,16265,16264.666666666666,16264.333333333334,16264,16263.666666666666,16263.333333333334,16263,16262.666666666666,16262.333333333334,16262,16261.666666666666,16261.333333333334,16261,16260.666666666666,16260.333333333334,16260,16259.666666666666,16259.333333333334,16259,16258.666666666666,16258.333333333334,16258,16257.666666666666,16257.333333333334,16257,16256.666666666666,16256.333333333334,16256,16255.666666666666,16255.333333333334,16255,16254.666666666666,16254.333333333334,16254,16253.666666666666,16253.333333333334,16253,16252.666666666666,16252.333333333334,16252,16251.666666666666,16251.333333333334,16251,16250.666666666666,16250.333333333334,16250,16249.666666666666,16249.333333333334,16249,16248.666666666666,16248.333333333334,16248,16247.666666666666,16247.333333333334,16247,16246.666666666666,16246.333333333334,16246,16245.666666666666,16245.333333333334,16245,16244.666666666666,16244.333333333334,16244,16243.666666666666,16243.333333333334,16243,16242.666666666666,16242.333333333334,16242,16241.666666666666,16241.333333333334,16241,16240.666666666666,16240.333333333334,16240,16239.666666666666,16239.333333333334,16239,16238.666666666666,16238.333333333334,16238,16237.666666666666,16237.333333333334,16237,16236.666666666666,16236.333333333334,16236,16235.666666666666,16235.333333333334,16235,16234.666666666666,16234.333333333334,16234,16233.666666666666,16233.333333333334,16233,16232.666666666666,16232.333333333334,16232,16231.666666666666,16231.333333333334,16231,16230.666666666666,16230.333333333334,16230,16229.666666666666,16229.333333333334,16229,16228.666666666666,16228.333333333334,16228,16227.666666666666,16227.333333333334,16227,16226.666666666666,16226.333333333334,16226,16225.666666666666,16225.333333333334,16225,16224.666666666666,16224.333333333334,16224,16223.666666666666,16223.333333333334,16223,16222.666666666666,16222.333333333334,16222,16221.666666666666,16221.333333333334,16221,16220.666666666666,16220.333333333334,16220,16219.666666666666,16219.333333333334,16219,16218.666666666666,16218.333333333334,16218,16217.666666666666,16217.333333333334,16217,16216.666666666666,16216.333333333334,16216,16215.666666666666,16215.333333333334,16215,16214.666666666666,16214.333333333334,16214,16213.666666666666,16213.333333333334,16213,16212.666666666666,16212.333333333334,16212,16211.666666666666,16211.333333333334,16211,16210.666666666666,16210.333333333334,16210,16209.666666666666,16209.333333333334,16209,16208.666666666666,16208.333333333334,16208,16207.666666666666,16207.333333333334,16207,16206.666666666666,16206.333333333334,16206,16205.666666666666,16205.333333333334,16205,16204.666666666666,16204.333333333334,16204,16203.666666666666,16203.333333333334,16203,16202.666666666666,16202.333333333334,16202,16201.666666666666,16201.333333333334,16201,16200.666666666666,16200.333333333334,16200,16199.666666666666,16199.333333333334,16199,16198.666666666666,16198.333333333334,16198,16197.666666666666,16197.333333333334,16197,16196.666666666666,16196.333333333334,16196,16195.666666666666,16195.333333333334,16195,16194.666666666666,16194.333333333334,16194,16193.666666666666,16193.333333333334,16193,16192.666666666666,16192.333333333334,16192,16191.666666666666,16191.333333333334,16191,16190.666666666666,16190.333333333334,16190,16189.666666666666,16189.333333333334,16189,16188.666666666666,16188.333333333334,16188,16187.666666666666,16187.333333333334,16187,16186.666666666666,16186.333333333334,16186,16185.666666666666,16185.333333333334,16185,16184.666666666666,16184.333333333334,16184,16183.666666666666,16183.333333333334,16183,16182.666666666666,16182.333333333334,16182,16181.666666666666,16181.333333333334,16181,16180.666666666666,16180.333333333334,16180,16179.666666666666,16179.333333333334,16179,16178.666666666666,16178.333333333334,16178,16177.666666666666,16177.333333333334,16177,16176.666666666666,16176.333333333334,16176,16175.666666666666,16175.333333333334,16175,16174.666666666666,16174.333333333334,16174,16173.666666666666,16173.333333333334,16173,16172.666666666666,16172.333333333334,16172,16171.666666666666,16171.333333333334,16171,16170.666666666666,16170.333333333334,16170,16169.666666666666,16169.333333333334,16169,16168.666666666666,16168.333333333334,16168,16167.666666666666,16167.333333333334,16167,16166.666666666666,16166.333333333334,16166,16165.666666666666,16165.333333333334,16165,16164.666666666666,16164.333333333334,16164,16163.666666666666,16163.333333333334,16163,16162.666666666666,16162.333333333334,16162,16161.666666666666,16161.333333333334,16161,16160.666666666666,16160.333333333334,16160,16159.666666666666,16159.333333333334,16159,16158.666666666666,16158.333333333334,16158,16157.666666666666,16157.333333333334,16157,16156.666666666666,16156.333333333334,16156,16155.666666666666,16155.333333333334,16155,16154.666666666666,16154.333333333334,16154,16153.666666666666,16153.333333333334,16153,16152.666666666666,16152.333333333334,16152,16151.666666666666,16151.333333333334,16151,16150.666666666666,16150.333333333334,16150,16149.666666666666,16149.333333333334,16149,16148.666666666666,16148.333333333334,16148,16147.666666666666,16147.333333333334,16147,16146.666666666666,16146.333333333334,16146,16145.666666666666,16145.333333333334,16145,16144.666666666666,16144.333333333334,16144,16143.666666666666,16143.333333333334,16143,16142.666666666666,16142.333333333334,16142,16141.666666666666,16141.333333333334,16141,16140.666666666666,16140.333333333334,16140,16139.666666666666,16139.333333333334,16139,16138.666666666666,16138.333333333334,16138,16137.666666666666,16137.333333333334,16137,16136.666666666666,16136.333333333334,16136,16135.666666666666,16135.333333333334,16135,16134.666666666666,16134.333333333334,16134,16133.666666666666,16133.333333333334,16133,16132.666666666666,16132.333333333334,16132,16131.666666666666,16131.333333333334,16131,16130.666666666666,16130.333333333334,16130,16129.666666666666,16129.333333333334,16129,16128.666666666666,16128.333333333334,16128,16127.666666666666,16127.333333333334,16127,16126.666666666666,16126.333333333334,16126,16125.666666666666,16125.333333333334,16125,16124.666666666666,16124.333333333334,16124,16123.666666666666,16123.333333333334,16123,16122.666666666666,16122.333333333334,16122,16121.666666666666,16121.333333333334,16121,16120.666666666666,16120.333333333334,16120,16119.666666666666,16119.333333333334,16119,16118.666666666666,16118.333333333334,16118,16117.666666666666,16117.333333333334,16117,16116.666666666666,16116.333333333334,16116,16115.666666666666,16115.333333333334,16115,16114.666666666666,16114.333333333334,16114,16113.666666666666,16113.333333333334,16113,16112.666666666666,16112.333333333334,16112,16111.666666666666,16111.333333333334,16111,16110.666666666666,16110.333333333334,16110,16109.666666666666,16109.333333333334,16109,16108.666666666666,16108.333333333334,16108,16107.666666666666,16107.333333333334,16107,16106.666666666666,16106.333333333334,16106,16105.666666666666,16105.333333333334,16105,16104.666666666666,16104.333333333334,16104,16103.666666666666,16103.333333333334,16103,16102.666666666666,16102.333333333334,16102,16101.666666666666,16101.333333333334,16101,16100.666666666666,16100.333333333334,16100,16099.666666666666,16099.333333333334,16099,16098.666666666666,16098.333333333334,16098,16097.666666666666,16097.333333333334,16097,16096.666666666666,16096.333333333334,16096,16095.666666666666,16095.333333333334,16095,16094.666666666666,16094.333333333334,16094,16093.666666666666,16093.333333333334,16093,16092.666666666666,16092.333333333334,16092,16091.666666666666,16091.333333333334,16091,16090.666666666666,16090.333333333334,16090,16089.666666666666,16089.333333333334,16089,16088.666666666666,16088.333333333334,16088,16087.666666666666,16087.333333333334,16087,16086.666666666666,16086.333333333334,16086,16085.666666666666,16085.333333333334,16085,16084.666666666666,16084.333333333334,16084,16083.666666666666,16083.333333333334,16083,16082.666666666666,16082.333333333334,16082,16081.666666666666,16081.333333333334,16081,16080.666666666666,16080.333333333334,16080,16079.666666666666,16079.333333333334,16079,16078.666666666666,16078.333333333334,16078,16077.666666666666,16077.333333333334,16077,16076.666666666666,16076.333333333334,16076,16075.666666666666,16075.333333333334,16075,16074.666666666666,16074.333333333334,16074,16073.666666666666,16073.333333333334,16073,16072.666666666666,16072.333333333334,16072,16071.666666666666,16071.333333333334,16071,16070.666666666666,16070.333333333334,16070,16069.666666666666,16069.333333333334,16069,16068.666666666666,16068.333333333334,16068,16067.666666666666,16067.333333333334,16067,16066.666666666666,16066.333333333334,16066,16065.666666666666,16065.333333333334,16065,16064.666666666666,16064.333333333334,16064,16063.666666666666,16063.333333333334,16063,16062.666666666666,16062.333333333334,16062,16061.666666666666,16061.333333333334,16061,16060.666666666666,16060.333333333334,16060,16059.666666666666,16059.333333333334,16059,16058.666666666666,16058.333333333334,16058,16057.666666666666,16057.333333333334,16057,16056.666666666666,16056.333333333334,16056,16055.666666666666,16055.333333333334,16055,16054.666666666666,16054.333333333334,16054,16053.666666666666,16053.333333333334,16053,16052.666666666666,16052.333333333334,16052,16051.666666666666,16051.333333333334,16051,16050.666666666666,16050.333333333334,16050,16049.666666666666,16049.333333333334,16049,16048.666666666666,16048.333333333334,16048,16047.666666666666,16047.333333333334,16047,16046.666666666666,16046.333333333334,16046,16045.666666666666,16045.333333333334,16045,16044.666666666666,16044.333333333334,16044,16043.666666666666,16043.333333333334,16043,16042.666666666666,16042.333333333334,16042,16041.666666666666,16041.333333333334,16041,16040.666666666666,16040.333333333334,16040,16039.666666666666,16039.333333333334,16039,16038.666666666666,16038.333333333334,16038,16037.666666666666,16037.333333333334,16037,16036.666666666666,16036.333333333334,16036,16035.666666666666,16035.333333333334,16035,16034.666666666666,16034.333333333334,16034,16033.666666666666,16033.333333333334,16033,16032.666666666666,16032.333333333334,16032,16031.666666666666,16031.333333333334,16031,16030.666666666666,16030.333333333334,16030,16029.666666666666,16029.333333333334,16029,16028.666666666666,16028.333333333334,16028,16027.666666666666,16027.333333333334,16027,16026.666666666666,16026.333333333334,16026,16025.666666666666,16025.333333333334,16025,16024.666666666666,16024.333333333334,16024,16023.666666666666,16023.333333333334,16023,16022.666666666666,16022.333333333334,16022,16021.666666666666,16021.333333333334,16021,16020.666666666666,16020.333333333334,16020,16019.666666666666,16019.333333333334,16019,16018.666666666666,16018.333333333334,16018,16017.666666666666,16017.333333333334,16017,16016.666666666666,16016.333333333334,16016,16015.666666666666,16015.333333333334,16015,16014.666666666666,16014.333333333334,16014,16013.666666666666,16013.333333333334,16013,16012.666666666666,16012.333333333334,16012,16011.666666666666,16011.333333333334,16011,16010.666666666666,16010.333333333334,16010,16009.666666666666,16009.333333333334,16009,16008.666666666666,16008.333333333334,16008,16007.666666666666,16007.333333333334,16007,16006.666666666666,16006.333333333334,16006,16005.666666666666,16005.333333333334,16005,16004.666666666666,16004.333333333334,16004,16003.666666666666,16003.333333333334,16003,16002.666666666666,16002.333333333334,16002,16001.666666666666,16001.333333333334,16001,16000.666666666666,16000.333333333334,16000,15999.666666666666,15999.333333333334,15999,15998.666666666666,15998.333333333334,15998,15997.666666666666,15997.333333333334,15997,15996.666666666666,15996.333333333334,15996,15995.666666666666,15995.333333333334,15995,15994.666666666666,15994.333333333334,15994,15993.666666666666,15993.333333333334,15993,15992.666666666666,15992.333333333334,15992,15991.666666666666,15991.333333333334,15991,15990.666666666666,15990.333333333334,15990,15989.666666666666,15989.333333333334,15989,15988.666666666666,15988.333333333334,15988,15987.666666666666,15987.333333333334,15987,15986.666666666666,15986.333333333334,15986,15985.666666666666,15985.333333333334,15985,15984.666666666666,15984.333333333334,15984,15983.666666666666,15983.333333333334,15983,15982.666666666666,15982.333333333334,15982,15981.666666666666,15981.333333333334,15981,15980.666666666666,15980.333333333334,15980,15979.666666666666,15979.333333333334,15979,15978.666666666666,15978.333333333334,15978,15977.666666666666,15977.333333333334,15977,15976.666666666666,15976.333333333334,15976,15975.666666666666,15975.333333333334,15975,15974.666666666666,15974.333333333334,15974,15973.666666666666,15973.333333333334,15973,15972.666666666666,15972.333333333334,15972,15971.666666666666,15971.333333333334,15971,15970.666666666666,15970.333333333334,15970,15969.666666666666,15969.333333333334,15969,15968.666666666666,15968.333333333334,15968,15967.666666666666,15967.333333333334,15967,15966.666666666666,15966.333333333334,15966,15965.666666666666,15965.333333333334,15965,15964.666666666666,15964.333333333334,15964,15963.666666666666,15963.333333333334,15963,15962.666666666666,15962.333333333334,15962,15961.666666666666,15961.333333333334,15961,15960.666666666666,15960.333333333334,15960,15959.666666666666,15959.333333333334,15959,15958.666666666666,15958.333333333334,15958,15957.666666666666,15957.333333333334,15957,15956.666666666666,15956.333333333334,15956,15955.666666666666,15955.333333333334,15955,15954.666666666666,15954.333333333334,15954,15953.666666666666,15953.333333333334,15953,15952.666666666666,15952.333333333334,15952,15951.666666666666,15951.333333333334,15951,15950.666666666666,15950.333333333334,15950,15949.666666666666,15949.333333333334,15949,15948.666666666666,15948.333333333334,15948,15947.666666666666,15947.333333333334,15947,15946.666666666666,15946.333333333334,15946,15945.666666666666,15945.333333333334,15945,15944.666666666666,15944.333333333334,15944,15943.666666666666,15943.333333333334,15943,15942.666666666666,15942.333333333334,15942,15941.666666666666,15941.333333333334,15941,15940.666666666666,15940.333333333334,15940,15939.666666666666,15939.333333333334,15939,15938.666666666666,15938.333333333334,15938,15937.666666666666,15937.333333333334,15937,15936.666666666666,15936.333333333334,15936,15935.666666666666,15935.333333333334,15935,15934.666666666666,15934.333333333334,15934,15933.666666666666,15933.333333333334,15933,15932.666666666666,15932.333333333334,15932,15931.666666666666,15931.333333333334,15931,15930.666666666666,15930.333333333334,15930,15929.666666666666,15929.333333333334,15929,15928.666666666666,15928.333333333334,15928,15927.666666666666,15927.333333333334,15927,15926.666666666666,15926.333333333334,15926,15925.666666666666,15925.333333333334,15925,15924.666666666666,15924.333333333334,15924,15923.666666666666,15923.333333333334,15923,15922.666666666666,15922.333333333334,15922,15921.666666666666,15921.333333333334,15921,15920.666666666666,15920.333333333334,15920,15919.666666666666,15919.333333333334,15919,15918.666666666666,15918.333333333334,15918,15917.666666666666,15917.333333333334,15917,15916.666666666666,15916.333333333334,15916,15915.666666666666,15915.333333333334,15915,15914.666666666666,15914.333333333334,15914,15913.666666666666,15913.333333333334,15913,15912.666666666666,15912.333333333334,15912,15911.666666666666,15911.333333333334,15911,15910.666666666666,15910.333333333334,15910,15909.666666666666,15909.333333333334,15909,15908.666666666666,15908.333333333334,15908,15907.666666666666,15907.333333333334,15907,15906.666666666666,15906.333333333334,15906,15905.666666666666,15905.333333333334,15905,15904.666666666666,15904.333333333334,15904,15903.666666666666,15903.333333333334,15903,15902.666666666666,15902.333333333334,15902,15901.666666666666,15901.333333333334,15901,15900.666666666666,15900.333333333334,15900,15899.666666666666,15899.333333333334,15899,15898.666666666666,15898.333333333334,15898,15897.666666666666,15897.333333333334,15897,15896.666666666666,15896.333333333334,15896,15895.666666666666,15895.333333333334,15895,15894.666666666666,15894.333333333334,15894,15893.666666666666,15893.333333333334,15893,15892.666666666666,15892.333333333334,15892,15891.666666666666,15891.333333333334,15891,15890.666666666666,15890.333333333334,15890,15889.666666666666,15889.333333333334,15889,15888.666666666666,15888.333333333334,15888,15887.666666666666,15887.333333333334,15887,15886.666666666666,15886.333333333334,15886,15885.666666666666,15885.333333333334,15885,15884.666666666666,15884.333333333334,15884,15883.666666666666,15883.333333333334,15883,15882.666666666666,15882.333333333334,15882,15881.666666666666,15881.333333333334,15881,15880.666666666666,15880.333333333334,15880,15879.666666666666,15879.333333333334,15879,15878.666666666666,15878.333333333334,15878,15877.666666666666,15877.333333333334,15877,15876.666666666666,15876.333333333334,15876,15875.666666666666,15875.333333333334,15875,15874.666666666666,15874.333333333334,15874,15873.666666666666,15873.333333333334,15873,15872.666666666666,15872.333333333334,15872,15871.666666666666,15871.333333333334,15871,15870.666666666666,15870.333333333334,15870,15869.666666666666,15869.333333333334,15869,15868.666666666666,15868.333333333334,15868,15867.666666666666,15867.333333333334,15867,15866.666666666666,15866.333333333334,15866,15865.666666666666,15865.333333333334,15865,15864.666666666666,15864.333333333334,15864,15863.666666666666,15863.333333333334,15863,15862.666666666666,15862.333333333334,15862,15861.666666666666,15861.333333333334,15861,15860.666666666666,15860.333333333334,15860,15859.666666666666,15859.333333333334,15859,15858.666666666666,15858.333333333334,15858,15857.666666666666,15857.333333333334,15857,15856.666666666666,15856.333333333334,15856,15855.666666666666,15855.333333333334,15855,15854.666666666666,15854.333333333334,15854,15853.666666666666,15853.333333333334,15853,15852.666666666666,15852.333333333334,15852,15851.666666666666,15851.333333333334,15851,15850.666666666666,15850.333333333334,15850,15849.666666666666,15849.333333333334,15849,15848.666666666666,15848.333333333334,15848,15847.666666666666,15847.333333333334,15847,15846.666666666666,15846.333333333334,15846,15845.666666666666,15845.333333333334,15845,15844.666666666666,15844.333333333334,15844,15843.666666666666,15843.333333333334,15843,15842.666666666666,15842.333333333334,15842,15841.666666666666,15841.333333333334,15841,15840.666666666666,15840.333333333334,15840,15839.666666666666,15839.333333333334,15839,15838.666666666666,15838.333333333334,15838,15837.666666666666,15837.333333333334,15837,15836.666666666666,15836.333333333334,15836,15835.666666666666,15835.333333333334,15835,15834.666666666666,15834.333333333334,15834,15833.666666666666,15833.333333333334,15833,15832.666666666666,15832.333333333334,15832,15831.666666666666,15831.333333333334,15831,15830.666666666666,15830.333333333334,15830,15829.666666666666,15829.333333333334,15829,15828.666666666666,15828.333333333334,15828,15827.666666666666,15827.333333333334,15827,15826.666666666666,15826.333333333334,15826,15825.666666666666,15825.333333333334,15825,15824.666666666666,15824.333333333334,15824,15823.666666666666,15823.333333333334,15823,15822.666666666666,15822.666666666666],"y":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8958.5499999999993,8972.9133333332811,8987.2766666667176,9001.6399999999994,9000.2833333333383,8998.9266666666608,8997.5699999999997,8958.4566666668088,8919.3433333331905,8880.2299999999996,8686.383333334039,8492.5366666659611,8298.6900000000005,8265.0600000001232,8231.4299999998766,8197.7999999999993,8227.1866666665592,8256.5733333334392,8285.9599999999991,8314.3566666665629,8342.7533333334359,8371.1499999999996,8360.2400000000398,8349.3299999999599,8338.4200000000001,8272.5166666669065,8206.6133333330945,8140.71,8155.1266666666143,8169.5433333333858,8183.96,8089.0500000003449,7994.1399999996547,7899.2299999999996,7588.926666667795,7278.6233333322043,6968.3199999999997,6936.3500000001159,6904.3799999998837,6872.4099999999999,6974.3099999996293,7076.2100000003702,7178.1099999999997,7155.9266666667472,7133.7433333332528,7111.5600000000004,7091.2200000000739,7070.8799999999264,7050.54,6986.1900000002342,6921.8399999997655,6857.4899999999998,6882.9333333332406,6908.3766666667589,6933.8199999999997,7112.5066666660168,7291.193333333983,7469.8800000000001,7490.233333333259,7510.5866666667407,7530.9399999999996,7399.1166666671461,7267.2933333328538,7135.4700000000003,7110.6300000000901,7085.7899999999099,7060.9499999999998,7109.9166666664887,7158.8833333335115,7207.8500000000004,7230.7866666665832,7253.723333333417,7276.6599999999999,7515.8833333324628,7755.106666667537,7994.3299999999999,8037.1833333331779,8080.0366666668224,8122.8900000000003,8159.5199999998667,8196.1500000001342,8232.7800000000007,8331.879999999639,8430.9800000003615,8530.0799999999999,8580.7233333331496,8631.3666666668505,8682.0100000000002,8786.7333333329534,8891.4566666670471,8996.1800000000003,8957.3266666668078,8918.4733333331933,8879.6200000000008,8953.3166666663983,9027.0133333336016,9100.7099999999991,9126.2633333332396,9151.8166666667603,9177.3700000000008,9135.2533333334868,9093.1366666665144,9051.0200000000004,8925.9700000004559,8800.9199999995453,8675.8700000000008,8532.4166666671899,8388.9633333328111,8245.5100000000002,8279.1833333332106,8312.8566666667903,8346.5300000000007,8426.0699999997105,8505.6100000002898,8585.1499999999996,8532.8833333335242,8480.6166666664758,8428.3500000000004,8737.5166666655423,9046.6833333344584,9355.8500000000004,9394.0266666665284,9432.2033333334712,9470.3799999999992,9626.0866666661004,9781.7933333338988,9937.5,9862.2966666669399,9787.0933333330595,9711.8899999999994,9651.700000000219,9591.5099999997801,9531.3199999999997,9509.6633333334121,9488.006666666588,9466.3500000000004,9693.366666665841,9920.383333334159,10147.4,10408.099999999051,10668.800000000949,10929.5,11119.699999999308,11309.900000000693,11500.1,11568.099999999753,11636.100000000248,11704.1,11640.266666666899,11576.433333333101,11512.6,11517.799999999981,11523.00000000002,11528.200000000001,11415.133333333744,11302.066666666256,11189,11143.433333333498,11097.866666666501,11052.299999999999,11064.799999999954,11077.300000000045,11089.799999999999,11019.366666666923,10948.933333333076,10878.5,10744.000000000489,10609.499999999511,10475,10291.073333334003,10107.146666665996,9923.2199999999993,10147.879999999182,10372.540000000818,10597.200000000001,10560.5666666668,10523.9333333332,10487.299999999999,10671.233333332664,10855.166666667335,11039.1,11165.566666666207,11292.033333333793,11418.5,11598.499999999345,11778.500000000655,11958.5,11730.266666667496,11502.033333332503,11273.799999999999,11299.13333333324,11324.466666666758,11349.799999999999,11279.700000000255,11209.599999999744,11139.5,10867.700000000988,10595.899999999012,10324.1,10294.333333333441,10264.566666666558,10234.799999999999,9996.0466666675347,9757.2933333324654,9518.5400000000009,9331.8500000006788,9145.1599999993214,8958.4699999999993,8967.6199999999662,8976.7700000000332,8985.9200000000001,8862.6566666671151,8739.3933333328841,8616.1299999999992,8784.9366666660517,8953.7433333339468,9122.5499999999993,8994.0266666671341,8865.5033333328647,8736.9799999999996,8677.5766666668824,8618.1733333331176,8558.7700000000004,8542.2166666667272,8525.6633333332738,8509.1100000000006,8289.640000000798,8070.1699999992015,7850.6999999999998,8022.079999999376,8193.460000000623,8364.8400000000001,8688.1833333321574,9011.5266666678435,9334.8700000000008,9366.8299999998835,9398.7900000001173,9430.75,9334.5933333336834,9238.4366666663173,9142.2800000000007,9524.4533333319432,9906.6266666680567,10288.799999999999,10319.733333333221,10350.666666666779,10381.6,10690.133333332211,10998.66666666779,11307.200000000001,11496.666666665978,11686.133333334023,11875.6,11930.4999999998,11985.4000000002,12040.299999999999,11898.500000000515,11756.699999999484,11614.9,11628.833333333283,11642.766666666717,11656.700000000001,11699.699999999844,11742.700000000157,11785.700000000001,11690.933333333678,11596.166666666322,11501.4,11460.133333333484,11418.866666666516,11377.6,11573.866666665952,11770.133333334048,11966.4,12276.233333332206,12586.066666667793,12895.9,12964.933333333081,13033.966666666918,13103,12732.933333334679,12362.866666665321,11992.799999999999,12030.966666666527,12069.133333333471,12107.299999999999,11964.200000000521,11821.099999999478,11678,12399.699999997374,13121.400000002626,13843.1,14043.89999999927,14244.70000000073,14445.5,14467.599999999919,14489.700000000081,14511.799999999999,14561.033333333155,14610.266666666845,14659.5,14516.300000000521,14373.099999999478,14229.9,14492.86666666571,14755.833333334289,15018.799999999999,15003.633333333388,14988.466666666611,14973.299999999999,15148.033333332698,15322.766666667301,15497.5,15844.299999998739,16191.100000001263,16537.900000000001,16885.133333332069,17232.366666667931,17579.599999999999,17623.866666666505,17668.133333333495,17712.400000000001,17710.000000000011,17707.599999999991,17705.200000000001,17050.033333335719,16394.866666664282,15739.700000000001,15684.066666666869,15628.433333333131,15572.799999999999,15530.066666666822,15487.333333333178,15444.6,15000.466666668282,14556.333333331719,14112.200000000001,14200.599999999678,14289.000000000322,14377.4,14478.89999999963,14580.400000000369,14681.9,14880.933333332609,15079.966666667391,15279,15482.133333332595,15685.266666667405,15888.4,16235.899999998735,16583.400000001264,16930.900000000001,16774.333333333903,16617.766666666099,16461.200000000001,15838.466666668934,15215.733333331069,14593,14603.99999999996,14615.00000000004,14626,14951.733333332149,15277.466666667851,15603.200000000001,15716.599999999587,15830.000000000413,15943.4,16484.833333331364,17026.266666668638,17567.700000000001,17690.033333332889,17812.366666667112,17934.700000000001,18349.06666666516,18763.43333333484,19177.799999999999,19242.199999999764,19306.600000000235,19371,19610.333333332463,19849.666666667537,20089,19964.900000000453,19840.799999999548,19716.700000000001,19195.833333335228,18674.966666664772,18154.099999999999,17798.000000001295,17441.899999998703,17085.799999999999,17274.89999999931,17464.000000000688,17653.099999999999,17695.999999999844,17738.900000000154,17781.799999999999,17692.500000000324,17603.199999999677,17513.900000000001,16959.466666668686,16405.033333331317,15850.6,16161.39999999887,16472.200000001132,16783,17306.466666664764,17829.933333335237,18353.400000000001,18202.166666667217,18050.933333332785,17899.700000000001,16722.833333337614,15545.966666662385,14369.1,13590.066666669502,12811.033333330499,12032,11907.066666667122,11782.133333332878,11657.200000000001,11724.366666666423,11791.533333333578,11858.700000000001,11679.200000000654,11499.699999999348,11320.200000000001,11229.033333333666,11137.866666666336,11046.700000000001,10964.800000000298,10882.899999999703,10801,11039.799999999132,11278.600000000868,11517.4,11053.500000001688,10589.599999998312,10125.700000000001,10023.250000000373,9920.7999999996282,9818.3500000000004,9719.8766666670253,9621.4033333329753,9522.9300000000003,9278.9266666675539,9034.9233333324464,8790.9200000000001,8652.0000000005057,8513.0799999994942,8374.1599999999999,8338.5733333334629,8302.9866666665366,8267.3999999999996,8279.0199999999568,8290.6400000000431,8302.2600000000002,8317.726666666611,8333.1933333333891,8348.6599999999999,8344.7266666666819,8340.7933333333185,8336.8600000000006,8258.5433333336186,8180.2266666663818,8101.9099999999999,8029.6033333335963,7957.2966666664033,7884.9899999999998,7924.856666666522,7964.723333333478,8004.5900000000001,7992.186666666712,7979.7833333332883,7967.3800000000001,7759.0033333340916,7550.6266666659085,7342.25,7149.8266666673662,6957.4033333326333,6764.9799999999996,6780.3833333332768,6795.7866666667223,6811.1899999999996,6749.143333333559,6687.0966666664408,6625.0500000000002,6707.749999999699,6790.4500000003009,6873.1499999999996,7019.4333333328013,7165.7166666671983,7312,7356.9433333331699,7401.88666666683,7446.8299999999999,7556.6933333329334,7666.5566666670666,7776.4200000000001,7602.0533333339672,7427.6866666660326,7253.3199999999997,7317.4699999997665,7381.6200000002336,7445.7700000000004,7503.0066666664588,7560.2433333335412,7617.4799999999996,7575.9400000001506,7534.3999999998487,7492.8599999999997,7482.3366666667043,7471.8133333332953,7461.29,7429.9700000001139,7398.6499999998859,7367.3299999999999,7167.3233333340613,6967.316666665939,6767.3100000000004,6668.3500000003605,6569.3899999996402,6470.4300000000003,6385.283333333643,6300.1366666663571,6214.9899999999998,6228.5633333332835,6242.1366666667163,6255.71,6129.3800000004594,6003.0499999995409,5876.7200000000003,5913.9433333331981,5951.1666666668025,5988.3900000000003,5984.5266666666812,5980.6633333333193,5976.8000000000002,5902.6433333336036,5828.4866666663966,5754.3299999999999,5814.7266666664473,5875.1233333335531,5935.5200000000004,5982.2099999998309,6028.9000000001697,6075.5900000000001,6075.8133333333326,6076.0366666666678,6076.2600000000002,6115.7999999998565,6155.3400000001438,6194.8800000000001,6149.9566666668297,6105.03333333317,6060.1099999999997,5954.8566666670495,5849.6033333329506,5744.3500000000004,5697.5066666668372,5650.6633333331629,5603.8199999999997,5669.3299999997616,5734.8400000002384,5800.3500000000004,5792.3100000000295,5784.2699999999704,5776.2299999999996,5801.6466666665738,5827.0633333334254,5852.4799999999996,5847.5533333333506,5842.6266666666488,5837.6999999999998,5838.5666666666639,5839.4333333333361,5840.3000000000002,5709.1700000004766,5578.0399999995225,5446.9099999999999,5255.8500000006952,5064.7899999993042,4873.7299999999996,4889.8766666666079,4906.0233333333917,4922.1700000000001,4907.6833333333861,4893.196666666614,4878.71,4793.8533333336418,4708.9966666663586,4624.1400000000003,4564.0533333335525,4503.966666666448,4443.8800000000001,4433.6766666667036,4423.473333333297,4413.2700000000004,4396.3933333333953,4379.5166666666055,4362.6400000000003,4359.1966666666794,4355.7533333333213,4352.3100000000004,4379.0299999999033,4405.7500000000973,4432.4700000000003,4445.0566666666209,4457.6433333333789,4470.2299999999996,4448.0666666667466,4425.9033333332527,4403.7399999999998,4388.6366666667218,4373.5333333332783,4358.4300000000003,4310.4966666668415,4262.5633333331589,4214.6300000000001,4236.1899999999214,4257.7500000000791,4279.3100000000004,4256.2233333334179,4233.1366666665826,4210.0500000000002,4129.9966666669579,4049.9433333330421,3969.8899999999999,3963.3433333333569,3956.796666666643,3950.25,3898.8833333335201,3847.51666666648,3796.1500000000001,3803.8366666666388,3811.5233333333613,3819.21,3798.8966666667407,3778.5833333332594,3758.27,3810.9866666664748,3863.7033333335253,3916.4200000000001,3954.7433333331937,3993.0666666668062,4031.3899999999999,4052.2833333332574,4073.1766666667427,4094.0700000000002,4089.1233333333516,4084.1766666666485,4079.23,3941.0900000005026,3802.9499999994973,3664.8099999999999,3712.8199999998255,3760.8300000001746,3808.8400000000001,3783.7100000000914,3758.5799999999085,3733.4499999999998,3795.8333333331061,3858.2166666668936,3920.5999999999999,3991.0599999997435,4061.520000000256,4131.9799999999996,4202.8699999997416,4273.7600000002576,4344.6499999999996,4316.9900000001007,4289.329999999899,4261.6700000000001,4256.2600000000193,4250.8499999999804,4245.4399999999996,4266.5666666665893,4287.69333333341,4308.8199999999997,4426.2133333329057,4543.606666667094,4661,4659.0133333333406,4657.0266666666594,4655.04,4642.4433333333791,4629.8466666666209,4617.25,4554.1133333335629,4490.9766666664373,4427.8400000000001,4482.4366666664682,4537.033333333532,4591.6300000000001,4632.4466666665185,4673.2633333334816,4714.0799999999999,4801.0666666663501,4888.0533333336498,4975.04,4947.3633333334337,4919.6866666665665,4892.0100000000002,4840.0233333335227,4788.0366666664777,4736.0500000000002,4699.5400000001327,4663.0299999998679,4626.5200000000004,4626.2400000000016,4625.9599999999991,4625.6800000000003,4551.7633333336025,4477.8466666663981,4403.9300000000003,4408.1499999999851,4412.3700000000154,4416.5900000000001,4404.1533333333782,4391.7166666666217,4379.2799999999997,4404.7533333332403,4430.2266666667592,4455.6999999999998,4429.2633333334297,4402.8266666665704,4376.3900000000003,4336.1866666668129,4295.9833333331871,4255.7799999999997,4213.4400000001542,4171.0999999998457,4128.7600000000002,4122.2200000000239,4115.6799999999766,4109.1400000000003,4138.1899999998941,4167.2400000001062,4196.29,4211.9466666666094,4227.6033333333908,4243.2600000000002,4285.5499999998465,4327.8400000001539,4370.1300000000001,4408.3199999998615,4446.5100000001385,4484.6999999999998,4450.2100000001255,4415.7199999998738,4381.2299999999996,4406.1433333332425,4431.0566666667573,4455.9700000000003,4412.3566666668257,4368.7433333331746,4325.1300000000001,4286.2166666668081,4247.3033333331923,4208.3900000000003,4122.2333333336474,4036.0766666663535,3949.9200000000001,3859.8533333336609,3769.786666666339,3679.7199999999998,3604.2966666669408,3528.8733333330588,3453.4499999999998,3443.2200000000371,3432.9899999999629,3422.7600000000002,3443.4566666665914,3464.1533333334087,3484.8499999999999,3455.793333333439,3426.7366666665607,3397.6799999999998,3362.8833333334596,3328.0866666665402,3293.29,3292.1966666666708,3291.1033333333294,3290.0100000000002,3159.7833333338071,3029.556666666193,2899.3299999999999,2870.6566666667709,2841.983333333229,2813.3099999999999,2796.3833333333951,2779.4566666666051,2762.5300000000002,2815.4699999998074,2868.4100000001927,2921.3499999999999,2910.7733333333717,2900.1966666666281,2889.6199999999999,2845.9233333334923,2802.2266666665078,2758.5300000000002,2775.2733333332726,2792.0166666667278,2808.7600000000002,2838.3233333332259,2867.8866666667741,2897.4499999999998,2829.4066666669141,2761.3633333330858,2693.3200000000002,2665.8000000001002,2638.2799999999002,2610.7600000000002,2663.1999999998093,2715.6400000001909,2768.0799999999999,2771.139999999989,2774.2000000000112,2777.2600000000002,2795.5666666666002,2813.8733333333998,2832.1799999999998,2842.2599999999634,2852.3400000000365,2862.4200000000001,2854.4166666666956,2846.4133333333043,2838.4099999999999,2859.1733333332577,2879.936666666742,2900.6999999999998,2732.8566666672773,2565.0133333327226,2397.1700000000001,2393.9833333333449,2390.7966666666553,2387.6100000000001,2335.2366666668572,2282.8633333331427,2230.4899999999998,2173.2500000002083,2116.0099999997915,2058.77,2116.2266666664577,2173.6833333335421,2231.1399999999999,2275.1766666665062,2319.2133333334937,2363.25,2383.9066666665913,2404.5633333334085,2425.2199999999998,2424.7166666666685,2424.2133333333313,2423.71,2420.2966666666789,2416.8833333333209,2413.4699999999998,2454.6999999998498,2495.9300000001499,2537.1599999999999,2569.9366666665474,2602.7133333334523,2635.4899999999998,2614.1066666667443,2592.7233333332556,2571.3400000000001,2686.2733333329152,2801.2066666670848,2916.1399999999999,2816.3333333336964,2716.5266666663033,2616.7199999999998,2618.6966666666594,2620.6733333333405,2622.6500000000001,2625.6299999999892,2628.610000000011,2631.5900000000001,2619.393333333378,2607.1966666666221,2595,2568.0933333334315,2541.1866666665687,2514.2800000000002,2514.6099999999988,2514.9400000000014,2515.27,2529.9299999999466,2544.5900000000534,2559.25,2569.1099999999642,2578.9700000000357,2588.8299999999999,2593.8799999999815,2598.9300000000185,2603.98,2586.8033333333956,2569.6266666666043,2552.4499999999998,2573.3833333332573,2594.3166666667425,2615.25,2637.5866666665856,2659.9233333334146,2682.2600000000002,2707.4866666665753,2732.713333333425,2757.9400000000001,2760.3499999999913,2762.7600000000089,2765.1700000000001,2751.3600000000501,2737.5499999999497,2723.7399999999998,2739.8299999999413,2755.9200000000587,2772.0100000000002,2769.1566666666772,2766.3033333333228,2763.4499999999998,2729.9166666667884,2696.3833333332113,2662.8499999999999,2662.6000000000008,2662.349999999999,2662.0999999999999,2669.7966666666384,2677.4933333333615,2685.1900000000001,2636.7666666668429,2588.3433333331573,2539.9200000000001,2538.1833333333398,2536.4466666666603,2534.71,2618.7499999996944,2702.7900000003056,2786.8299999999999,2787.5666666666639,2788.303333333336,2789.04,2858.4466666664143,2927.8533333335859,2997.2600000000002,2997.0400000000009,2996.8199999999993,2996.5999999999999,2981.396666666722,2966.1933333332777,2950.9899999999998,2934.5633333333931,2918.1366666666067,2901.71,2872.9066666667713,2844.1033333332289,2815.3000000000002,2833.3266666666013,2851.353333333399,2869.3800000000001,2912.8899999998416,2956.4000000001583,2999.9099999999999,2895.5433333337128,2791.176666666287,2686.8099999999999,2653.1700000001224,2619.5299999998774,2585.8899999999999,2584.5633333333381,2583.2366666666617,2581.9099999999999,2550.7900000001132,2519.6699999998868,2488.5500000000002,2475.1633333333821,2461.776666666618,2448.3899999999999,2402.6200000001663,2356.8499999998335,2311.0799999999999,2308.0400000000109,2304.9999999999891,2301.96,2303.6566666666604,2305.3533333333398,2307.0500000000002,2293.8133333333817,2280.5766666666186,2267.3400000000001,2264.9600000000087,2262.5799999999913,2260.1999999999998,2364.7299999996194,2469.2600000003804,2573.79,2637.0966666664362,2700.4033333335638,2763.71,2683.7133333336242,2603.7166666663757,2523.7199999999998,2456.0866666669126,2388.4533333330874,2320.8200000000002,2315.1800000000208,2309.5399999999795,2303.9000000000001,2242.2933333335577,2180.6866666664423,2119.0799999999999,2107.6300000000415,2096.1799999999585,2084.73,2057.9933333334307,2031.2566666665693,2004.52,1971.1733333334546,1937.8266666665454,1904.48,1891.0033333333824,1877.5266666666175,1864.05,1838.0133333334281,1811.9766666665719,1785.9400000000001,1794.8933333333007,1803.8466666666993,1812.8,1819.0066666666442,1825.2133333333559,1831.4200000000001,1825.2766666666892,1819.1333333333109,1812.99,1827.3766666666143,1841.7633333333858,1856.1500000000001,1862.0766666666452,1868.0033333333549,1873.9300000000001,1845.4333333334371,1816.936666666563,1788.4400000000001,1803.4566666666121,1818.4733333333879,1833.49,1796.7766666668001,1760.0633333331998,1723.3499999999999,1681.1400000001536,1638.9299999998464,1596.72,1590.7466666666885,1584.7733333333115,1578.8,1591.876666666619,1604.9533333333809,1618.03,1614.9900000000112,1611.9499999999889,1608.9100000000001,1570.1966666668075,1531.4833333331926,1492.77,1486.480000000023,1480.1899999999771,1473.9000000000001,1460.7066666667147,1447.5133333332853,1434.3199999999999,1405.5166666667715,1376.7133333332285,1347.9100000000001,1341.0066666666919,1334.1033333333082,1327.2,1328.5599999999952,1329.9200000000048,1331.28,1327.4200000000139,1323.5599999999861,1319.7,1311.4100000000301,1303.1199999999699,1294.8299999999999,1285.7466666666996,1276.6633333333002,1267.5799999999999,1262.0333333333535,1256.4866666666464,1250.9400000000001,1244.6933333333561,1238.446666666644,1232.2,1233.3199999999958,1234.4400000000041,1235.5599999999999,1235.6866666666663,1235.8133333333337,1235.9400000000001,1237.5566666666607,1239.1733333333393,1240.79,1232.3633333333639,1223.936666666636,1215.51,1216.1966666666642,1216.8833333333357,1217.5699999999999,1210.0133333333608,1202.4566666666392,1194.9000000000001,1192.3400000000095,1189.7799999999907,1187.22,1187.4799999999991,1187.7400000000009,1188,1188.93333333333,1189.86666666667,1190.8,1195.8299999999817,1200.8600000000183,1205.8900000000001,1206.3066666666653,1206.7233333333349,1207.1400000000001,1207.4499999999989,1207.7600000000011,1208.0699999999999,1202.1600000000215,1196.2499999999784,1190.3399999999999,1192.6299999999917,1194.9200000000083,1197.21,1193.1333333333482,1189.0566666666518,1184.98,1185.5133333333313,1186.0466666666687,1186.5799999999999,1187.1766666666645,1187.7733333333354,1188.3699999999999,1170.6100000000645,1152.8499999999353,1135.0899999999999,1142.2066666666408,1149.3233333333592,1156.4400000000001,1154.8733333333391,1153.3066666666609,1151.74,1137.0233333333867,1122.3066666666132,1107.5899999999999,1102.3000000000193,1097.0099999999807,1091.72,1086.1200000000204,1080.5199999999797,1074.9200000000001,1066.3766666666977,1057.8333333333023,1049.29,1051.2366666666596,1053.1833333333404,1055.1300000000001,1058.3033333333219,1061.4766666666783,1064.6500000000001,1058.5666666666889,1052.4833333333113,1046.4000000000001,1033.5866666667134,1020.7733333332868,1007.96,997.22666666670568,986.49333333329434,975.75999999999999,997.32999999992148,1018.9000000000785,1040.47,1046.3166666666455,1052.1633333333546,1058.01,1078.8899999999242,1099.7700000000759,1120.6500000000001,1121.2433333333313,1121.8366666666689,1122.4300000000001,1102.630000000072,1082.8299999999281,1063.03,1065.3233333333251,1067.616666666675,1069.9100000000001,1084.6299999999464,1099.3500000000536,1114.0699999999999,1136.0999999999199,1158.1300000000801,1180.1600000000001,1206.0999999999058,1232.0400000000943,1257.98,1255.8566666666743,1253.7333333333256,1251.6099999999999,1249.3433333333414,1247.0766666666584,1244.8099999999999,1242.330000000009,1239.8499999999908,1237.3699999999999,1233.9066666666793,1230.4433333333207,1226.98,1215.9300000000401,1204.8799999999599,1193.8299999999999,1219.3766666665738,1244.9233333334262,1270.47,1246.1333333334219,1221.7966666665782,1197.46,1209.0266666666246,1220.5933333333755,1232.1600000000001,1246.6233333332807,1261.0866666667193,1275.55,1275.6999999999994,1275.8500000000006,1276,1273.0966666666773,1270.1933333333227,1267.29,1271.326666666652,1275.363333333348,1279.4000000000001,1279.7033333333322,1280.0066666666678,1280.3099999999999,1274.2500000000221,1268.189999999978,1262.1300000000001,1248.920000000048,1235.7099999999521,1222.5,1212.7500000000355,1202.9999999999645,1193.25,1189.493333333347,1185.736666666653,1181.98,1177.1433333333509,1172.3066666666491,1167.47,1169.929999999991,1172.390000000009,1174.8499999999999,1183.3633333333023,1191.8766666666977,1200.3900000000001,1192.4666666666956,1184.5433333333044,1176.6199999999999,1159.5433333333954,1142.4666666666046,1125.3900000000001,1122.6766666666765,1119.9633333333236,1117.25,1104.9966666667112,1092.7433333332888,1080.49,1072.5966666666955,1064.7033333333045,1056.8099999999999,1058.2399999999948,1059.6700000000051,1061.0999999999999,1058.4566666666763,1055.8133333333237,1053.1700000000001,1046.570000000024,1039.9699999999759,1033.3699999999999,1025.1933333333629,1017.0166666666369,1008.84,1009.7299999999968,1010.6200000000032,1011.51,1008.3733333333447,1005.2366666666553,1002.1,1002.9866666666635,1003.8733333333365,1004.76,1006.2699999999945,1007.7800000000054,1009.29,1005.8266666666792,1002.3633333333207,998.89999999999998,1028.9299999998907,1058.9600000001092,1088.99,1085.6500000000121,1082.3099999999879,1078.97,1073.2900000000207,1067.6099999999794,1061.9300000000001,1056.1666666666877,1050.4033333333125,1044.6400000000001,1044.3033333333346,1043.9666666666656,1043.6300000000001,1044.386666666664,1045.1433333333362,1045.9000000000001,1041.8900000000147,1037.8799999999853,1033.8699999999999,1027.0866666666914,1020.3033333333086,1013.52,1005.3833333333629,997.24666666663711,989.11000000000001,983.4133333333541,977.71666666664589,972.01999999999998,955.69666666672606,939.37333333327388,923.04999999999995,923.17333333333283,923.29666666666708,923.41999999999996,923.58333333333269,923.74666666666724,923.90999999999997,923.68000000000086,923.44999999999914,923.22000000000003,921.92333333333806,920.626666666662,919.33000000000004,913.97000000001958,908.60999999998046,903.25,910.21333333330801,917.17666666669197,924.13999999999999,925.51666666666165,926.89333333333832,928.26999999999998,931.3533333333221,934.43666666667787,937.51999999999998,934.13666666667893,930.75333333332105,927.37,918.04666666670062,908.72333333329937,899.39999999999998,901.13666666666029,902.8733333333397,904.61000000000001,908.90666666665106,913.20333333334895,917.5,915.18666666667502,912.87333333332492,910.55999999999995,885.21666666675878,859.87333333324113,834.52999999999997,830.79000000001361,827.04999999998631,823.30999999999995,827.23666666665235,831.16333333334762,835.09000000000003,833.06000000000745,831.02999999999258,829,828.08333333333667,827.16666666666333,826.25,857.31666666655372,888.38333333344633,919.45000000000005,917.92333333333897,916.39666666666108,914.87,914.47666666666817,914.08333333333189,913.69000000000005,923.36666666663155,933.04333333336854,942.72000000000003,931.34333333337474,919.96666666662531,908.59000000000003,954.66333333316572,1000.7366666668343,1046.8099999999999,1094.9066666664917,1143.0033333335082,1191.0999999999999,1180.5400000000384,1169.9799999999616,1159.4200000000001,1120.9733333334732,1082.5266666665268,1044.0799999999999,1039.8500000000154,1035.6199999999847,1031.3900000000001,1021.9533333333677,1012.5166666666324,1003.08,989.96666666671445,976.8533333332856,963.74000000000001,966.66999999998939,969.6000000000106,972.52999999999997,974.81999999999164,977.11000000000831,979.39999999999998,978.24000000000422,977.07999999999572,975.91999999999996,963.9633333333768,952.00666666662312,940.04999999999995,931.09333333336588,922.13666666663403,913.17999999999995,908.67000000001633,904.1599999999836,899.64999999999998,907.59333333330437,915.53666666669562,923.48000000000002,924.02666666666471,924.57333333333531,925.12,908.6733333333932,892.22666666660677,875.77999999999997,861.94666666671696,848.11333333328298,834.27999999999997,823.30000000003997,812.31999999996003,801.34000000000003,798.76333333334276,796.18666666665729,793.61000000000001,793.98666666666531,794.36333333333471,794.74000000000001,793.9966666666694,793.2533333333306,792.50999999999999,790.01666666667575,787.52333333332422,785.02999999999997,783.83000000000436,782.62999999999556,781.42999999999995,781.6299999999992,781.83000000000072,782.02999999999997,784.17333333332556,786.31666666667445,788.46000000000004,786.28000000000793,784.09999999999206,781.91999999999996,779.54666666667526,777.17333333332465,774.79999999999995,775.56333333333055,776.32666666666944,777.09000000000003,776.23666666666975,775.38333333333026,774.52999999999997,774.58666666666647,774.64333333333354,774.70000000000005,773.64666666667051,772.5933333333295,771.53999999999996,769.56666666667377,767.5933333333262,765.62,768.23666666665713,770.8533333333429,773.47000000000003,773.6033333333329,773.73666666666713,773.87,775.3299999999947,776.79000000000531,778.25,779.2666666666629,780.28333333333705,781.29999999999995,773.62333333336119,765.94666666663875,758.26999999999998,754.82333333334589,751.37666666665405,747.92999999999995,744.443333333346,740.95666666665397,737.47000000000003,737.64999999999941,737.83000000000061,738.00999999999999,738.34666666666544,738.68333333333453,739.01999999999998,740.08333333332951,741.14666666667051,742.21000000000004,742.02333333333399,741.83666666666602,741.64999999999998,743.37666666666041,745.10333333333961,746.83000000000004,748.63666666666018,750.44333333333987,752.25,752.78999999999803,753.33000000000197,753.87,749.82000000001472,745.76999999998532,741.72000000000003,746.30666666665002,750.89333333335003,755.48000000000002,755.73333333333244,755.98666666666759,756.24000000000001,755.1200000000041,753.99999999999591,752.88,753.79999999999666,754.72000000000332,755.63999999999999,752.96666666667636,750.29333333332363,747.62,736.98666666670533,726.3533333332947,715.72000000000003,712.57333333334475,709.42666666665525,706.27999999999997,705.94000000000119,705.59999999999877,705.25999999999999,709.22333333331892,713.18666666668105,717.14999999999998,717.5399999999986,717.93000000000143,718.32000000000005,719.88666666666097,721.45333333333906,723.01999999999998,728.69666666664602,734.37333333335391,740.04999999999995,731.03000000003283,722.00999999996714,712.99000000000001,712.24000000000274,711.48999999999728,710.74000000000001,711.91333333332909,713.08666666667091,714.25999999999999,712.01000000000818,709.75999999999181,707.50999999999999,707.3166666666674,707.12333333333254,706.92999999999995,719.87666666661949,732.82333333338045,745.76999999999998,744.12333333333936,742.47666666666066,740.83000000000004,739.37000000000535,737.90999999999474,736.45000000000005,727.39666666669962,718.34333333330039,709.28999999999996,710.89999999999407,712.5100000000059,714.12,716.21333333332575,718.30666666667423,720.39999999999998,710.41333333336968,700.42666666663035,690.44000000000005,689.82333333333565,689.20666666666443,688.59000000000003,685.63666666667746,682.68333333332259,679.73000000000002,674.6266666666852,669.52333333331478,664.41999999999996,662.03000000000861,659.63999999999135,657.25,658.54333333332863,659.83666666667136,661.13,660.15333333333695,659.1766666666631,658.20000000000005,650.16333333336263,642.12666666663745,634.09000000000003,633.36666666666929,632.6433333333307,631.91999999999996,634.23666666665827,636.5533333333417,638.87,639.49333333333107,640.11666666666895,640.74000000000001,641.26999999999805,641.800000000002,642.33000000000004,642.5199999999993,642.71000000000072,642.89999999999998,642.63333333333435,642.36666666666565,642.10000000000002,641.82666666666762,641.55333333333238,641.27999999999997,640.46333333333632,639.64666666666369,638.83000000000004,639.66666666666367,640.5033333333364,641.34000000000003,641.58666666666579,641.83333333333428,642.08000000000004,635.16000000002521,628.23999999997488,621.32000000000005,620.61333333333596,619.90666666666414,619.20000000000005,619.41666666666595,619.63333333333412,619.85000000000002,619.20333333333565,618.55666666666434,617.90999999999997,616.54666666667163,615.18333333332839,613.82000000000005,613.81666666666672,613.81333333333328,613.80999999999995,613.2233333333354,612.6366666666645,612.04999999999995,612.22333333333268,612.39666666666733,612.57000000000005,613.04666666666492,613.52333333333513,614,614.41333333333182,614.82666666666819,615.24000000000001,613.40666666667335,611.57333333332667,609.74000000000001,608.76666666667018,607.79333333332988,606.82000000000005,606.74333333333368,606.6666666666664,606.59000000000003,607.14333333333138,607.69666666666865,608.25,608.21333333333348,608.17666666666651,608.13999999999999,606.55333333333908,604.9666666666609,603.38,603.77999999999861,604.18000000000143,604.58000000000004,604.12333333333504,603.66666666666504,603.21000000000004,601.63666666667245,600.06333333332759,598.49000000000001,600.1899999999938,601.89000000000624,603.59000000000003,605.56666666665944,607.54333333334057,609.51999999999998,609.9899999999983,610.46000000000163,610.92999999999995,610.6733333333342,610.41666666666572,610.15999999999997,609.39333333333616,608.62666666666382,607.86000000000001,608.32666666666501,608.793333333335,609.25999999999999,609.86999999999773,610.48000000000229,611.09000000000003,611.37666666666564,611.66333333333444,611.95000000000005,611.69666666666762,611.44333333333248,611.19000000000005,610.28000000000338,609.36999999999671,608.46000000000004,615.246666666642,622.03333333335809,628.82000000000005,627.58000000000459,626.33999999999548,625.10000000000002,625.67666666666457,626.25333333333549,626.83000000000004,627.4766666666643,628.12333333333572,628.76999999999998,624.02666666668392,619.28333333331602,614.53999999999996,613.30333333333783,612.06666666666217,610.83000000000004,610.23666666666884,609.64333333333116,609.04999999999995,609.97999999999661,610.91000000000338,611.84000000000003,607.72666666668169,603.61333333331834,599.5,591.54666666669561,583.59333333330437,575.63999999999999,575.86333333333255,576.08666666666738,576.30999999999995,576.82666666666478,577.34333333333518,577.86000000000001,578.02666666666607,578.19333333333395,578.36000000000001,577.66666666666924,576.97333333333074,576.27999999999997,575.53333333333603,574.7866666666639,574.03999999999996,575.97666666665964,577.91333333334035,579.85000000000002,580.10666666666577,580.36333333333425,580.62,580.5633333333335,580.50666666666655,580.45000000000005,581.49666666666292,582.54333333333716,583.59000000000003,585.54999999999291,587.51000000000715,589.47000000000003,589.13000000000125,588.78999999999883,588.45000000000005,587.02000000000521,585.5899999999948,584.15999999999997,583.71333333333496,583.26666666666506,582.82000000000005,581.29333333333898,579.76666666666108,578.24000000000001,578.09000000000049,577.93999999999949,577.78999999999996,578.82333333332951,579.85666666667044,580.88999999999999,581.17333333333227,581.45666666666773,581.74000000000001,579.02000000000987,576.29999999999018,573.58000000000004,577.60999999998535,581.64000000001465,585.66999999999996,587.03666666666163,588.40333333333831,589.76999999999998,589.81666666666649,589.86333333333346,589.90999999999997,592.45333333332405,594.99666666667588,597.53999999999996,598.3533333333304,599.16666666666958,599.98000000000002,597.01666666667745,594.0533333333226,591.09000000000003,591.72333333333108,592.35666666666896,592.99000000000001,594.49666666666121,596.00333333333879,597.50999999999999,594.47333333334439,591.43666666665558,588.39999999999998,585.02666666667892,581.65333333332103,578.27999999999997,578.68666666666513,579.09333333333484,579.5,577.45333333334077,575.40666666665925,573.36000000000001,586.52333333328545,599.68666666671459,612.85000000000002,617.27333333331728,621.69666666668275,626.12,635.83999999996468,645.5600000000353,655.27999999999997,656.25999999999647,657.24000000000353,658.22000000000003,658.0800000000005,657.93999999999949,657.79999999999995,657.73333333333358,657.6666666666664,657.60000000000002,657.55333333333351,657.50666666666655,657.46000000000004,657.05000000000155,656.63999999999851,656.23000000000002,658.09666666665987,659.96333333334019,661.83000000000004,662.25666666666518,662.68333333333487,663.11000000000001,660.86333333334153,658.61666666665849,656.37,659.77333333332092,663.17666666667913,666.58000000000004,666.46000000000049,666.33999999999958,666.22000000000003,668.45666666665852,670.69333333334146,672.92999999999995,673.04666666666617,673.16333333333375,673.27999999999997,676.03666666665663,678.7933333333433,681.54999999999995,681.82333333333236,682.0966666666676,682.37,677.06666666668593,671.76333333331411,666.46000000000004,666.66666666666595,666.87333333333413,667.08000000000004,665.68666666667173,664.29333333332829,662.89999999999998,664.83333333332632,666.7666666666737,668.70000000000005,670.8866666666587,673.07333333334134,675.25999999999999,670.05000000001894,664.83999999998105,659.63,657.18333333334226,654.7366666666577,652.28999999999996,656.98666666664951,661.68333333335045,666.38,666.48999999999955,666.60000000000048,666.71000000000004,671.94999999998095,677.19000000001904,682.42999999999995,682.2533333333339,682.07666666666603,681.89999999999998,682.42999999999802,682.96000000000197,683.49000000000001,683.54666666666651,683.60333333333347,683.65999999999997,690.76333333330751,697.86666666669248,704.97000000000003,704.54666666666822,704.12333333333186,703.70000000000005,697.85000000002128,691.99999999997874,686.14999999999998,682.56666666667968,678.98333333332027,675.39999999999998,665.16000000003726,654.91999999996267,644.67999999999995,649.53666666664901,654.39333333335094,659.25,657.92333333333818,656.5966666666618,655.26999999999998,658.83999999998696,662.41000000001304,665.98000000000002,674.56333333330213,683.14666666669791,691.73000000000002,688.39666666667881,685.06333333332122,681.73000000000002,664.26333333339687,646.79666666660319,629.33000000000004,645.77666666660684,662.22333333339316,678.66999999999996,697.73999999993055,716.81000000006941,735.88,745.27999999996587,754.68000000003417,764.08000000000004,764.92666666666366,765.77333333333638,766.62,770.40999999998621,774.2000000000138,777.99000000000001,777.11333333333653,776.2366666666635,775.36000000000001,774.81333333333532,774.26666666666472,773.72000000000003,747.9133333334272,722.10666666657278,696.29999999999995,699.03333333332341,701.76666666667654,704.5,708.33333333331939,712.16666666668061,716,705.61333333337109,695.22666666662894,684.84000000000003,658.93333333342764,633.0266666665724,607.12,597.79000000003396,588.45999999996604,579.13,580.15333333332967,581.17666666667037,582.20000000000005,582.41333333333262,582.62666666666746,582.84000000000003,585.31333333332441,587.78666666667561,590.25999999999999,588.99666666667122,587.7333333333288,586.47000000000003,585.25000000000443,584.02999999999554,582.80999999999995,585.24999999999113,587.69000000000881,590.13,584.96666666668546,579.80333333331453,574.63999999999999,563.21000000004153,551.77999999995848,540.35000000000002,541.25999999999669,542.17000000000337,543.08000000000004,544.25999999999578,545.44000000000426,546.62,545.86333333333607,545.10666666666395,544.35000000000002,547.55333333332169,550.75666666667837,553.96000000000004,547.13000000002489,540.29999999997517,533.47000000000003,515.03000000006705,496.5899999999329,478.14999999999998,469.98000000002969,461.80999999997027,453.63999999999999,452.52666666667074,451.41333333332926,450.30000000000001,449.23333333333721,448.16666666666282,447.10000000000002,446.18333333333669,445.26666666666335,444.35000000000002,444.04333333333449,443.73666666666554,443.43000000000001,443.54666666666623,443.66333333333375,443.77999999999997,443.86999999999966,443.96000000000032,444.05000000000001,447.57666666665386,451.10333333334614,454.63,455.086666666665,455.543333333335,456,455.69000000000113,455.37999999999886,455.06999999999999,456.11333333332954,457.15666666667045,458.19999999999999,458.36333333333272,458.52666666666727,458.69,458.07333333333554,457.45666666666443,456.83999999999997,456.91333333333307,456.98666666666691,457.06,456.35666666666924,455.65333333333075,454.94999999999999,454.82666666666711,454.70333333333286,454.57999999999998,457.02999999999111,459.48000000000889,461.93000000000001,462.11333333333266,462.29666666666736,462.48000000000002,461.46000000000373,460.4399999999963,459.42000000000002,459.8399999999985,460.26000000000153,460.68000000000001,460.9133333333325,461.1466666666675,461.38,457.09000000001561,452.79999999998438,448.50999999999999,449.13333333333105,449.75666666666893,450.38,450.61999999999915,450.86000000000087,451.10000000000002,451.54666666666503,451.99333333333499,452.44,452.45333333333326,452.46666666666675,452.48000000000002,453.5166666666629,454.55333333333709,455.58999999999997,455.52000000000021,455.44999999999976,455.38,453.43666666667372,451.49333333332629,449.55000000000001,455.39333333331206,461.23666666668794,467.07999999999998,467.37333333333225,467.66666666666771,467.95999999999998,467.51333333333497,467.06666666666501,466.62,464.46333333334115,462.30666666665883,460.14999999999998,456.86000000001195,453.569999999988,450.27999999999997,450.1233333333339,449.96666666666607,449.81,450.05666666666576,450.30333333333425,450.55000000000001,448.05000000000911,445.54999999999092,443.05000000000001,440.70666666667518,438.36333333332482,436.01999999999998,433.77000000000817,431.5199999999918,429.26999999999998,429.96999999999747,430.67000000000252,431.37,431.78999999999849,432.21000000000151,432.63,431.73000000000326,430.82999999999674,429.93000000000001,428.41000000000554,426.88999999999447,425.37,425.79999999999842,426.23000000000161,426.66000000000003,426.86666666666594,427.07333333333406,427.27999999999997,425.76666666667217,424.25333333332782,422.74000000000001,422.64000000000038,422.53999999999962,422.44,421.92333333333522,421.40666666666476,420.88999999999999,422.3799999999946,423.8700000000054,425.36000000000001,424.7933333333354,424.22666666666464,423.66000000000003,423.94999999999897,424.24000000000103,424.52999999999997,424.44000000000028,424.34999999999968,424.25999999999999,423.62000000000234,422.97999999999763,422.33999999999997,422.08666666666755,421.8333333333324,421.57999999999998,421.74666666666604,421.91333333333392,422.07999999999998,420.77666666667142,419.47333333332858,418.17000000000002,418.23666666666645,418.30333333333357,418.37,417.85666666666856,417.34333333333143,416.82999999999998,419.95333333332195,423.07666666667802,426.19999999999999,426.41999999999922,426.64000000000078,426.86000000000001,427.50666666666433,428.15333333333569,428.80000000000001,425.53000000001191,422.25999999998811,418.99000000000001,418.68666666666775,418.38333333333225,418.07999999999998,418.27999999999929,418.4800000000007,418.68000000000001,418.87666666666593,419.07333333333406,419.26999999999998,418.97333333333438,418.6766666666656,418.38,416.72666666667266,415.07333333332735,413.42000000000002,413.8233333333319,414.22666666666811,414.63,413.41333333333779,412.19666666666222,410.98000000000002,414.16999999998842,417.36000000001161,420.55000000000001,420.69999999999948,420.85000000000053,421,419.89666666667068,418.79333333332931,417.69,417.83666666666613,417.98333333333386,418.13,417.64666666666841,417.16333333333159,416.68000000000001,416.65333333333342,416.62666666666661,416.60000000000002,418.33333333332706,420.06666666667297,421.80000000000001,422.50999999999743,423.22000000000259,423.93000000000001,421.79000000000781,419.64999999999219,417.50999999999999,417.01666666666847,416.52333333333149,416.02999999999997,416.09999999999974,416.17000000000024,416.24000000000001,416.13333333333372,416.0266666666663,415.92000000000002,414.5833333333382,413.24666666666184,411.91000000000003,411.69333333333412,411.47666666666589,411.25999999999999,415.89999999998309,420.5400000000169,425.18000000000001,425.24333333333311,425.3066666666669,425.37,428.88666666665387,432.40333333334615,435.92000000000002,437.16333333332881,438.40666666667119,439.64999999999998,440.26999999999771,440.89000000000226,441.50999999999999,439.56666666667371,437.62333333332629,435.68000000000001,435.19666666666842,434.7133333333316,434.23000000000002,433.53666666666919,432.8433333333308,432.14999999999998,430.67333333333869,429.19666666666132,427.72000000000003,426.99666666666934,426.2733333333307,425.55000000000001,430.31999999998266,435.09000000001737,439.86000000000001,439.590000000001,439.31999999999903,439.05000000000001,442.0499999999891,445.05000000001093,448.05000000000001,446.02666666667403,444.003333333326,441.98000000000002,435.68666666668958,429.39333333331047,423.10000000000002,424.06666666666314,425.03333333333688,426,424.39000000000584,422.77999999999417,421.17000000000002,417.0933333333482,413.01666666665182,408.94,409.41999999999825,409.90000000000174,410.38,409.33000000000385,408.27999999999616,407.23000000000002,402.10666666668533,396.9833333333147,391.86000000000001,389.55666666667503,387.25333333332497,384.94999999999999,384.34333333333552,383.73666666666446,383.13,383.91333333333051,384.6966666666695,385.48000000000002,382.73666666667668,379.99333333332333,377.25,378.12666666666348,379.00333333333651,379.88,380.20999999999879,380.54000000000121,380.87,382.78999999999303,384.71000000000697,386.63,388.11666666666127,389.6033333333387,391.08999999999997,391.2633333333327,391.43666666666729,391.61000000000001,386.05666666668685,380.50333333331315,374.94999999999999,375.25999999999885,375.57000000000113,375.88,376.60999999999734,377.34000000000265,378.06999999999999,378.82999999999726,379.59000000000276,380.35000000000002,380.53999999999934,380.7300000000007,380.92000000000002,382.07333333332917,383.22666666667084,384.38,388.08666666665317,391.79333333334682,395.5,395.94666666666501,396.39333333333497,396.83999999999997,397.14999999999884,397.46000000000112,397.76999999999998,399.28666666666112,400.80333333333886,402.31999999999999,403.3766666666628,404.4333333333372,405.49000000000001,401.84000000001328,398.18999999998675,394.54000000000002,399.82999999998077,405.12000000001927,410.41000000000003,414.56666666665154,418.72333333334848,422.88,423.67666666666378,424.4733333333362,425.26999999999998,412.75666666671219,400.24333333328781,387.73000000000002,387.8533333333329,387.97666666666714,388.10000000000002,389.05333333332987,390.00666666667013,390.95999999999998,390.82666666666717,390.69333333333282,390.56,403.78999999995187,417.02000000004813,430.25,431.27333333332962,432.29666666667038,433.31999999999999,433.94333333333105,434.56666666666894,435.19,439.51999999998424,443.85000000001577,448.18000000000001,449.00666666666365,449.83333333333638,450.66000000000003,449.87666666666951,449.09333333333052,448.31,450.41999999999234,452.53000000000765,454.63999999999999,457.40333333332325,460.16666666667675,462.93000000000001,461.54333333333835,460.15666666666164,458.76999999999998,449.80000000003264,440.82999999996736,431.86000000000001,432.63333333333054,433.40666666666948,434.18000000000001,434.2933333333329,434.40666666666709,434.51999999999998,434.26000000000096,433.99999999999903,433.74000000000001,434.51333333333054,435.28666666666948,436.06,436.12333333333311,436.18666666666689,436.25,435.14000000000402,434.02999999999599,432.92000000000002,433.40999999999821,433.9000000000018,434.38999999999999,433.92000000000172,433.44999999999828,432.98000000000002,431.91000000000389,430.83999999999611,429.76999999999998,427.85000000000696,425.92999999999302,424.00999999999999,435.16999999995937,446.33000000004063,457.49000000000001,457.76333333333235,458.03666666666766,458.31,458.35999999999979,458.4100000000002,458.45999999999998,453.81666666668355,449.17333333331641,444.52999999999997,444.25000000000102,443.96999999999895,443.69,444.03666666666538,444.38333333333463,444.73000000000002,450.69999999997827,456.67000000002173,462.63999999999999,463.61999999999642,464.60000000000355,465.57999999999998,465.44666666666717,465.31333333333282,465.18000000000001,462.74000000000888,460.29999999999114,457.86000000000001,460.30999999999108,462.76000000000892,465.20999999999998,465.2466666666665,465.28333333333347,465.31999999999999,459.26000000002205,453.19999999997793,447.13999999999999,445.32000000000659,443.49999999999341,441.68000000000001,450.81999999996674,459.96000000003329,469.10000000000002,463.3800000000208,457.65999999997922,451.94,441.13000000003933,430.31999999996066,419.50999999999999,420.71333333332893,421.91666666667106,423.12,420.60000000000917,418.07999999999083,415.56,410.36333333335227,405.16666666664776,399.97000000000003,400.91666666666322,401.86333333333681,402.81,398.47000000001577,394.12999999998425,389.79000000000002,381.03333333336519,372.27666666663481,363.51999999999998,365.7699999999918,368.02000000000817,370.26999999999998,367.59000000000975,364.90999999999025,362.23000000000002,367.79666666664644,373.36333333335358,378.93000000000001,380.07333333332917,381.21666666667085,382.36000000000001,378.88666666667933,375.41333333332068,371.94,367.80666666668174,363.67333333331828,359.54000000000002,360.8899999999951,362.2400000000049,363.58999999999997,364.64666666666278,365.70333333333718,366.75999999999999,354.21666666671229,341.6733333332877,329.13,327.10666666667402,325.08333333332598,323.06,323.74666666666417,324.43333333333584,325.12,325.74999999999773,326.38000000000227,327.00999999999999,327.39333333333195,327.77666666666806,328.16000000000003,327.59666666666874,327.03333333333131,326.47000000000003,329.4233333333226,332.37666666667741,335.32999999999998,335.72999999999854,336.13000000000142,336.52999999999997,337.13666666666444,337.74333333333556,338.35000000000002,336.11000000000814,333.86999999999188,331.63,332.63999999999635,333.65000000000367,334.66000000000003,335.83333333332911,337.00666666667092,338.18000000000001,339.08999999999668,340.00000000000335,340.91000000000003,342.29999999999495,343.69000000000506,345.07999999999998,343.58000000000544,342.07999999999453,340.57999999999998,354.18333333328383,367.78666666671614,381.38999999999999,382.68666666666195,383.98333333333801,385.27999999999997,386.81666666666104,388.35333333333892,389.88999999999999,390.12333333333248,390.35666666666748,390.58999999999997,392.33999999999361,394.09000000000634,395.83999999999997,413.07999999993729,430.32000000006269,447.56,463.55999999994179,479.56000000005821,495.56,469.67333333342748,443.7866666665725,417.89999999999998,400.38666666673038,382.87333333326961,365.36000000000001,352.73000000004595,340.09999999995409,327.47000000000003,329.23999999999359,331.01000000000641,332.77999999999997,333.24333333333163,333.70666666666835,334.17000000000002,328.83666666668609,323.50333333331395,318.17000000000002,314.22333333334768,310.27666666665232,306.32999999999998,302.95666666667893,299.58333333332104,296.20999999999998,292.57333333334657,288.93666666665342,285.30000000000001,288.2199999999894,291.14000000001062,294.06,289.94333333334828,285.8266666666517,281.70999999999998,280.70000000000368,279.6899999999963,278.68000000000001,277.95666666666932,277.23333333333068,276.50999999999999,274.59666666667363,272.68333333332635,270.76999999999998,270.78999999999991,270.81000000000006,270.82999999999998,268.82666666667393,266.82333333332605,264.81999999999999,267.10333333332505,269.38666666667496,271.67000000000002,272.30666666666434,272.94333333333566,273.57999999999998,271.09666666667567,268.61333333332431,266.13,262.74000000001234,259.34999999998769,255.96000000000001,255.40000000000205,254.83999999999796,254.28,252.93333333333823,251.58666666666178,250.24000000000001,249.31000000000338,248.37999999999661,247.44999999999999,247.38000000000025,247.30999999999975,247.24000000000001,246.60000000000232,245.95999999999768,245.31999999999999,244.95666666666799,244.593333333332,244.22999999999999,244.23666666666662,244.24333333333337,244.25,245.05999999999705,245.87000000000296,246.68000000000001,246.76666666666637,246.85333333333364,246.94,244.75333333334129,242.5666666666587,240.38,239.9100000000017,239.43999999999829,238.97,239.08333333333292,239.19666666666708,239.31,239.05333333333428,238.79666666666571,238.53999999999999,238.50666666666677,238.47333333333322,238.44,238.2033333333342,237.96666666666579,237.72999999999999,238.41999999999749,239.11000000000251,239.80000000000001,239.64666666666724,239.49333333333277,239.34,237.73666666667251,236.1333333333275,234.53,234.81999999999894,235.11000000000107,235.40000000000001,236.07666666666421,236.7533333333358,237.43000000000001,236.83666666666883,236.24333333333118,235.65000000000001,234.38000000000463,233.10999999999538,231.84,232.02333333333266,232.20666666666733,232.38999999999999,232.00000000000142,231.60999999999856,231.22,231.60333333333193,231.98666666666807,232.37,232.64999999999898,232.93000000000103,233.21000000000001,233.58999999999861,233.97000000000139,234.34999999999999,232.99333333333826,231.63666666666174,230.28,230.5933333333322,230.9066666666678,231.22,240.53999999996608,249.86000000003392,259.18000000000001,250.26666666669911,241.3533333333009,232.44,233.60666666666242,234.77333333333758,235.94,237.33333333332826,238.72666666667175,240.12,240.46999999999872,240.82000000000127,241.16999999999999,241.20999999999984,241.25000000000014,241.28999999999999,242.33333333332953,243.37666666667045,244.41999999999999,244.87333333333169,245.3266666666683,245.78,244.55666666667113,243.33333333332888,242.11000000000001,242.3766666666657,242.64333333333431,242.91,240.65333333334155,238.39666666665843,236.13999999999999,234.39333333333968,232.64666666666031,230.90000000000001,230.46666666666823,230.03333333333177,229.59999999999999,229.92666666666548,230.25333333333452,230.58000000000001,230.79333333333255,231.00666666666746,231.22,231.46666666666576,231.71333333333425,231.96000000000001,231.99666666666653,232.03333333333347,232.06999999999999,232.45333333333193,232.83666666666807,233.22,233.88666666666424,234.55333333333576,235.22,233.02666666667463,230.83333333332536,228.63999999999999,229.48666666666358,230.33333333333641,231.18000000000001,229.56000000000589,227.93999999999411,226.31999999999999,226.92666666666446,227.53333333333552,228.13999999999999,229.66333333332778,231.18666666667221,232.71000000000001,233.45999999999728,234.21000000000274,234.96000000000001,235.44999999999823,235.94000000000179,236.43000000000001,236.7433333333322,237.05666666666781,237.37,237.3833333333333,237.3966666666667,237.41,244.26999999997506,251.13000000002495,257.99000000000001,258.82666666666364,259.66333333333637,260.5,261.14666666666432,261.79333333333568,262.44,263.84999999999485,265.26000000000516,266.67000000000002,266.9366666666657,267.20333333333434,267.47000000000003,267.05666666666821,266.64333333333184,266.23000000000002,267.70999999999464,269.1900000000054,270.67000000000002,270.57666666666699,270.48333333333301,270.38999999999999,269.27000000000407,268.14999999999588,267.02999999999997,267.02000000000004,267.00999999999993,267,271.30999999998431,275.62000000001569,279.93000000000001,280.0833333333328,280.23666666666719,280.38999999999999,280.89666666666483,281.40333333333518,281.91000000000003,283.10666666666231,284.30333333333772,285.5,285.56999999999977,285.64000000000021,285.70999999999998,285.63000000000028,285.54999999999973,285.47000000000003,284.65666666666965,283.84333333333035,283.02999999999997,283.66333333333102,284.29666666666895,284.93000000000001,286.27333333332842,287.61666666667156,288.95999999999998,289.34999999999854,289.74000000000143,290.13,291.59999999999468,293.07000000000534,294.54000000000002,295.24333333333078,295.94666666666922,296.64999999999998,297.02333333333195,297.39666666666801,297.76999999999998,296.1966666666724,294.62333333332759,293.05000000000001,292.27666666666948,291.50333333333054,290.73000000000002,290.2366666666685,289.74333333333152,289.25,285.53666666668016,281.82333333331985,278.11000000000001,277.96333333333388,277.81666666666615,277.67000000000002,278.62999999999653,279.5900000000035,280.55000000000001,280.02666666666858,279.50333333333145,278.98000000000002,277.8766666666707,276.77333333332933,275.67000000000002,277.95666666665835,280.24333333334164,282.52999999999997,281.7800000000027,281.02999999999724,280.27999999999997,283.91333333332011,287.54666666667987,291.18000000000001,291.8699999999975,292.5600000000025,293.25,294.21666666666312,295.18333333333686,296.14999999999998,301.08333333331535,306.01666666668461,310.94999999999999,312.09666666666249,313.24333333333749,314.38999999999999,309.09666666668591,303.80333333331407,298.50999999999999,297.20333333333809,295.89666666666187,294.58999999999997,287.17000000002696,279.749999999973,272.32999999999998,272.54333333333255,272.75666666666746,272.97000000000003,272.42666666666867,271.88333333333134,271.33999999999997,273.36666666665928,275.39333333334071,277.42000000000002,276.45000000000351,275.47999999999649,274.50999999999999,270.16000000001583,265.80999999998414,261.45999999999998,260.00000000000529,258.53999999999468,257.07999999999998,258.59666666666112,260.11333333333886,261.63,262.80999999999568,263.99000000000433,265.17000000000002,266.06999999999675,266.97000000000327,267.87,264.3033333333463,260.73666666665372,257.17000000000002,255.17000000000729,253.16999999999271,251.16999999999999,251.22666666666646,251.28333333333353,251.34,248.81000000000921,246.27999999999079,243.75,243.61000000000053,243.46999999999949,243.33000000000001,243.66666666666546,244.00333333333455,244.34,245.32666666666307,246.31333333333694,247.30000000000001,247.50666666666592,247.71333333333408,247.91999999999999,247.02000000000328,246.11999999999671,245.22,245.42333333333261,245.6266666666674,245.83000000000001,247.54666666666043,249.26333333333957,250.97999999999999,251.35666666666529,251.73333333333471,252.11000000000001,253.68999999999426,255.27000000000578,256.85000000000002,255.14666666667287,253.44333333332716,251.74000000000001,247.10666666668354,242.47333333331648,237.84,236.84666666667027,235.85333333332974,234.86000000000001,234.12333333333603,233.38666666666398,232.65000000000001,232.12000000000194,231.58999999999807,231.06,230.80333333333428,230.54666666666571,230.28999999999999,230.1200000000006,229.94999999999939,229.78,230.16999999999857,230.56000000000142,230.94999999999999,230.45333333333514,229.95666666666486,229.46000000000001,228.37000000000398,227.27999999999602,226.19,226.0333333333339,225.8766666666661,225.72,225.80333333333303,225.88666666666697,225.97,226.17333333333261,226.3766666666674,226.58000000000001,226.85333333333236,227.12666666666766,227.40000000000001,227.07333333333452,226.74666666666548,226.41999999999999,228.18333333332691,229.94666666667308,231.71000000000001,232.22333333333148,232.73666666666853,233.25,234.52999999999534,235.81000000000466,237.09,237.23333333333281,237.37666666666721,237.52000000000001,237.61999999999964,237.72000000000037,237.81999999999999,238.09333333333234,238.36666666666764,238.63999999999999,238.50666666666714,238.37333333333285,238.24000000000001,239.1666666666633,240.09333333333672,241.02000000000001,241.33999999999884,241.66000000000116,241.97999999999999,241.66333333333449,241.3466666666655,241.03,241.01000000000008,240.98999999999992,240.97,239.39333333333906,237.81666666666095,236.24000000000001,235.7200000000019,235.19999999999811,234.68000000000001,234.50333333333398,234.32666666666603,234.15000000000001,235.16999999999629,236.19000000000372,237.21000000000001,237.48333333333235,237.75666666666766,238.03,237.92000000000039,237.8099999999996,237.69999999999999,238.04999999999873,238.40000000000126,238.75,238.4333333333345,238.11666666666551,237.80000000000001,239.76666666665952,241.73333333334048,243.69999999999999,243.42666666666764,243.15333333333234,242.88,243.34333333333166,243.80666666666835,244.27000000000001,244.20333333333357,244.13666666666643,244.06999999999999,245.31333333332881,246.55666666667119,247.80000000000001,247.2933333333352,246.78666666666481,246.28,243.88666666667538,241.49333333332461,239.09999999999999,238.21666666666988,237.3333333333301,236.44999999999999,237.36666666666332,238.28333333333666,239.19999999999999,240.34666666666249,241.49333333333749,242.63999999999999,242.83999999999926,243.04000000000073,243.24000000000001,240.73666666667577,238.23333333332423,235.72999999999999,236.80999999999605,237.89000000000394,238.97,239.16666666666595,239.36333333333405,239.56,235.38666666668183,231.21333333331813,227.03999999999999,227.859999999997,228.68000000000299,229.5,230.76999999999538,232.04000000000462,233.31,231.1866666666744,229.0633333333256,226.94,228.81333333332651,230.68666666667349,232.56,233.80999999999545,235.06000000000455,236.31,236.36333333333314,236.41666666666686,236.47,236.94999999999825,237.43000000000174,237.91,237.03000000000321,236.14999999999679,235.27000000000001,232.29666666667748,229.32333333332252,226.34999999999999,226.34999999999999,226.34999999999999,226.34999999999999,225.67333333333579,224.9966666666642,224.31999999999999,225.84999999999442,227.38000000000557,228.91,229.16333333333242,229.41666666666757,229.66999999999999,227.72333333334041,225.77666666665959,223.83000000000001,224.21333333333195,224.59666666666806,224.97999999999999,228.96666666665215,232.95333333334784,236.94,237.20333333333238,237.46666666666761,237.72999999999999,238.33333333333113,238.93666666666886,239.53999999999999,240.92333333332829,242.3066666666717,243.69,244.49999999999704,245.31000000000296,246.12,248.69666666665731,251.27333333334269,253.84999999999999,254.50333333333094,255.15666666666905,255.81,257.8066666666594,259.80333333334062,261.80000000000001,261.42666666666804,261.05333333333198,260.68000000000001,258.87333333333993,257.06666666666007,255.25999999999999,255.51999999999904,255.78000000000097,256.04000000000002,255.51333333333525,254.98666666666477,254.46000000000001,252.15333333334172,249.84666666665828,247.53999999999999,247.93666666666522,248.33333333333476,248.72999999999999,248.89999999999938,249.07000000000062,249.24000000000001,250.53999999999527,251.84000000000472,253.13999999999999,253.49666666666536,253.85333333333463,254.21000000000001,255.07666666666353,255.94333333333648,256.81,255.99000000000299,255.169999999997,254.34999999999999,252.63000000000625,250.90999999999374,249.19,255.12666666664506,261.06333333335493,267,270.43333333332083,273.86666666667918,277.30000000000001,274.78333333334251,272.2666666666575,269.75,267.2333333333425,264.71666666665749,262.19999999999999,263.08333333333013,263.96666666666988,264.85000000000002,264.64666666666744,264.44333333333259,264.24000000000001,271.27333333330773,278.30666666669225,285.33999999999997,287.68333333332481,290.02666666667517,292.37,292.94999999999789,293.53000000000213,294.11000000000001,291.58333333334252,289.05666666665746,286.52999999999997,286.46666666666687,286.40333333333308,286.33999999999997,289.05999999999011,291.78000000000986,294.5,295.36333333333016,296.22666666666981,297.08999999999997,297.1899999999996,297.29000000000036,297.38999999999999,298.27333333333013,299.15666666666988,300.04000000000002,297.59333333334223,295.14666666665778,292.69999999999999,287.75333333335135,282.80666666664865,277.86000000000001,277.85666666666668,277.85333333333335,277.85000000000002,277.77000000000032,277.68999999999971,277.61000000000001,278.96333333332842,280.31666666667161,281.67000000000002,282.52333333333024,283.37666666666979,284.23000000000002,284.75333333333145,285.27666666666858,285.80000000000001,282.63333333334486,279.46666666665516,276.30000000000001,271.42000000001775,266.53999999998229,261.66000000000003,259.33666666667511,257.01333333332491,254.69,255.34333333333095,255.99666666666903,256.64999999999998,250.33666666668961,244.02333333331038,237.71000000000001,238.25333333333137,238.79666666666864,239.34,239.52666666666599,239.71333333333402,239.90000000000001,239.96999999999974,240.04000000000028,240.11000000000001,242.20333333332573,244.29666666667427,246.38999999999999,249.36666666665582,252.34333333334416,255.31999999999999,252.58000000000996,249.83999999999003,247.09999999999999,245.62333333333871,244.14666666666128,242.66999999999999,243.19666666666475,243.72333333333523,244.25,244.75999999999814,245.27000000000186,245.78,243.69333333334092,241.60666666665909,239.52000000000001,248.21666666663504,256.91333333336496,265.61000000000001,263.67666666667373,261.74333333332629,259.81,253.29333333335703,246.77666666664297,240.25999999999999,234.24000000002189,228.21999999997809,222.19999999999999,222.60333333333185,223.00666666666814,223.41,222.8766666666686,222.3433333333314,221.81,222.53333333333069,223.2566666666693,223.97999999999999,225.79999999999336,227.62000000000663,229.44,229.72666666666564,230.01333333333437,230.30000000000001,230.36999999999975,230.44000000000025,230.50999999999999,233.47666666665586,236.44333333334413,239.41,236.29333333334466,233.17666666665534,230.06,235.35999999998072,240.66000000001929,245.96000000000001,244.70000000000459,243.43999999999542,242.18000000000001,238.64333333334619,235.10666666665381,231.56999999999999,232.21333333333098,232.85666666666901,233.5,236.61666666665533,239.73333333334466,242.84999999999999,241.47000000000503,240.08999999999497,238.71000000000001,247.98666666663294,257.26333333336709,266.54000000000002,269.51999999998918,272.50000000001086,275.48000000000002,286.77999999995887,298.08000000004114,309.38,291.27666666673252,273.17333333326746,255.06999999999999,252.78333333334166,250.49666666665834,248.21000000000001,243.75333333334956,239.29666666665045,234.84,235.56666666666402,236.29333333333599,237.02000000000001,233.94333333334453,230.86666666665548,227.78999999999999,223.60666666668189,219.42333333331811,215.24000000000001,215.73666666666486,216.23333333333514,216.72999999999999,217.38333333333094,218.03666666666905,218.69,216.37000000000845,214.04999999999154,211.72999999999999,215.01666666665471,218.30333333334528,221.59,224.08333333332428,226.57666666667572,229.06999999999999,227.34333333333961,225.61666666666036,223.88999999999999,238.68666666661281,253.48333333338715,268.27999999999997,269.58666666666187,270.89333333333809,272.19999999999999,274.67999999999097,277.16000000000901,279.63999999999999,282.46999999998968,285.3000000000103,288.13,289.1233333333297,290.11666666667031,291.11000000000001,292.11666666666304,293.12333333333697,294.13,295.66999999999439,297.21000000000561,298.75,295.01666666668024,291.28333333331977,287.55000000000001,284.48000000001116,281.40999999998883,278.33999999999997,281.30333333332254,284.26666666667745,287.23000000000002,296.53666666663281,305.84333333336718,315.14999999999998,315.37999999999914,315.61000000000081,315.83999999999997,317.37333333332776,318.90666666667221,320.44,320.35666666666697,320.27333333333303,320.19,318.39666666667318,316.60333333332682,314.81,316.6299999999934,318.45000000000658,320.26999999999998,320.19000000000028,320.10999999999967,320.02999999999997,322.98999999998921,325.95000000001079,328.91000000000003,329.74666666666366,330.58333333333638,331.42000000000002,328.50333333334396,325.58666666665607,322.67000000000002,326.69333333331872,330.71666666668131,334.74000000000001,335.25666666666478,335.77333333333524,336.29000000000002,335.56666666666933,334.84333333333069,334.12,332.62333333333879,331.12666666666121,329.63,329.85999999999916,330.09000000000083,330.31999999999999,326.39000000001431,322.45999999998565,318.52999999999997,320.25666666666035,321.9833333333396,323.70999999999998,327.12333333332089,330.53666666667908,333.94999999999999,337.91999999998558,341.89000000001442,345.86000000000001,347.84333333332614,349.82666666667387,351.81,352.31333333333151,352.81666666666848,353.31999999999999,353.0066666666678,352.69333333333219,352.38,352.5799999999993,352.78000000000071,352.98000000000002,355.77333333332319,358.56666666667684,361.36000000000001,358.36666666667759,355.37333333332242,352.38,355.94333333332037,359.50666666667962,363.06999999999999,367.3899999999843,371.71000000001567,376.02999999999997,376.11666666666633,376.20333333333366,376.29000000000002,377.00999999999738,377.73000000000263,378.44999999999999,378.69666666666575,378.94333333333424,379.19,379.01000000000067,378.8299999999993,378.64999999999998,380.10999999999467,381.57000000000528,383.02999999999997,383.36666666666542,383.70333333333457,384.04000000000002,383.91333333333381,383.78666666666624,383.66000000000003,383.28333333333472,382.90666666666527,382.52999999999997,384.21999999999383,385.91000000000616,387.60000000000002,386.01333333333912,384.42666666666088,382.83999999999997,379.89000000001073,376.93999999998925,373.99000000000001,375.2266666666622,376.4633333333378,377.69999999999999,383.36666666664604,389.03333333335394,394.69999999999999,392.20333333334241,389.70666666665755,387.20999999999998,381.7566666666865,376.3033333333135,370.85000000000002,368.84666666667397,366.84333333332603,364.83999999999997,362.52000000000839,360.19999999999158,357.88,365.9266666666374,373.97333333336258,382.01999999999998,383.50666666666126,384.99333333333874,386.48000000000002,388.45333333332616,390.42666666667384,392.39999999999998,398.33333333331171,404.26666666668825,410.19999999999999,403.73333333335688,397.26666666664312,390.80000000000001,395.70999999998213,400.62000000001785,405.52999999999997,410.1033333333167,414.67666666668327,419.25,431.86333333328741,444.47666666671256,457.08999999999997,447.96666666669984,438.84333333330017,429.72000000000003,410.25000000007083,390.7799999999292,371.31,372.47999999999575,373.65000000000424,374.81999999999999,371.08999999999321,367.36000000000678,363.63,358.09666666665657,352.56333333334339,347.02999999999997,348.93000000000342,350.82999999999657,352.73000000000002,352.81000000000017,352.88999999999987,352.97000000000003,349.76999999999418,346.57000000000585,343.37,339.50333333332628,335.6366666666737,331.76999999999998,332.51333333333469,333.2566666666653,334,332.34999999999701,330.700000000003,329.05000000000001,332.8766666666736,336.70333333332638,340.52999999999997,343.03666666667124,345.54333333332875,348.05000000000001,349.00333333333509,349.95666666666494,350.91000000000003,353.21666666667085,355.52333333332916,357.82999999999998,358.54666666666799,359.26333333333201,359.98000000000002,359.52999999999918,359.08000000000084,358.63,358.82666666666705,359.02333333333297,359.22000000000003,359.43333333333374,359.64666666666631,359.86000000000001,361.35666666666941,362.85333333333062,364.35000000000002,371.25000000001256,378.14999999998747,385.05000000000001,386.22666666666879,387.4033333333312,388.57999999999998,389.93666666666911,391.29333333333085,392.64999999999998,391.79333333333176,390.9366666666682,390.07999999999998,391.366666666669,392.65333333333098,393.94,394.34666666666743,394.75333333333259,395.16000000000003,391.93333333332748,388.70666666667256,385.48000000000002,389.92333333334142,394.3666666666586,398.81,399.95000000000209,401.08999999999793,402.23000000000002,405.3866666666724,408.54333333332761,411.69999999999999,406.87666666665791,402.0533333333421,397.23000000000002,391.29666666665588,385.36333333334414,379.43000000000001,375.34999999999258,371.27000000000743,367.19,369.81666666667144,372.44333333332855,375.06999999999999,377.623333333338,380.17666666666202,382.73000000000002,373.27333333331615,363.81666666668389,354.36000000000001,349.32333333332417,344.28666666667584,339.25,341.21000000000356,343.16999999999643,345.13,344.01999999999799,342.91000000000201,341.80000000000001,349.3633333333471,356.92666666665292,364.49000000000001,368.890000000008,373.28999999999201,377.69,380.29333333333807,382.89666666666193,385.5,387.46000000000356,389.41999999999643,391.38,391.24666666666644,391.11333333333357,390.98000000000002,389.05666666666315,387.13333333333685,385.20999999999998,390.48000000000957,395.74999999999039,401.01999999999998,402.88666666667007,404.75333333332992,406.62,409.39333333333838,412.16666666666163,414.94,417.80000000000518,420.6599999999948,423.51999999999998,427.71666666667431,431.91333333332568,436.11000000000001,437.92666666666997,439.74333333333004,441.56,430.01333333331235,418.46666666668767,406.92000000000002,408.75666666667001,410.59333333333001,412.43000000000001,416.05333333333994,419.67666666666008,423.30000000000001,424.81000000000273,426.31999999999726,427.82999999999998,437.50666666668428,447.18333333331572,456.86000000000001,460.63000000000687,464.39999999999316,468.17000000000002,470.66000000000452,473.14999999999549,475.63999999999999,476.63333333333514,477.62666666666485,478.62,479.03000000000077,479.43999999999926,479.85000000000002,480.60666666666805,481.36333333333198,482.12,481.28999999999849,480.46000000000151,479.63,480.53666666666834,481.44333333333168,482.35000000000002,484.0566666666698,485.76333333333025,487.47000000000003,484.10666666666054,480.74333333333948,477.38,481.53000000000753,485.67999999999245,489.82999999999998,489.24333333333226,488.65666666666772,488.06999999999999,488.24666666666701,488.42333333333301,488.60000000000002,489.28000000000122,489.95999999999879,490.63999999999999,491.73666666666867,492.83333333333132,493.93000000000001,489.85666666665924,485.78333333334075,481.70999999999998,482.13666666666745,482.56333333333254,482.99000000000001,483.76333333333474,484.53666666666527,485.31,491.83333333334519,498.3566666666548,504.88,506.35666666666935,507.83333333333064,509.31,510.10333333333477,510.89666666666523,511.69,513.18000000000268,514.66999999999723,516.15999999999997,517.67666666666946,519.19333333333054,520.71000000000004,518.03666666666186,515.36333333333823,512.69000000000005,511.19999999999732,509.71000000000276,508.22000000000003,509.77666666666948,511.33333333333053,512.88999999999999,513.36000000000081,513.82999999999913,514.29999999999995,516.6933333333377,519.08666666666227,521.48000000000002,524.95333333333963,528.42666666666037,531.89999999999998,527.35999999999171,522.82000000000824,518.27999999999997,507.42333333331356,496.56666666668639,485.70999999999998,490.26333333334162,494.81666666665836,499.37,506.31000000001262,513.24999999998738,520.19000000000005,520.6200000000008,521.04999999999927,521.48000000000002,520.37999999999795,519.28000000000202,518.17999999999995,527.53333333335036,536.8866666666496,546.24000000000001,555.17000000001622,564.09999999998377,573.02999999999997,574.33666666666909,575.64333333333093,576.95000000000005,581.80333333334215,586.65666666665788,591.50999999999999,592.49333333333516,593.47666666666487,594.46000000000004,593.79666666666549,593.13333333333458,592.47000000000003,594.35333333333676,596.23666666666327,598.12,595.77999999999577,593.44000000000426,591.10000000000002,589.89666666666449,588.69333333333554,587.49000000000001,588.28333333333478,589.07666666666523,589.87,590.56333333333464,591.25666666666541,591.95000000000005,591.01666666666495,590.08333333333508,589.14999999999998,591.07000000000346,592.98999999999648,594.90999999999997,595.91333333333512,596.91666666666481,597.91999999999996,594.02666666665959,590.13333333334037,586.24000000000001,585.86666666666599,585.49333333333402,585.12,586.20666666666864,587.29333333333136,588.38,590.44333333333714,592.50666666666291,594.57000000000005,596.02666666666937,597.48333333333073,598.94000000000005,599.99000000000194,601.03999999999814,602.09000000000003,603.75000000000307,605.40999999999701,607.07000000000005,611.5233333333415,615.9766666666585,620.42999999999995,621.76333333333571,623.09666666666419,624.42999999999995,624.38666666666654,624.34333333333336,624.29999999999995,624.2299999999999,624.16000000000008,624.09000000000003,625.58000000000277,627.06999999999721,628.55999999999995,628.76333333333366,628.96666666666624,629.16999999999996,629.18333333333339,629.1966666666666,629.21000000000004,628.23666666666486,627.26333333333514,626.28999999999996,625.22333333333142,624.15666666666857,623.09000000000003,623.77333333333456,624.45666666666546,625.13999999999999,625.8733333333347,626.60666666666532,627.34000000000003,629.80333333333783,632.26666666666222,634.73000000000002,635.37333333333447,636.01666666666551,636.65999999999997,635.13666666666393,633.61333333333607,632.09000000000003,630.09999999999638,628.11000000000365,626.12,626.41333333333387,626.70666666666614,627,626.89999999999986,626.80000000000018,626.70000000000005,630.18666666667298,633.67333333332704,637.15999999999997,637.65666666666755,638.1533333333324,638.64999999999998,636.83999999999673,635.03000000000327,633.22000000000003,638.29000000000917,643.35999999999081,648.42999999999995,649.2100000000014,649.98999999999853,650.76999999999998,652.74000000000353,654.7099999999964,656.67999999999995,657.07333333333406,657.4666666666659,657.86000000000001,653.6233333333256,649.38666666667439,645.14999999999998,631.45999999997514,617.77000000002488,604.08000000000004,604.21000000000026,604.3399999999998,604.47000000000003,603.01999999999737,601.57000000000266,600.12,593.95666666665545,587.79333333334455,581.63,582.28666666666788,582.94333333333213,583.60000000000002,588.0566666666748,592.51333333332525,596.97000000000003,599.05000000000382,601.12999999999624,603.21000000000004,604.14000000000169,605.06999999999834,606,603.81999999999607,601.64000000000397,599.46000000000004,599.55666666666684,599.65333333333319,599.75,603.91333333334092,608.07666666665909,612.24000000000001,613.45333333333554,614.66666666666447,615.88,614.21666666666363,612.55333333333635,610.88999999999999,610.16666666666538,609.44333333333464,608.72000000000003,603.45999999999049,598.2000000000096,592.94000000000005,595.7166666666717,598.49333333332834,601.26999999999998,605.89333333334173,610.51666666665824,615.13999999999999,622.79666666668061,630.45333333331939,638.11000000000001,644.42000000001144,650.72999999998854,657.03999999999996,657.90000000000157,658.7599999999984,659.62,658.97999999999888,658.34000000000117,657.70000000000005,658.09333333333404,658.486666666666,658.88,658.23333333333221,657.58666666666784,656.94000000000005,658.41666666666936,659.8933333333307,661.37,662.09000000000128,662.80999999999869,663.52999999999997,665.20666666666966,666.88333333333026,668.55999999999995,670.41000000000338,672.25999999999658,674.11000000000001,671.23999999999478,668.37000000000523,665.5,667.50333333333697,669.50666666666302,671.50999999999999,655.91333333330499,640.31666666669503,624.72000000000003,622.63333333332957,620.54666666667049,618.46000000000004,604.67333333330828,590.88666666669178,577.10000000000002,577.60666666666759,578.11333333333243,578.62,582.25333333333992,585.88666666666006,589.51999999999998,589.14333333333263,588.76666666666733,588.38999999999999,584.4199999999928,580.45000000000721,576.48000000000002,559.37666666663551,542.27333333336446,525.16999999999996,530.76666666667688,536.36333333332311,541.96000000000004,536.42666666665662,530.89333333334343,525.36000000000001,515.02999999998121,504.7000000000188,494.37,493.39333333333155,492.41666666666845,491.44,476.81333333330673,462.18666666669327,447.56,448.29666666666799,449.033333333332,449.76999999999998,450.50666666666802,451.24333333333198,451.98000000000002,451.53999999999922,451.10000000000082,450.66000000000003,450.37333333333282,450.08666666666721,449.80000000000001,448.75333333333145,447.70666666666858,446.66000000000003,445.09999999999718,443.54000000000286,441.98000000000002,442.07333333333349,442.16666666666652,442.25999999999999,446.62000000000791,450.97999999999206,455.33999999999997,455.48333333333358,455.62666666666638,455.76999999999998,454.74333333333146,453.71666666666852,452.69,451.25999999999738,449.8300000000026,448.39999999999998,447.64333333333195,446.88666666666802,446.13,446.76666666666785,447.40333333333217,448.04000000000002,445.68333333332907,443.32666666667097,440.97000000000003,440.56999999999931,440.1700000000007,439.76999999999998,442.98000000000582,446.18999999999414,449.39999999999998,452.24333333333851,455.08666666666147,457.93000000000001,458.82333333333497,459.71666666666505,460.61000000000001,457.43999999999426,454.27000000000578,451.10000000000002,451.28000000000031,451.4599999999997,451.63999999999999,450.26999999999748,448.90000000000248,447.52999999999997,451.46333333334047,455.39666666665948,459.32999999999998,461.06666666666985,462.80333333333016,464.54000000000002,476.46000000002169,488.37999999997834,500.30000000000001,500.35333333333341,500.40666666666658,500.45999999999998,498.0566666666623,495.65333333333768,493.25,496.57333333333941,499.89666666666062,503.22000000000003,505.67000000000445,508.11999999999557,510.56999999999999,510.67000000000019,510.76999999999981,510.87,508.4333333333289,505.9966666666711,503.56,501.90666666666368,500.25333333333634,498.60000000000002,510.24000000002115,521.87999999997885,533.51999999999998,536.4733333333387,539.42666666666128,542.38,534.58666666665249,526.7933333333475,519,502.58333333330347,486.16666666669653,469.75,455.63333333330763,441.51666666669234,427.39999999999998,431.47000000000742,435.53999999999257,439.61000000000001,436.32999999999402,433.05000000000598,429.76999999999998,434.30333333334158,438.8366666666584,443.37,447.49000000000751,451.60999999999251,455.73000000000002,456.29333333333437,456.85666666666566,457.42000000000002,459.13333333333645,460.84666666666357,462.56,463.81333333333561,465.06666666666439,466.31999999999999,465.40333333333166,464.48666666666833,463.56999999999999,460.59666666666124,457.62333333333873,454.64999999999998,452.95333333333025,451.25666666666973,449.56,464.72333333336093,479.88666666663909,495.05000000000001,495.14666666666682,495.24333333333317,495.33999999999997,491.23333333332585,487.12666666667411,483.01999999999998,486.13666666667234,489.25333333332765,492.37,496.53333333334092,500.6966666666591,504.86000000000001,511.91333333334615,518.96666666665385,526.01999999999998,544.20000000003301,562.37999999996691,580.55999999999995,583.71666666667238,586.87333333332754,590.02999999999997,588.49999999999727,586.97000000000276,585.44000000000005,585.81333333333407,586.18666666666593,586.55999999999995,581.11999999999011,575.68000000000984,570.24000000000001,571.01000000000136,571.77999999999861,572.54999999999995,583.23000000001946,593.90999999998053,604.59000000000003,606.31000000000313,608.0299999999969,609.75,613.83333333334076,617.91666666665924,622,622.13000000000022,622.25999999999976,622.38999999999999,625.82000000000619,629.24999999999375,632.67999999999995,634.29333333333625,635.90666666666368,637.51999999999998,638.06000000000097,638.599999999999,639.13999999999999,639.27000000000021,639.39999999999975,639.52999999999997,641.08666666666954,642.64333333333047,644.20000000000005,645.47666666666896,646.75333333333106,648.02999999999997,644.8266666666608,641.62333333333913,638.41999999999996,640.53333333333717,642.64666666666278,644.75999999999999,644.48999999999955,644.22000000000048,643.95000000000005,641.01333333332798,638.07666666667205,635.13999999999999,645.20666666668501,655.27333333331501,665.34000000000003,666.81666666666933,668.29333333333068,669.76999999999998,671.27333333333604,672.77666666666391,674.27999999999997,681.59333333334666,688.90666666665334,696.22000000000003,698.45000000000402,700.67999999999597,702.90999999999997,658.76666666658639,614.6233333334136,570.48000000000002,571.44666666666842,572.41333333333159,573.38,576.96666666667318,580.5533333333268,584.13999999999999,587.4433333333393,590.74666666666064,594.04999999999995,597.30000000000587,600.54999999999404,603.79999999999995,582.99333333329548,562.18666666670447,541.38,563.45666666670684,585.53333333329317,607.61000000000001,618.37666666668622,629.14333333331376,639.90999999999997,631.43333333331793,622.95666666668205,614.48000000000002,603.97333333331426,593.4666666666858,582.96000000000004,597.8833333333605,612.80666666663956,627.73000000000002,629.0766666666691,630.4233333333309,631.76999999999998,636.43333333334181,641.09666666665817,645.75999999999999,649.49000000000683,653.21999999999321,656.95000000000005,659.66666666667163,662.38333333332844,665.10000000000002,664.01333333333139,662.92666666666867,661.84000000000003,671.80000000001814,681.75999999998191,691.72000000000003,680.47666666664622,669.23333333335381,657.99000000000001,662.96000000000902,667.92999999999097,672.89999999999998,686.08666666669069,699.27333333330932,712.46000000000004,709.54333333332806,706.62666666667201,703.71000000000004,706.56333333333851,709.41666666666151,712.26999999999998,715.45333333333917,718.63666666666086,721.82000000000005,742.28000000003726,762.73999999996283,783.20000000000005,795.40333333335559,807.6066666666444,819.80999999999995,825.64666666667722,831.48333333332278,837.32000000000005,838.2700000000018,839.21999999999821,840.16999999999996,835.60666666665838,831.04333333334159,826.48000000000002,832.56000000001109,838.63999999998896,844.72000000000003,847.65333333333865,850.58666666666136,853.51999999999998,846.30333333332021,839.08666666667978,831.87,831.4133333333325,830.9566666666675,830.5,832.6233333333372,834.7466666666628,836.87,835.41333333333068,833.95666666666932,832.5,852.66666666670335,872.83333333329665,893,894.34000000000242,895.67999999999756,897.01999999999998,885.16333333331181,873.30666666668822,861.45000000000005,848.44333333330974,835.43666666669026,822.42999999999995,832.14333333335094,841.85666666664906,851.57000000000005,857.76333333334458,863.95666666665545,870.14999999999998,873.83333333334008,877.51666666665994,881.20000000000005,882.93000000000313,884.6599999999969,886.38999999999999,881.24666666665735,876.10333333334268,870.96000000000004,861.13666666664881,851.31333333335124,841.49000000000001,841.96333333333416,842.43666666666581,842.90999999999997,850.66000000001407,858.40999999998587,866.15999999999997,868.37666666667064,870.59333333332927,872.80999999999995,867.10333333332289,861.39666666667711,855.69000000000005,857.55666666667014,859.42333333332988,861.28999999999996,883.70000000004075,906.1099999999592,928.51999999999998,926.17333333332908,923.82666666667092,921.48000000000002,904.71666666663623,887.95333333336384,871.19000000000005,868.91333333332921,866.63666666667086,864.36000000000001,866.46666666667045,868.57333333332951,870.67999999999995,902.36666666672431,934.05333333327565,965.74000000000001,982.86666666669782,999.99333333330219,1017.12,995.5466666666274,973.97333333337258,952.39999999999998,921.43666666661034,890.47333333338963,859.50999999999999,851.05666666665127,842.6033333333487,834.14999999999998,829.53666666665822,824.9233333333417,820.30999999999995,805.3233333333061,790.33666666669387,775.35000000000002,770.42666666665775,765.50333333334231,760.58000000000004,762.58666666667034,764.59333333332972,766.60000000000002,760.60333333332244,754.6066666666776,748.61000000000001,748.09333333333234,747.57666666666762,747.05999999999995,757.21000000001845,767.35999999998148,777.50999999999999,777.59000000000015,777.66999999999985,777.75,746.06666666660908,714.38333333339096,682.70000000000005,683.26333333333434,683.82666666666569,684.38999999999999,683.22999999999786,682.0700000000021,680.90999999999997,676.18666666665808,671.46333333334189,666.74000000000001,662.58333333332575,658.42666666667424,654.26999999999998,679.23333333337871,704.19666666662124,729.15999999999997,721.84999999998672,714.54000000001326,707.23000000000002,697.92666666664979,688.62333333335027,679.32000000000005,704.49000000004582,729.65999999995427,754.83000000000004,797.30333333341059,839.77666666658945,882.25,883.55333333333567,884.8566666666643,886.15999999999997,892.32333333334452,898.48666666665542,904.64999999999998,917.03000000002248,929.40999999997746,941.78999999999996,928.50666666664245,915.22333333335757,901.94000000000005,935.15333333339379,968.36666666660631,1001.58,1000.1299999999974,998.68000000000268,997.23000000000002,972.12999999995429,947.03000000004567,921.92999999999995,882.12333333326092,842.31666666673902,802.50999999999999,819.88666666669826,837.26333333330172,854.63999999999999,917.22000000011383,979.79999999988627,1042.3800000000001,1079.7066666667347,1117.0333333332653,1154.3599999999999,1154.9466666666676,1155.5333333333322,1156.1199999999999,1136.0799999999635,1116.0400000000363,1096,1082.4733333333088,1068.9466666666913,1055.4200000000001,1081.3066666667137,1107.1933333332863,1133.0799999999999,1140.7666666666805,1148.4533333333195,1156.1400000000001,1153.0833333333278,1150.0266666666723,1146.97,1123.8333333332912,1100.6966666667088,1077.5599999999999,1052.3599999999542,1027.1600000000458,1001.96,977.48666666662211,953.01333333337789,928.53999999999996,889.25333333326182,849.96666666673809,810.67999999999995,809.57333333333133,808.46666666666863,807.36000000000001,819.8966666666895,832.43333333331054,844.97000000000003,823.59666666662781,802.22333333337224,780.85000000000002,765.03333333330454,749.21666666669546,733.39999999999998,688.81666666658555,644.23333333341441,599.64999999999998,668.4700000001252,737.28999999987479,806.11000000000001,771.99999999993793,737.89000000006206,703.77999999999997,636.04666666654339,568.31333333345651,500.57999999999998,483.80666666663615,467.03333333336383,450.25999999999999,446.13666666665915,442.01333333334082,437.88999999999999,433.89333333332604,429.89666666667392,425.89999999999998,421.94999999999283,418.00000000000716,414.05000000000001,396.96999999996893,379.89000000003108,362.81,358.96333333332632,355.11666666667367,351.26999999999998,351.07999999999964,350.89000000000033,350.69999999999999,357.40666666667886,364.11333333332112,370.81999999999999,360.09999999998053,349.38000000001949,338.66000000000003,327.16333333331244,315.6666666666876,304.17000000000002,290.4466666666417,276.72333333335831,263,258.88666666665921,254.77333333334082,250.66,244.10999999998808,237.56000000001191,231.00999999999999,225.68999999999033,220.37000000000967,215.05000000000001,212.61999999999557,210.19000000000443,207.75999999999999,207.38999999999933,207.02000000000066,206.65000000000001,206.15999999999912,205.6700000000009,205.18000000000001,206.50666666666908,207.83333333333093,209.16,207.70333333333068,206.24666666666931,204.78999999999999,202.7333333333296,200.6766666666704,198.62,197.89333333333201,197.16666666666799,196.44,193.76333333332846,191.08666666667153,188.41,191.89666666667301,195.38333333332699,198.87,205.05333333334457,211.23666666665542,217.41999999999999,216.15333333333103,214.88666666666896,213.62,207.83666666665616,202.05333333334386,196.27000000000001,192.45333333332638,188.63666666667362,184.81999999999999,181.51666666666065,178.21333333333934,174.91,175.76666666666821,176.62333333333177,177.47999999999999,170.30666666665363,163.13333333334637,155.96000000000001,153.11333333332814,150.26666666667185,147.41999999999999,149.02333333333624,150.62666666666374,152.22999999999999,149.94999999999584,147.67000000000414,145.38999999999999,144.9666666666659,144.54333333333409,144.12,142.29999999999669,140.48000000000332,138.66,137.65999999999818,136.66000000000182,135.66,134.37666666666433,133.09333333333566,131.81,131.70666666666648,131.60333333333352,131.5,131.58333333333348,131.66666666666652,131.75,130.32333333333074,128.89666666666926,127.47,128.40333333333504,129.33666666666497,130.27000000000001,130.06666666666629,129.86333333333371,129.66,129.92000000000047,130.17999999999952,130.44,130.32333333333312,130.20666666666688,130.09,127.93666666666275,125.78333333333725,123.63,126.95000000000604,130.26999999999396,133.59,133.93666666666729,134.28333333333271,134.63,135.87000000000225,137.10999999999774,138.34999999999999,139.10333333333472,139.85666666666529,140.61000000000001,138.94999999999698,137.29000000000303,135.63,135.3333333333328,135.0366666666672,134.74000000000001,134.80333333333346,134.86666666666656,134.93000000000001,133.18333333333015,131.43666666666985,129.69,128.94666666666532,128.20333333333468,127.45999999999999,129.21333333333652,130.96666666666349,132.72,133.1266666666674,133.53333333333259,133.94,132.16333333333012,130.3866666666699,128.61000000000001,130.94666666667092,133.2833333333291,135.62,134.33666666666434,133.05333333333567,131.77000000000001,132.24666666666755,132.72333333333245,133.19999999999999,133.05333333333306,132.90666666666692,132.75999999999999,132.74666666666664,132.73333333333335,132.72,132.29333333333255,131.86666666666744,131.44,132.91000000000267,134.37999999999732,135.84999999999999,136.42666666666773,137.00333333333228,137.58000000000001,137.0799999999991,136.58000000000092,136.08000000000001,136.66333333333441,137.24666666666562,137.83000000000001,135.13333333332844,132.43666666667158,129.74000000000001,129.51333333333292,129.28666666666709,129.06,127.6133333333307,126.1666666666693,124.72,125.1266666666674,125.53333333333259,125.94,126.40666666666752,126.87333333333248,127.34,128.70666666666915,130.07333333333085,131.44,135.79333333334125,140.14666666665875,144.5,142.44666666666294,140.39333333333707,138.34,141.06000000000495,143.77999999999506,146.5,146.26999999999958,146.04000000000042,145.81,144.169999999997,142.53000000000299,140.88999999999999,139.17666666666355,137.46333333333644,135.75,131.73333333332602,127.71666666667397,123.7,124.90666666666885,126.11333333333114,127.31999999999999,127.29333333333328,127.26666666666671,127.23999999999999,125.74333333333061,124.24666666666938,122.75,122.83000000000014,122.90999999999985,122.98999999999999,122.4566666666657,121.9233333333343,121.39,121.5933333333337,121.7966666666663,122,122.50000000000091,122.99999999999909,123.5,123.97000000000085,124.43999999999915,124.91,124.27666666666552,123.64333333333448,123.01000000000001,123.0266666666667,123.04333333333331,123.06,120.26999999999492,117.48000000000508,114.69,114.3766666666661,114.0633333333339,113.75,113.26666666666578,112.78333333333421,112.3,112.61666666666724,112.93333333333275,113.25,113.83333333333439,114.41666666666561,115,113.11666666666324,111.23333333333676,109.34999999999999,108.89999999999918,108.45000000000081,108,107.06333333333163,106.12666666666837,105.19,104.75999999999922,104.33000000000078,103.90000000000001,104.51666666666779,105.13333333333222,105.75,106.08333333333394,106.41666666666606,106.75,106.75,106.75,106.75,106.96000000000038,107.16999999999962,107.38,107.51000000000023,107.63999999999976,107.77,107.16333333333223,106.55666666666777,105.95,105.89333333333323,105.83666666666677,105.78,106.52000000000135,107.25999999999866,108,108,108,108,109.11333333333536,110.22666666666464,111.34,110.2233333333313,109.1066666666687,107.98999999999999,106.15999999999667,104.33000000000332,102.5,101.85999999999883,101.22000000000116,100.58,99.386666666664496,98.193333333335502,97,97.156666666666951,97.313333333333048,97.469999999999999,97.423333333333247,97.37666666666675,97.329999999999998,96.883333333332516,96.436666666667477,95.989999999999995,96.266666666667163,96.543333333332825,96.819999999999993,95.213333333330411,93.606666666669582,92,91.983333333333306,91.966666666666697,91.950000000000003,92.333333333334025,92.716666666665972,93.099999999999994,93.800000000001276,94.499999999998721,95.200000000000003,96.40000000000218,97.59999999999782,98.799999999999997,99.190000000000708,99.579999999999288,99.969999999999999,99.933333333333266,99.896666666666732,99.859999999999999,100.54000000000124,101.21999999999876,101.90000000000001,100.8333333333314,99.766666666668613,98.700000000000003,98.549999999999727,98.400000000000276,98.25,100.16666666667015,102.08333333332985,104,99.426666666658349,94.853333333341652,90.280000000000001,89.186666666664678,88.093333333335323,87,84.099999999994722,81.200000000005275,78.299999999999997,78.866666666667697,79.4333333333323,80,78.186666666663371,76.373333333336632,74.560000000000002,74.706666666666933,74.853333333333069,75,76.666666666669698,78.333333333330302,80,81.036666666668552,82.073333333331448,83.109999999999999,85.733333333338109,88.356666666661894,90.980000000000004,91.420000000000798,91.859999999999204,92.299999999999997,94.086666666669913,95.873333333330081,97.659999999999997,97.813333333333617,97.966666666666384,98.120000000000005,98.743333333334462,99.366666666665537,99.989999999999995,100.57333333333439,101.1566666666656,101.73999999999999,102.4933333333347,103.24666666666529,104,104.49666666666756,104.99333333333243,105.48999999999999,105.81666666666726,106.14333333333273,106.47,107.09000000000113,107.70999999999887,108.33,108.48666666666695,108.64333333333305,108.8,109.18666666666736,109.57333333333263,109.95999999999999,111.63666666666971,113.31333333333028,114.98999999999999,114.75999999999958,114.53000000000041,114.3,112.93999999999753,111.58000000000247,110.22,110.51666666666721,110.81333333333279,111.11,108.14333333332793,105.17666666667206,102.20999999999999,102.00666666666629,101.8033333333337,101.59999999999999,102.30000000000128,102.99999999999872,103.7,104.03333333333394,104.36666666666606,104.7,106.56666666667006,108.43333333332994,110.3,110.79666666666758,111.29333333333243,111.79000000000001,111.05999999999868,110.33000000000132,109.59999999999999,109.76666666666696,109.93333333333302,110.09999999999999,109.72999999999932,109.36000000000067,108.98999999999999,109.80000000000148,110.60999999999852,111.42,113.94666666667126,116.47333333332874,119,120.36666666666915,121.73333333333085,123.09999999999999,123.22333333333356,123.34666666666644,123.47,123.59333333333356,123.71666666666644,123.84,123.39333333333252,122.94666666666748,122.5,124.80000000000419,127.09999999999582,129.40000000000001,129.5266666666669,129.65333333333311,129.78,129.82000000000008,129.85999999999993,129.90000000000001,130.68333333333476,131.46666666666525,132.25,132.36333333333354,132.47666666666646,132.59,131.91999999999879,131.25000000000122,130.58000000000001,132.21000000000296,133.83999999999705,135.47,135.64666666666699,135.82333333333301,136,135.07333333333165,134.14666666666835,133.22,133.43000000000038,133.63999999999962,133.84999999999999,131.54333333332914,129.23666666667086,126.93000000000001,125.95333333333156,124.97666666666845,124,123.66666666666606,123.33333333333394,123,123.20666666666705,123.41333333333296,123.62,123.91333333333387,124.20666666666614,124.5,124.75000000000045,124.99999999999955,125.25,125.26666666666669,125.2833333333333,125.3,123.11999999999604,120.94000000000396,118.76000000000001,117.77666666666488,116.79333333333513,115.81,117.14000000000242,118.46999999999758,119.8,119.43333333333267,119.06666666666733,118.7,118.28333333333258,117.86666666666743,117.45,117.86000000000075,118.26999999999926,118.68000000000001,119.78666666666868,120.89333333333133,122,119.15333333332815,116.30666666667184,113.45999999999999,114.23333333333474,115.00666666666525,115.78,114.99999999999858,114.22000000000142,113.44,117.1800000000068,120.91999999999319,124.66,122.70666666666311,120.75333333333688,118.8,117.53333333333103,116.26666666666897,115,112.70999999999583,110.42000000000417,108.13,113.95333333334392,119.77666666665607,125.59999999999999,130.36333333334198,135.126666666658,139.88999999999999,142.23666666667094,144.58333333332905,146.93000000000001,147.11666666666702,147.303333333333,147.49000000000001,143.65333333332634,139.81666666667365,135.97999999999999,0,0],"text":"date: 2013-04-28<br />value: 135.98","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(20,84,18,0.4)","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":48.146118721461193,"r":7.3059360730593621,"b":44.56621004566211,"l":66.484018264840202},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Evoluci√≥n del precio del bitcoin","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[15731.583333333332,17735.416666666664],"tickmode":"array","ticktext":["2013-05-01","2013-09-01","2014-01-01","2014-05-01","2014-09-01","2015-01-01","2015-05-01","2015-09-01","2016-01-01","2016-05-01","2016-09-01","2017-01-01","2017-05-01","2017-09-01","2018-01-01","2018-05-01"],"tickvals":[15826,15949,16071,16191,16314,16436,16556,16679,16801,16922,17045,17167,17287,17410,17532,17652],"categoryorder":"array","categoryarray":["2013-05-01","2013-09-01","2014-01-01","2014-05-01","2014-09-01","2015-01-01","2015-05-01","2015-09-01","2016-01-01","2016-05-01","2016-09-01","2017-01-01","2017-05-01","2017-09-01","2018-01-01","2018-05-01"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-30,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Fecha","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1004.45,21093.450000000001],"tickmode":"array","ticktext":["$0","$5,000","$10,000","$15,000","$20,000"],"tickvals":[0,4999.9999999999991,10000,15000.000000000002,20000],"categoryorder":"array","categoryarray":["$0","$5,000","$10,000","$15,000","$20,000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Precio del bitcoin","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"583e3c2fab54":{"x":{},"y":{},"type":"scatter"},"583e5d9936aa":{"x":{},"y":{}}},"cur_data":"583e3c2fab54","visdat":{"583e3c2fab54":["function (y) ","x"],"583e5d9936aa":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb858"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb858-1"><a href="#cb858-1"></a>gg <span class="ot">&lt;-</span></span>
<span id="cb858-2"><a href="#cb858-2"></a>  <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb858-3"><a href="#cb858-3"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#145412"</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb858-4"><a href="#cb858-4"></a>  <span class="fu">geom_area</span>(<span class="at">alpha =</span> <span class="fl">0.4</span>, <span class="at">fill =</span> <span class="st">"#145412"</span>) <span class="sc">+</span></span>
<span id="cb858-5"><a href="#cb858-5"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"4 months"</span>) <span class="sc">+</span></span>
<span id="cb858-6"><a href="#cb858-6"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_dollar</span>()) <span class="sc">+</span></span>
<span id="cb858-7"><a href="#cb858-7"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Fecha"</span>, <span class="at">y =</span> <span class="st">"Precio del bitcoin"</span>,</span>
<span id="cb858-8"><a href="#cb858-8"></a>       <span class="at">title =</span> <span class="st">"Evoluci√≥n del precio del bitcoin"</span>) <span class="sc">+</span></span>
<span id="cb858-9"><a href="#cb858-9"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb858-10"><a href="#cb858-10"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">30</span>))</span>
<span id="cb858-11"><a href="#cb858-11"></a>plotly<span class="sc">::</span><span class="fu">ggplotly</span>(gg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="evoluci√≥n-√°reas-apiladas" class="slide level2">
<h2>Evoluci√≥n: √°reas apiladas</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Los gr√°ficas de √°reas, al igual que suced√≠a con los diagrmaas de barras, pueden ser de <span class="hl-yellow"><strong>√°reas apiladas</strong></span>, haciendo que <code>fill()</code> sea mapeado por <code>aes()</code></p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-697-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb859"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb859-1"><a href="#cb859-1"></a><span class="fu">ggplot</span>(gapminder <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">mean_gdp =</span> <span class="fu">mean</span>(gdpPercap), <span class="at">.by =</span> <span class="fu">c</span>(continent, year)), <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> mean_gdp, <span class="at">fill =</span> continent)) <span class="sc">+</span></span>
<span id="cb859-2"><a href="#cb859-2"></a>  <span class="fu">geom_area</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb859-3"><a href="#cb859-3"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_dollar</span>()) <span class="sc">+</span></span>
<span id="cb859-4"><a href="#cb859-4"></a>  <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb859-5"><a href="#cb859-5"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"A√±o"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita media"</span>,</span>
<span id="cb859-6"><a href="#cb859-6"></a>       <span class="at">title =</span> <span class="st">"Evoluci√≥n de gapminder"</span>) <span class="sc">+</span></span>
<span id="cb859-7"><a href="#cb859-7"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="evoluci√≥n-√°reas-apiladas-1" class="slide level2">
<h2>Evoluci√≥n: √°reas apiladas</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Los gr√°ficas de √°reas, al igual que suced√≠a con los diagrmaas de barras, pueden ser de <span class="hl-yellow"><strong>√°reas apiladas</strong></span>, haciendo que <code>fill()</code> sea mapeado por <code>aes()</code></p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-699-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb860"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb860-1"><a href="#cb860-1"></a><span class="fu">ggplot</span>(gapminder <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">mean_gdp =</span> <span class="fu">mean</span>(gdpPercap), <span class="at">.by =</span> <span class="fu">c</span>(continent, year)), <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> mean_gdp, <span class="at">fill =</span> continent)) <span class="sc">+</span></span>
<span id="cb860-2"><a href="#cb860-2"></a>  <span class="fu">geom_area</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb860-3"><a href="#cb860-3"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_dollar</span>()) <span class="sc">+</span></span>
<span id="cb860-4"><a href="#cb860-4"></a>  <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb860-5"><a href="#cb860-5"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"A√±o"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita media"</span>,</span>
<span id="cb860-6"><a href="#cb860-6"></a>       <span class="at">title =</span> <span class="st">"Evoluci√≥n de gapminder"</span>) <span class="sc">+</span></span>
<span id="cb860-7"><a href="#cb860-7"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="evoluci√≥n-√°reas-apiladas-2" class="slide level2">
<h2>Evoluci√≥n: √°reas apiladas</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Haciendo una modificaci√≥n en el preprocesamiento podemos hacer un <span class="hl-yellow"><strong>gr√°fico de √°reas apiladas</strong></span> en relativo</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-701-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb861"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb861-1"><a href="#cb861-1"></a><span class="fu">ggplot</span>(gapminder <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">mean_gdp =</span> <span class="fu">mean</span>(gdpPercap), <span class="at">.by =</span> <span class="fu">c</span>(continent, year)) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">porc =</span> <span class="dv">100</span> <span class="sc">*</span> mean_gdp<span class="sc">/</span><span class="fu">sum</span>(mean_gdp), <span class="at">.by =</span> year),</span>
<span id="cb861-2"><a href="#cb861-2"></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> porc, <span class="at">fill =</span> continent)) <span class="sc">+</span></span>
<span id="cb861-3"><a href="#cb861-3"></a>  <span class="fu">geom_area</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb861-4"><a href="#cb861-4"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>(<span class="at">suffix =</span> <span class="st">"%"</span>)) <span class="sc">+</span></span>
<span id="cb861-5"><a href="#cb861-5"></a>  <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb861-6"><a href="#cb861-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"A√±o"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita mundial"</span>,</span>
<span id="cb861-7"><a href="#cb861-7"></a>       <span class="at">title =</span> <span class="st">"Evoluci√≥n de gapminder"</span>) <span class="sc">+</span></span>
<span id="cb861-8"><a href="#cb861-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="evoluci√≥n-streamcharts" class="slide level2">
<h2>Evoluci√≥n: streamcharts</h2>
<p>Una modificaci√≥n de los gr√°ficos de √°reas apiladas son los conocidos como <span class="hl-yellow"><strong>streamcharts</strong></span></p>
<div class="columns">
<div class="column" style="width:40%;">
<p>En ellos las formas son m√°s suaves que en un gr√°fico de √°rea al uso, con el paquete <code>{ggstream}</code> (y usando <code>geom_stream()</code>)</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-703-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb862"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb862-1"><a href="#cb862-1"></a><span class="fu">library</span>(ggstream)</span>
<span id="cb862-2"><a href="#cb862-2"></a><span class="fu">ggplot</span>(gapminder <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">mean_gdp =</span> <span class="fu">mean</span>(gdpPercap), <span class="at">.by =</span> <span class="fu">c</span>(continent, year)),  <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> mean_gdp, <span class="at">fill =</span> continent)) <span class="sc">+</span></span>
<span id="cb862-3"><a href="#cb862-3"></a>  <span class="fu">geom_stream</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb862-4"><a href="#cb862-4"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_dollar</span>()) <span class="sc">+</span></span>
<span id="cb862-5"><a href="#cb862-5"></a>  <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb862-6"><a href="#cb862-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"A√±o"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita mundial"</span>,</span>
<span id="cb862-7"><a href="#cb862-7"></a>       <span class="at">title =</span> <span class="st">"Evoluci√≥n de gapminder"</span>) <span class="sc">+</span></span>
<span id="cb862-8"><a href="#cb862-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="evoluci√≥n-streamcharts-1" class="slide level2">
<h2>Evoluci√≥n: streamcharts</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>F√≠jate que por defecto lo hace <span class="hl-yellow"><strong>en espejo</strong></span>, usando el eje y de manera reflejada. Con <code>type = "ridge"</code> lo haemos de manera apilada.</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-705-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb863"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb863-1"><a href="#cb863-1"></a><span class="fu">ggplot</span>(gapminder <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">mean_gdp =</span> <span class="fu">mean</span>(gdpPercap), <span class="at">.by =</span> <span class="fu">c</span>(continent, year)),  <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> mean_gdp, <span class="at">fill =</span> continent, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb863-2"><a href="#cb863-2"></a>  <span class="fu">geom_stream</span>(<span class="at">alpha =</span> <span class="fl">0.75</span>, <span class="at">type =</span> <span class="st">"ridge"</span>) <span class="sc">+</span></span>
<span id="cb863-3"><a href="#cb863-3"></a>  <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb863-4"><a href="#cb863-4"></a>  <span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb863-5"><a href="#cb863-5"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_dollar</span>()) <span class="sc">+</span></span>
<span id="cb863-6"><a href="#cb863-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"A√±o"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita mundial"</span>,</span>
<span id="cb863-7"><a href="#cb863-7"></a>       <span class="at">title =</span> <span class="st">"Evoluci√≥n de gapminder"</span>) <span class="sc">+</span></span>
<span id="cb863-8"><a href="#cb863-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="evoluci√≥n-streamcharts-2" class="slide level2">
<h2>Evoluci√≥n: streamcharts</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Con <code>type = "proportional"</code> lo haemos de manera relativa</p>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-707-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb864"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb864-1"><a href="#cb864-1"></a><span class="fu">ggplot</span>(gapminder <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">mean_gdp =</span> <span class="fu">mean</span>(gdpPercap), <span class="at">.by =</span> <span class="fu">c</span>(continent, year)),  <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> mean_gdp, <span class="at">fill =</span> continent, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb864-2"><a href="#cb864-2"></a>  <span class="fu">geom_stream</span>(<span class="at">alpha =</span> <span class="fl">0.75</span>, <span class="at">type =</span> <span class="st">"proportional"</span>) <span class="sc">+</span></span>
<span id="cb864-3"><a href="#cb864-3"></a>  <span class="fu">scale_fill_colorblind</span>() <span class="sc">+</span></span>
<span id="cb864-4"><a href="#cb864-4"></a>  <span class="fu">scale_color_colorblind</span>() <span class="sc">+</span></span>
<span id="cb864-5"><a href="#cb864-5"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_dollar</span>()) <span class="sc">+</span></span>
<span id="cb864-6"><a href="#cb864-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"A√±o"</span>, <span class="at">y =</span> <span class="st">"Renta per c√°pita mundial"</span>,</span>
<span id="cb864-7"><a href="#cb864-7"></a>       <span class="at">title =</span> <span class="st">"Evoluci√≥n de gapminder"</span>) <span class="sc">+</span></span>
<span id="cb864-8"><a href="#cb864-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="caso-pr√°ctico-16-visualizando-netflix" class="slide level2">
<h2>üê£ Caso pr√°ctico 16: visualizando Netflix</h2>
<p>Visualizaremos el n√∫mero de pel√≠culas y series de instituto que se han estrenado en Netflix en cada a√±o. Los datos provienen originalmente de Kaggle, y contienen las pel√≠culas y series de Netflix hasta enero de 2021.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb865"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb865-1"><a href="#cb865-1"></a>netflix <span class="ot">&lt;-</span></span>
<span id="cb865-2"><a href="#cb865-2"></a>  <span class="fu">read_csv</span>(<span class="st">'https://raw.githubusercontent.com/elartedeldato/datasets/main/netflix_titles.csv'</span>)</span>
<span id="cb865-3"><a href="#cb865-3"></a>netflix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7,787 √ó 12
   show_id type    title director   cast  country date_added release_year rating
   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;             &lt;dbl&gt; &lt;chr&gt; 
 1 s1      TV Show 3%    &lt;NA&gt;       Jo√£o‚Ä¶ Brazil  August 14‚Ä¶         2020 TV-MA 
 2 s2      Movie   7:19  Jorge Mic‚Ä¶ Demi‚Ä¶ Mexico  December ‚Ä¶         2016 TV-MA 
 3 s3      Movie   23:59 Gilbert C‚Ä¶ Tedd‚Ä¶ Singap‚Ä¶ December ‚Ä¶         2011 R     
 4 s4      Movie   9     Shane Ack‚Ä¶ Elij‚Ä¶ United‚Ä¶ November ‚Ä¶         2009 PG-13 
 5 s5      Movie   21    Robert Lu‚Ä¶ Jim ‚Ä¶ United‚Ä¶ January 1‚Ä¶         2008 PG-13 
 6 s6      TV Show 46    Serdar Ak‚Ä¶ Erda‚Ä¶ Turkey  July 1, 2‚Ä¶         2016 TV-MA 
 7 s7      Movie   122   Yasir Al ‚Ä¶ Amin‚Ä¶ Egypt   June 1, 2‚Ä¶         2019 TV-MA 
 8 s8      Movie   187   Kevin Rey‚Ä¶ Samu‚Ä¶ United‚Ä¶ November ‚Ä¶         1997 R     
 9 s9      Movie   706   Shravan K‚Ä¶ Divy‚Ä¶ India   April 1, ‚Ä¶         2019 TV-14 
10 s10     Movie   1920  Vikram Bh‚Ä¶ Rajn‚Ä¶ India   December ‚Ä¶         2008 TV-MA 
# ‚Ñπ 7,777 more rows
# ‚Ñπ 3 more variables: duration &lt;chr&gt;, listed_in &lt;chr&gt;, description &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="caso-pr√°ctico-16-visualizando-netflix-1" class="slide level2">
<h2>üê£ Caso pr√°ctico 16: visualizando Netflix</h2>
<ul>
<li><span class="hl-yellow"><strong>Paso 1</strong></span>: piensa como filtrar las <strong>pel√≠culas y series que van sobre un instituto</strong>.</li>
</ul>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Paso 2</strong></span>: tras dicho filtro, a√±ade el a√±o en el que se estren√≥ y elimina aquellas sin a√±o conocido.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Paso 3</strong></span>: obt√©n el n√∫mero de series por a√±o</li>
</ul>
</div>
</section>
<section id="caso-pr√°ctico-16-visualizando-netflix-2" class="slide level2">
<h2>üê£ Caso pr√°ctico 16: visualizando Netflix</h2>
<ul>
<li><span class="hl-yellow"><strong>Paso 4</strong></span>: replica el siguiente gr√°fico</li>
</ul>

<img data-src="index_files/figure-revealjs/unnamed-chunk-710-1.png" width="960" class="r-stretch"></section>
<section id="caso-pr√°ctico-16-visualizando-netflix-3" class="slide level2">
<h2>üê£ Caso pr√°ctico 16: visualizando Netflix</h2>
<ul>
<li><span class="hl-yellow"><strong>Paso 5</strong></span>: replica el siguiente gr√°fico sabiendo que la fuente del t√≠tulo es ‚ÄúBebas Neue‚Äù y la del subt√≠tulo ‚ÄúPermanent Marker‚Äù</li>
</ul>

<img data-src="index_files/figure-revealjs/unnamed-chunk-711-1.png" width="960" class="r-stretch"></section>
<section id="caso-pr√°ctico-16-visualizando-netflix-4" class="slide level2">
<h2>üê£ Caso pr√°ctico 16: visualizando Netflix</h2>
<ul>
<li><span class="hl-yellow"><strong>Paso 6</strong></span>: replica el siguiente gr√°fico sabiendo que la fuente de los ejes es ‚ÄúPermanent Marker‚Äù y busca la funci√≥n <code>annotate()</code></li>
</ul>

<img data-src="index_files/figure-revealjs/unnamed-chunk-712-1.png" width="960" class="r-stretch"></section></section>
<section>
<section id="clase-n-1-joins-expresiones-de-control-listas-y-depuraci√≥n" class="title-slide slide level1 center">
<h1>Clase n + 1: joins, expresiones de control, listas y depuraci√≥n</h1>
<p><span style="color:#444442;"><strong>Cruzando datos. Bucles</strong></span></p>
</section>
<section id="relacionando-datos" class="slide level2">
<h2>Relacionando datos</h2>
<p>Al trabajar con datos <span class="hl-yellow"><strong>no siempre tendremos la informaci√≥n en una sola tabla</strong></span> y a veces nos interesar√° cruzar la informaci√≥n de distintas fuentes.</p>
<div class="fragment">
<p>Para ello usaremos un cl√°sico de todo lenguaje que maneja datos: los famosos <span class="hl-yellow"><strong>join</strong></span>, una herramienta que nos va a permitir <span class="hl-yellow"><strong>cruzar una o variables tablas</strong></span>, haciendo uso de una <span class="hl-yellow"><strong>columna identificadora</strong></span> de cada una de ellas (por ejemplo, imagina que cruzamos datos de hacienda y de antecedentes penales, haciendo <em>join</em> por la columna <code>DNI</code>).</p>
</div>
</section>
<section id="relacionando-datos-1" class="slide level2">
<h2>Relacionando datos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb867"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb867-1"><a href="#cb867-1"></a>tabla_1 <span class="sc">|&gt;</span></span>
<span id="cb867-2"><a href="#cb867-2"></a>  <span class="fu">xxx_join</span>(tabla_2, <span class="at">by =</span> id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p><code>inner_join()</code>: solo sobreviven los <span class="hl-yellow"><strong>registros con id en ambas</strong></span> tablas.</p></li>
<li><p><code>full_join()</code>: mantiene <span class="hl-yellow"><strong>todos los registros de ambas</strong></span> tablas.</p></li>
<li><p><code>left_join()</code>: mantiene <span class="hl-yellow"><strong>todos los registros de la primera tabla</strong></span>, y busca cuales tienen id tambi√©n en la segunda (en caso de <span class="hl-yellow"><strong>no tenerlo se rellena con NA</strong></span> los campos de la 2¬™ tabla).</p></li>
<li><p><code>right_join()</code>: mantiene <span class="hl-yellow"><strong>todos los registros de la segunda tabla</strong></span>, y busca cuales tienen id tambi√©n en la primera.</p></li>
</ul>

<img data-src="img/sql-joins.jpg" class="r-stretch"></section>
<section id="relacionando-datos-2" class="slide level2">
<h2>Relacionando datos</h2>
<p>Vamos a probar los distintos joins con un ejemplo sencillo</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb868"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb868-1"><a href="#cb868-1"></a>tb_1 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">"key"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="st">"val_x"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"x3"</span>))</span>
<span id="cb868-2"><a href="#cb868-2"></a>tb_2 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">"key"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>), <span class="st">"val_y"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"y1"</span>, <span class="st">"y2"</span>, <span class="st">"y3"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb869"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb869-1"><a href="#cb869-1"></a>tb_1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 2
    key val_x
  &lt;int&gt; &lt;chr&gt;
1     1 x1   
2     2 x2   
3     3 x3   </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb871"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb871-1"><a href="#cb871-1"></a>tb_2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 2
    key val_y
  &lt;dbl&gt; &lt;chr&gt;
1     1 y1   
2     2 y2   
3     4 y3   </code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="left-join" class="slide level2">
<h2>Left join</h2>
<p>Imagina que queremos <span class="hl-yellow"><strong>incorporar</strong></span> a <code>tb_1</code> la <span class="hl-yellow"><strong>informaci√≥n de la tabla_2</strong></span>, identificando los registros por la columna key (indicando con <code>by = "key"</code> la columna por la que tiene que cruzar): queremos mantener todos los registros de la primera tabla y buscar cuales tienen id (mismo valor en <code>key</code>) tambi√©n en la segunda tabla.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb873"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb873-1"><a href="#cb873-1"></a>tb_1  <span class="sc">|&gt;</span> </span>
<span id="cb873-2"><a href="#cb873-2"></a>  <span class="fu">left_join</span>(tb_2, <span class="at">by =</span> <span class="st">"key"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 3
    key val_x val_y
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 x1    y1   
2     2 x2    y2   
3     3 x3    &lt;NA&gt; </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="img/left_join.jpg"></p>
</div>
</div>
</section>
<section id="left-join-1" class="slide level2">
<h2>Left join</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb875"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb875-1"><a href="#cb875-1"></a>tb_1 <span class="sc">|&gt;</span> </span>
<span id="cb875-2"><a href="#cb875-2"></a>  <span class="fu">left_join</span>(tb_2, <span class="at">by =</span> <span class="st">"key"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 3
    key val_x val_y
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 x1    y1   
2     2 x2    y2   
3     3 x3    &lt;NA&gt; </code></pre>
</div>
</div>
<p>F√≠jate que los <span class="hl-yellow"><strong>registros de la primera cuya key no ha encontrado en la segunda</strong></span> les ha dado el valor de <span class="hl-yellow"><strong>ausente</strong></span>.</p>
</section>
<section id="right-join" class="slide level2">
<h2>Right join</h2>
<p>El <code>right_join()</code> realizar√° la operaci√≥n contraria: vamos ahora a <span class="hl-yellow"><strong>incorporar</strong></span> a <code>tb_2</code> la <span class="hl-yellow"><strong>informaci√≥n de la tabla_2</strong></span>, identificando los registros por la columna key (indicando con <code>by = "key"</code> la columna por la que tiene que cruzar): queremos mantener todos los registros de la segunda y buscar cuales tienen id (mismo valor en <code>key</code>) tambi√©n en la primera tabla.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb877"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb877-1"><a href="#cb877-1"></a>tb_1 <span class="sc">|&gt;</span> </span>
<span id="cb877-2"><a href="#cb877-2"></a>  <span class="fu">right_join</span>(tb_2, <span class="at">by =</span> <span class="st">"key"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 3
    key val_x val_y
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 x1    y1   
2     2 x2    y2   
3     4 &lt;NA&gt;  y3   </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="img/right_join.jpg"></p>
</div>
</div>
</section>
<section id="right-join-1" class="slide level2">
<h2>Right join</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb879"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb879-1"><a href="#cb879-1"></a>tb_1 <span class="sc">|&gt;</span> </span>
<span id="cb879-2"><a href="#cb879-2"></a>  <span class="fu">right_join</span>(tb_2, <span class="at">by =</span> <span class="st">"key"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 3
    key val_x val_y
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 x1    y1   
2     2 x2    y2   
3     4 &lt;NA&gt;  y3   </code></pre>
</div>
</div>
<p>F√≠jate que ahora los <span class="hl-yellow"><strong>registros de la segunda cuya key no ha encontrado en la primera</strong></span> son los que les ha dado el valor de <span class="hl-yellow"><strong>ausente</strong></span>.</p>
</section>
<section id="claves-y-sufijos" class="slide level2">
<h2>Claves y sufijos</h2>
<p>Las columnas clave que usaremos para el cruce <span class="hl-yellow"><strong>no siempre se llamar√°n igual</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb881"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb881-1"><a href="#cb881-1"></a>tb_1 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">"key_1"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="st">"val_x"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"x3"</span>))</span>
<span id="cb881-2"><a href="#cb881-2"></a>tb_2 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">"key_2"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>), <span class="st">"val_y"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"y1"</span>, <span class="st">"y2"</span>, <span class="st">"y3"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<ul>
<li><code>by = c("key_2" = "key_2")</code>: le indicaremos en qu√© columna de cada tabla est√°n las claves por las que vamos a cruzar.</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb882"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb882-1"><a href="#cb882-1"></a><span class="co"># Left</span></span>
<span id="cb882-2"><a href="#cb882-2"></a>tb_1 <span class="sc">|&gt;</span> </span>
<span id="cb882-3"><a href="#cb882-3"></a>  <span class="fu">left_join</span>(tb_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"key_1"</span> <span class="ot">=</span> <span class="st">"key_2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 3
  key_1 val_x val_y
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 x1    y1   
2     2 x2    y2   
3     3 x3    &lt;NA&gt; </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb884"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb884-1"><a href="#cb884-1"></a><span class="co"># Right</span></span>
<span id="cb884-2"><a href="#cb884-2"></a>tb_1  <span class="sc">|&gt;</span> </span>
<span id="cb884-3"><a href="#cb884-3"></a>  <span class="fu">right_join</span>(tb_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"key_1"</span> <span class="ot">=</span> <span class="st">"key_2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 3
  key_1 val_x val_y
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 x1    y1   
2     2 x2    y2   
3     4 &lt;NA&gt;  y3   </code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="claves-y-sufijos-1" class="slide level2">
<h2>Claves y sufijos</h2>
<p>Adem√°s podemos <span class="hl-yellow"><strong>cruzar por varias columnas a la vez</strong></span> (interpretar√° como igual registro aquel que tenga el conjunto de claves igual), con <code>by = c("var1_t1" = "var1_t2", "var2_t1" = "var2_t2", ...)</code>. Modifiquemos el ejemplo anterior</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb886"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb886-1"><a href="#cb886-1"></a>tb_1 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">"k_11"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="st">"k_12"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>),  <span class="st">"val_x"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"x3"</span>))</span>
<span id="cb886-2"><a href="#cb886-2"></a>tb_2 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">"k_21"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>), <span class="st">"k_22"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"e"</span>), <span class="st">"val_y"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"y1"</span>, <span class="st">"y2"</span>, <span class="st">"y3"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb887"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb887-1"><a href="#cb887-1"></a><span class="co"># Left</span></span>
<span id="cb887-2"><a href="#cb887-2"></a>tb_1 <span class="sc">|&gt;</span> </span>
<span id="cb887-3"><a href="#cb887-3"></a>  <span class="fu">left_join</span>(tb_2,</span>
<span id="cb887-4"><a href="#cb887-4"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"k_11"</span> <span class="ot">=</span> <span class="st">"k_21"</span>, <span class="st">"k_12"</span> <span class="ot">=</span> <span class="st">"k_22"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 4
   k_11 k_12  val_x val_y
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
1     1 a     x1    y1   
2     2 b     x2    y2   
3     3 c     x3    &lt;NA&gt; </code></pre>
</div>
</div>
</div>
</section>
<section id="claves-y-sufijos-2" class="slide level2">
<h2>Claves y sufijos</h2>
<p>Tambi√©n podr√≠a suceder que al cruzar dos tablas, haya <span class="hl-yellow"><strong>columnas de valores que se llamen igual</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb889"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb889-1"><a href="#cb889-1"></a>tb_1 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">"key_1"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="st">"val"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"x3"</span>))</span>
<span id="cb889-2"><a href="#cb889-2"></a>tb_2 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">"key_2"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>), <span class="st">"val"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"y1"</span>, <span class="st">"y2"</span>, <span class="st">"y3"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb890"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb890-1"><a href="#cb890-1"></a><span class="co"># Left</span></span>
<span id="cb890-2"><a href="#cb890-2"></a>tb_1 <span class="sc">|&gt;</span> </span>
<span id="cb890-3"><a href="#cb890-3"></a>  <span class="fu">left_join</span>(tb_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"key_1"</span> <span class="ot">=</span> <span class="st">"key_2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 3
  key_1 val.x val.y
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 x1    y1   
2     2 x2    y2   
3     3 x3    &lt;NA&gt; </code></pre>
</div>
</div>
<p>F√≠jate que <span class="hl-yellow"><strong>por defecto nos a√±ade los sufijos</strong></span> <code>.x</code> y <code>.y</code> para indicarnos de que tabla vienen.</p>
</div>
</section>
<section id="claves-y-sufijos-3" class="slide level2">
<h2>Claves y sufijos</h2>
<p>Dicho <span class="hl-yellow"><strong>sufijo podemos especific√°rselo</strong></span> en el argumento opcional <code>suffix = ...</code>, que nos permita <span class="hl-yellow"><strong>distinguir las variables</strong></span> de una tabla y de otra.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb892"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb892-1"><a href="#cb892-1"></a><span class="co"># Left</span></span>
<span id="cb892-2"><a href="#cb892-2"></a>tb_1 <span class="sc">|&gt;</span></span>
<span id="cb892-3"><a href="#cb892-3"></a>  <span class="fu">left_join</span>(tb_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"key_1"</span> <span class="ot">=</span> <span class="st">"key_2"</span>), <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">"_tabla1"</span>, <span class="st">"_tabla2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 3
  key_1 val_tabla1 val_tabla2
  &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;     
1     1 x1         y1        
2     2 x2         y2        
3     3 x3         &lt;NA&gt;      </code></pre>
</div>
</div>
</section>
<section id="full-join" class="slide level2">
<h2>Full join</h2>
<p>Los dos anteriores casos forman lo que se conoce como <span class="hl-yellow"><strong>outer joins</strong></span>: cruces donde se mantienen observaciones que salgan en al menos una tabla. El tercer outer join es el conocido como <code>full_join()</code> que nos <span class="hl-yellow"><strong>mantendr√° las observaciones de ambas</strong></span> tablas, <span class="hl-yellow"><strong>a√±adiendo las filas</strong></span> que no casen con la otra tabla.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb894"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb894-1"><a href="#cb894-1"></a>tb_1 <span class="sc">|&gt;</span> </span>
<span id="cb894-2"><a href="#cb894-2"></a>  <span class="fu">full_join</span>(tb_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"key_1"</span> <span class="ot">=</span> <span class="st">"key_2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 3
  key_1 val.x val.y
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 x1    y1   
2     2 x2    y2   
3     3 x3    &lt;NA&gt; 
4     4 &lt;NA&gt;  y3   </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="img/full_join.jpg"></p>
</div>
</div>
</section>
<section id="inner-join" class="slide level2">
<h2>Inner join</h2>
<p>Frente a los outer join est√° lo que se conoce como <span class="hl-yellow"><strong>inner join</strong></span>, con <code>inner_join()</code>: un cruce en el que solo se mantienen las <span class="hl-yellow"><strong>observaciones que salgan en ambas tablas</strong></span>, solo mantiene aquellos registros matcheados.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb896"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb896-1"><a href="#cb896-1"></a>tb_1 <span class="sc">|&gt;</span> </span>
<span id="cb896-2"><a href="#cb896-2"></a>  <span class="fu">inner_join</span>(tb_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"key_1"</span> <span class="ot">=</span> <span class="st">"key_2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 3
  key_1 val.x val.y
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 x1    y1   
2     2 x2    y2   </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="img/inner_join.png"></p>
</div>
</div>
</section>
<section id="inner-join-1" class="slide level2">
<h2>Inner join</h2>
<p>F√≠jate que en t√©rminos de registros, <code>inner_join</code> si es conmutativa, <strong>nos da igual el orden de las tablas</strong>: lo √∫nico que cambia es el orden de las columnas que a√±ade.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb898"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb898-1"><a href="#cb898-1"></a>tb_1 <span class="sc">|&gt;</span> </span>
<span id="cb898-2"><a href="#cb898-2"></a>  <span class="fu">inner_join</span>(tb_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"key_1"</span> <span class="ot">=</span> <span class="st">"key_2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 3
  key_1 val.x val.y
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 x1    y1   
2     2 x2    y2   </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb900"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb900-1"><a href="#cb900-1"></a>tb_2 <span class="sc">|&gt;</span> </span>
<span id="cb900-2"><a href="#cb900-2"></a>  <span class="fu">inner_join</span>(tb_1, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"key_2"</span> <span class="ot">=</span> <span class="st">"key_1"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 3
  key_2 val.x val.y
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 y1    x1   
2     2 y2    x2   </code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="antisemi-join" class="slide level2">
<h2>Anti/semi join</h2>
<p>Por √∫ltimo tenemos dos herramientas interesantes para <span class="hl-yellow"><strong>filtrar (no cruzar) registros</strong></span>: <code>semi_join()</code> y <code>anti_join()</code>. El <span class="hl-yellow"><strong>semi join</strong></span> nos deja en la <span class="hl-yellow"><strong>primera tabla los registros que cuya clave est√° tambi√©n en la segunda</strong></span> (como un inner join pero sin a√±adir la info de la segunda tabla). Y el segundo, los anti join, hace justo lo contrario (aquellos que no est√°n).</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb902"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb902-1"><a href="#cb902-1"></a><span class="co"># semijoin</span></span>
<span id="cb902-2"><a href="#cb902-2"></a>tb_1 <span class="sc">|&gt;</span> </span>
<span id="cb902-3"><a href="#cb902-3"></a>  <span class="fu">semi_join</span>(tb_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"key_1"</span> <span class="ot">=</span> <span class="st">"key_2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 2
  key_1 val  
  &lt;int&gt; &lt;chr&gt;
1     1 x1   
2     2 x2   </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb904"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb904-1"><a href="#cb904-1"></a><span class="co"># antijoin</span></span>
<span id="cb904-2"><a href="#cb904-2"></a>tb_1 <span class="sc">|&gt;</span> </span>
<span id="cb904-3"><a href="#cb904-3"></a>  <span class="fu">anti_join</span>(tb_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"key_1"</span> <span class="ot">=</span> <span class="st">"key_2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 √ó 2
  key_1 val  
  &lt;int&gt; &lt;chr&gt;
1     3 x3   </code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="tu-turno-16" class="slide level2">
<h2>üíª Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<p>Para los ejercicios usaremos las tablas disponibles en el paquete <code>{nycflights13}</code> (echa un vistazo antes)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb906"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb906-1"><a href="#cb906-1"></a><span class="fu">library</span>(nycflights13)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><span class="hl-yellow"><strong>airlines</strong></span>: nombre de aerol√≠neas (con su abreviatura).</li>
<li><span class="hl-yellow"><strong>airports</strong></span>: datos de aeropuertos (nombres, longitud, latitud, altitud, etc).</li>
<li><span class="hl-yellow"><strong>flights</strong></span>: datos de vuelos.</li>
<li><span class="hl-yellow"><strong>planes</strong></span>: datos de los aviones.</li>
<li><span class="hl-yellow"><strong>weather</strong></span>: datos meteorol√≥gicos horarios de las estaciones LGA, JFK y EWR.</li>
</ul>
</section>
<section id="tu-turno-16" class="slide level2">
<h2>üíª Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-17" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-17-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-17-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-17-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-17-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-17-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li><li><a href="#tabset-17-6"><span class="hl-yellow"><strong>Ejercicio 6</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-17-1">
<p>üìù Del paquete <code>{nycflights13}</code> cruza la tabla <code>flights</code> con <code>airlines</code>. Queremos mantener todos los registros de vuelos, a√±adiendo la informaci√≥n de las aerol√≠neas a la tabla de aviones.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb907"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb907-1"><a href="#cb907-1"></a>flights_airlines <span class="ot">&lt;-</span></span>
<span id="cb907-2"><a href="#cb907-2"></a>  flights <span class="sc">|&gt;</span> </span>
<span id="cb907-3"><a href="#cb907-3"></a>  <span class="fu">left_join</span>(airlines, <span class="at">by =</span> <span class="st">"carrier"</span>)</span>
<span id="cb907-4"><a href="#cb907-4"></a>flights_airlines</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-17-2">
<p>üìù A la tabla obtenida del cruce del apartado anterior, cruza despu√©s con los datos de los aviones en <code>planes</code>, pero incluyendo solo aquellos vuelos de los que tengamos informaci√≥n de sus aviones (y viceversa).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb908"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb908-1"><a href="#cb908-1"></a>flights_airlines_planes <span class="ot">&lt;-</span> </span>
<span id="cb908-2"><a href="#cb908-2"></a>  flights_airlines <span class="sc">|&gt;</span> </span>
<span id="cb908-3"><a href="#cb908-3"></a>  <span class="fu">inner_join</span>(planes, <span class="at">by =</span> <span class="st">"tailnum"</span>)</span>
<span id="cb908-4"><a href="#cb908-4"></a>flights_airlines_planes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-17-3">
<p>üìù Repite el ejercicio anterior pero conservando ambas variables <code>year</code> (en una es el a√±o del vuelo, en la otra es el a√±o de construcci√≥n del avi√≥n), y distingui√©ndolas entre s√≠</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb909"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb909-1"><a href="#cb909-1"></a>flights_airlines_planes <span class="ot">&lt;-</span> </span>
<span id="cb909-2"><a href="#cb909-2"></a>  flights_airlines <span class="sc">|&gt;</span> </span>
<span id="cb909-3"><a href="#cb909-3"></a>  <span class="fu">inner_join</span>(planes, <span class="at">by =</span> <span class="st">"tailnum"</span>,</span>
<span id="cb909-4"><a href="#cb909-4"></a>             <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">"_flight"</span>, <span class="st">"_build_aircraft"</span>))</span>
<span id="cb909-5"><a href="#cb909-5"></a>flights_airlines_planes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-17-4">
<p>üìù Al cruce obtenido del ejercicio anterior incluye la longitud y latitud de los aeropuertos en <code>airports</code>, distinguiendo entre la latitud/longitud del aeropuerto en destino y en origen.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb910"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb910-1"><a href="#cb910-1"></a>flights_airlines_planes <span class="sc">%&gt;%</span></span>
<span id="cb910-2"><a href="#cb910-2"></a>  <span class="fu">left_join</span>(airports <span class="sc">%&gt;%</span> <span class="fu">select</span>(faa, lat, lon),</span>
<span id="cb910-3"><a href="#cb910-3"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"origin"</span> <span class="ot">=</span> <span class="st">"faa"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb910-4"><a href="#cb910-4"></a>  <span class="fu">rename</span>(<span class="at">lat_origin =</span> lat, <span class="at">lon_origin =</span> lon) <span class="sc">|&gt;</span> </span>
<span id="cb910-5"><a href="#cb910-5"></a>  <span class="fu">left_join</span>(airports <span class="sc">%&gt;%</span> <span class="fu">select</span>(faa, lat, lon),</span>
<span id="cb910-6"><a href="#cb910-6"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"dest"</span> <span class="ot">=</span> <span class="st">"faa"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb910-7"><a href="#cb910-7"></a>  <span class="fu">rename</span>(<span class="at">lat_dest =</span> lat, <span class="at">lon_dest =</span> lon)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-17-5">
<p>üìù Filtra de <code>airports</code> solo aquellos aeropuertos de los que salgan vuelos. Repite el proceso filtrado solo aquellos a los que lleguen vuelos</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb911"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb911-1"><a href="#cb911-1"></a>airports <span class="sc">|&gt;</span> </span>
<span id="cb911-2"><a href="#cb911-2"></a>  <span class="fu">semi_join</span>(flights, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"faa"</span> <span class="ot">=</span> <span class="st">"origin"</span>))</span>
<span id="cb911-3"><a href="#cb911-3"></a>airports <span class="sc">|&gt;</span> </span>
<span id="cb911-4"><a href="#cb911-4"></a>  <span class="fu">semi_join</span>(flights, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"faa"</span> <span class="ot">=</span> <span class="st">"dest"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-17-6">
<p>üìù ¬øDe cu√°ntos vuelos no disponemos informaci√≥n del avi√≥n? Elimina antes los vuelos que no tengan identificar (diferente a NA) del avi√≥n</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb912"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb912-1"><a href="#cb912-1"></a>flights <span class="sc">|&gt;</span> </span>
<span id="cb912-2"><a href="#cb912-2"></a>  <span class="fu">drop_na</span>(tailnum) <span class="sc">|&gt;</span></span>
<span id="cb912-3"><a href="#cb912-3"></a>  <span class="fu">anti_join</span>(planes, <span class="at">by =</span> <span class="st">"tailnum"</span>) <span class="sc">|&gt;</span></span>
<span id="cb912-4"><a href="#cb912-4"></a>  <span class="fu">count</span>(tailnum, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="co"># de mayor a menor ya de paso</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="estructuras-de-control" class="slide level2">
<h2>Estructuras de control</h2>
<p>Una <span class="hl-yellow"><strong>estructura de control</strong></span> se compone de una serie de comandos orientados a <span class="hl-yellow"><strong>decidir el camino</strong></span> que tu c√≥digo debe recorrer</p>
<ul>
<li><p>Si se cumple la condici√≥n A, ¬øqu√© sucede?</p></li>
<li><p>¬øY si sucede B?</p></li>
<li><p>¬øC√≥mo puedo repetir una misma expresi√≥n (dependiendo de una variable)?</p></li>
</ul>
<div class="fragment">
<p>Si has programado antes, quiz√°s te sea familiar las conocidas como <span class="hl-yellow"><strong>estructuras condicionales</strong></span> tales como <code>if (blabla) {...} else {...}</code> o <span class="hl-yellow"><strong>bucles</strong></span> <code>for/while</code> (a evitar siempre que podamos).</p>
</div>
</section>
<section id="estructura-if" class="slide level2">
<h2>Estructura If</h2>
<p>Una de las estructuras de control m√°s famosas son las conocidas como <span class="hl-yellow"><strong>estructuras condicionales</strong></span> <code>if</code>.</p>
<blockquote>
<p>SI (IF) un conjunto de condiciones se cumple (TRUE), entonces ejecuta lo que haya dentro de las llaves</p>
</blockquote>
<p>Por ejemplo, la estructura <code>if (x == 1) { c√≥digo A }</code> lo que har√° ser√° <span class="hl-yellow"><strong>ejecutar el c√≥digo A entre llaves</strong></span> pero <span class="hl-purple"><strong>SOLO SI</strong></span> la <span class="hl-purple"><strong>condici√≥n entre par√©ntesis es cierta</strong></span> (solo si <code>x</code> es 1). En cualquier otro caso, no har√° nada.</p>
<div class="fragment">
<p>Por ejemplo, definamos un vector de edades de 8 personas</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb913"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb913-1"><a href="#cb913-1"></a>edad <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">14</span>, <span class="dv">17</span>, <span class="dv">24</span>, <span class="dv">56</span>, <span class="dv">31</span>, <span class="dv">20</span>, <span class="dv">87</span>, <span class="dv">73</span>)</span>
<span id="cb913-2"><a href="#cb913-2"></a>edad <span class="sc">&lt;</span> <span class="dv">18</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
</div>
</div>
</div>
</section>
<section id="estructura-if-1" class="slide level2">
<h2>Estructura If</h2>
<p>Nuestra estructura condicional har√° lo siguiente: <span class="hl-yellow"><strong>si existe alg√∫n menor de edad, imprimir√°</strong></span> por pantalla un mensaje.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb915"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb915-1"><a href="#cb915-1"></a><span class="cf">if</span> (<span class="fu">any</span>(edad <span class="sc">&lt;</span> <span class="dv">18</span>)) { </span>
<span id="cb915-2"><a href="#cb915-2"></a>  </span>
<span id="cb915-3"><a href="#cb915-3"></a>  <span class="fu">print</span>(<span class="st">"Existe alguna persona menor de edad"</span>)</span>
<span id="cb915-4"><a href="#cb915-4"></a>  </span>
<span id="cb915-5"><a href="#cb915-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Existe alguna persona menor de edad"</code></pre>
</div>
</div>
</section>
<section id="estructura-if-2" class="slide level2">
<h2>Estructura If</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb917"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb917-1"><a href="#cb917-1"></a><span class="cf">if</span> (<span class="fu">any</span>(edad <span class="sc">&lt;</span> <span class="dv">18</span>)) { </span>
<span id="cb917-2"><a href="#cb917-2"></a>  </span>
<span id="cb917-3"><a href="#cb917-3"></a>  <span class="fu">print</span>(<span class="st">"Existe alguna persona menor de edad"</span>)</span>
<span id="cb917-4"><a href="#cb917-4"></a>  </span>
<span id="cb917-5"><a href="#cb917-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>En caso de que las <span class="hl-yellow"><strong>condiciones no sean ciertas</strong></span> dentro de <code>if()</code> (<code>FALSE</code>), no sucede nada</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb918"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb918-1"><a href="#cb918-1"></a><span class="cf">if</span> (<span class="fu">all</span>(edad <span class="sc">&gt;=</span> <span class="dv">18</span>)) { </span>
<span id="cb918-2"><a href="#cb918-2"></a>  </span>
<span id="cb918-3"><a href="#cb918-3"></a>  <span class="fu">print</span>(<span class="st">"Todos son mayores de edad"</span>)</span>
<span id="cb918-4"><a href="#cb918-4"></a>  </span>
<span id="cb918-5"><a href="#cb918-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>No obtenemos ning√∫n mensaje</strong> porque la condici√≥n <code>all(edad &gt;= 18)</code> no es <code>TRUE</code>, as√≠ que bno ejecuta nada.</p>
</section>
<section id="estructura-if-else" class="slide level2">
<h2>Estructura If-else</h2>
<p>La estructura <code>if (condicion) { c√≥digo A }</code> puede combinarse con un <code>else { c√≥digo B }</code>: cuando la <span class="hl-yellow"><strong>condici√≥n no est√° verificada</strong></span>, se <span class="hl-yellow"><strong>ejecutar√° el c√≥digo alternativo B</strong></span> dentro de <code>else { }</code>, permiti√©ndonos decidir que sucede cuando se cumple y cuando no. . . .</p>
<p>Por ejemplo, <code>if (x == 1) { c√≥digo A } else { c√≥digo B }</code> ejecutar√° A si <code>x</code> es igual a 1 y B en cualquier otro caso.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb919"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb919-1"><a href="#cb919-1"></a><span class="cf">if</span> (<span class="fu">all</span>(edad <span class="sc">&gt;=</span> <span class="dv">18</span>)) { </span>
<span id="cb919-2"><a href="#cb919-2"></a>  </span>
<span id="cb919-3"><a href="#cb919-3"></a>  <span class="fu">print</span>(<span class="st">"Todos son mayores de edad"</span>)</span>
<span id="cb919-4"><a href="#cb919-4"></a>  </span>
<span id="cb919-5"><a href="#cb919-5"></a>} <span class="cf">else</span> {</span>
<span id="cb919-6"><a href="#cb919-6"></a>  </span>
<span id="cb919-7"><a href="#cb919-7"></a>  <span class="fu">print</span>(<span class="st">"Existe alguna persona menor de edad"</span>)</span>
<span id="cb919-8"><a href="#cb919-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Existe alguna persona menor de edad"</code></pre>
</div>
</div>
</section>
<section id="estructura-if-else-1" class="slide level2">
<h2>Estructura If-else</h2>
<p>Esta estructura <code>if - else</code> puede ser <span class="hl-yellow"><strong>anidada</strong></span>: imagina que queremos ejecutar un c√≥digo si todos son menores; si no sucede, pero todos son mayores de 16, hacer otra cosa; en cualquier otra cosa, otra acci√≥n.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb921"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb921-1"><a href="#cb921-1"></a><span class="cf">if</span> (<span class="fu">all</span>(edad <span class="sc">&gt;=</span> <span class="dv">18</span>)) { </span>
<span id="cb921-2"><a href="#cb921-2"></a>  </span>
<span id="cb921-3"><a href="#cb921-3"></a>  <span class="fu">print</span>(<span class="st">"Todos son mayores de edad"</span>)</span>
<span id="cb921-4"><a href="#cb921-4"></a>  </span>
<span id="cb921-5"><a href="#cb921-5"></a>} <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">all</span>(edad <span class="sc">&gt;=</span> <span class="dv">16</span>)) {</span>
<span id="cb921-6"><a href="#cb921-6"></a>  </span>
<span id="cb921-7"><a href="#cb921-7"></a>  <span class="fu">print</span>(<span class="st">"Hay alg√∫n menor de edad pero todos con 16 a√±os o m√°s"</span>)</span>
<span id="cb921-8"><a href="#cb921-8"></a>  </span>
<span id="cb921-9"><a href="#cb921-9"></a>} <span class="cf">else</span> { <span class="fu">print</span>(<span class="st">"Hay alguna persona con menos de 16 a√±os"</span>) }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Hay alguna persona con menos de 16 a√±os"</code></pre>
</div>
</div>
<div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Truco</strong></p>
</div>
<div class="callout-content">
<p>Puedes <strong>colapsar las estructuras</strong> haciendo click en la flecha a la izquierda que aparece en tu script.</p>
</div>
</div>
</div>
</section>
<section id="if-else-vectorizado" class="slide level2">
<h2>If-else vectorizado</h2>
<p>Esta estructura condicional se puede <span class="hl-yellow"><strong>vectorizar</strong></span> (en una sola l√≠nea) con <code>if_else()</code> (del paquete <code>{dplyr}</code>), cuyos argumentos son</p>
<ul>
<li>la condici√≥n a evaluar</li>
<li>lo que sucede cuando se cumple</li>
<li>lo que sucede cuando no</li>
<li>un argumento opcional para cuando la condici√≥n a evaluar es <code>NA</code></li>
</ul>
<p>Por ejemplo, vamos a etiquetar sin son mayores/menores de edad y un ‚Äúdesconocido‚Äù cuando no conocemos la edad</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb923"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb923-1"><a href="#cb923-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb923-2"><a href="#cb923-2"></a>edad <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>, edad)</span>
<span id="cb923-3"><a href="#cb923-3"></a><span class="fu">if_else</span>(edad <span class="sc">&gt;=</span> <span class="dv">18</span>, <span class="st">"mayor"</span>, <span class="st">"menor"</span>, <span class="at">missing =</span> <span class="st">"desconocido"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "desconocido" "menor"       "menor"       "mayor"       "mayor"      
[6] "mayor"       "mayor"       "mayor"       "mayor"      </code></pre>
</div>
</div>
</section>
<section id="bucles" class="slide level2">
<h2>Bucles</h2>
<p>Aunque en la mayor√≠a de ocasiones se pueden reemplazar por otras estructuras m√°s eficientes y legibles, es importante conocer una de las expresiones de control m√°s famosas: los <span class="hl-yellow"><strong>bucles</strong></span>.</p>
<ul>
<li><p><code>for { }</code>: permite <span class="hl-yellow"><strong>repetir el mismo c√≥digo</strong></span> en un <span class="hl-purple"><strong>n√∫mero prefijado y conocido</strong></span> de veces.</p></li>
<li><p><code>while { }</code>: permite <span class="hl-yellow"><strong>repetir el mismo c√≥digo</strong></span> pero en un <span class="hl-purple"><strong>n√∫mero indeterminado de veces</strong></span> (hasta que una <strong>condici√≥n</strong> deje de cumplirse).</p></li>
</ul>
</section>
<section id="bucles-for" class="slide level2">
<h2>Bucles for</h2>
<p>Un bucle <span class="hl-yellow"><strong>for</strong></span> es una estructura que permite <span class="hl-yellow"><strong>repetir</strong></span> un conjunto de √≥rdenes un n√∫mero <span class="hl-purple"><strong>finito, prefijado y conocido de veces</strong></span> dado un conjunto de √≠ndices.</p>
<div class="fragment">
<p>Por ejemplo, vamos a definir un vector <code>x</code> y vamos a imprimir sus elementos al cuadrado: definireos un √≠ndice <code>i</code> para imprimir, en cada paso, el valor i-√©simo <code>x[i]^2</code>. Esos √≠ndices ir√°n dentro de <code>for (indice in conjunto) { code }</code> (por ejemplo, <code>i in 1:4</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb925"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb925-1"><a href="#cb925-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb925-2"><a href="#cb925-2"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) {</span>
<span id="cb925-3"><a href="#cb925-3"></a>  </span>
<span id="cb925-4"><a href="#cb925-4"></a>  <span class="fu">print</span>(x[i]<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb925-5"><a href="#cb925-5"></a>  </span>
<span id="cb925-6"><a href="#cb925-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0
[1] 49
[1] 1
[1] 16</code></pre>
</div>
</div>
</div>
</section>
<section id="bucles-for-1" class="slide level2">
<h2>Bucles for</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb927"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb927-1"><a href="#cb927-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) { </span>
<span id="cb927-2"><a href="#cb927-2"></a>  <span class="fu">print</span>(x[i]<span class="sc">^</span><span class="dv">2</span>) </span>
<span id="cb927-3"><a href="#cb927-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Dentro del par√©ntesis del <code>for ()</code> debemos tener una <span class="hl-yellow"><strong>secuencia de √≠ndices</strong></span> (en este caso, n√∫meros). Si queremos hacer lo mismo pero excluyendo el segundo elemento simplemente definimos el conjunto de valores <code>c(1, 3, 4)</code> entre los que <code>i</code> puede moverse.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb928"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb928-1"><a href="#cb928-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>)) {</span>
<span id="cb928-2"><a href="#cb928-2"></a>  </span>
<span id="cb928-3"><a href="#cb928-3"></a>  <span class="fu">print</span>(x[i]<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb928-4"><a href="#cb928-4"></a>  </span>
<span id="cb928-5"><a href="#cb928-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0
[1] 1
[1] 16</code></pre>
</div>
</div>
</section>
<section id="bucles-for-2" class="slide level2">
<h2>Bucles for</h2>
<p>Otra forma de usar un bucle es definir de cero un vector: primer inicializamos en ceros <code>y &lt;- rep(0, 4)</code> para despu√©s modificar cada <span class="hl-yellow"><strong>elemento i-√©simo</strong></span> definidos como <code>x[i]^2</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb930"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb930-1"><a href="#cb930-1"></a>y <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">4</span>)</span>
<span id="cb930-2"><a href="#cb930-2"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) {</span>
<span id="cb930-3"><a href="#cb930-3"></a>  </span>
<span id="cb930-4"><a href="#cb930-4"></a>  y[i] <span class="ot">&lt;-</span> x[i]<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb930-5"><a href="#cb930-5"></a>  </span>
<span id="cb930-6"><a href="#cb930-6"></a>}</span>
<span id="cb930-7"><a href="#cb930-7"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  0 49  1 16</code></pre>
</div>
</div>
<div class="fragment">
<p>Lo anterior es equivalente vectorialmente a</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb932"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb932-1"><a href="#cb932-1"></a>y <span class="ot">&lt;-</span> x<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb932-2"><a href="#cb932-2"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  0 49  1 16</code></pre>
</div>
</div>
</div>
</section>
<section id="evitando-bucles" class="slide level2">
<h2>Evitando bucles</h2>
<p>Como ya hemos aprendido con el paquete<code>{microbenchmark}</code> podemos chequear como <span class="hl-yellow"><strong>los bucles suelen ser muy ineficientes</strong></span> (de ah√≠ que debamos evitarlos en la mayor√≠a de ocasiones</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb934"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb934-1"><a href="#cb934-1"></a><span class="fu">library</span>(microbenchmark)</span>
<span id="cb934-2"><a href="#cb934-2"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span></span>
<span id="cb934-3"><a href="#cb934-3"></a><span class="fu">microbenchmark</span>(y <span class="ot">&lt;-</span> x<span class="sc">^</span><span class="dv">2</span>, </span>
<span id="cb934-4"><a href="#cb934-4"></a>               <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) { y[i] <span class="ot">&lt;-</span> x[i]<span class="sc">^</span><span class="dv">2</span> },</span>
<span id="cb934-5"><a href="#cb934-5"></a>               <span class="at">times =</span> <span class="dv">500</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Unit: microseconds
                                    expr      min       lq        mean   median
                                y &lt;- x^2    2.050    2.747    3.355932    3.157
 for (i in 1:100) {     y[i] &lt;- x[i]^2 } 2075.994 2474.063 2928.653616 2988.838
       uq       max neval
    3.567    13.243   500
 3037.793 13209.298   500</code></pre>
</div>
</div>
</section>
<section id="bucles-for-3" class="slide level2">
<h2>Bucles for</h2>
<p>Podemos ver otro ejemplo <span class="hl-yellow"><strong>combinando n√∫meros y textos</strong></span>: definimos un vector de edades y de nombres, e imprimimos el nomber y edad i-√©sima.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb936"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb936-1"><a href="#cb936-1"></a>nombres <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Javi"</span>, <span class="st">"Sandra"</span>, <span class="st">"Carlos"</span>, <span class="st">"Marcos"</span>, <span class="st">"Marta"</span>)</span>
<span id="cb936-2"><a href="#cb936-2"></a>edades <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">33</span>, <span class="dv">27</span>, <span class="dv">18</span>, <span class="dv">43</span>, <span class="dv">29</span>)</span>
<span id="cb936-3"><a href="#cb936-3"></a></span>
<span id="cb936-4"><a href="#cb936-4"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) { </span>
<span id="cb936-5"><a href="#cb936-5"></a>  </span>
<span id="cb936-6"><a href="#cb936-6"></a>  <span class="fu">print</span>(<span class="fu">glue</span>(<span class="st">"{nombres[i]} tiene {edades[i]} a√±os"</span>)) </span>
<span id="cb936-7"><a href="#cb936-7"></a>  </span>
<span id="cb936-8"><a href="#cb936-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Javi tiene 33 a√±os
Sandra tiene 27 a√±os
Carlos tiene 18 a√±os
Marcos tiene 43 a√±os
Marta tiene 29 a√±os</code></pre>
</div>
</div>
</section>
<section id="bucles-for-4" class="slide level2">
<h2>Bucles for</h2>
<p>F√≠jate que <span class="hl-yellow"><strong>si no queremos estar pendientes de cuantos valores</strong></span> tenemos, podemos hacer uso de <code>length()</code> para acceder a la <span class="hl-yellow"><strong>√∫ltima posici√≥n</strong></span> (sea cual sea).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb938"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb938-1"><a href="#cb938-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(nombres)) { </span>
<span id="cb938-2"><a href="#cb938-2"></a>  </span>
<span id="cb938-3"><a href="#cb938-3"></a>  <span class="fu">print</span>(<span class="fu">glue</span>(<span class="st">"{nombres[i]} tiene {edades[i]} a√±os"</span>)) </span>
<span id="cb938-4"><a href="#cb938-4"></a>  </span>
<span id="cb938-5"><a href="#cb938-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Javi tiene 33 a√±os
Sandra tiene 27 a√±os
Carlos tiene 18 a√±os
Marcos tiene 43 a√±os
Marta tiene 29 a√±os</code></pre>
</div>
</div>
</section>
<section id="bucles-for-5" class="slide level2">
<h2>Bucles for</h2>
<p>Aunque normalmente se suelen indexar con vectors num√©ricos, los bucles pueden ser <span class="hl-yellow"><strong>indexados sobre cualquier estructura vectorial</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb940"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb940-1"><a href="#cb940-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb940-2"><a href="#cb940-2"></a>week_days <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"monday"</span>, <span class="st">"tuesday"</span>, <span class="st">"wednesday"</span>, <span class="st">"thursday"</span>,</span>
<span id="cb940-3"><a href="#cb940-3"></a>               <span class="st">"friday"</span>, <span class="st">"saturday"</span>, <span class="st">"sunday"</span>)</span>
<span id="cb940-4"><a href="#cb940-4"></a></span>
<span id="cb940-5"><a href="#cb940-5"></a><span class="cf">for</span> (days <span class="cf">in</span> week_days) {</span>
<span id="cb940-6"><a href="#cb940-6"></a>  </span>
<span id="cb940-7"><a href="#cb940-7"></a>  <span class="fu">print</span>(<span class="fu">str_to_upper</span>(days))</span>
<span id="cb940-8"><a href="#cb940-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "MONDAY"
[1] "TUESDAY"
[1] "WEDNESDAY"
[1] "THURSDAY"
[1] "FRIDAY"
[1] "SATURDAY"
[1] "SUNDAY"</code></pre>
</div>
</div>
</section>
<section id="bucles-for-6" class="slide level2">
<h2>Bucles for</h2>
<p>Vamos a combinar las estructuras condicionales y los bucles: usando el conjunto <code>swiss</code> del paquete <code>{datasets}</code>, vamos a asignar <code>NA</code> si los valores de fertilidad son mayores de 80.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb942"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb942-1"><a href="#cb942-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(swiss)) {</span>
<span id="cb942-2"><a href="#cb942-2"></a>  </span>
<span id="cb942-3"><a href="#cb942-3"></a>  <span class="cf">if</span> (swiss<span class="sc">$</span>Fertility[i] <span class="sc">&gt;</span> <span class="dv">80</span>) { </span>
<span id="cb942-4"><a href="#cb942-4"></a>    </span>
<span id="cb942-5"><a href="#cb942-5"></a>    swiss<span class="sc">$</span>Fertility[i] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb942-6"><a href="#cb942-6"></a>    </span>
<span id="cb942-7"><a href="#cb942-7"></a>  }</span>
<span id="cb942-8"><a href="#cb942-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Esto es exactamente igual a un <code>if_else()</code> vectorizado</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb943"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb943-1"><a href="#cb943-1"></a><span class="fu">data</span>(<span class="st">"swiss"</span>)</span>
<span id="cb943-2"><a href="#cb943-2"></a>swiss<span class="sc">$</span>Fertility <span class="ot">&lt;-</span> <span class="fu">if_else</span>(swiss<span class="sc">$</span>Fertility <span class="sc">&gt;</span> <span class="dv">80</span>, <span class="cn">NA</span>, swiss<span class="sc">$</span>Fertility)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="bucles-while" class="slide level2">
<h2>Bucles while</h2>
<p>Otra forma de crear un bucle es con la estructura <code>while { }</code>, que nos ejecutar√° un bucle <span class="hl-yellow"><strong>un n√∫mero desconocido de veces</strong></span>, hasta que una condici√≥n <span class="hl-yellow"><strong>deje de cumplirse</strong></span> (de hecho puede que nunca termine). Por ejemplo, vamos a inializar una variable <code>ciclos &lt;- 1</code>, que incrementaremos en cada paso, y no saldremos del bucle hasta que <code>ciclos &gt; 4</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb944"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb944-1"><a href="#cb944-1"></a>ciclos <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb944-2"><a href="#cb944-2"></a><span class="cf">while</span>(ciclos <span class="sc">&lt;=</span> <span class="dv">4</span>) {</span>
<span id="cb944-3"><a href="#cb944-3"></a>  </span>
<span id="cb944-4"><a href="#cb944-4"></a>  <span class="fu">print</span>(<span class="fu">glue</span>(<span class="st">"No todav√≠a, vamos por el ciclo {ciclos}"</span>)) </span>
<span id="cb944-5"><a href="#cb944-5"></a>  ciclos <span class="ot">&lt;-</span> ciclos <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb944-6"><a href="#cb944-6"></a>  </span>
<span id="cb944-7"><a href="#cb944-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No todav√≠a, vamos por el ciclo 1
No todav√≠a, vamos por el ciclo 2
No todav√≠a, vamos por el ciclo 3
No todav√≠a, vamos por el ciclo 4</code></pre>
</div>
</div>
</section>
<section id="bucles-while-1" class="slide level2">
<h2>Bucles while</h2>
<p>¬øQu√© sucede cuando la <span class="hl-yellow"><strong>condici√≥n nunca es FALSE</strong></span>? Pru√©balo tu mismo</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb946"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb946-1"><a href="#cb946-1"></a><span class="cf">while</span> (<span class="dv">1</span> <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb946-2"><a href="#cb946-2"></a>  </span>
<span id="cb946-3"><a href="#cb946-3"></a>  <span class="fu">print</span>(<span class="st">"Presiona ESC para salir del bucle"</span>)</span>
<span id="cb946-4"><a href="#cb946-4"></a>  </span>
<span id="cb946-5"><a href="#cb946-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>&nbsp;</p>
<div class="callout callout-warning callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Cuidado</strong></p>
</div>
<div class="callout-content">
<p>Un bucle <code>while { }</code> puede ser bastante ¬´peligroso¬ª sino controlamos bien c√≥mo pararlo.</p>
</div>
</div>
</div>
</section>
<section id="bucles-while-2" class="slide level2">
<h2>Bucles while</h2>
<p>Contamos con dos palabras reservadas para <span class="hl-yellow"><strong>abortar un bucle o forzar su avance</strong></span>:</p>
<ul>
<li><code>break</code>: permite <span class="hl-yellow"><strong>abortar un bucle</strong></span> incluso si no se ha llegado a su final</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb947"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb947-1"><a href="#cb947-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb947-2"><a href="#cb947-2"></a>  <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">3</span>) {</span>
<span id="cb947-3"><a href="#cb947-3"></a>    </span>
<span id="cb947-4"><a href="#cb947-4"></a>    <span class="cf">break</span> <span class="co"># si i = 3, abortamos bucle</span></span>
<span id="cb947-5"><a href="#cb947-5"></a>    </span>
<span id="cb947-6"><a href="#cb947-6"></a>  }</span>
<span id="cb947-7"><a href="#cb947-7"></a>  <span class="fu">print</span>(i)</span>
<span id="cb947-8"><a href="#cb947-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1
[1] 2</code></pre>
</div>
</div>
</section>
<section id="bucles-while-3" class="slide level2">
<h2>Bucles while</h2>
<p>Contamos con dos palabras reservadas para <span class="hl-yellow"><strong>abortar un bucle o forzar su avance</strong></span>:</p>
<ul>
<li><code>next</code>: <span class="hl-yellow"><strong>fuerza un bucle a avanzar a la siguiente iteraci√≥n</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb949"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb949-1"><a href="#cb949-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb949-2"><a href="#cb949-2"></a>  <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">3</span>) {</span>
<span id="cb949-3"><a href="#cb949-3"></a>    </span>
<span id="cb949-4"><a href="#cb949-4"></a>    <span class="cf">next</span> <span class="co"># si i = 3, la obvia y continua al siguiente</span></span>
<span id="cb949-5"><a href="#cb949-5"></a>    </span>
<span id="cb949-6"><a href="#cb949-6"></a>  }</span>
<span id="cb949-7"><a href="#cb949-7"></a>  <span class="fu">print</span>(i)</span>
<span id="cb949-8"><a href="#cb949-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1
[1] 2
[1] 4
[1] 5</code></pre>
</div>
</div>
</section>
<section id="bucles-repeat" class="slide level2">
<h2>Bucles repeat</h2>
<p>Aunque no es tan usado como las opciones anteriores, tambi√©n contamos con <code>repeat { }</code> que ejecuta un <span class="hl-yellow"><strong>bucle de manera infinita hasta que se indique abortar</strong></span> con un break</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb951"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb951-1"><a href="#cb951-1"></a>count <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb951-2"><a href="#cb951-2"></a><span class="cf">repeat</span> { </span>
<span id="cb951-3"><a href="#cb951-3"></a>  </span>
<span id="cb951-4"><a href="#cb951-4"></a>  count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb951-5"><a href="#cb951-5"></a>  <span class="cf">if</span> (count <span class="sc">&gt;=</span> <span class="dv">100</span>) { <span class="cf">break</span> }</span>
<span id="cb951-6"><a href="#cb951-6"></a>  </span>
<span id="cb951-7"><a href="#cb951-7"></a>}</span>
<span id="cb951-8"><a href="#cb951-8"></a>count</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 100</code></pre>
</div>
</div>
</section>
<section id="replicate" class="slide level2">
<h2>Replicate</h2>
<p>Por √∫ltimo, otra forma de <span class="hl-yellow"><strong>repetir c√≥digo un n√∫mero de veces</strong></span> es hacer uso de <code>replicate()</code>: simplemente permite repetir lo mismo <span class="hl-yellow"><strong>n veces</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb953"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb953-1"><a href="#cb953-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb953-2"><a href="#cb953-2"></a><span class="fu">replicate</span>(<span class="at">n =</span> <span class="dv">3</span>, x<span class="sc">^</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    1    1
[2,]    4    4    4
[3,]    9    9    9</code></pre>
</div>
</div>
</section>
<section id="tu-turno-n-1" class="slide level2">
<h2>üíª Tu turno</h2>
<div class="panel-tabset">
<ul id="tabset-18" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-18-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-18-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-18-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-18-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-18-1">
<p>üìù Modifica el c√≥digo inferior para que se imprima un mensaje por pantalla si y solo si todos los datos de <code>airquality</code> son con mes distinto a enero</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb955"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb955-1"><a href="#cb955-1"></a><span class="fu">library</span>(datasets)</span>
<span id="cb955-2"><a href="#cb955-2"></a>months <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Month</span>
<span id="cb955-3"><a href="#cb955-3"></a></span>
<span id="cb955-4"><a href="#cb955-4"></a><span class="cf">if</span> (months <span class="sc">==</span> <span class="dv">2</span>) {</span>
<span id="cb955-5"><a href="#cb955-5"></a>  <span class="fu">print</span>(<span class="st">"No hay datos de enero"</span>)</span>
<span id="cb955-6"><a href="#cb955-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb956"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb956-1"><a href="#cb956-1"></a><span class="fu">library</span>(datasets)</span>
<span id="cb956-2"><a href="#cb956-2"></a>months <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Month</span>
<span id="cb956-3"><a href="#cb956-3"></a></span>
<span id="cb956-4"><a href="#cb956-4"></a><span class="cf">if</span> (<span class="fu">all</span>(months <span class="sc">!=</span> <span class="dv">1</span>)) {</span>
<span id="cb956-5"><a href="#cb956-5"></a>  <span class="fu">print</span>(<span class="st">"No hay datos de enero"</span>)</span>
<span id="cb956-6"><a href="#cb956-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-18-2">
<p>üìù Modifica el c√≥digo inferior para guardar en una variable llamada <code>temp_alta</code> un <code>TRUE</code> si alguno de los registros tiene una temperatura superior a 90 grados Farenheit y <code>FALSE</code> en cualquier otro caso</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb957"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb957-1"><a href="#cb957-1"></a>temp <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Temp</span>
<span id="cb957-2"><a href="#cb957-2"></a></span>
<span id="cb957-3"><a href="#cb957-3"></a><span class="cf">if</span> (temp <span class="sc">==</span> <span class="dv">100</span>) {</span>
<span id="cb957-4"><a href="#cb957-4"></a>  <span class="fu">print</span>(<span class="st">"Algunos de los registros tienen temperaturas superiores a 90 grados Farenheit"</span>)</span>
<span id="cb957-5"><a href="#cb957-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb958"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb958-1"><a href="#cb958-1"></a><span class="co"># Option 1</span></span>
<span id="cb958-2"><a href="#cb958-2"></a>temp <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Temp</span>
<span id="cb958-3"><a href="#cb958-3"></a>temp_alta <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb958-4"><a href="#cb958-4"></a><span class="cf">if</span> (<span class="fu">any</span>(temp <span class="sc">&gt;</span> <span class="dv">90</span>)) {</span>
<span id="cb958-5"><a href="#cb958-5"></a>   temp_alta <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb958-6"><a href="#cb958-6"></a>}</span>
<span id="cb958-7"><a href="#cb958-7"></a></span>
<span id="cb958-8"><a href="#cb958-8"></a><span class="co"># Option 2</span></span>
<span id="cb958-9"><a href="#cb958-9"></a>temp_alta <span class="ot">&lt;-</span> <span class="fu">any</span>(airquality<span class="sc">$</span>Temp <span class="sc">&gt;</span> <span class="dv">90</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-18-3">
<p>üìù Modifica el c√≥digo inferior para dise√±ar un bucle <code>for</code> de 5 iteraciones que solo recorra los primeros 5 impares (y en cada paso del bucle los imprima)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb959"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb959-1"><a href="#cb959-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb959-2"><a href="#cb959-2"></a>  </span>
<span id="cb959-3"><a href="#cb959-3"></a>  <span class="fu">print</span>(i)</span>
<span id="cb959-4"><a href="#cb959-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb960"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb960-1"><a href="#cb960-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)) {</span>
<span id="cb960-2"><a href="#cb960-2"></a>  </span>
<span id="cb960-3"><a href="#cb960-3"></a>  <span class="fu">print</span>(i)</span>
<span id="cb960-4"><a href="#cb960-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-18-4">
<p>üìù Modifica el c√≥digo inferior para dise√±ar un bucle <code>while</code> que empiece con un contador <code>count &lt;- 1</code> y pare cuando llegue a 6</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb961"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb961-1"><a href="#cb961-1"></a>count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb961-2"><a href="#cb961-2"></a><span class="cf">while</span> (count <span class="sc">==</span> <span class="dv">2</span>) {</span>
<span id="cb961-3"><a href="#cb961-3"></a>  </span>
<span id="cb961-4"><a href="#cb961-4"></a>  <span class="fu">print</span>(count)</span>
<span id="cb961-5"><a href="#cb961-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb962"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb962-1"><a href="#cb962-1"></a>count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb962-2"><a href="#cb962-2"></a><span class="cf">while</span> (count <span class="sc">&lt;</span> <span class="dv">6</span>) {</span>
<span id="cb962-3"><a href="#cb962-3"></a>  </span>
<span id="cb962-4"><a href="#cb962-4"></a>  <span class="fu">print</span>(count)</span>
<span id="cb962-5"><a href="#cb962-5"></a>  count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb962-6"><a href="#cb962-6"></a>  </span>
<span id="cb962-7"><a href="#cb962-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="clase-n-2-depuraci√≥n-y-github" class="title-slide slide level1 center">
<h1>Clase n + 2: depuraci√≥n y Github</h1>
<p><span style="color:#444442;"><strong>Depurando datos. Manejo de listas. Github</strong></span></p>
</section>
<section id="depuraci√≥n" class="slide level2">
<h2>Depuraci√≥n</h2>
<p>En la bioestad√≠stica, como en cualquier otro √°mbito de aplicaci√≥n, <span class="hl-yellow"><strong>no siempre los datos los tendremos en el formato deseado</strong></span>.</p>
<p>Ya hemos aprendido como pivotar nuestros datos para tenerlos en <span class="hl-yellow"><strong>formato tidydata</strong></span>, algo indispensable para una correcta depuraci√≥n y visualizaci√≥n. Tambi√©n hemos aprendido algunas operaciones b√°sicas de <span class="hl-yellow"><strong>filtrado</strong></span>, <span class="hl-yellow"><strong>muestreo</strong></span>, <span class="hl-yellow"><strong>selecci√≥n de variables</strong></span> y <span class="hl-yellow"><strong>recategorizaci√≥n</strong></span></p>
<div class="fragment">
<p>Veamos un nuevo paquete llamado <code>{skimr}</code>, cuya funci√≥n <code>skim()</code> nos permitir√° tener un <span class="hl-yellow"><strong>primer an√°lisis exploratorio</strong></span> de nuestros datos</p>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb963"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb963-1"><a href="#cb963-1"></a><span class="fu">install.packages</span>(<span class="st">"skimr"</span>)</span>
<span id="cb963-2"><a href="#cb963-2"></a><span class="fu">library</span>(skimr)</span>
<span id="cb963-3"><a href="#cb963-3"></a>iris <span class="sc">|&gt;</span> <span class="fu">skim</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="depuraci√≥n-1" class="slide level2">
<h2>Depuraci√≥n</h2>
<p>Con dicha funci√≥n podemos <span class="hl-yellow"><strong>comprobar de manera r√°pida</strong></span> si nuestros datos presentan <span class="hl-red"><strong>alguno de los siguientes problemas</strong></span></p>
<ul>
<li><p><span class="hl-red"><strong>Problemas de codificaci√≥n o rango</strong></span>: los valores parecen valores permitidos seg√∫n lo que representa la variable (por ejemplo, no hay edades negativas)</p></li>
<li><p><span class="hl-red"><strong>No tenemos datos ausentes</strong></span>: no hace falta decidir, de momento, que hacemos con ellos, ya que <code>complete_rate</code> sale en todas 1 (<code>n_missing</code> est√° a cero).</p></li>
<li><p><span class="hl-red"><strong>No parece que tengamos excesivos valores at√≠picos</strong></span>: a la vista de los peque√±os histogramas y los percentiles, no parece que tengamos excesivos outliers (al menos muy evidentes)</p></li>
<li><p><span class="hl-red"><strong>Todas las salvo Species son num√©ricas</strong></span>: si tuvi√©semos que montar un modelo predictivo todas las variables predictoras son num√©ricas.</p></li>
<li><p><span class="hl-red"><strong>Casi todas parecen sim√©tricas</strong></span>: salvo <code>Petal.Length</code> las variables parecen m√°s o menos sim√©tricas (media se parece a mediana).</p></li>
</ul>
</section>
<section id="depuraci√≥n-2" class="slide level2">
<h2>Depuraci√≥n</h2>
<p>En general dado un dataset desde un punto de vista predictivo debemos preguntarnos</p>
<ul>
<li><span class="hl-yellow"><strong>1. Tipolog√≠a</strong></span> de las variables. ¬øTodas mis variables predictoras son num√©ricas o debo? ¬øMi variable objetivo es categ√≥rica? ¬øTienen la tipolog√≠a adecuada para mi metodolog√≠a?</li>
</ul>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>2. Codificaci√≥n/rango</strong></span> de las variables. ¬øTodas mis variables tienen un rango coherente (por ejemplo, que una variable de peso no sea negativa)? ¬øEst√°n bien codificadas?</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>3. At√≠picos y ausentes</strong></span>. ¬øTengo valores at√≠picos (outliers)? En caso afirmativo, ¬øc√≥mo tratarlos? Tras tratar at√≠picos, ¬øtengo datos ausentes?</li>
</ul>
</div>
</section>
<section id="depuraci√≥n-3" class="slide level2">
<h2>Depuraci√≥n</h2>
<ul>
<li><span class="hl-yellow"><strong>4. Selecci√≥n de variables</strong></span>. ¬øNecesito seleccionar variables? ¬øTengo alguna de <strong>varianza cero</strong> (es decir, sin informaci√≥n)? ¬øTengo problemas de <strong>dependencia o colinealidad</strong>? ¬øPuedo resumir mi info con un conjunto nuevo de variables incorreladas (componentes principales)?</li>
</ul>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>5. Variables dummy</strong></span>. ¬øDebo recategorizar variables que no sean num√©ricas?</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>6. A√±adir info</strong></span>. ¬øDebo crear nuevas variables que nos aporte info extra?</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>7. Normalizar variables</strong></span>. ¬øTengo ya mis variables preparadas (tras tratar lo anterior) para el algoritmo que vaya usar (estandarizadas por rango o tipificadas por media-varianza, por ejemplo)?</li>
</ul>
</div>
</section>
<section id="depuraci√≥n-4" class="slide level2">
<h2>Depuraci√≥n</h2>
<p>Vamos a realizar un ejemplo sobre el dataset <code>starwars</code> del paquete <code>{dplyr}</code> dentro de tidyverse</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb964"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb964-1"><a href="#cb964-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb964-2"><a href="#cb964-2"></a>starwars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 √ó 14
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Luke Sk‚Ä¶    172    77 blond      fair       blue            19   male  mascu‚Ä¶
 2 C-3PO       167    75 &lt;NA&gt;       gold       yellow         112   none  mascu‚Ä¶
 3 R2-D2        96    32 &lt;NA&gt;       white, bl‚Ä¶ red             33   none  mascu‚Ä¶
 4 Darth V‚Ä¶    202   136 none       white      yellow          41.9 male  mascu‚Ä¶
 5 Leia Or‚Ä¶    150    49 brown      light      brown           19   fema‚Ä¶ femin‚Ä¶
 6 Owen La‚Ä¶    178   120 brown, gr‚Ä¶ light      blue            52   male  mascu‚Ä¶
 7 Beru Wh‚Ä¶    165    75 brown      light      blue            47   fema‚Ä¶ femin‚Ä¶
 8 R5-D4        97    32 &lt;NA&gt;       white, red red             NA   none  mascu‚Ä¶
 9 Biggs D‚Ä¶    183    84 black      light      brown           24   male  mascu‚Ä¶
10 Obi-Wan‚Ä¶    182    77 auburn, w‚Ä¶ fair       blue-gray       57   male  mascu‚Ä¶
# ‚Ñπ 77 more rows
# ‚Ñπ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
<div class="fragment">
<p>El objetivo ser√° <span class="hl-yellow"><strong>predecir el peso</strong></span> (variable objetivo continua) mediante una <span class="hl-yellow"><strong>regresi√≥n lineal</strong></span>.</p>
</div>
</section>
<section id="depuraci√≥n-5" class="slide level2">
<h2>Depuraci√≥n</h2>
<p>Para simplificarlo vamos primero a <span class="hl-yellow"><strong>seleccionar solo las columnas</strong></span> de estatura, peso, edad y sexo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb966"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb966-1"><a href="#cb966-1"></a>starwars_lm <span class="ot">&lt;-</span> </span>
<span id="cb966-2"><a href="#cb966-2"></a>  starwars <span class="sc">|&gt;</span></span>
<span id="cb966-3"><a href="#cb966-3"></a>  <span class="fu">select</span>(height<span class="sc">:</span>mass, birth_year<span class="sc">:</span>sex)</span>
<span id="cb966-4"><a href="#cb966-4"></a>starwars_lm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 √ó 4
   height  mass birth_year sex   
    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt; 
 1    172    77       19   male  
 2    167    75      112   none  
 3     96    32       33   none  
 4    202   136       41.9 male  
 5    150    49       19   female
 6    178   120       52   male  
 7    165    75       47   female
 8     97    32       NA   none  
 9    183    84       24   male  
10    182    77       57   male  
# ‚Ñπ 77 more rows</code></pre>
</div>
</div>
</section>
<section id="tipolog√≠a" class="slide level2">
<h2>1. Tipolog√≠a</h2>
<ul>
<li><span class="hl-yellow"><strong>Tipolog√≠a</strong></span> de las variables. Al ser una regresi√≥n, ¬øtodas mis variables predictoras y objetivo son num√©ricas?</li>
</ul>
<div class="fragment">
<p>En este caso <span class="hl-red"><strong>no todas las predictoras son num√©ricas</strong></span> ya que tenemos una variable categ√≥rica como <code>sex</code> que, de momento, <span class="hl-yellow"><strong>vamos a eliminar</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb968"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb968-1"><a href="#cb968-1"></a>starwars_lm <span class="ot">&lt;-</span> </span>
<span id="cb968-2"><a href="#cb968-2"></a>  starwars_lm <span class="sc">|&gt;</span></span>
<span id="cb968-3"><a href="#cb968-3"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span>
<span id="cb968-4"><a href="#cb968-4"></a>starwars_lm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 √ó 3
   height  mass birth_year
    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;
 1    172    77       19  
 2    167    75      112  
 3     96    32       33  
 4    202   136       41.9
 5    150    49       19  
 6    178   120       52  
 7    165    75       47  
 8     97    32       NA  
 9    183    84       24  
10    182    77       57  
# ‚Ñπ 77 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="codificaci√≥nrango" class="slide level2">
<h2>2. Codificaci√≥n/rango</h2>
<ul>
<li><span class="hl-yellow"><strong>Codificaci√≥n/rango</strong></span> de las variables. ¬øTodas mis variables tienen un rango coherente (por ejemplo, que una variable de peso no sea negativa)? ¬øEst√°n bien codificadas?</li>
</ul>
<div class="fragment">
<p>En este caso <span class="hl-green"><strong>todas tienen rangos permitidos</strong></span> (eso no significa que no tengamos outliers)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb970"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb970-1"><a href="#cb970-1"></a>starwars_lm <span class="sc">|&gt;</span> <span class="fu">skim</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="at√≠picosausentes" class="slide level2">
<h2>3. At√≠picos/ausentes</h2>
<ul>
<li><span class="hl-yellow"><strong>At√≠picos y ausentes</strong></span>. ¬øTengo valores at√≠picos (outliers)? En caso afirmativo, ¬øc√≥mo tratarlos? Tras tratar at√≠picos, ¬øtengo datos ausentes? (puedes probar distintos m√©todos en <a href="https://odds.cs.stonybrook.edu/#table1" class="uri">https://odds.cs.stonybrook.edu/#table1</a>)</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb971"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb971-1"><a href="#cb971-1"></a>starwars_lm <span class="sc">|&gt;</span> <span class="fu">skim</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>En este caso parece obvio que debemos <span class="hl-red"><strong>tratar ausentes y at√≠picos</strong></span></p>
</div>
</section>
<section id="at√≠picos-media" class="slide level2">
<h2>3. At√≠picos (media)</h2>
<p>Una de las partes m√°s importantes de la fase de exploraci√≥n y modificaci√≥n es la <span class="hl-yellow"><strong>detecci√≥n de outliers</strong></span>, pudiendo tener <strong>diferentes definiciones de valor at√≠pico</strong>:</p>
<ul>
<li><span class="hl-yellow"><strong>At√≠pico respecto a media</strong></span>: ser√° un dato muy alejado de la media de la variable. <span class="hl-purple"><strong>¬øCu√°nto de alejado?</strong></span> Una definici√≥n habitual es definir un <span class="hl-yellow"><strong>dato at√≠pico</strong></span> como aquel que se <span class="hl-yellow"><strong>aleja de la media <span class="math inline">\(k\)</span> veces la desviaci√≥n t√≠pica</strong></span> (un valor habitual es <span class="math inline">\(k = 2.5\)</span>)</li>
</ul>
<p><span class="math display">\[\left| x_i - \overline{x} \right| &gt; k*s_{x}\]</span></p>
<div class="fragment">
<p>Dicha definici√≥n de at√≠pico <span class="hl-yellow"><strong>solo tendr√° sentido cuando la media sea representativa</strong></span> de tu distribuci√≥n, es decir, siempre y cuando tengamos <span class="hl-yellow"><strong>cierta simetr√≠a</strong></span> (en caos contrario la media, al ser poco robusta, se perturbar√° f√°cilmente).</p>
</div>
</section>
<section id="at√≠picos-media-1" class="slide level2">
<h2>3. At√≠picos (media)</h2>
<p>Para detectarlos usaremos el paquete <code>{outliers}</code> y su funci√≥n <code>scores()</code>, que nos dar√° en cada caso una <span class="hl-yellow"><strong>‚Äúpuntuaci√≥n‚Äù de cada observaci√≥n</strong></span> (lo que se aleja). En caso de que queramos detectarlos <strong>respecto a la media</strong>, le indicaremos que <code>type = "z"</code> y nos devolver√° precisamente el valor <span class="math inline">\(k\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb972"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb972-1"><a href="#cb972-1"></a><span class="co"># install.packages("outliers")</span></span>
<span id="cb972-2"><a href="#cb972-2"></a><span class="fu">library</span>(outliers)</span>
<span id="cb972-3"><a href="#cb972-3"></a><span class="fu">abs</span>(<span class="fu">scores</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="fl">1.5</span>, <span class="fl">0.5</span>, <span class="sc">-</span><span class="fl">0.3</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="fl">1.7</span>, <span class="fl">0.2</span>, <span class="sc">-</span><span class="fl">0.8</span>), <span class="at">type =</span> <span class="st">"z"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.05794825 1.19759725 0.56982450 2.56903925 0.68572100 0.37183463
 [7] 0.25593812 0.75815632 0.56982450 0.68572100 0.49738918 0.44426995
[13] 1.07204270</code></pre>
</div>
</div>
<div class="fragment">
<p>De esta forma podemos detectar muy f√°cil los outliers en funci√≥n de los estrictos que queramos ser con ese <span class="math inline">\(k\)</span> (si supera un umbral, outlier). El tipo <code>type = "chisq"</code> nos hace algo parecido pero elevando las desviaciones al cuadrado y diviendo por la varianza.</p>
</div>
</section>
<section id="at√≠picos-media-2" class="slide level2">
<h2>3. At√≠picos (media)</h2>
<p>Vamos a aplicarlo a nuestro dataset de starwars (de momento quitando ausentes)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb974"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb974-1"><a href="#cb974-1"></a><span class="fu">library</span>(outliers)</span>
<span id="cb974-2"><a href="#cb974-2"></a>k <span class="ot">&lt;-</span> <span class="fl">2.5</span></span>
<span id="cb974-3"><a href="#cb974-3"></a>starwars_outliers_mean <span class="ot">&lt;-</span></span>
<span id="cb974-4"><a href="#cb974-4"></a>  starwars_lm <span class="sc">|&gt;</span></span>
<span id="cb974-5"><a href="#cb974-5"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span> </span>
<span id="cb974-6"><a href="#cb974-6"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(),</span>
<span id="cb974-7"><a href="#cb974-7"></a>                <span class="cf">function</span>(x) {</span>
<span id="cb974-8"><a href="#cb974-8"></a>                  <span class="fu">if_else</span>(<span class="fu">abs</span>(<span class="fu">scores</span>(x, <span class="at">type =</span> <span class="st">"z"</span>)) <span class="sc">&gt;</span> k, <span class="cn">NA</span>, x) }))</span>
<span id="cb974-9"><a href="#cb974-9"></a>starwars_outliers_mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 36 √ó 3
   height  mass birth_year
    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;
 1    172    77       19  
 2    167    75      112  
 3     NA    32       33  
 4    202   136       41.9
 5    150    49       19  
 6    178   120       52  
 7    165    75       47  
 8    183    84       24  
 9    182    77       57  
10    188    84       41.9
# ‚Ñπ 26 more rows</code></pre>
</div>
</div>
</section>
<section id="at√≠picos-media-3" class="slide level2">
<h2>3. At√≠picos (media)</h2>
<p>Con <code>if_any()</code> dentro del <code>filter()</code> podemos mostrar todo los registros detectados como outlier en alguna variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb976"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb976-1"><a href="#cb976-1"></a>starwars_outliers_mean <span class="sc">|&gt;</span></span>
<span id="cb976-2"><a href="#cb976-2"></a>  <span class="fu">filter</span>(<span class="fu">if_any</span>(<span class="fu">everything</span>(), is.na))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 3
  height  mass birth_year
   &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;
1     NA    32         33
2    175    NA         NA
3     NA    17         NA
4     NA    20          8</code></pre>
</div>
</div>
</section>
<section id="at√≠picos-mediana" class="slide level2">
<h2>3. At√≠picos (mediana)</h2>
<ul>
<li><span class="hl-yellow"><strong>At√≠pico respecto a mediana</strong></span>: ser√° un dato muy alejado de la mediana de la variable. <span class="hl-purple"><strong>¬øCu√°nto de alejado?</strong></span> Una definici√≥n habitual (conocido como <strong>filtro de Hampel</strong>) es definir un dato at√≠pico como aquel que se <span class="hl-yellow"><strong>aleja de la mediana <span class="math inline">\(k\)</span> veces la mediana de las desviaciones absolutas</strong></span> (un valor habitual es <span class="math inline">\(k=3\)</span>), conocida como <span class="math inline">\(MAD = Me \left(|x_i - Me_x| \right)\)</span></li>
</ul>
<p><span class="math display">\[\left| x_i - Me_x \right| &gt; k*MAD\]</span></p>
<div class="fragment">
<p>Para ello nos bastar√° usar <code>scores()</code> con <code>type = "mad"</code> (y nos devolver√° de nuevo ese <span class="math inline">\(k\)</span>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb978"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb978-1"><a href="#cb978-1"></a><span class="fu">abs</span>(<span class="fu">scores</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="fl">1.5</span>, <span class="fl">0.5</span>, <span class="sc">-</span><span class="fl">0.3</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="fl">1.7</span>, <span class="fl">0.2</span>, <span class="sc">-</span><span class="fl">0.8</span>), <span class="at">type =</span> <span class="st">"mad"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.3372454 1.0117361 0.3372454 3.0352084 1.0117361 0.6744908 0.0000000
 [8] 0.5395926 0.3372454 1.0117361 0.8093889 0.2023472 0.8768380</code></pre>
</div>
</div>
<p>El <span class="hl-yellow"><strong>valor a imputar ser√≠a la mediana</strong></span></p>
</div>
</section>
<section id="at√≠picos-percentiles" class="slide level2">
<h2>3. At√≠picos (percentiles)</h2>
<ul>
<li><span class="hl-yellow"><strong>At√≠pico respecto a percentiles</strong></span>: ser√° un dato muy alejado de los cuartiles de la variable. <span class="hl-purple"><strong>¬øCu√°nto de alejado?</strong></span>. Una definici√≥n habitual es definir un <span class="hl-yellow"><strong>dato at√≠pico como aquel que se aleja de cuartiles 1 y 3 (percentiles 25 y 75) <span class="math inline">\(k\)</span> veces el rango intercuart√≠lico</strong></span> (<span class="math inline">\(IQR = Q_3 - Q_1\)</span>). Un valor habitual es <span class="math inline">\(k=1.5\)</span></li>
</ul>
<p><span class="math display">\[x_i &gt; Q_3 + k*IQR \quad \text{ o bien } \quad x_i &lt; Q_1 - k*IQR\]</span></p>
<div class="fragment">
<p>Para ello nos bastar√° usar <code>scores()</code> con <code>type = "iqr"</code> (y nos devolver√° de nuevo ese <span class="math inline">\(k\)</span>, siendo <span class="math inline">\(k = 0\)</span> para lo que est√© dentro del IQR).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb980"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb980-1"><a href="#cb980-1"></a><span class="fu">abs</span>(<span class="fu">scores</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="fl">1.5</span>, <span class="fl">0.5</span>, <span class="sc">-</span><span class="fl">0.3</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="fl">1.7</span>, <span class="fl">0.2</span>, <span class="sc">-</span><span class="fl">0.8</span>), <span class="at">type =</span> <span class="st">"iqr"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.0000000 0.5882353 0.0000000 1.9411765 0.1764706 0.0000000 0.0000000
 [8] 0.1764706 0.0000000 0.1764706 0.0000000 0.0000000 0.4705882</code></pre>
</div>
</div>
<p>El <span class="hl-yellow"><strong>valor a imputar ser√≠a la mediana</strong></span></p>
</div>
</section>
<section id="at√≠picos-inferencia" class="slide level2">
<h2>3. At√≠picos (inferencia)</h2>
<p>Existen otros <span class="hl-yellow"><strong>procedimientos basados en inferencia estad√≠stica</strong></span> (muchos de ellos en el paquete <code>{outliers}</code>)</p>
<ul>
<li><span class="hl-yellow"><strong>Tests de Grubbs y Dixon</strong></span>: ambos test nos permiten detectar si el valor m√°s alto (o bajo) de una variable es un outlier, pudiendo detectar <span class="hl-yellow"><strong>un solo outlier en cada iteraci√≥n</strong></span> (en caso de detectarlo, deber√≠amos tratarlo y volver a ejecutar el test)</li>
</ul>
<p><span class="math inline">\(H_0\)</span>: valor m√°s alto/bajo no es outlier</p>
<p><span class="math inline">\(H_1\)</span>: valor m√°s alto/bajo s√≠ es outlier</p>
<div class="fragment">
<p>El <span class="hl-yellow"><strong>test de Dixon</strong></span> (basado en una ordenaci√≥n) suele funcionar mejor cuando tenemos poca muestra que el test de Grubbs (basado en la media).</p>
<p>Ver m√°s documentaci√≥n de su funcionamiento en <a href="https://www.itl.nist.gov/div898/handbook/eda/section3/eda35h1.htm" class="uri">https://www.itl.nist.gov/div898/handbook/eda/section3/eda35h1.htm</a> y <a href="https://www.statisticshowto.com/dixons-q-test/" class="uri">https://www.statisticshowto.com/dixons-q-test/</a></p>
</div>
</section>
<section id="at√≠picos-inferencia-1" class="slide level2">
<h2>3. At√≠picos (inferencia)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb982"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb982-1"><a href="#cb982-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="fl">1.5</span>, <span class="fl">0.5</span>, <span class="sc">-</span><span class="fl">0.3</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="fl">1.7</span>, <span class="fl">0.2</span>, <span class="sc">-</span><span class="fl">0.8</span>)</span>
<span id="cb982-2"><a href="#cb982-2"></a><span class="fu">dixon.test</span>(x, <span class="at">opposite =</span> <span class="cn">TRUE</span>) <span class="co"># valor m√°s bajo</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Dixon test for outliers

data:  x
Q = 0.23333, p-value = 0.8072
alternative hypothesis: lowest value -1 is an outlier</code></pre>
</div>
<div class="sourceCode cell-code" id="cb984"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb984-1"><a href="#cb984-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="fl">1.5</span>, <span class="fl">0.5</span>, <span class="sc">-</span><span class="fl">0.3</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="fl">1.7</span>, <span class="fl">0.2</span>, <span class="sc">-</span><span class="fl">0.8</span>)</span>
<span id="cb984-2"><a href="#cb984-2"></a><span class="fu">dixon.test</span>(x, <span class="at">opposite =</span> <span class="cn">FALSE</span>) <span class="co"># valor m√°s alto</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Dixon test for outliers

data:  x
Q = 0.51724, p-value = 0.1055
alternative hypothesis: highest value 5 is an outlier</code></pre>
</div>
</div>
</section>
<section id="at√≠picos-inferencia-2" class="slide level2">
<h2>3. At√≠picos (inferencia)</h2>
<ul>
<li><span class="hl-yellow"><strong>Test de Rosner</strong></span>: al contrario que los anteriores, nos permite detectar varios outliers a la vez, especialmente dise√±ado para evitar que un valor at√≠pico nos perturbe tanto que nos enmascare otro (basado en la media). Podemos ejecutarlo con la funci√≥n <code>rosnerTest()</code> del paquete <code>{EnvStats}</code>.</li>
</ul>
</section>
<section id="at√≠picos-isolation-trees" class="slide level2">
<h2>3. At√≠picos (isolation trees)</h2>
<p>Tambi√©n existen <span class="hl-yellow"><strong>t√©cnicas de Machine Learning</strong></span> para la identificaci√≥n de outliers, como los conocidos como <span class="hl-yellow"><strong>Isolation Forest</strong></span>.</p>
<div class="fragment">
<p>La idea es un poco similar a la de un <span class="hl-yellow"><strong>Random Forest</strong></span>, mediante la <span class="hl-yellow"><strong>combinaci√≥n de muchos √°rboles</strong></span> de clasificaci√≥n/regresi√≥n conocidos como <strong>isolation trees</strong>, aunque en este caso los puntos de corte se hace de manera totalmente aleatoria.</p>
</div>
<div class="fragment">
<p>De esta manera, aquellos individuos con caracter√≠sticas diferentes al resto quedar√°n aislados r√°pidamente, de manera que los <span class="hl-yellow"><strong>outliers ser√°n aquellos aislados a los que se llega m√°s r√°pido</strong></span> que al resto</p>
</div>
</section>
<section id="at√≠picos-isolation-trees-1" class="slide level2">
<h2>3. At√≠picos (isolation trees)</h2>
<p>El algoritmo se puede resumir con sigue:</p>
<ol type="1">
<li><p>Se crea un <span class="hl-yellow"><strong>nodo ra√≠z</strong></span> con una submuestra de N observaciones.</p></li>
<li><p>Se <span class="hl-yellow"><strong>selecciona una variable aleatoriamente</strong></span> y un <span class="hl-yellow"><strong>corte (valor) aleatorio a</strong></span> dentro de su rango</p></li>
<li><p>Se crean <span class="hl-yellow"><strong>dos nodos nuevos</strong></span> separando los observaciones (<span class="math inline">\(x_i \leq a\)</span> vs <span class="math inline">\(x_i &gt; a\)</span>)</p></li>
<li><p>Se <span class="hl-yellow"><strong>repiten los pasos 2 y 3</strong></span> hasta que <span class="hl-yellow"><strong>todas las observaciones quedan aisladas</strong></span> de forma individual.</p></li>
<li><p>Se repite el proceso tomando otra submuestra (bootstrap), de manera que el output de cada observaci√≥n ser√° el <span class="hl-yellow"><strong>promedio de divisiones necesarias para aislarla</strong></span>: cuanto m√°s peque√±o sea, m√°s an√≥malo ser√°.</p></li>
</ol>
</section>
<section id="at√≠picos-isolation-trees-2" class="slide level2">
<h2>3. At√≠picos (isolation trees)</h2>
<p>Es un <span class="hl-yellow"><strong>algoritmo no supervisado</strong></span>, lo que significa que <span class="hl-yellow"><strong>no hay un criterio √≥ptimo objetivo</strong></span> para decidir que a partir de dicho valor una observaci√≥n es un outlier (idea: usar percentiles de dicha distancia, por ejemplo el 5-10% con menor distancia)</p>
<div class="fragment">
<p>En casos donde el tama√±o muestral sea elevado, aislar cada observaci√≥n puede ser <span class="hl-red"><strong>costoso computacionalmente</strong></span> por lo que a veces se asume una <span class="hl-yellow"><strong>profundidad m√°xima</strong></span> hasta donde puede crecer: las observaciones que sigan sin dividirse se les <span class="hl-yellow"><strong>a√±ade el n√∫mero de divisiones te√≥ricas promedio</strong></span> <span class="math inline">\(c(r)\)</span> que se necesitar√≠an para aislarlos mediante un <span class="hl-yellow"><strong>√°rbol binario de b√∫squeda (BST)</strong></span> (con <span class="math inline">\(r\)</span> observaciones).</p>
<p><span class="math display">\[c(r) = 2H(r-1)-{\frac {2(r-1)}{r}}, \quad H(i) = \ln(i) + \gamma, \quad \gamma = 0.577216\]</span></p>
</div>
</section>
<section id="at√≠picos-isolation-trees-3" class="slide level2">
<h2>3. At√≠picos (isolation trees)</h2>
<p>Es importante que el dataset haya sido ya tratado por ausentes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb986"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb986-1"><a href="#cb986-1"></a><span class="fu">library</span>(solitude)</span>
<span id="cb986-2"><a href="#cb986-2"></a><span class="co"># Modelo isolation forest</span></span>
<span id="cb986-3"><a href="#cb986-3"></a>m <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="fu">nrow</span>(starwars_lm <span class="sc">|&gt;</span> <span class="fu">drop_na</span>())<span class="sc">/</span><span class="dv">2</span>)</span>
<span id="cb986-4"><a href="#cb986-4"></a>isoforest <span class="ot">&lt;-</span></span>
<span id="cb986-5"><a href="#cb986-5"></a>  isolationForest<span class="sc">$</span><span class="fu">new</span>(<span class="at">sample_size =</span> m, <span class="at">num_trees =</span> <span class="dv">500</span>,</span>
<span id="cb986-6"><a href="#cb986-6"></a>                      <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">seed =</span> <span class="dv">1234567</span>,</span>
<span id="cb986-7"><a href="#cb986-7"></a>                      <span class="at">max_depth =</span> <span class="dv">7</span>)</span>
<span id="cb986-8"><a href="#cb986-8"></a>isoforest<span class="sc">$</span><span class="fu">fit</span>(<span class="at">dataset =</span> starwars_lm <span class="sc">|&gt;</span> <span class="fu">drop_na</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>INFO  [16:00:32.270] Building Isolation Forest ...
INFO  [16:00:32.327] done
INFO  [16:00:32.335] Computing depth of terminal nodes ...
INFO  [16:00:33.030] done
INFO  [16:00:33.042] Completed growing isolation forest</code></pre>
</div>
</div>
</section>
<section id="at√≠picos-isolation-trees-4" class="slide level2">
<h2>3. At√≠picos (isolation trees)</h2>
<p>Con el modelo entrenado, se predicen las distancias de aislamiento promedio de cada observaci√≥n. Los resultados que calcula <code>isoforest$predict()</code> son la <span class="hl-yellow"><strong>distancia promedio <code>average_depth</code></strong></span> y una m√©trica que mide el <span class="hl-yellow"><strong>grado de anomal√≠a</strong></span> <code>anomaly_score</code> (valores pr√≥ximos a 1 para outliers)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb988"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb988-1"><a href="#cb988-1"></a>predicciones <span class="ot">&lt;-</span></span>
<span id="cb988-2"><a href="#cb988-2"></a>  isoforest<span class="sc">$</span><span class="fu">predict</span>(<span class="at">data =</span></span>
<span id="cb988-3"><a href="#cb988-3"></a>                      starwars_lm <span class="sc">|&gt;</span> <span class="fu">drop_na</span>())</span>
<span id="cb988-4"><a href="#cb988-4"></a>predicciones <span class="sc">|&gt;</span> <span class="fu">arrange</span>(average_depth)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    id average_depth anomaly_score
 1: 16         2.032     0.7515777
 2: 14         2.652     0.6888605
 3: 24         2.834     0.6714639
 4:  3         3.212     0.6367235
 5: 11         3.480     0.6131872
 6: 19         3.900     0.5780399
 7:  5         3.958     0.5733472
 8:  4         4.292     0.5470556
 9:  2         4.500     0.5312952
10: 31         4.718     0.5152642
11: 34         4.766     0.5117999
12: 25         4.854     0.5055091
13:  6         4.874     0.5040902
14: 33         4.880     0.5036653
15: 26         4.908     0.5016872
16: 35         4.914     0.5012643
17: 20         5.002     0.4951031
18: 29         5.142     0.4854567
19: 27         5.174     0.4832783
20: 17         5.204     0.4812450
21: 15         5.426     0.4664619
22:  1         5.440     0.4655450
23:  8         5.488     0.4624150
24:  7         5.494     0.4620252
25: 30         5.544     0.4587899
26: 32         5.550     0.4584032
27: 36         5.848     0.4396011
28: 10         5.916     0.4354199
29: 12         5.920     0.4351752
30: 13         5.956     0.4329790
31: 18         5.974     0.4318850
32: 21         6.006     0.4299471
33:  9         6.052     0.4271765
34: 28         6.068     0.4262170
35: 23         6.108     0.4238276
36: 22         6.138     0.4220444
    id average_depth anomaly_score</code></pre>
</div>
</div>
</section>
<section id="at√≠picos-isolation-trees-5" class="slide level2">
<h2>3. At√≠picos (isolation trees)</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb990"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb990-1"><a href="#cb990-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> predicciones, <span class="fu">aes</span>(<span class="at">x =</span> average_depth)) <span class="sc">+</span></span>
<span id="cb990-2"><a href="#cb990-2"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">"#6D98ED"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb990-3"><a href="#cb990-3"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span></span>
<span id="cb990-4"><a href="#cb990-4"></a>               <span class="fu">quantile</span>(predicciones<span class="sc">$</span>average_depth,</span>
<span id="cb990-5"><a href="#cb990-5"></a>                        <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.1</span>)),</span>
<span id="cb990-6"><a href="#cb990-6"></a>             <span class="at">color =</span> <span class="st">"#DC5B49"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb990-7"><a href="#cb990-7"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribuci√≥n de distancias medias del Isolation Forest"</span>,</span>
<span id="cb990-8"><a href="#cb990-8"></a>    <span class="at">subtitle =</span> <span class="st">"Deciles marcados en rojo"</span>) <span class="sc">+</span></span>
<span id="cb990-9"><a href="#cb990-9"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-789-1.png" width="960" class="r-stretch"></section>
<section id="ausentes" class="slide level2">
<h2>3. Ausentes</h2>
<p>Tras marcar los outliers tenemos dos opciones</p>
<ul>
<li><p><span class="hl-yellow"><strong>eliminar dichas observaciones</strong></span> (pasamos a NA y luego con <code>drop_na()</code>; problema: eliminas TODA la fila)</p></li>
<li><p><span class="hl-yellow"><strong>imputar</strong></span> (sin contar con los ausentes)</p></li>
</ul>
</section>
<section id="ausentes-1" class="slide level2">
<h2>3. Ausentes</h2>
<p>Antes de decidir podemos hacer uso del paquete <code>{naniar}</code> (ver <a href="https://naniar.njtierney.com/" class="uri">https://naniar.njtierney.com/</a>)</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<p>Por ejemplo con <code>geom_miss_point()</code> nos permite visualizar los valores ausentes (que por defecto ggplot los retira)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb991"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb991-1"><a href="#cb991-1"></a><span class="fu">library</span>(naniar)</span>
<span id="cb991-2"><a href="#cb991-2"></a><span class="fu">ggplot</span>(starwars_lm, </span>
<span id="cb991-3"><a href="#cb991-3"></a>       <span class="fu">aes</span>(<span class="at">x =</span> height, <span class="at">y =</span> mass)) <span class="sc">+</span> </span>
<span id="cb991-4"><a href="#cb991-4"></a>  <span class="fu">geom_miss_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-791-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="ausentes-2" class="slide level2">
<h2>3. Ausentes</h2>
<p>Tambi√©n podemos hacer uso de <code>gg_miss_var</code> para <span class="hl-yellow"><strong>visualizar la cantidad de ausentes para cada variable</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb992"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb992-1"><a href="#cb992-1"></a><span class="fu">gg_miss_var</span>(starwars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-792-1.png" width="960" class="r-stretch"></section>
<section id="ausentes-3" class="slide level2">
<h2>3. Ausentes</h2>
<p>En <code>gg_miss_var</code> tenemos un argumento para facetar por una cualitativa.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb993"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb993-1"><a href="#cb993-1"></a><span class="fu">gg_miss_var</span>(starwars, <span class="at">facet =</span> sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-793-1.png" width="960" class="r-stretch"></section>
<section id="ausentes-4" class="slide level2">
<h2>3. Ausentes</h2>
<p>Una forma de <span class="hl-yellow"><strong>representar los ausentes</strong></span> en un formato tidy es con la conocida como <span class="hl-purple"><strong>shadow matrix</strong></span>: una tabla con la misma dimensi√≥n que los datos pero con <span class="hl-yellow"><strong>indicadores binarios</strong></span> sobre si tenemos (<code>NA</code>) o no missing (<code>!NA</code>), cuyas variables tiene de sufijo <code>_NA</code></p>
<div class="fragment">
<p>Esto lo podemos hacer con <code>as_shadow()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb994"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb994-1"><a href="#cb994-1"></a><span class="fu">as_shadow</span>(starwars_lm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 √ó 3
   height_NA mass_NA birth_year_NA
   &lt;fct&gt;     &lt;fct&gt;   &lt;fct&gt;        
 1 !NA       !NA     !NA          
 2 !NA       !NA     !NA          
 3 !NA       !NA     !NA          
 4 !NA       !NA     !NA          
 5 !NA       !NA     !NA          
 6 !NA       !NA     !NA          
 7 !NA       !NA     !NA          
 8 !NA       !NA     NA           
 9 !NA       !NA     !NA          
10 !NA       !NA     !NA          
# ‚Ñπ 77 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="ausentes-5" class="slide level2">
<h2>3. Ausentes</h2>
<p>Con <code>bind_shadow()</code> podemos <span class="hl-yellow"><strong>a√±adir la shadow matrix</strong></span> al dataset original.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb996"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb996-1"><a href="#cb996-1"></a><span class="fu">bind_shadow</span>(starwars_lm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 √ó 6
   height  mass birth_year height_NA mass_NA birth_year_NA
    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt; &lt;fct&gt;     &lt;fct&gt;   &lt;fct&gt;        
 1    172    77       19   !NA       !NA     !NA          
 2    167    75      112   !NA       !NA     !NA          
 3     96    32       33   !NA       !NA     !NA          
 4    202   136       41.9 !NA       !NA     !NA          
 5    150    49       19   !NA       !NA     !NA          
 6    178   120       52   !NA       !NA     !NA          
 7    165    75       47   !NA       !NA     !NA          
 8     97    32       NA   !NA       !NA     NA           
 9    183    84       24   !NA       !NA     !NA          
10    182    77       57   !NA       !NA     !NA          
# ‚Ñπ 77 more rows</code></pre>
</div>
</div>
</section>
<section id="ausentes-6" class="slide level2">
<h2>3. Ausentes</h2>
<p>Lo anterior es equivalente a construirlo con <code>nabular()</code> (tabular + NA)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb998"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb998-1"><a href="#cb998-1"></a><span class="fu">nabular</span>(starwars) <span class="sc">|&gt;</span> </span>
<span id="cb998-2"><a href="#cb998-2"></a>  <span class="fu">summarise</span>(<span class="at">media_peso =</span> <span class="fu">mean</span>(mass, <span class="at">na.rm =</span> ), <span class="at">.by =</span> sex_NA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 2
  sex_NA media_peso
  &lt;fct&gt;       &lt;dbl&gt;
1 !NA            NA
2 NA             NA</code></pre>
</div>
</div>
</section>
<section id="ausentes-7" class="slide level2">
<h2>3. Ausentes</h2>
<p>Tambi√©n podemos hacer uso de <code>add_prop_miss()</code> para a√±adir la <span class="hl-yellow"><strong>proporci√≥n de ausentes en cada registro</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1000"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1000-1"><a href="#cb1000-1"></a>starwars_lm <span class="sc">|&gt;</span></span>
<span id="cb1000-2"><a href="#cb1000-2"></a>  <span class="fu">add_prop_miss</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 √ó 4
   height  mass birth_year prop_miss_all
    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;
 1    172    77       19           0    
 2    167    75      112           0    
 3     96    32       33           0    
 4    202   136       41.9         0    
 5    150    49       19           0    
 6    178   120       52           0    
 7    165    75       47           0    
 8     97    32       NA           0.333
 9    183    84       24           0    
10    182    77       57           0    
# ‚Ñπ 77 more rows</code></pre>
</div>
</div>
</section>
<section id="ausentes-8" class="slide level2">
<h2>3. Ausentes</h2>
<p>Para <span class="hl-yellow"><strong>imputar datos ausentes</strong></span> podemos hacer uso de diferentes paquetes, entre ellos <code>{simpute}</code> y <code>{mice}</code> (ver <a href="https://amices.org/mice/" class="uri">https://amices.org/mice/</a>)</p>
<div class="fragment">
<p>Por ejemplo en el segundo paquete contamos con la funci√≥n <code>md.pattern()</code> podemos <span class="hl-yellow"><strong>visualizar la distribuci√≥n de los ausentes</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1002"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1002-1"><a href="#cb1002-1"></a>mice<span class="sc">::</span><span class="fu">md.pattern</span>(starwars_lm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-798-1.png" width="960"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>   height mass birth_year   
36      1    1          1  0
23      1    1          0  1
7       1    0          1  1
15      1    0          0  2
6       0    0          0  3
        6   28         44 78</code></pre>
</div>
</div>
</div>
</section>
<section id="ausentesat√≠picos" class="slide level2">
<h2>3. Ausentes/at√≠picos</h2>
<p>En el caso de starwars vamos a <span class="hl-yellow"><strong>imputar ausentes iniciales</strong></span> con Random Forest (<code>mice::mice.impute.rf()</code>)‚Ä¶</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1004"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1004-1"><a href="#cb1004-1"></a>starwars_lm_NA_init <span class="ot">&lt;-</span></span>
<span id="cb1004-2"><a href="#cb1004-2"></a>  starwars_lm <span class="sc">|&gt;</span> </span>
<span id="cb1004-3"><a href="#cb1004-3"></a>  <span class="co"># Imputamos NA iniciales</span></span>
<span id="cb1004-4"><a href="#cb1004-4"></a>  mice<span class="sc">::</span><span class="fu">mice</span>(<span class="at">ntree =</span> <span class="dv">100</span>, <span class="at">meth =</span> <span class="st">"rf"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1004-5"><a href="#cb1004-5"></a>  <span class="co"># Completamos NA</span></span>
<span id="cb1004-6"><a href="#cb1004-6"></a>  <span class="fu">complete</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
 iter imp variable
  1   1  height  mass  birth_year
  1   2  height  mass  birth_year
  1   3  height  mass  birth_year
  1   4  height  mass  birth_year
  1   5  height  mass  birth_year
  2   1  height  mass  birth_year
  2   2  height  mass  birth_year
  2   3  height  mass  birth_year
  2   4  height  mass  birth_year
  2   5  height  mass  birth_year
  3   1  height  mass  birth_year
  3   2  height  mass  birth_year
  3   3  height  mass  birth_year
  3   4  height  mass  birth_year
  3   5  height  mass  birth_year
  4   1  height  mass  birth_year
  4   2  height  mass  birth_year
  4   3  height  mass  birth_year
  4   4  height  mass  birth_year
  4   5  height  mass  birth_year
  5   1  height  mass  birth_year
  5   2  height  mass  birth_year
  5   3  height  mass  birth_year
  5   4  height  mass  birth_year
  5   5  height  mass  birth_year</code></pre>
</div>
</div>
</section>
<section id="ausentesat√≠picos-1" class="slide level2">
<h2>3. Ausentes/at√≠picos</h2>
<p>‚Ä¶ despu√©s <span class="hl-yellow"><strong>detectar outliers</strong></span> con isolation tree (por ejemplo el 5% con distancia m√°s baja)‚Ä¶</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1006"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1006-1"><a href="#cb1006-1"></a>m <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="fu">nrow</span>(starwars_lm_NA_init)<span class="sc">/</span><span class="dv">2</span>)</span>
<span id="cb1006-2"><a href="#cb1006-2"></a>isoforest <span class="ot">&lt;-</span></span>
<span id="cb1006-3"><a href="#cb1006-3"></a>    isolationForest<span class="sc">$</span><span class="fu">new</span>(<span class="at">sample_size =</span> m, <span class="at">num_trees =</span> <span class="dv">500</span>,</span>
<span id="cb1006-4"><a href="#cb1006-4"></a>                        <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">seed =</span> <span class="dv">1234567</span>,</span>
<span id="cb1006-5"><a href="#cb1006-5"></a>                        <span class="at">max_depth =</span> <span class="dv">9</span>)</span>
<span id="cb1006-6"><a href="#cb1006-6"></a>isoforest<span class="sc">$</span><span class="fu">fit</span>(<span class="at">dataset =</span> starwars_lm_NA_init)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>INFO  [16:00:36.035] Building Isolation Forest ...
INFO  [16:00:36.046] done
INFO  [16:00:36.047] Computing depth of terminal nodes ...
INFO  [16:00:36.718] done
INFO  [16:00:36.730] Completed growing isolation forest</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1008"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1008-1"><a href="#cb1008-1"></a>predicciones <span class="ot">&lt;-</span></span>
<span id="cb1008-2"><a href="#cb1008-2"></a>    isoforest<span class="sc">$</span><span class="fu">predict</span>(<span class="at">data =</span> starwars_lm_NA_init)</span>
<span id="cb1008-3"><a href="#cb1008-3"></a></span>
<span id="cb1008-4"><a href="#cb1008-4"></a>id_outliers <span class="ot">&lt;-</span> </span>
<span id="cb1008-5"><a href="#cb1008-5"></a>  predicciones <span class="sc">|&gt;</span></span>
<span id="cb1008-6"><a href="#cb1008-6"></a>  <span class="fu">slice_min</span>(average_depth, <span class="at">prop =</span> <span class="fl">0.05</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1008-7"><a href="#cb1008-7"></a>  <span class="fu">pull</span>(id)</span>
<span id="cb1008-8"><a href="#cb1008-8"></a></span>
<span id="cb1008-9"><a href="#cb1008-9"></a>starwars_lm_sin_outliers <span class="ot">&lt;-</span></span>
<span id="cb1008-10"><a href="#cb1008-10"></a>  starwars_lm_NA_init <span class="sc">|&gt;</span> </span>
<span id="cb1008-11"><a href="#cb1008-11"></a>  <span class="fu">rowid_to_column</span>() <span class="sc">|&gt;</span> </span>
<span id="cb1008-12"><a href="#cb1008-12"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="sc">-</span>rowid,</span>
<span id="cb1008-13"><a href="#cb1008-13"></a>                <span class="cf">function</span>(x, y, z) {</span>
<span id="cb1008-14"><a href="#cb1008-14"></a>                  <span class="fu">if_else</span>(y <span class="sc">%in%</span> z, <span class="cn">NA</span>, x) }, rowid, id_outliers)) <span class="sc">|&gt;</span> </span>
<span id="cb1008-15"><a href="#cb1008-15"></a>  <span class="fu">select</span>(<span class="sc">-</span>rowid)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="ausentesat√≠picos-2" class="slide level2">
<h2>3. Ausentes/at√≠picos</h2>
<p>‚Ä¶ y luego de nuevo <span class="hl-yellow"><strong>imputar outliers (pasados a ausentes)</strong></span> con Random Forest (<code>mice::mice.impute.rf()</code>).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1009"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1009-1"><a href="#cb1009-1"></a>starwars_lm_depurado <span class="ot">&lt;-</span></span>
<span id="cb1009-2"><a href="#cb1009-2"></a>  starwars_lm_sin_outliers <span class="sc">|&gt;</span> </span>
<span id="cb1009-3"><a href="#cb1009-3"></a>  <span class="co"># Imputamos NA iniciales</span></span>
<span id="cb1009-4"><a href="#cb1009-4"></a>  mice<span class="sc">::</span><span class="fu">mice</span>(<span class="at">ntree =</span> <span class="dv">100</span>, <span class="at">meth =</span> <span class="st">"rf"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1009-5"><a href="#cb1009-5"></a>  <span class="co"># Completamos NA</span></span>
<span id="cb1009-6"><a href="#cb1009-6"></a>  <span class="fu">complete</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
 iter imp variable
  1   1  height  mass  birth_year
  1   2  height  mass  birth_year
  1   3  height  mass  birth_year
  1   4  height  mass  birth_year
  1   5  height  mass  birth_year
  2   1  height  mass  birth_year
  2   2  height  mass  birth_year
  2   3  height  mass  birth_year
  2   4  height  mass  birth_year
  2   5  height  mass  birth_year
  3   1  height  mass  birth_year
  3   2  height  mass  birth_year
  3   3  height  mass  birth_year
  3   4  height  mass  birth_year
  3   5  height  mass  birth_year
  4   1  height  mass  birth_year
  4   2  height  mass  birth_year
  4   3  height  mass  birth_year
  4   4  height  mass  birth_year
  4   5  height  mass  birth_year
  5   1  height  mass  birth_year
  5   2  height  mass  birth_year
  5   3  height  mass  birth_year
  5   4  height  mass  birth_year
  5   5  height  mass  birth_year</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1011"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1011-1"><a href="#cb1011-1"></a>starwars_lm_depurado</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   height  mass birth_year
1     172  77.0       19.0
2     167  75.0      112.0
3      96  32.0       33.0
4     202 136.0       41.9
5     150  49.0       19.0
6     178 120.0       52.0
7     165  75.0       47.0
8      97  32.0        8.0
9     183  84.0       24.0
10    182  77.0       57.0
11    188  84.0       41.9
12    180 110.0       64.0
13    228 112.0      200.0
14    180  80.0       29.0
15    173  74.0       44.0
16    188  87.0       22.0
17    170  77.0       21.0
18    180 110.0       52.0
19    185  84.0       64.0
20    170  75.0       82.0
21    183  78.2       31.5
22    200 140.0       15.0
23    190 113.0       53.0
24    177  79.0       31.0
25    175  79.0       37.0
26    180  83.0       41.0
27    150  32.0       48.0
28    193  80.0       92.0
29    196  90.0       67.0
30    160  68.0       72.0
31    193  89.0       92.0
32    191  90.0       72.0
33    170  82.0       91.0
34    185  45.0       46.0
35    196  66.0       52.0
36    224  82.0       92.0
37    206 112.0       15.0
38    183  79.0       46.0
39    137  65.0       33.0
40    112  40.0       33.0
41    183  75.0       62.0
42    163  55.0       72.0
43    175  80.0       54.0
44    180  55.0       57.0
45    178  55.0       48.0
46    175  79.0       22.0
47     94  45.0       33.0
48    122  45.0       48.0
49    163  65.0       82.0
50    188  84.0       72.0
51    198  82.0       92.0
52    196  87.0       92.0
53    171  77.0       82.0
54    184  50.0       46.0
55    188  87.0       52.0
56    264  88.0       67.0
57    188  80.0       22.0
58    196  90.0       92.0
59    185  85.0       41.9
60    157  56.2       48.0
61    183  77.0       82.0
62    183  80.0       24.0
63    170  56.2       58.0
64    166  50.0       40.0
65    165  75.0       58.0
66    193  80.0      102.0
67    191  84.0       67.0
68    183  79.0       66.0
69    168  55.0      112.0
70    198 102.0       41.9
71    229  88.0       52.0
72    213 102.0       41.9
73    167  17.0        8.0
74     96  32.0       48.0
75    193  48.0       52.0
76    191  80.0       22.0
77    178  57.0       48.0
78    216 159.0       15.0
79    234 136.0       41.9
80    188  79.0       22.0
81    178  48.0       33.0
82    206  80.0      102.0
83    198 140.0       15.0
84    185  66.0       62.0
85    216 136.0       15.0
86    163  49.0       46.0
87    170  75.0       57.0</code></pre>
</div>
</div>
</section>
<section id="selecci√≥n-de-variables" class="slide level2">
<h2>4. Selecci√≥n de variables</h2>
<ul>
<li><span class="hl-yellow"><strong>Selecci√≥n de variables</strong></span>. ¬øNecesito seleccionar variables? ¬øTengo alguna de <strong>varianza cero</strong> (es decir, sin informaci√≥n)? ¬øTengo problemas de <strong>dependencia o colinealidad</strong>? ¬øPuedo resumir mi info con un conjunto nuevo de variables incorreladas (componentes principales)?</li>
</ul>
<div class="fragment">
<p>En este caso <span class="hl-yellow"><strong>no tenemos altas correlaciones entre las variables predictoras</strong></span>: nos interesa predictoras lo m√°s incorreladas posibles entre s√≠ y lo m√°s correladas con la objetivo (por ejemplo, altura alta correlaci√≥n con peso)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1013"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1013-1"><a href="#cb1013-1"></a>starwars_lm_depurado <span class="sc">|&gt;</span> corrr<span class="sc">::</span><span class="fu">correlate</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 4
  term       height    mass birth_year
  &lt;chr&gt;       &lt;dbl&gt;   &lt;dbl&gt;      &lt;dbl&gt;
1 height     NA      0.666      0.235 
2 mass        0.666 NA          0.0296
3 birth_year  0.235  0.0296    NA     </code></pre>
</div>
</div>
</div>
</section>
<section id="selecci√≥n-de-variables-1" class="slide level2">
<h2>4. Selecci√≥n de variables</h2>
<p>El paquete <code>{corrr}</code> y <code>{corrrplot</code>} nos permite visualizar dichas correlaciones</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1015"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1015-1"><a href="#cb1015-1"></a>corrplot<span class="sc">::</span><span class="fu">corrplot</span>(starwars_lm_depurado <span class="sc">|&gt;</span> <span class="fu">cor</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-803-1.png" width="960" class="r-stretch"></section>
<section id="depuraci√≥n-6" class="slide level2">
<h2>5.6.7. Depuraci√≥n</h2>
<ul>
<li><p><span class="hl-yellow"><strong>Variables dummy</strong></span>. ¬øDebo recategorizar variables que no sean num√©ricas? (ver <code>{fastDummies}</code>)</p></li>
<li><p><span class="hl-yellow"><strong>A√±adir info</strong></span>. ¬øDebo crear nuevas variables que nos aporte info extra?</p></li>
<li><p><span class="hl-yellow"><strong>Normalizar variables</strong></span>. ¬øTengo ya mis variables preparadas (tras tratar lo anterior) para el algoritmo que vaya usar (estandarizadas por rango o tipificadas por media-varianza, por ejemplo)?</p></li>
</ul>
<p>En este caso <span class="hl-green"><strong>no es necesario dummificar</strong></span> ya que hemos considerado solo las num√©ricas. Al no tener que seleccionar variables y aplicar una regresi√≥n lineal <span class="hl-green"><strong>tampoco es indispensable normalizar</strong></span> y <span class="hl-green"><strong>no vamos a√±adir info nueva</strong></span></p>
</section>
<section id="regresi√≥n-lineal" class="slide level2">
<h2>Regresi√≥n lineal</h2>
<p>Vamos a comparar 3 modelos de regresi√≥n: <span class="hl-yellow"><strong>sin tratar nada</strong></span>, eliminando ausentes, y el tratamiento de ausentes/at√≠picos realizados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1016"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1016-1"><a href="#cb1016-1"></a>starwars_lm <span class="sc">|&gt;</span> <span class="fu">lm</span>(<span class="at">formula =</span> mass <span class="sc">~</span> .) <span class="sc">|&gt;</span> <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = mass ~ ., data = starwars_lm)

Residuals:
    Min      1Q  Median      3Q     Max 
-467.55  -36.85   -9.06    9.82  836.00 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -396.6645   198.4949  -1.998 0.053972 .  
height         2.5119     1.0830   2.319 0.026706 *  
birth_year     0.7985     0.1981   4.030 0.000309 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 180.5 on 33 degrees of freedom
  (51 observations deleted due to missingness)
Multiple R-squared:  0.3367,    Adjusted R-squared:  0.2965 
F-statistic: 8.377 on 2 and 33 DF,  p-value: 0.001142</code></pre>
</div>
</div>
</section>
<section id="regresi√≥n-lineal-1" class="slide level2">
<h2>Regresi√≥n lineal</h2>
<p>Vamos a comparar 3 modelos de regresi√≥n: sin tratar nada, <span class="hl-yellow"><strong>eliminando ausentes</strong></span>, y el tratamiento de ausentes/at√≠picos realizados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1018"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1018-1"><a href="#cb1018-1"></a>starwars_lm <span class="sc">|&gt;</span> <span class="fu">drop_na</span>() <span class="sc">|&gt;</span> <span class="fu">lm</span>(<span class="at">formula =</span> mass <span class="sc">~</span> .) <span class="sc">|&gt;</span> <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = mass ~ ., data = drop_na(starwars_lm))

Residuals:
    Min      1Q  Median      3Q     Max 
-467.55  -36.85   -9.06    9.82  836.00 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -396.6645   198.4949  -1.998 0.053972 .  
height         2.5119     1.0830   2.319 0.026706 *  
birth_year     0.7985     0.1981   4.030 0.000309 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 180.5 on 33 degrees of freedom
Multiple R-squared:  0.3367,    Adjusted R-squared:  0.2965 
F-statistic: 8.377 on 2 and 33 DF,  p-value: 0.001142</code></pre>
</div>
</div>
</section>
<section id="regresi√≥n-lineal-2" class="slide level2">
<h2>Regresi√≥n lineal</h2>
<p>Vamos a comparar 3 modelos de regresi√≥n: sin tratar nada, eliminando ausentes, y el <span class="hl-yellow"><strong>tratamiento de ausentes/at√≠picos realizados</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1020"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1020-1"><a href="#cb1020-1"></a>starwars_lm_depurado <span class="sc">|&gt;</span> <span class="fu">lm</span>(<span class="at">formula =</span> mass <span class="sc">~</span> .) <span class="sc">|&gt;</span> <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = mass ~ ., data = starwars_lm_depurado)

Residuals:
    Min      1Q  Median      3Q     Max 
-58.436  -8.523   0.117   6.550  52.643 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -31.84276   13.54574  -2.351   0.0211 *  
height        0.64810    0.07666   8.455 7.43e-13 ***
birth_year   -0.11935    0.07335  -1.627   0.1074    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 19.71 on 84 degrees of freedom
Multiple R-squared:  0.4602,    Adjusted R-squared:  0.4474 
F-statistic: 35.81 on 2 and 84 DF,  p-value: 5.667e-12</code></pre>
</div>
</div>
</section>
<section id="regresi√≥n-lineal-3" class="slide level2">
<h2>Regresi√≥n lineal</h2>
<p>Vamos a comparar 3 modelos de regresi√≥n: sin tratar nada, eliminando ausentes, y el tratamiento de ausentes/at√≠picos realizados.</p>
<ul>
<li><p><span class="hl-yellow"><strong>sin tratar nada</strong></span>: obtenemos <span class="math inline">\(R^2 = 0.3367\)</span> con el intercepto no significativo</p></li>
<li><p><span class="hl-yellow"><strong>eliminando ausentes</strong></span>: obtenemos lo mismo (por defecto <code>lm()</code> se carga los ausentes)</p></li>
<li><p><span class="hl-yellow"><strong>tratamiento de ausentes/at√≠picos</strong></span>: obtenemos <span class="math inline">\(R^2 = 0.5551\)</span> con edad no significativa</p></li>
</ul>
</section>
<section id="variables-dummies" class="slide level2">
<h2>5. Variables dummies</h2>
<p>Otra opci√≥n a veces es a√±adir informaci√≥n extra de manera los outliers nos ayuden mejor a predecir, y en este caso a√±adiremos la variable sexo haci√©ndola dummy (<strong>one-hot encoding</strong>): creamos <span class="math inline">\(k-1\)</span> variables binarias con <code>dummy_cols()</code> del paquete <code>fastDummies</code></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1022"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1022-1"><a href="#cb1022-1"></a><span class="fu">library</span>(fastDummies)</span>
<span id="cb1022-2"><a href="#cb1022-2"></a>starwars_lm_sex <span class="ot">&lt;-</span> </span>
<span id="cb1022-3"><a href="#cb1022-3"></a>  starwars <span class="sc">|&gt;</span></span>
<span id="cb1022-4"><a href="#cb1022-4"></a>  <span class="fu">select</span>(height<span class="sc">:</span>mass, birth_year<span class="sc">:</span>sex) <span class="sc">|&gt;</span> </span>
<span id="cb1022-5"><a href="#cb1022-5"></a>  <span class="fu">drop_na</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb1022-6"><a href="#cb1022-6"></a>  <span class="co"># Imputamos NA iniciales</span></span>
<span id="cb1022-7"><a href="#cb1022-7"></a>  mice<span class="sc">::</span><span class="fu">mice</span>(<span class="at">ntree =</span> <span class="dv">100</span>, <span class="at">meth =</span> <span class="st">"rf"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1022-8"><a href="#cb1022-8"></a>  <span class="co"># Completamos NA</span></span>
<span id="cb1022-9"><a href="#cb1022-9"></a>  <span class="fu">complete</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
 iter imp variable
  1   1  height  mass  birth_year
  1   2  height  mass  birth_year
  1   3  height  mass  birth_year
  1   4  height  mass  birth_year
  1   5  height  mass  birth_year
  2   1  height  mass  birth_year
  2   2  height  mass  birth_year
  2   3  height  mass  birth_year
  2   4  height  mass  birth_year
  2   5  height  mass  birth_year
  3   1  height  mass  birth_year
  3   2  height  mass  birth_year
  3   3  height  mass  birth_year
  3   4  height  mass  birth_year
  3   5  height  mass  birth_year
  4   1  height  mass  birth_year
  4   2  height  mass  birth_year
  4   3  height  mass  birth_year
  4   4  height  mass  birth_year
  4   5  height  mass  birth_year
  5   1  height  mass  birth_year
  5   2  height  mass  birth_year
  5   3  height  mass  birth_year
  5   4  height  mass  birth_year
  5   5  height  mass  birth_year</code></pre>
</div>
</div>
</section>
<section id="variables-dummies-1" class="slide level2">
<h2>5. Variables dummies</h2>
<p>Otra opci√≥n a veces es a√±adir informaci√≥n extra de manera los outliers nos ayuden mejor a predecir, y en este caso a√±adiremos la variable sexo haci√©ndola dummy (<strong>one-hot encoding</strong>): creamos <span class="math inline">\(k-1\)</span> variables binarias con <code>dummy_cols()</code> del paquete <code>fastDummies</code></p>
<p>Obtenemos un <span class="math inline">\(R^2 = 0.5498\)</span> (similar a haber tratado de outliers)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1024"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1024-1"><a href="#cb1024-1"></a>starwars_lm_sex_depurado <span class="ot">&lt;-</span></span>
<span id="cb1024-2"><a href="#cb1024-2"></a>  starwars_lm_sex <span class="sc">|&gt;</span></span>
<span id="cb1024-3"><a href="#cb1024-3"></a>  <span class="fu">dummy_cols</span>(<span class="at">select_columns =</span> <span class="st">"sex"</span>, <span class="at">remove_first_dummy =</span> <span class="cn">TRUE</span>,</span>
<span id="cb1024-4"><a href="#cb1024-4"></a>             <span class="at">remove_selected_columns =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1024-5"><a href="#cb1024-5"></a></span>
<span id="cb1024-6"><a href="#cb1024-6"></a>starwars_lm_sex_depurado <span class="sc">|&gt;</span> <span class="fu">lm</span>(<span class="at">formula =</span> mass <span class="sc">~</span> .) <span class="sc">|&gt;</span> <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = mass ~ ., data = starwars_lm_sex_depurado)

Residuals:
     Min       1Q   Median       3Q      Max 
-107.658   -8.035   -2.315    6.519   68.467 

Coefficients:
                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)         -22.96928   15.26066  -1.505    0.136    
height                0.53776    0.07963   6.753 2.43e-09 ***
birth_year           -0.02482    0.02651  -0.936    0.352    
sex_hermaphroditic 1301.75221   28.29232  46.011  &lt; 2e-16 ***
sex_male              8.62314    6.68648   1.290    0.201    
sex_none             13.25865   11.62790   1.140    0.258    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 23.56 on 77 degrees of freedom
Multiple R-squared:  0.9748,    Adjusted R-squared:  0.9731 
F-statistic: 595.3 on 5 and 77 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section>
<section id="la-imputaci√≥n-importa" class="slide level2">
<h2>La imputaci√≥n importa</h2>
<p>El <span class="hl-yellow"><strong>m√©todo de imputaci√≥n ser√° crucial</strong></span>: si imputamos los ausentes de las num√©ricas por la media, esto es lo que obtenemos (sobreajuste).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1026"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1026-1"><a href="#cb1026-1"></a><span class="fu">library</span>(fastDummies)</span>
<span id="cb1026-2"><a href="#cb1026-2"></a>starwars_lm_sex <span class="ot">&lt;-</span> </span>
<span id="cb1026-3"><a href="#cb1026-3"></a>  starwars <span class="sc">|&gt;</span></span>
<span id="cb1026-4"><a href="#cb1026-4"></a>  <span class="fu">select</span>(height<span class="sc">:</span>mass, birth_year<span class="sc">:</span>sex) <span class="sc">|&gt;</span> </span>
<span id="cb1026-5"><a href="#cb1026-5"></a>  <span class="fu">drop_na</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb1026-6"><a href="#cb1026-6"></a>  <span class="co"># Imputamos NA iniciales</span></span>
<span id="cb1026-7"><a href="#cb1026-7"></a>  mice<span class="sc">::</span><span class="fu">mice</span>(<span class="at">meth =</span> <span class="st">"mean"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1026-8"><a href="#cb1026-8"></a>  <span class="co"># Completamos NA</span></span>
<span id="cb1026-9"><a href="#cb1026-9"></a>  <span class="fu">complete</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
 iter imp variable
  1   1  height  mass  birth_year
  1   2  height  mass  birth_year
  1   3  height  mass  birth_year
  1   4  height  mass  birth_year
  1   5  height  mass  birth_year
  2   1  height  mass  birth_year
  2   2  height  mass  birth_year
  2   3  height  mass  birth_year
  2   4  height  mass  birth_year
  2   5  height  mass  birth_year
  3   1  height  mass  birth_year
  3   2  height  mass  birth_year
  3   3  height  mass  birth_year
  3   4  height  mass  birth_year
  3   5  height  mass  birth_year
  4   1  height  mass  birth_year
  4   2  height  mass  birth_year
  4   3  height  mass  birth_year
  4   4  height  mass  birth_year
  4   5  height  mass  birth_year
  5   1  height  mass  birth_year
  5   2  height  mass  birth_year
  5   3  height  mass  birth_year
  5   4  height  mass  birth_year
  5   5  height  mass  birth_year</code></pre>
</div>
</div>
</section>
<section id="la-imputaci√≥n-importa-1" class="slide level2">
<h2>La imputaci√≥n importa</h2>
<p>El <span class="hl-yellow"><strong>m√©todo de imputaci√≥n ser√° crucial</strong></span>: si imputamos los ausentes de las num√©ricas por la media, esto es lo que obtenemos (sobreajuste).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1028"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1028-1"><a href="#cb1028-1"></a>starwars_lm_sex_depurado <span class="ot">&lt;-</span></span>
<span id="cb1028-2"><a href="#cb1028-2"></a>  starwars_lm_sex <span class="sc">|&gt;</span></span>
<span id="cb1028-3"><a href="#cb1028-3"></a>  <span class="fu">dummy_cols</span>(<span class="at">select_columns =</span> <span class="st">"sex"</span>, <span class="at">remove_first_dummy =</span> <span class="cn">TRUE</span>,</span>
<span id="cb1028-4"><a href="#cb1028-4"></a>             <span class="at">remove_selected_columns =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1028-5"><a href="#cb1028-5"></a></span>
<span id="cb1028-6"><a href="#cb1028-6"></a>starwars_lm_sex_depurado <span class="sc">|&gt;</span></span>
<span id="cb1028-7"><a href="#cb1028-7"></a>  <span class="fu">lm</span>(<span class="at">formula =</span> mass <span class="sc">~</span> height <span class="sc">+</span> birth_year) <span class="sc">|&gt;</span></span>
<span id="cb1028-8"><a href="#cb1028-8"></a>  <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = mass ~ height + birth_year, data = starwars_lm_sex_depurado)

Residuals:
    Min      1Q  Median      3Q     Max 
-524.03  -25.77    0.00   14.62  908.95 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -138.6097    75.6306  -1.833   0.0706 .  
height         1.0133     0.4066   2.492   0.0148 *  
birth_year     0.6839     0.1258   5.434 5.78e-07 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 122.4 on 80 degrees of freedom
Multiple R-squared:  0.2793,    Adjusted R-squared:  0.2612 
F-statistic:  15.5 on 2 and 80 DF,  p-value: 2.046e-06</code></pre>
</div>
</div>
</section>
<section id="la-imputaci√≥n-importa-2" class="slide level2">
<h2>La imputaci√≥n importa</h2>
<p>El <span class="hl-yellow"><strong>m√©todo de imputaci√≥n ser√° crucial</strong></span>: si imputamos los ausentes de las num√©ricas por la media, esto es lo que obtenemos (sobreajuste).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1030"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1030-1"><a href="#cb1030-1"></a>starwars_lm_sex_depurado <span class="sc">|&gt;</span></span>
<span id="cb1030-2"><a href="#cb1030-2"></a>  <span class="fu">lm</span>(<span class="at">formula =</span> mass <span class="sc">~</span> .) <span class="sc">|&gt;</span></span>
<span id="cb1030-3"><a href="#cb1030-3"></a>  <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = mass ~ ., data = starwars_lm_sex_depurado)

Residuals:
    Min      1Q  Median      3Q     Max 
-44.526 -12.756  -4.167  11.944  55.172 

Coefficients:
                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)        -1.018e+01  1.422e+01  -0.716   0.4762    
height              4.914e-01  7.340e-02   6.694 3.13e-09 ***
birth_year         -8.717e-03  2.530e-02  -0.345   0.7314    
sex_hermaphroditic  1.287e+03  2.516e+01  51.171  &lt; 2e-16 ***
sex_male            8.640e+00  5.842e+00   1.479   0.1432    
sex_none            2.201e+01  1.014e+01   2.169   0.0331 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 20.57 on 77 degrees of freedom
Multiple R-squared:  0.9804,    Adjusted R-squared:  0.9791 
F-statistic: 770.7 on 5 and 77 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section></section>
<section>
<section id="el-mundo-github" class="title-slide slide level1 center">
<h1>El mundo Github</h1>
<p><span style="color:#444442;"><strong>Trabajar ordenados, publicar resultados, replicabilidad de lo realizado</strong></span></p>
</section>
<section id="qu√©-es-github" class="slide level2">
<h2>¬øQu√© es Github?</h2>
<p><span class="hl-yellow"><strong>GitHub</strong></span> es la plataforma colaborativa m√°s conocida basada en el <span class="hl-yellow"><strong>sistema de control de versiones Git</strong></span></p>
<div class="fragment">
<ul>
<li><span class="hl-purple"><strong>¬øQu√© es Git?</strong></span> Git es un sistema de <span class="hl-yellow"><strong>control de versiones</strong></span>: una especie de <span class="hl-yellow"><strong>Dropbox</strong></span> para facilitar la <span class="hl-yellow"><strong>programaci√≥n colaborativa</strong></span> entre un grupo de personas, permitiendo llevar la <span class="hl-yellow"><strong>trazabilidad de los cambios</strong></span> realizados.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-purple"><strong>¬øQu√© es Github?</strong></span> Nuestra <span class="hl-yellow"><strong>plataforma/interfaz</strong></span> para ejecutar el control de versiones: nos servir√° no solo para trabajar colaborativamente sino para <span class="hl-yellow"><strong>hacer transparente</strong></span> el proceso de construcci√≥n de nuestros proyectos de c√≥digo.</li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Importante</strong></p>
</div>
<div class="callout-content">
<p>Desde el 4 de junio de 2018 Github es de Microsoft (ergo el c√≥digo que subas tambi√©n)</p>
</div>
</div>
</div>
</div>
</section>
<section id="visi√≥n-general" class="slide level2">
<h2>Visi√≥n general</h2>
<p>Tras hacernos una cuenta en Github, <span class="hl-purple"><strong>arriba a la derecha</strong></span> tendremos un c√≠rculo, y haciendo click en <span class="hl-purple"><strong>Your Profile</strong></span>, veremos algo similar a esto</p>
<div class="columns">
<div class="column" style="width:55%;">
<p><img data-src="img/github_1.png"></p>
</div><div class="column" style="width:45%;">
<ul>
<li><p><span class="hl-purple"><strong>Edit profile</strong></span>: nos permite a√±adir una <span class="hl-yellow"><strong>descripci√≥n y foto de perfil</strong></span>.</p></li>
<li><p><span class="hl-purple"><strong>Overview</strong></span>: en ese panel de cuadrados se <span class="hl-yellow"><strong>visualizar√° nuestra actividad</strong></span> a lo largo del tiempo.</p></li>
<li><p><span class="hl-purple"><strong>Repositories</strong></span>: el c√≥dugo ser√° subido a <span class="hl-yellow"><strong>repositorios</strong></span>, el equivalente a nuestras carpetas compartidas en Dropbox.</p></li>
</ul>
</div>
</div>
</section>
<section id="primer-uso-consumidor" class="slide level2">
<h2>Primer uso: consumidor</h2>
<p>Antes de aprender como crear repositorios, Github tambi√©n nos servir√° para</p>
<ul>
<li><span class="hl-purple"><strong>Acceder a c√≥digo</strong></span> ajeno</li>
<li><span class="hl-purple"><strong>Proponer mejoras</strong></span> a otros usuarios, e incluso proponer <span class="hl-yellow"><strong>correcciones de error que detectemos</strong></span> de software que usemos</li>
</ul>
<div class="fragment">
<ul>
<li><span class="hl-purple"><strong>Instalar paquetes de R</strong></span>. En muchas ocasiones los desarrolladores de paquetes suben las actualizaciones a CRAN cada cierto tiempo, y en otras el software no es suficientemente ¬´amplio¬ª para poder ser subido como paquete.</li>
</ul>
<p>El c√≥digo de paquetes que no tengamos subido en CRAN podremos <span class="hl-yellow"><strong>instalarlo como c√≥digo desde Github</strong></span></p>
</div>
</section>
<section id="instalar-desde-github" class="slide level2">
<h2>Instalar desde Github</h2>
<p>Por ejemplo, vamos a instalar un paquete llamado <a href="https://github.com/jbgb13/peRReo"><code>{peRReo}</code></a>, cuya √∫nica funci√≥n es darnos <span class="hl-yellow"><strong>paletas de colores</strong></span> basadas en portadas de <span class="hl-yellow"><strong>√°lbumes de m√∫sica urbana</strong></span></p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/perrreo.png"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="img/rosalia.png" width="360"></p>
</div>
</div>
<div class="fragment">
<p>Para ello antes tendremos que instalar un <span class="hl-yellow"><strong>conjunto de paquetes para desarrolladores</strong></span> llamado <code>{devtools}</code>, que nos permitir√° la instalaci√≥n desde Github</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1032"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1032-1"><a href="#cb1032-1"></a><span class="fu">install.packages</span>(<span class="st">"devtools"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="instalar-desde-github-1" class="slide level2">
<h2>Instalar desde Github</h2>
<p>Las <span class="hl-yellow"><strong>instrucciones de instalaci√≥n</strong></span> suelen venir detalladas en la portada del repositorio</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/install_perreo.png"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="img/rosalia.png" width="310"></p>
</div>
</div>
<div class="fragment">
<p>En la mayor√≠a de casos bastar√° con la funci√≥n <code>install_github()</code> (del paquete que acabamos de instalar), pas√°ndole como argumento la <span class="hl-yellow"><strong>ruta del repositorio</strong></span> (sin ‚Äúgithub.com/‚Äù).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1033"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1033-1"><a href="#cb1033-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"jbgb13/peRReo"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ya puedes perrear con ggplot ;)</p>
</div>
</section>
<section id="descargar-desde-github" class="slide level2">
<h2>Descargar desde Github</h2>
<p>La mayor√≠a de veces lo que subamos no ser√° un paquete de R como tal sino que <span class="hl-yellow"><strong>subiremos un c√≥digo m√°s o menos organizado</strong></span> y comentado. En ese caso podremos <span class="hl-yellow"><strong>descargar el repo entero</strong></span> haciendo click <span class="hl-green"><strong>Code</strong></span> y luego Download ZIP.</p>
<p>Por ejemplo, vamos a descargarnos los scripts de dataviz que han subido desde el <a href="https://github.com/ceopinio/bop-grafics">Centre d‚ÄôEstudis d‚ÄôOpini√≥</a></p>

<img data-src="img/ceo_github.png" class="r-stretch"></section>
<section id="ideal" class="slide level2">
<h2>Ideal</h2>

<img data-src="img/abogados_simpson.jpeg" width="600" class="r-stretch"><p><span class="hl-purple"><strong>¬øLo ideal en caso de RTVE?</strong></span> Tener dos tipos de repositorios</p>
<ul>
<li><p>Una <span class="hl-yellow"><strong>colecci√≥n de repositorios p√∫blicos (producci√≥n)</strong></span> donde hacer transparente el c√≥digo y los datos (<span class="hl-purple"><strong>ya validados</strong></span>), coordinado por un n¬∫ reducido de personas.</p></li>
<li><p>Una <span class="hl-yellow"><strong>colecci√≥n de repositorios privados (desarrollo)</strong></span> donde est√© todo el equipo colaborando y donde se haga el <span class="hl-purple"><strong>trabajo del d√≠a</strong></span>, con trazabilidad interna.</p></li>
</ul>
</section>
<section id="nuestro-primer-repositorio" class="slide level2">
<h2>Nuestro primer repositorio</h2>
<p>Vamos a <span class="hl-yellow"><strong>crear nuestro primero repositorio</strong></span> que servir√° adem√°s como <span class="hl-yellow"><strong>carta de presentaci√≥n</strong></span> de nuestro perfil en Github.</p>
<ol type="1">
<li><p><span class="hl-purple"><strong>Repositories</strong></span>: hacemos click en las pesta√±a de Repositories.</p></li>
<li><p><span class="hl-purple"><strong>New</strong></span>: hacemos click en el <span class="hl-green"><strong>bot√≥n verde New</strong></span> para crear un nuevo repositorio</p></li>
</ol>

<img data-src="img/new_repo.png" class="r-stretch"></section>
<section id="nuestro-primer-repositorio-1" class="slide level2">
<h2>Nuestro primer repositorio</h2>
<ul>
<li><p><span class="hl-purple"><strong>Repository name</strong></span>: el <span class="hl-yellow"><strong>nombre del repositorio</strong></span>. En este caso vamos a crear un repositorio muy concreto: el nombre debe <span class="hl-yellow"><strong>coincidir exactamente con tu nombre de usuario</strong></span></p></li>
<li><p><span class="hl-purple"><strong>Description</strong></span>: descripci√≥n de tu repositorio. En este caso ser√° un repo de presentaci√≥n.</p></li>
</ul>

<img data-src="img/repo_init_1.png" class="r-stretch"></section>
<section id="nuestro-primer-repositorio-2" class="slide level2">
<h2>Nuestro primer repositorio</h2>
<ul>
<li><p><span class="hl-purple"><strong>Public vs private</strong></span>: con cada repositorio tendremos la opci√≥n de hacer el repositorio</p>
<ul>
<li><span class="hl-purple"><strong>p√∫blico</strong></span>: todos los usuarios podr√°n ver el c√≥digo as√≠ c√≥mo la trazabilidad de su desarrollo (qu√© se a√±ade y cu√°ndo). Es para m√≠ la opci√≥n m√°s recomendable cuando quieres darle <span class="hl-yellow"><strong>visibilidad y transparencia</strong></span> a tu trabajo</li>
<li><span class="hl-purple"><strong>privado</strong></span>: solo tendr√°n acceso al repositorio aquellos usuarios a los que se lo permitas. No se podr√° visualizar ni instalar nada de √©l fuera de Github.</li>
</ul></li>
</ul>

<img data-src="img/repo_init_2.png" class="r-stretch"><p>En este caso concreto, dado que ser√° un repositorio de presentaci√≥n, lo <span class="hl-yellow"><strong>haremos p√∫blico</strong></span>.</p>
</section>
<section id="nuestro-primer-repositorio-3" class="slide level2">
<h2>Nuestro primer repositorio</h2>
<ul>
<li><span class="hl-purple"><strong>Add a README file</strong></span>: un README file ser√° el archivo donde incluiremos las <span class="hl-yellow"><strong>instrucciones y detalles de uso</strong></span> a los dem√°s (en el caso de <code>{peRReo}</code> era el archivo que conten√≠a los detalles de instalaci√≥n)</li>
</ul>

<img data-src="img/repo_init_3.png" class="r-stretch"><p>De momento <span class="hl-red"><strong>ignoraremos los dem√°s campos</strong></span> para este primer repositorio.</p>
</section>
<section id="nuestro-primer-repositorio-4" class="slide level2">
<h2>Nuestro primer repositorio</h2>

<img data-src="img/repo_init_1.png" class="r-stretch"><p>Por defecto Github asume que este repositorio, con el <span class="hl-yellow"><strong>mismo nombre que nuestro usuario</strong></span> ser√° el repositorio que querremos que se presente de inicio cuando alguien entra en nuestro perfil, y ser√° el repositorio donde [<strong>incluir en el README.md</strong>] una presentaci√≥n de nosotros y un √≠ndice de tu trabajo (si quieres).</p>
</section>
<section id="nuestro-primer-repositorio-5" class="slide level2">
<h2>Nuestro primer repositorio</h2>

<img data-src="img/profile_github_md.png" class="r-stretch"><p>F√≠jate que ahora en nuestra <span class="hl-yellow"><strong>portada tenemos dicho README.md</strong></span> que podemos personalizar a nuestro gusto haciendo uso de <span class="hl-yellow"><strong>html y markdown</strong></span>.</p>
<p>Aqu√≠ puedes ver <a href="https://github.com/matiassingers/awesome-readme"><strong>algunos ejemplos de README.MD</strong></a></p>
</section>
<section id="repo-de-c√≥digo" class="slide level2">
<h2>Repo de c√≥digo</h2>
<p>Una vez que tenemos nuestro README de presentaci√≥n (recuerda que puedes <span class="hl-yellow"><strong>personalizar a tu gusto con html y markdown</strong></span>) vamos a crear un <span class="hl-yellow"><strong>repositorio de c√≥digo</strong></span>.</p>
<div class="fragment">
<p>Si ya era importante <span class="hl-yellow"><strong>trabajar con proyectos</strong></span> en <code>RStudio</code>, cuando lo combinamos con Github es a√∫n m√°s crucial que creemos un proyecto antes de subir el c√≥digo, as√≠ que vamos a crear uno de prueba que se llame <code>repo-github-1</code>.</p>
</div>
<div class="fragment">
<p>En dicho proyecto vamos a <span class="hl-yellow"><strong>crear un script</strong></span> (en mi caso llamado <strong>codigo.R</strong>) en el que deber√°s hacer los siguientes pasos:</p>
</div>
</section>
<section id="repo-de-c√≥digo-1" class="slide level2">
<h2>Repo de c√≥digo</h2>
<ol type="1">
<li><span class="hl-yellow"><strong>Carga</strong></span> directamente desde la p√°gina del <a href="https://cnecovid.isciii.es/covid19/resources">ISCIII</a> el archivo llamado <code>casos_hosp_uci_def_sexo_edad_provres.csv</code></li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1034"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1034-1"><a href="#cb1034-1"></a><span class="co"># Carga de datos desde ISCIII</span></span>
<span id="cb1034-2"><a href="#cb1034-2"></a>datos_covid <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"https://cnecovid.isciii.es/covid19/resources/casos_hosp_uci_def_sexo_edad_provres.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="fragment">
<ol start="2" type="1">
<li><span class="hl-yellow"><strong>Filtra</strong></span> datos de Madrid (<code>"M"</code>), de 2020 y con sexo conocido (hombre/mujer). Tras ello qu√©date con las columnas <code>fecha</code>, <code>sexo</code>, <code>grupo_edad</code>, <code>num_casos</code> (ese orden). Por √∫ltimo obt√©n la suma de casos diarios por fecha y sexo.</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1035"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1035-1"><a href="#cb1035-1"></a><span class="co"># Depuraci√≥n</span></span>
<span id="cb1035-2"><a href="#cb1035-2"></a>datos_madrid <span class="ot">&lt;-</span></span>
<span id="cb1035-3"><a href="#cb1035-3"></a>  datos_covid <span class="sc">|&gt;</span></span>
<span id="cb1035-4"><a href="#cb1035-4"></a>  <span class="co"># Filtrado por Madrid y fecha</span></span>
<span id="cb1035-5"><a href="#cb1035-5"></a>  <span class="fu">filter</span>(provincia_iso <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">&amp;</span> fecha <span class="sc">&lt;=</span> <span class="st">"2020-12-31"</span> <span class="sc">&amp;</span> sexo <span class="sc">!=</span> <span class="st">"NC"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1035-6"><a href="#cb1035-6"></a>  <span class="co"># Selecci√≥n de columnas</span></span>
<span id="cb1035-7"><a href="#cb1035-7"></a>  <span class="fu">select</span>(provincia_iso<span class="sc">:</span>fecha, num_casos) <span class="sc">|&gt;</span> </span>
<span id="cb1035-8"><a href="#cb1035-8"></a>  <span class="co"># Resumen de casos diarios por fecha y sexo</span></span>
<span id="cb1035-9"><a href="#cb1035-9"></a>  <span class="fu">summarise</span>(<span class="at">num_casos =</span> <span class="fu">sum</span>(num_casos), <span class="at">.by =</span> <span class="fu">c</span>(fecha, sexo))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</section>
<section id="repo-de-c√≥digo-2" class="slide level2">
<h2>Repo de c√≥digo</h2>
<ol start="3" type="1">
<li><span class="hl-yellow"><strong>Exporta el dataset a un csv</strong></span> en una carpeta que se llame <code>exportado</code></li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1036"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1036-1"><a href="#cb1036-1"></a><span class="co"># Exportamos datos</span></span>
<span id="cb1036-2"><a href="#cb1036-2"></a><span class="fu">write_csv</span>(datos_madrid, <span class="at">file =</span> <span class="st">"./exportado/datos_madrid.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="fragment">
<div class="columns">
<div class="column" style="width:40%;">
<ol start="4" type="1">
<li>Crea una <span class="hl-yellow"><strong>gr√°fica de l√≠neas</strong></span> que tenga en el eje x fecha, en el eje y casos, con una curva por sexo (gr√°ficas separadas).</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1037"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1037-1"><a href="#cb1037-1"></a><span class="co"># Gr√°fica</span></span>
<span id="cb1037-2"><a href="#cb1037-2"></a><span class="fu">ggplot</span>(datos_madrid) <span class="sc">+</span></span>
<span id="cb1037-3"><a href="#cb1037-3"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> fecha, <span class="at">y =</span> num_casos, <span class="at">color =</span> sexo),</span>
<span id="cb1037-4"><a href="#cb1037-4"></a>            <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">linewidth =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb1037-5"><a href="#cb1037-5"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#85519D"</span>, <span class="st">"#278862"</span>)) <span class="sc">+</span></span>
<span id="cb1037-6"><a href="#cb1037-6"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>sexo) <span class="sc">+</span></span>
<span id="cb1037-7"><a href="#cb1037-7"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb1037-8"><a href="#cb1037-8"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:60%;">
<p><img data-src="./img/ggplot.png" width="380"></p>
</div>
</div>
</div>
<div class="fragment">
<ol start="5" type="1">
<li>Tras ello <span class="hl-yellow"><strong>exportamos la gr√°fica</strong></span></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb1038"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1038-1"><a href="#cb1038-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> <span class="st">"./exportado/ggplot.png"</span>, <span class="at">plot =</span> <span class="fu">last_plot</span>(),</span>
<span id="cb1038-2"><a href="#cb1038-2"></a>       <span class="at">bg =</span> <span class="st">"white"</span>, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="repo-de-c√≥digo-3" class="slide level2">
<h2>Repo de c√≥digo</h2>
<p>¬øC√≥mo <span class="hl-yellow"><strong>subimos el proyecto</strong></span>? Vamos de nuevo a <span class="hl-yellow"><strong>crear un proyecto de cero</strong></span>. Antes no hemos hablado de dos campos importantes:</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="./img/repo-1.png" width="460"></p>
</div><div class="column" style="width:50%;">
<ul>
<li><p><code>Add .gitignore</code> nos permitir√° <span class="hl-yellow"><strong>seleccionar el lenguaje</strong></span> en el que estar√° nuestro proyecto para que Github lo entienda al sincronizar (y no actualice cosas que no deba).</p></li>
<li><p><code>Choose a license</code> nos permitir√° <span class="hl-yellow"><strong>seleccionar la licencia</strong></span> que determinar√° las condiciones en las que otros podr√°n reusar tu c√≥digo.</p></li>
</ul>
</div>
</div>
</section>
<section id="repo-de-c√≥digo-4" class="slide level2">
<h2>Repo de c√≥digo</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="./img/repo-1-1.png"></p>
</div><div class="column" style="width:50%;">
<p>Si te fijas traer crearlo tenemos solo 3 archivos: el de licencia, el .gitignore y el readme.md (donde deber√≠amos escribir una gu√≠a de uso de lo que hayamos subido)</p>
</div>
</div>
<p>Para subir los archivos vamos a clickar en <span class="hl-purple"><strong>Add file &lt; Upload File</strong></span> y <span class="hl-yellow"><strong>arrastraremos TODOS los archivos</strong></span> de la carpeta de nuestro proyecto.</p>
</section>
<section id="repo-de-c√≥digo-5" class="slide level2">
<h2>Repo de c√≥digo</h2>
<p>Tras la subida de archivos tendremos un cuadro llamado <span class="hl-purple"><strong>Commit changes</strong></span></p>

<img data-src="./img/commit-1.png" class="r-stretch"><p>Un <span class="hl-purple"><strong>commit</strong></span> es una <span class="hl-yellow"><strong>modificaci√≥n del repositorio</strong></span> con algo que se a√±ade/elimine/modifique, y dicho cuadro es recomendable usarlo para <span class="hl-yellow"><strong>resumir en qu√© consiste la modificaci√≥n</strong></span>, de manera que quede trazado el cambio.</p>
</section>
<section id="repo-de-c√≥digo-6" class="slide level2">
<h2>Repo de c√≥digo</h2>
<p>Haciendo click en el reloj donde indica el <span class="hl-yellow"><strong>n√∫mero de commits</strong></span> accedemos al <span class="hl-yellow"><strong>hist√≥rico de commits (cambios)</strong></span> con hora, d√≠a, autor, comentarios, etc.</p>

<img data-src="./img/commit-reloj.png" class="r-stretch"></section>
<section id="repo-de-c√≥digo-7" class="slide level2">
<h2>Repo de c√≥digo</h2>
<p>Vamos a realizar un <span class="hl-yellow"><strong>cambio en nuestro c√≥digo</strong></span>: en tu c√≥digo local (local ‚Äì&gt; tu ordenador), en lugar de filtrar por Madrid haz el <span class="hl-yellow"><strong>filtro por Barcelona</strong></span>, guarda el c√≥digo y sube en el repositorio el nuevo archivo (con el mismo nombre, Github har√° la sobrescritura)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1039" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1039-1"><a href="#cb1039-1"></a>datos_bcn <span class="ot">&lt;-</span></span>
<span id="cb1039-2"><a href="#cb1039-2"></a>  datos_covid <span class="sc">|&gt;</span></span>
<span id="cb1039-3"><a href="#cb1039-3"></a>  <span class="fu">filter</span>(provincia_iso <span class="sc">==</span> <span class="st">"B"</span> <span class="sc">&amp;</span> fecha <span class="sc">&lt;=</span> <span class="st">"2020-12-31"</span> <span class="sc">&amp;</span> sexo <span class="sc">!=</span> <span class="st">"NC"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1039-4"><a href="#cb1039-4"></a>  <span class="fu">select</span>(fecha, sexo, grupo_edad, num_casos) <span class="sc">|&gt;</span> </span>
<span id="cb1039-5"><a href="#cb1039-5"></a>  <span class="fu">summarise</span>(<span class="at">num_casos =</span> <span class="fu">sum</span>(num_casos), <span class="at">.by =</span> <span class="fu">c</span>(fecha, sexo))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="consulta-de-commits" class="slide level2">
<h2>Consulta de commits</h2>
<p><img data-src="./img/barcelona_covid.png" width="550"></p>
<div class="columns">
<div class="column" style="width:40%;">
<p>Si ahora <span class="hl-yellow"><strong>consultamos el commit</strong></span>, al lado hay un n√∫mero que lo identifica, y clickando en √©l nos resume los cambios: no solo <span class="hl-yellow"><strong>almacena todas las versiones pasadas</strong></span> sino que adem√°s nos <span class="hl-yellow"><strong>muestra las diferencias entre los archivos cambiados</strong></span></p>
</div><div class="column" style="width:60%;">
<p><img data-src="./img/commit_cambio.png"></p>
</div>
</div>
</section>
<section id="trazabilidad-de-cambios" class="slide level2">
<h2>Trazabilidad de cambios</h2>
<div class="columns">
<div class="column" style="width:72%;">
<p><img data-src="./img/commit_split.png"> <img data-src="./img/commit_unified.png"></p>
</div><div class="column" style="width:28%;">
<p>Tenemos <span class="hl-yellow"><strong>dos modos de visualizaci√≥n</strong></span> de los cambios: el modo split nos muestra el antiguo y el nuevo, con las inclusiones en verde y lo que ya no est√° en rojo; y el modo unified nos muestra todo en un mismo documento.</p>
</div>
</div>
</section>
<section id="recuperaci√≥n-de-commits" class="slide level2">
<h2>Recuperaci√≥n de commits</h2>

<img data-src="./img/browse-repo.png" class="r-stretch"><p>Github nos permite incluso <span class="hl-yellow"><strong>recuperar una versi√≥n del pasado</strong></span> de nuestro repositorio, haciendo click en el tercer icono del commit.</p>
</section>
<section id="recuperaci√≥n-de-commits-1" class="slide level2">
<h2>Recuperaci√≥n de commits</h2>

<img data-src="./img/branch-commit.png" class="r-stretch"><p>Si te fijas ahora al lado de <code>1 branch</code> tenemos un <span class="hl-yellow"><strong>men√∫ desplegable</strong></span> en el que antes pon√≠a <code>main</code> y ahora un n√∫mero identificador del commit. Ya hablaremos de la idea de <span class="hl-yellow"><strong>rama (branch)</strong></span></p>
</section>
<section id="repo-con-rmdqmd" class="slide level2">
<h2>Repo con rmd/qmd</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p>Vamos a poner en pr√°ctica lo aprendido:</p>
<ol type="1">
<li><p>Crea un nuevo repositorio en Github (llamado <code>repo-github-2</code>) donde habr√° alojado con proyecto de R.</p></li>
<li><p>Crea un proyecto en <code>RStudio</code> que se llame (por ejemplo) <code>proyecto-qmd</code></p></li>
<li><p>Una vez dentro del proyecto en <code>RStudio</code> haz click en <code>File &lt; New File &lt; Quarto Document</code></p></li>
</ol>
</div><div class="column" style="width:40%;">
<p><img data-src="./img/primer-qmd.png"></p>
</div>
</div>
<p>Deber√°s tener un documento similar a este: un <span class="hl-yellow"><strong>quarto markdown (.qmd)</strong></span>, un documento que nos permitir√° incluir <span class="hl-yellow"><strong>markdown + c√≥digo</strong></span> (puede ser <code>R</code> o puede ser <code>Observable</code>, <code>D3</code>, etc).</p>
</section>
<section id="repo-con-rmdqmd-1" class="slide level2">
<h2>Repo con rmd/qmd</h2>
<p>Este formato es ideal para:</p>
<ul>
<li><span class="hl-yellow"><strong>Trabajar en equipo</strong></span> construyendo el borrador de una pieza.</li>
<li>Tomar <span class="hl-yellow"><strong>apuntes o informes</strong></span> para uno mismo.</li>
<li><span class="hl-yellow"><strong>Presentar</strong></span> tu trabajo a tus compa√±eros.</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="./img/prueba-qmd-html.png"></p>
</div><div class="column" style="width:50%;">
<p>Si te fijas ahora nuestro repositorio tiene un archivo con formato <code>.html</code>‚Ä¶es decir‚Ä¶</p>
<p><span class="hl-yellow"><strong>¬°Es una web!</strong></span></p>
</div>
</div>
</section>
<section id="github-pages" class="slide level2">
<h2>Github pages</h2>
<p>¬øC√≥mo <span class="hl-yellow"><strong>convertir nuestro repositorio en una web</strong></span>?</p>

<img data-src="./img/github-pages.png" class="r-stretch"><ol type="1">
<li>Haz click en <code>Settings</code></li>
<li>Ve al apartado <code>Pages</code></li>
<li>En el subapartado <code>branch</code> selecciona la √∫nica rama que tenemos ahora (<code>main</code>)</li>
<li>Selecciona la carpeta donde tengas el <code>.html</code> (en web complejas estar√° como en cualquier web en <code>docs</code>, en algo simple estar√° en la ruta raiz del repositorio)</li>
<li>Haz click en <code>Save</code></li>
</ol>
</section>
<section id="github-pages-1" class="slide level2">
<h2>Github pages</h2>
<p>Si te fijas en la <span class="hl-yellow"><strong>parte superior del repositorio</strong></span> ahora tenemos un icono naranja, que nos indica que la <span class="hl-orange"><strong>web est√° en proceso de ser desplegada (deploy)</strong></span></p>

<img data-src="./img/github-naranja.png" class="r-stretch"></section>
<section id="github-pages-2" class="slide level2">
<h2>Github pages</h2>
<p>Pasados unos segundos (dependiendo del tama√±o de la web y tu conexi√≥n a internet) ese <span class="hl-green"><strong>icono pasar√° a ser un check verde</strong></span>: habemus web</p>

<img data-src="./img/github-verde.png" class="r-stretch"><p>El <span class="hl-yellow"><strong>link de la web por defecto</strong></span> ser√° <code>{nombre_usuario}.github.io/{nombre_repo}</code></p>
</section>
<section id="github-pages-3" class="slide level2">
<h2>Github pages</h2>

<img data-src="./img/github-pages-deploy.png" class="r-stretch"><p>¬°Un momento! Ahora mismo nuestra web <span class="hl-red"><strong>no nos est√° mostrando nuestro .qmd</strong></span>, sino por defecto el <span class="hl-yellow"><strong>README.md</strong></span>.</p>
<div class="fragment">
<p>Para que Github entienda que queremos visualizar ese <code>.html</code> que hemos generado a partir del <code>.qmd</code> vamos en nuestro proyecto local a <span class="hl-yellow"><strong>borrar</strong></span> todo lo que no sea nuestro archivo <code>.Rproj</code> y nuestro archivo <code>.qmd</code>, y vamos a <span class="hl-yellow"><strong>cambiar el nombre</strong></span> a este √∫ltimo llam√°ndolo <code>index.qmd</code>, y volvemos a compilarlo para <span class="hl-yellow"><strong>generar un index.html</strong></span></p>
</div>
</section>
<section id="github-pages-4" class="slide level2">
<h2>Github pages</h2>
<p>Vamos a <span class="hl-yellow"><strong>subir a Github ese nuevo proyecto</strong></span> con el cambio de nombre (llamado <code>repo-github-3</code>) para ver luego las diferencias entre uno y otro</p>

<img data-src="./img/repo-index-html.png" class="r-stretch"></section>
<section id="github-pages-5" class="slide level2">
<h2>Github pages</h2>
<p>Si <span class="hl-yellow"><strong>repetimos el proceso para hacer una Page</strong></span> y esperamos al tick verde‚Ä¶</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="./img/index-html-qmd.png"></p>
</div><div class="column" style="width:50%;">
<p>Si a tu <code>.qmd</code> ya le llamas de inicio <code>index.qmd</code>, autom√°ticamente, al detectar Github un <code>index.html</code>, interpreta que ese <span class="hl-yellow"><strong>archivo index.html</strong></span> es el que define la web (y puedes personalizar a√±adiendo un archivo <code>css</code> de estilos)</p>
<p><span class="hl-green"><strong>Habemus web</strong></span> simplemente clickando en Pages :)</p>
</div>
</div>
</section>
<section id="repo-con-diapositivas" class="slide level2">
<h2>Repo con diapositivas</h2>
<p>Vamos a crear el √∫ltimo repositorio que se llamar√° <code>repo-diapos</code>, y crear un proyecto en <code>RStudio</code> del mismo nombre (por ejemplo). Una vez creado le daremos a <code>File &lt; New File &lt; Quarto Presentation</code>.</p>
<div class="columns">
<div class="column" style="width:45%;">
<p><img data-src="img/quarto-slides.png"></p>
</div><div class="column" style="width:55%;">
<p>La forma de escribir ser√° igual que un <code>.qmd</code> normal solo que ahora <span class="hl-yellow"><strong>cada diapositiva la separaremos</strong></span> con un <code>---</code> (usando archivos de estilos podemos personalizar lo que queramos)</p>
<p>Llama al archivo directamente <code>index.qmd</code>, s√∫belo a Github y con un click en Pages tienes una <span class="hl-yellow"><strong>web con tus diapositivas</strong></span></p>
</div>
</div>
</section>
<section id="uso-de-gitkraken" class="slide level2">
<h2>Uso de Gitkraken</h2>
<p>La forma m√°s <span class="hl-yellow"><strong>sencilla para trabajar de manera colaborativa</strong></span> en Github, y tenerlo sincronizado con nuestro local, es hacer uso de <a href="https://www.gitkraken.com/download">Gitkraken</a></p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/gitkraken-repo.png"></p>
</div><div class="column" style="width:50%;">
<p>Una vez dentro clickamos en el icono de la carpeta (<code>Repo Management</code>) y si ya tenemos el repositorio en Github seleccionamos <code>Clone</code>, indicando donde queremos clonar (en nuestro local) y que <span class="hl-yellow"><strong>repositorio de Github queremos clonar</strong></span>.</p>
</div>
</div>
</section>
<section id="uso-de-gitkraken-1" class="slide level2">
<h2>Uso de Gitkraken</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/view-change.png"></p>
</div><div class="column" style="width:50%;">
<p>Una vez clonado, la idea es que cada <span class="hl-yellow"><strong>cambio que hagamos en local nos aparecer√° en Gitkraken</strong></span> como <code>View changes</code>.</p>
</div>
</div>
</section>
<section id="uso-de-gitkraken-2" class="slide level2">
<h2>Uso de Gitkraken</h2>
<p>Cuando tengas suficientes cambios como para <span class="hl-yellow"><strong>actualizar el repositorio</strong></span> (tampoco tiene sentido actualizar con cada edici√≥n), ver√°s algo similar a esto con todos los <span class="hl-yellow"><strong>commits realizados</strong></span></p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/stage-all-changes.png"></p>
</div><div class="column" style="width:50%;">
<p>Podr√°s decidir cu√°les de los <span class="hl-yellow"><strong>commits locales quieres incluir en remoto</strong></span>, bien uno a uno o en <code>Stage all changes</code> (para todos)</p>
</div>
</div>
</section>
<section id="uso-de-gitkraken-3" class="slide level2">
<h2>Uso de Gitkraken</h2>
<p>Tras incluir los commits deber√°s incluir un <span class="hl-yellow"><strong>t√≠tulo y descripci√≥n del commit</strong></span></p>

<img data-src="img/titulo-commit.png" class="r-stretch"></section>
<section id="uso-de-gitkraken-4" class="slide level2">
<h2>Uso de Gitkraken</h2>
<p>Tras hacerlo ver√°s que ahora tenemos <span class="hl-yellow"><strong>dos iconos separados en una especie de √°rbol</strong></span> (¬øte acuerdas de la <code>branch</code> o rama?):</p>
<ul>
<li><p><span class="hl-purple"><strong>Ordenador</strong></span>: la versi√≥n del repositorio que tienes en tu <span class="hl-yellow"><strong>ordenador</strong></span>.</p></li>
<li><p><span class="hl-purple"><strong>Logo</strong></span>: la versi√≥n del repositorio que tienes <span class="hl-yellow"><strong>subida en remoto</strong></span></p></li>
</ul>

<img data-src="img/split-gitkraken.png" class="r-stretch"></section>
<section id="uso-de-gitkraken-5" class="slide level2">
<h2>Uso de Gitkraken</h2>
<p>Mientras eso suceda solo tendr√°s sincronizado tu ordenador con Gitkraken, pero no con Github. Para ello haremos <span class="hl-yellow"><strong>click en Push</strong></span> (con <code>Pull</code> podr√°s forzar a tener en local lo mismo que en remoto).</p>

<img data-src="img/push-gitkraken.png" class="r-stretch"></section>
<section id="branchs" class="slide level2">
<h2>Branchs</h2>
<p>Como hemos mencionado ya en varias ocasiones, hay un elefante en la habitaci√≥n que a√∫n no hemos mentado: las <span class="hl-yellow"><strong>ramas o branchs</strong></span> de un repositorio.</p>
<div class="fragment">
<p>Imagina que est√°is trabajando varios en un proyecto y tene√≠s una versi√≥n que funciona pero que quer√©is <span class="hl-yellow"><strong>modificar en paralelo a partir del estado actual</strong></span> del repositorio.</p>
</div>
<div class="fragment">
<p>Las <span class="hl-yellow"><strong>ramas</strong></span> nos permiten partir de una versi√≥n com√∫n del repositorio y hacer cambios que <span class="hl-yellow"><strong>no afecten a los dem√°s</strong></span></p>
</div>
</section>
<section id="branchs-1" class="slide level2">
<h2>Branchs</h2>
<p>Para <span class="hl-yellow"><strong>crear una rama</strong></span> a partir del estado actual de repositorio haremos click en <code>Branch</code> y le pondremos un nombre</p>

<img data-src="img/branch-button.png" class="r-stretch"><p>Una vez creada ver√°s <span class="hl-yellow"><strong>dos iconos</strong></span> y un <span class="hl-yellow"><strong>men√∫ desplegable</strong></span> con las distintas ramas en las que quieres hacer el commit. Imagina que realizas un cambio pero <span class="hl-yellow"><strong>no quieres a√±adirlo a la rama principal</strong></span>: puedes hacer el <span class="hl-yellow"><strong>commit en tu rama propia en LOCAL</strong></span> (lo har√°s en la rama activa de tu men√∫ de branchs).</p>
</section>
<section id="branchs-2" class="slide level2">
<h2>Branchs</h2>
<p>La primera vez te pedir√° que escribas la <span class="hl-yellow"><strong>rama en REMOTO</strong></span> con la quieres sincronizar tu rama en local. <span class="hl-green"><strong>Consejo</strong></span>: ponle el mismo nombre en remoto que en local.</p>

<img data-src="img/name-branch.png" class="r-stretch"></section>
<section id="branchs-3" class="slide level2">
<h2>Branchs</h2>
<p>F√≠jate que ahora tenemos el ordenador y el logo en el mismo sitio. Esto no significa que tengas ambas ramas en tu local, solo que <span class="hl-yellow"><strong>Gitkraken tiene ambas sincronizadas</strong></span>: clickando en cualquiera de ellas, tus archivos en tu ordenador cambiar√°n.</p>

<img data-src="img/both-branchs.png" class="r-stretch"></section>
<section id="pull-request" class="slide level2">
<h2>Pull request</h2>
<p>Lo m√°s recomendable es que <span class="hl-yellow"><strong>solo se incorpore de una rama secundaria</strong></span> a la rama principal aquello que est√° <span class="hl-yellow"><strong>validado por un/a coordinador/a</strong></span> del repositorio, asegur√°ndose que todo funciona correctamente.</p>
<p>Cuando queramos incluirlo haremos <span class="hl-yellow"><strong>click con bot√≥n derecho</strong></span> en el icono de la rama secundaria y seleccionamos <code>Start a pull request to origin from...</code></p>

<img data-src="img/pull-request-menu.png" class="r-stretch"><div class="fragment">
<p>Una <span class="hl-yellow"><strong>pull request</strong></span> ser√° una <span class="hl-yellow"><strong>petici√≥n al responsable de la rama principal</strong></span> para incluir los cambios</p>
</div>
</section>
<section id="pull-request-1" class="slide level2">
<h2>Pull request</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p><img data-src="img/create-pull-request.png"></p>
</div><div class="column" style="width:40%;">
<p>En el cuadro que no se abre deberemos escribir:</p>
<ul>
<li>La <span class="hl-yellow"><strong>rama</strong></span> a la que hacer el <code>merge</code> (normalmente la <code>main</code>)</li>
<li>T√≠tulo y resumen de los cambios</li>
<li>Puedes incluso asignar un <span class="hl-yellow"><strong>revisor</strong></span> entre los colaboradores del repo.</li>
<li>Puedes asignar <span class="hl-yellow"><strong>etiquetas</strong></span></li>
</ul>
</div>
</div>
</section>
<section id="pull-request-2" class="slide level2">
<h2>Pull request</h2>
<p>Mientras no se acepte aparecer√° un <span class="hl-yellow"><strong>icono de rama</strong></span> y un +1 en Pull Requests</p>
<p><img data-src="img/pending-branch.png" width="500"></p>
<div class="fragment">
<p>Si somos al mantenedor del repositorio, haciendo click en el men√∫ nos saldr√°n las ramas que nos quieren hacer hacer <code>merge</code></p>
<p><img data-src="img/menu-pr.png" width="500"></p>
</div>
</section>
<section id="pull-request-3" class="slide level2">
<h2>Pull request</h2>
<p>Al hacer click se abrir√° un <span class="hl-yellow"><strong>cuadro de Pull Request</strong></span> para decidir si</p>
<ul>
<li><span class="hl-yellow"><strong>Revisar</strong></span> los cambios</li>
<li><span class="hl-yellow"><strong>Aprobar</strong></span> el <code>merge</code></li>
<li><span class="hl-yellow"><strong>A√±adir comentarios</strong></span> al que ha solicitado el <code>merge</code> por si queremos solicitar alg√∫n cambio <span class="hl-yellow"><strong>antes de ser aprobado</strong></span></li>
</ul>
</section>
<section id="section" class="slide level2">
<h2><img data-src="img/menu-pr-2.png"></h2>
</section>
<section id="pull-request-4" class="slide level2">
<h2>Pull request</h2>
<p>Tras revisar todo y aprobarlo clickaremos en <code>Confirm merge</code>, y tras ello podremos decidir si esa rama que era paralela a la principal la queremos <span class="hl-yellow"><strong>eliminar</strong></span> o dejar visible a todos (consejo: dejar visible para tene <span class="hl-yellow"><strong>trazabilidad</strong></span> del proyecto de trabajo)</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/merge-branch.png"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="img/delete-branch.png"></p>
</div>
</div>
</section></section>
<section>
<section id="recursos-extras" class="title-slide slide level1 center">
<h1>Recursos extras</h1>
<p><span style="color:#444442;"><strong>Algunos paquetes o recursos curiosos</strong></span></p>
</section>
<section id="paletas-de-colores" class="slide level2">
<h2>Paletas de colores</h2>
<ul>
<li><p><span class="hl-purple"><strong>{ggthemes}</strong></span>: <span class="hl-yellow"><strong>temas y paletas extras</strong></span> para ggplot (por ejemplo para <strong>dalt√≥nicos</strong>) <a href="https://jrnold.github.io/ggthemes/" class="uri">https://jrnold.github.io/ggthemes/</a> y <a href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/" class="uri">https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/</a></p></li>
<li><p><span class="hl-purple"><strong>{peRReo}</strong></span>: paletas inspiradas en <span class="hl-yellow"><strong>portadas de m√∫sica urbana y latina</strong></span> <a href="https://github.com/jbgb13/peRReo" class="uri">https://github.com/jbgb13/peRReo</a></p></li>
<li><p><span class="hl-purple"><strong>Paletas inspiradas en el Metropolitan Museum</strong></span>: de Blake Robert Mills <a href="https://github.com/BlakeRMills/MetBrewer/tree/main" class="uri">https://github.com/BlakeRMills/MetBrewer/tree/main</a></p></li>
<li><p><span class="hl-purple"><strong>Paletas inspiradas Taylor Swift</strong></span>: <a href="https://github.com/asteves/tayloRswift" class="uri">https://github.com/asteves/tayloRswift</a></p></li>
<li><p><span class="hl-purple"><strong>Paletas inspiradas en Harry Potter</strong></span>: de Alejandro Jim√©nez <a href="https://github.com/aljrico/harrypotter" class="uri">https://github.com/aljrico/harrypotter</a></p></li>
<li><p><span class="hl-purple"><strong>{colorblindcheck}</strong></span>: detectar paletas de colores aptas <span class="hl-yellow"><strong>dalt√≥nicos/as</strong></span>. De Jakub Nowosad <a href="https://github.com/Nowosad/colorblindcheck" class="uri">https://github.com/Nowosad/colorblindcheck</a></p></li>
</ul>
</section>
<section id="dataviz" class="slide level2">
<h2>Dataviz</h2>
<ul>
<li><p><span class="hl-purple"><strong>R Graph Gallery</strong></span>: colecci√≥n de dataviz en R <a href="https://www.r-graph-gallery.com/" class="uri">https://www.r-graph-gallery.com/</a></p></li>
<li><p><span class="hl-purple"><strong>{patchwork}</strong></span>: agregar y <span class="hl-yellow"><strong>componer gr√°ficas</strong></span>. De Thomas Lin Pedersen. <a href="https://patchwork.data-imaginist.com" class="uri">https://patchwork.data-imaginist.com</a></p></li>
<li><p><span class="hl-purple"><strong>ggplotly</strong></span>: funci√≥n de <code>{plotly}</code>, para convertir ggplot a plotly (<span class="hl-yellow"><strong>interactiva</strong></span>) <a href="https://www.rdocumentation.org/packages/plotly/versions/4.10.0/topics/ggplotly" class="uri">https://www.rdocumentation.org/packages/plotly/versions/4.10.0/topics/ggplotly</a>.</p></li>
</ul>
<p>Tras convertirlo a plotly se puede <span class="hl-yellow"><strong>guardar autom√°ticamente en html</strong></span> con <a href="https://plotly-r.com/saving.html" class="uri">https://plotly-r.com/saving.html</a> y generar el <span class="hl-yellow"><strong>c√≥digo del iframe responsive</strong></span> con <a href="https://bhaskarvk.github.io/widgetframe/articles/Using_widgetframe.html" class="uri">https://bhaskarvk.github.io/widgetframe/articles/Using_widgetframe.html</a></p>
</section>
<section id="dataviz-1" class="slide level2">
<h2>Dataviz</h2>
<ul>
<li><p><span class="hl-purple"><strong>{ggiraph}</strong></span>: gr√°ficas interactivas al <span class="hl-yellow"><strong>estilo D3</strong></span>. <a href="https://davidgohel.github.io/ggiraph/" class="uri">https://davidgohel.github.io/ggiraph/</a></p></li>
<li><p><span class="hl-purple"><strong>Aprender a usar {ggiraph}</strong></span>: para gr√°ficas interactivas al <span class="hl-yellow"><strong>estilo D3</strong></span> <a href="https://albert-rapp.de/posts/ggplot2-tips/17_ggiraph/17_ggiraph.html" class="uri">https://albert-rapp.de/posts/ggplot2-tips/17_ggiraph/17_ggiraph.html</a></p></li>
<li><p><span class="hl-purple"><strong>Gr√°ficas interactivas</strong></span>: <a href="https://www.tanyashapiro.com/interactive-visuals" class="uri">https://www.tanyashapiro.com/interactive-visuals</a></p></li>
<li><p><span class="hl-purple"><strong>{geomtextpath}</strong></span>: paquete para <span class="hl-yellow"><strong>curvar el texto</strong></span> ajust√°ndose a una gr√°fica. De Allan Cameron y Teun van den Brand. <a href="https://allancameron.github.io/geomtextpath/" class="uri">https://allancameron.github.io/geomtextpath/</a></p></li>
<li><p><span class="hl-purple"><strong>{ggstream}</strong></span>: visualizaci√≥n de <span class="hl-yellow"><strong>datos en flujo</strong></span>. De Z. Gu. <a href="https://github.com/davidsjoberg/ggstream" class="uri">https://github.com/davidsjoberg/ggstream</a></p></li>
<li><p><span class="hl-purple"><strong>{ggpattern}</strong></span>: rellenos con <span class="hl-yellow"><strong>patrones geom√©tricos</strong></span> en ggplot2. De coolbutuseless y Trevor L. Davis. <a href="https://github.com/coolbutuseless/ggpattern" class="uri">https://github.com/coolbutuseless/ggpattern</a></p></li>
</ul>
</section>
<section id="mapas" class="slide level2">
<h2>Mapas</h2>
<ul>
<li><p><span class="hl-purple"><strong>{mapSpain}</strong></span>: visualizaci√≥n de <span class="hl-yellow"><strong>datos en mapas de Espa√±a</strong></span> en R. De Diego Hernang√≥mez <a href="https://dieghernan.github.io/rpubs/mapSpain_RMadrid/#1" class="uri">https://dieghernan.github.io/rpubs/mapSpain_RMadrid/#1</a></p></li>
<li><p><span class="hl-purple"><strong>{rasterpic}</strong></span>: visualizaci√≥n de <span class="hl-yellow"><strong>mapas con im√°genes rasterizados de fondo</strong></span>. De Diego Hernang√≥mez. <a href="https://dieghernan.github.io/rasterpic/" class="uri">https://dieghernan.github.io/rasterpic/</a></p></li>
</ul>
<h3 id="grafos-y-redes">Grafos y redes</h3>
<ul>
<li><span class="hl-purple"><strong>{tidygraph}</strong></span>: paquete al estilo <code>{tidyverse}</code> para <span class="hl-yellow"><strong>visualizar y manipular grafos</strong></span> <a href="https://tidygraph.data-imaginist.com/index.html" class="uri">https://tidygraph.data-imaginist.com/index.html</a></li>
</ul>
</section>
<section id="text-mining" class="slide level2">
<h2>Text mining</h2>
<ul>
<li><p><span class="hl-purple"><strong>Manual de text mining</strong></span>: d Julia Silge y David Robinson. Recurso: <a href="https://tidytextmining.com" class="uri">https://tidytextmining.com</a></p></li>
<li><p><span class="hl-purple"><strong>Descarga de textos libres</strong></span>: de David Robinson. Recurso: <a href="https://github.com/ropensci/gutenbergr" class="uri">https://github.com/ropensci/gutenbergr</a></p></li>
<li><p><span class="hl-purple"><strong>An√°lisis de sentimientos de tweets</strong></span>: de Harshvardhan. Recurso: <a href="https://www.harsh17.in/twitter-sentiments/" class="uri">https://www.harsh17.in/twitter-sentiments/</a></p></li>
</ul>
</section>
<section id="datos-curiosos" class="slide level2">
<h2>Datos curiosos</h2>
<ul>
<li><p><span class="hl-purple"><strong>{fitbitr}</strong></span>: API para acceder a <span class="hl-yellow"><strong>datos de pulseras fitbit</strong></span>. De Matt Kaye <a href="https://mrkaye97.github.io/fitbitr/index.html" class="uri">https://mrkaye97.github.io/fitbitr/index.html</a></p></li>
<li><p><span class="hl-purple"><strong>{rtweet}</strong></span>: API para acceder (al menos antes) a <span class="hl-yellow"><strong>Twitter</strong></span>. De Michael W. Kearney <a href="https://docs.ropensci.org/rtweet/" class="uri">https://docs.ropensci.org/rtweet/</a></p></li>
<li><p><span class="hl-purple"><strong>{owiDR}</strong></span>: API para acceder a datos de <span class="hl-yellow"><strong>Our World in Data</strong></span> <a href="https://github.com/piersyork/owidR" class="uri">https://github.com/piersyork/owidR</a></p></li>
<li><p><span class="hl-purple"><strong>{wordle}</strong></span>: API para acceder a <span class="hl-yellow"><strong>datos de WORDLE</strong></span>. De coolbutuseless <a href="https://coolbutuseless.github.io/2022/01/04/wordle-v0.1.5-a-package-for-playing-and-helping-solve-wordle-puzzles/" class="uri">https://coolbutuseless.github.io/2022/01/04/wordle-v0.1.5-a-package-for-playing-and-helping-solve-wordle-puzzles/</a></p></li>
<li><p><span class="hl-purple"><strong>Canciones de Taylor Swift</strong></span>: de W. Jake Thompson <a href="https://taylor.wjakethompson.com/" class="uri">https://taylor.wjakethompson.com/</a></p></li>
<li><p><span class="hl-purple"><strong>{chessR}</strong></span>: API para acceder a datos de <span class="hl-yellow"><strong>partidas de ajedrez</strong></span>. De Jason Zivkovic <a href="https://github.com/JaseZiv/chessR" class="uri">https://github.com/JaseZiv/chessR</a></p></li>
</ul>
</section>
<section id="informes-libros-diapositivas-y-webs" class="slide level2">
<h2>Informes, libros, diapositivas y webs</h2>
<ul>
<li><p><span class="hl-purple"><strong>Manual de Quarto</strong></span>: el nuevo rmarkdown, m√°s completo y sencillo para elaborar manuales, diapositivas, informes e incluso webs <a href="https://quarto.org/docs/guide/" class="uri">https://quarto.org/docs/guide/</a></p></li>
<li><p><span class="hl-purple"><strong>Shiny</strong></span>: webs interactivas con R <a href="https://shiny.rstudio.com/tutorial/written-tutorial/lesson1/" class="uri">https://shiny.rstudio.com/tutorial/written-tutorial/lesson1/</a></p></li>
</ul>
<h3 id="tablas">Tablas</h3>
<ul>
<li><p><span class="hl-purple"><strong>{gt}</strong></span>: tablas en R. De RStudio <a href="https://gt.rstudio.com/" class="uri">https://gt.rstudio.com/</a></p></li>
<li><p><span class="hl-purple"><strong>{gtExtras}</strong></span>: visualizaci√≥n de datos en tablas. De Thomas Mock. <a href="https://jthomasmock.github.io/gtExtras/index.html" class="uri">https://jthomasmock.github.io/gtExtras/index.html</a></p></li>
<li><p><span class="hl-purple"><strong>Tutorial de tablas</strong></span>: de Benjamin Nowak <a href="https://bjnnowak.netlify.app/2021/10/04/r-beautiful-tables-with-gt-and-gtextras/" class="uri">https://bjnnowak.netlify.app/2021/10/04/r-beautiful-tables-with-gt-and-gtextras/</a></p></li>
</ul>
</section></section>
<section id="gracias" class="title-slide slide level1 center">
<h1>¬°GRACIAS!</h1>
<p><span style="color:#444442;"><strong>Mi mail javalv09@ucm.es, Twitter <a href="https://twitter.com/DadosdeLaplace"><span class="citation" data-cites="dadosdelaplace">@dadosdelaplace</span></a> e Instagram <a href="https://www.instagram.com/javieralvarezliebana/"><span class="citation" data-cites="javieralvarezliebana">@javieralvarezliebana</span></a> para lo que quer√°is</strong></span></p>
<div class="footer footer-default">
<p><a href="..."><strong>Javier √Ålvarez Li√©bana</strong></a> ‚Ä¢ M√°ster de bioestad√≠stica (UCM) ‚Ä¢ curso 2023-2024</p>
</div>
</section>


    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="index_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="index_files/libs/revealjs/plugin/multiplex/socket.io.js"></script>
  <script src="index_files/libs/revealjs/plugin/multiplex/multiplex.js"></script>
  <script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="index_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="index_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="index_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true,"width":"normal"},
'chalkboard': {"buttons":true},
'multiplex': {"secret":"1686123117478505345","id":"1b0ff0461e955904","url":"https://reveal-multiplex.glitch.me/"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>