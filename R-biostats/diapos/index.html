<!DOCTYPE html>
<html lang="es"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Máster de Bioestadística • Javier Álvarez Liébana">
  <title>SOFTWARE PARA GESTIÓN DE BASES DE DATOS</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto.css">
  <link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="img/data-science-2.jpeg" data-background-opacity="0.2" data-background-size="cover" class="quarto-title-block center">
  <h1 class="title">SOFTWARE PARA GESTIÓN DE BASES DE DATOS</h1>
  <p class="subtitle">Análisis de datos en R e introducción a Stata</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Máster de Bioestadística • Javier Álvarez Liébana 
</div>
</div>
</div>

</section>
<section class="slide level2">

<div class="r-fit-text">
<p><span class="flow">¡Bienvenidos a R!</span></p>
</div>
<p><span style="color:#444442;"><strong>Dejad vuestras hojas de cálculo, Anacondas y SAS a un lado</strong></span></p>
</section>
<section id="buenas" class="slide level2">
<h2>¡Buenas!</h2>
<p><span class="hl-green"><strong>Correo</strong></span>: <strong><a href="mailto:javalv09@ucm.es" class="email">javalv09@ucm.es</a></strong>. <span class="hl-green"><strong>Despacho</strong></span>: 722 (3ª planta). <span class="hl-green"><strong>Tutorías (curso 2024-2025)</strong></span>: …</p>
<div class="columns">
<div class="column" style="width:30%;">
<p><img data-src="img/me.jpeg"></p>
</div><div class="column" style="width:70%;">
<div>
<ul>
<li class="fragment"><p><span class="hl-yellow"><strong>Javier Álvarez Liébana</strong></span>, de Carabanchel (Bajo).</p></li>
<li class="fragment"><p>Licenciado en Matemáticas (UCM). <span class="hl-yellow"><strong>Doctorado en estadística</strong></span> (UGR).</p></li>
<li class="fragment"><p>Encargado de la <span class="hl-yellow"><strong>visualización y análisis de datos covid</strong></span> del Principado de Asturias (2021-2022).</p></li>
<li class="fragment"><p>Miembro de la <span class="hl-yellow"><strong>Sociedad Española de Estadística e IO</strong></span> y la <span class="hl-yellow"><strong>Real Sociedad Matemática Española</strong></span>.</p></li>
</ul>
</div>
</div>
</div>
<p>Actualmente, <span class="hl-yellow"><strong>investigador y docente en la Facultad de Estadística de la UCM</strong></span>. Divulgando por <a href="https://twitter.com/dadosdelaplace"><strong>Twitter</strong></a> e <a href="https://instagram.com/javieralvarezliebana"><strong>Instagram</strong></a></p>
</section>
<section id="objetivos" class="slide level2">
<h2>Objetivos</h2>
<div class="columns">
<div class="column" style="width:37%;">
<p><img data-src="https://assets-global.website-files.com/6092cb6b4ac959f39728dd26/6188a97fa499b5fbfe410417_target%20(1).png"></p>
</div><div class="column" style="width:63%;">
<div>
<ul>
<li class="fragment"><p>Quitarnos el <span class="hl-yellow"><strong>miedo a los errores en programación</strong></span> → a programar se aprende programando</p></li>
<li class="fragment"><p>Entender los <span class="hl-yellow"><strong>conceptos básicos de R</strong></span> desde cero → aprender a abstraer ideas y algoritmos</p></li>
<li class="fragment"><p>Utilidad de programar → flujos de trabajo <span class="hl-yellow"><strong>reproducibles</strong>, <strong>transparentes</strong></span> y mantenibles</p></li>
<li class="fragment"><p>Introducción al <span class="hl-yellow"><strong>análisis y preprocesamiento</strong></span> de datos → <code>{tidyverse}</code></p></li>
<li class="fragment"><p>Adquirir habilidades en la <span class="hl-yellow"><strong>visualización de datos</strong></span> → <code>{ggplot2}</code></p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="evaluación" class="slide level2">
<h2>Evaluación</h2>
<ul>
<li><span class="hl-yellow"><strong>Asistencia</strong></span>. No será obligatoria pero se <span class="hl-purple"><strong>valorará positivamente</strong></span> la participación.</li>
</ul>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Evaluación continua</strong></span>: se han planteado <span class="hl-purple"><strong>4 entregas individuales (5%-15%-25%-30%)</strong></span>, así como una <span class="hl-purple"><strong>entrega final grupal (25%)</strong></span> (entre 4 y 7 personas).</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Examen final</strong></span>: solo <span class="hl-purple"><strong>obligatorio en caso de que en la continua individual (sin contar la grupal) no superes el 3.5 sobre 10</strong></span> de nota media. En caso contrario el día de la entrega final grupal (día del examen oficial de enero) deberás realizar un examen final en lugar de la grupal.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Nota máxima</strong></span>: para tener una nota final superior al 9 deberás tener al menos un 8.5 de nota media en la evaluación continua individual (sin contar la grupal).</li>
</ul>
</div>
</section>
<section id="planificación-entregas" class="slide level2">
<h2>Planificación entregas</h2>
<ul>
<li><p><span class="hl-yellow"><strong>Entrega I (5%)</strong></span>: … (segunda mitad de clase, 60 minutos).</p></li>
<li><p><span class="hl-yellow"><strong>Entrega II (15%)</strong></span>: … (120 minutos).</p></li>
<li><p><span class="hl-yellow"><strong>Entrega III (25%)</strong></span>: … (120 minutos).</p></li>
<li><p><span class="hl-yellow"><strong>Entrega IV (30%)</strong></span>: … de diciembre (120 minutos).</p></li>
</ul>
<p>&nbsp;</p>
<ul>
<li><span class="hl-yellow"><strong>Entrega grupal (25%)</strong> o examen final</span>: … enero (10:00-13:30)</li>
</ul>
<p>&nbsp;</p>
<p>Se podrán modificar las fechas por saturación con otras asignaturas siempre y cuando el/la delegado/a lo solicite con <strong>más de 7 días de antelación</strong>.</p>
</section>
<section id="planificacion" class="slide level2">
<h2>Planificación</h2>
<div class="column-screen-inset-right">
<div style="font-size:20px">
<table>
<thead>
<tr class="header">
<th style="text-align: center;">CLASE</th>
<th style="text-align: center;">SEMANA</th>
<th style="text-align: center;">FECHAS</th>
<th style="text-align: center;">TOPIC</th>
<th style="text-align: center;">EJ.</th>
<th style="text-align: center;">WORKBOOK</th>
<th style="text-align: center;">ENTREGA</th>
<th style="text-align: center;"></th>
<th style="text-align: center;"></th>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a href="#/clase-1">1</a></td>
<td style="text-align: center;">S1</td>
<td style="text-align: center;">9 sep</td>
<td style="text-align: center;">Primeros pasos en R</td>
<td style="text-align: center;"><a href="#/tu-turno-1">💻</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a href="#/clase-2">2</a></td>
<td style="text-align: center;">S1</td>
<td style="text-align: center;">12 sep</td>
<td style="text-align: center;">Tipos básicos de datos y vectores</td>
<td style="text-align: center;"><a href="#/tu-turno-2-1">💻</a> <a href="#/tu-turno-2-2">💻</a></td>
<td style="text-align: center;"><a href="#/caso-practico-2">🐣</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a href="#/clase-3">3</a></td>
<td style="text-align: center;">S2</td>
<td style="text-align: center;">16 sep</td>
<td style="text-align: center;">Textos y primeras bases de datos</td>
<td style="text-align: center;"><a href="#/tu-turno-3-1">💻</a> <a href="#/tu-turno-3-2">💻</a> <a href="#/tu-turno-3-3">💻</a></td>
<td style="text-align: center;"><a href="#/caso-practico-3-1">🐣</a> <a href="#/caso-practico-3-2">🐣</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a href="#/clase-4">4</a></td>
<td style="text-align: center;">S2</td>
<td style="text-align: center;">19 sep</td>
<td style="text-align: center;">Comunicar: apuntes y simulacro de entrega</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"><a href="#/caso-practico-4">🐣</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a href="#/clase-5">5</a></td>
<td style="text-align: center;">S3</td>
<td style="text-align: center;">23 sep</td>
<td style="text-align: center;">Entrega I</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">🎯 5%</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a href="#/clase-6">6</a></td>
<td style="text-align: center;">S3</td>
<td style="text-align: center;">26 sep</td>
<td style="text-align: center;">Estructuras de control</td>
<td style="text-align: center;"><a href="#/tu-turno-6-1">💻</a> <a href="#/tu-turno-6-2">💻</a></td>
<td style="text-align: center;"><a href="#/caso-practico-6">🐣</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a href="#/clase-7">7</a></td>
<td style="text-align: center;">S4</td>
<td style="text-align: center;">30 sep</td>
<td style="text-align: center;">Funciones</td>
<td style="text-align: center;"><a href="#/tu-turno-7">💻</a></td>
<td style="text-align: center;"><a href="#/caso-practico-7">🐣</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a href="#/clase-8">8</a></td>
<td style="text-align: center;">S4</td>
<td style="text-align: center;">3 oct</td>
<td style="text-align: center;">Tidy data</td>
<td style="text-align: center;"><a href="#/tu-turno-8">💻</a></td>
<td style="text-align: center;"><a href="#/caso-practico-8">🐣</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a href="#/clase-9">9</a></td>
<td style="text-align: center;">S5</td>
<td style="text-align: center;">7 oct</td>
<td style="text-align: center;">Entrega II</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">🎯 15%</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a href="#/clase-10">10</a></td>
<td style="text-align: center;">S5</td>
<td style="text-align: center;">10 oct</td>
<td style="text-align: center;">Tidyverse: filas (I)</td>
<td style="text-align: center;">…</td>
<td style="text-align: center;">…</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a href="#/clase-11">11</a></td>
<td style="text-align: center;">S6</td>
<td style="text-align: center;">14 oct</td>
<td style="text-align: center;">Tidyverse: filas (II)</td>
<td style="text-align: center;">…</td>
<td style="text-align: center;">…</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="materiales" class="slide level2">
<h2>Materiales</h2>
<ul>
<li><span class="hl-yellow"><strong>Diapositivas</strong></span>: diapositivas en <code>Quarto</code> disponibles y actualizadas en <strong><a href="https://javieralvarezliebana.es/docencia/R-datascience" class="uri">https://javieralvarezliebana.es/docencia/R-datascience</a></strong>. En el menú de las diapositivas (abajo a la izquierda) tienes una <span class="hl-yellow"><strong>opción para descargarlas en pdf</strong></span> en <code>Tools</code></li>
</ul>
<p>&nbsp;</p>
<ul>
<li><p><span class="hl-yellow"><strong>Material</strong></span>: <a href="https://javieralvarezliebana.es/docencia/R-datascience/material/"><strong>cuadernos de trabajo</strong></a> y materiales extras y <strong>resúmenes de paquetes</strong></p></li>
<li><p><span class="hl-yellow">🗃 <strong>Datos</strong></span>: datasets que usaremos a lo largo de la asignatura, disponibles en <strong><a href="https://javieralvarezliebana.es/docencia/R-datascience/material" class="uri">https://javieralvarezliebana.es/docencia/R-datascience/material</a></strong></p></li>
<li><p><span class="hl-yellow">📚 <strong>Recursos de apoyo</strong></span>: en inglés <a href="https://r4ds.had.co.nz/" class="uri">https://r4ds.had.co.nz/</a> y en castellano <a href="https://cdr-book.github.io/" class="uri">https://cdr-book.github.io/</a>, y <a href="https://ivelasq.quarto.pub/intro-to-quarto/" class="uri">https://ivelasq.quarto.pub/intro-to-quarto/</a> para Quarto.</p></li>
</ul>
</section>
<section id="datasets" class="slide level2">
<h2>Datasets</h2>
<ul>
<li><span class="hl-yellow">🗃 <strong>Datos</strong></span>: datasets que usaremos a lo largo de la asignatura, disponibles en <strong><a href="https://javieralvarezliebana.es/docencia/R-datascience/material" class="uri">https://javieralvarezliebana.es/docencia/R-datascience/material</a></strong></li>
</ul>
<p>&nbsp;</p>
<ul>
<li><p><code>airquality</code> del paquete <code>{datasets}</code> (ya instalado por defecto): medidas diarias (153 observaciones) de la calidad del aire en Nueva York, de mayo a septiembre de 1973. Se midieron <strong>6 variables</strong>: ozono, radiación solar, viento, temperatura, mes y día.</p></li>
<li><p><code>salto_longitud</code>: guarda cómo ha <strong>progresado el récord de salto de longitud masculino</strong>. Tabla extraída de la wikipedia <a href="https://shorturl.at/Wqif1" class="uri">https://shorturl.at/Wqif1</a></p></li>
<li><p><code>pinniped</code> del paquete <code>{Biostatistics}</code>: <strong>peso corporal y cerebral</strong> de 33 especies de pinnípedos (morsas, leones marinos y elefantes marinos) desagregado por sexos y mono/poligamia.</p></li>
</ul>
</section>
<section id="datasets-1" class="slide level2">
<h2>Datasets</h2>
<ul>
<li><span class="hl-yellow">🗃 <strong>Datos</strong></span>: datasets que usaremos a lo largo de la asignatura, disponibles en <strong><a href="https://javieralvarezliebana.es/docencia/R-datascience/material" class="uri">https://javieralvarezliebana.es/docencia/R-datascience/material</a></strong></li>
</ul>
<p>&nbsp;</p>
<ul>
<li><p><code>discursos</code>: recopila los discursos de navidad de los jefes de Estado en España (en dictadura y en democracia) desde 1946 hasta 2021</p></li>
<li><p><code>relig_income</code> del paquete <code>{tidyr}</code>: recopila los datos de ingresos anuales en función de la religión (fuente original <a href="https://www.pewresearch.org/religion/religious-landscape-study/" class="uri">https://www.pewresearch.org/religion/religious-landscape-study/</a>)</p></li>
<li><p><code>who</code> del paquete <code>{tidyr}</code>: datos de la OMS respecto infecciones por tuberculosis, desagregados por tipo de enfermedad, sexo y edad.</p></li>
<li><p><code>billboard</code> del paquete <code>{tidyr}</code>: ranking top 100 de canciones según Billboard (algo parecido a Los 40) para el año 2000.</p></li>
</ul>
</section>
<section>
<section id="clase-1" class="title-slide slide level1 center">
<h1>Clase 1: <span class="flow">primeros pasos</span></h1>
<p><span style="color:#444442;"><strong>Instalando R y RStudio. Primeros pasos. Scripts y proyectos</strong></span></p>
<ul>
<li><a href="#/tu-turno-1">💻 Ejercicios resueltos</a></li>
<li><a href="#/planificacion">📆 Planificación</a></li>
</ul>
</section>
<section id="requisitos" class="slide level2">
<h2>Requisitos</h2>
<p>Para el curso los únicos requisitos serán:</p>
<ol type="1">
<li><span class="hl-yellow"><strong>Conexión a internet</strong></span> (para la descarga de algunos datos y paquetes).</li>
</ol>
<div class="fragment">
<ol start="2" type="1">
<li><span class="hl-yellow"><strong>Instalar R</strong></span>: será nuestro lenguaje. La descarga la haremos (gratuitamente) desde <a href="https://cran.r-project.org/" class="uri">https://cran.r-project.org/</a></li>
</ol>
</div>
<div class="fragment">
<ol start="3" type="1">
<li><span class="hl-yellow"><strong>Instalar RStudio</strong></span> desde <a href="https://posit.co/download/rstudio-desktop/" class="uri">https://posit.co/download/rstudio-desktop/</a></li>
</ol>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/cranR.jpg" width="420"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="img/rstudio.jpg" width="420"></p>
</div>
</div>
</div>
</section>
<section id="r-vs-rstudio" class="slide level2">
<h2>R vs RStudio</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/gramatica.webp" width="360"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="img/word.jpg" width="430"></p>
</div>
</div>
<div class="fragment fade-in-then-out">
<p>Programaremos como escribimos (castellano, por ejemplo) → <code>R</code> es <span class="hl-yellow"><strong>lenguaje</strong></span></p>
</div>
<div class="fragment fade-up">
<ul>
<li>Necesitaremos una <span class="hl-yellow"><strong>gramática, un lenguaje</strong></span> (<code>R</code>)</li>
</ul>
<div class="fragment fade-in">
<ul>
<li>Y un entorno, por ejemplo un <span class="hl-yellow"><strong>Word</strong></span> (<code>RStudio</code>), para escribirlo</li>
</ul>
</div>
</div>
</section>
<section id="instalación-de-r" class="slide level2">
<h2>Instalación de R</h2>
<p>El lenguaje <code>R</code> será nuestra <span class="hl-yellow"><strong>gramática y ortografía</strong></span> (nuestras reglas de juego)</p>
<div>
<ul>
<li class="fragment"><p><span class="hl-yellow"><strong>Paso 1</strong></span>: entra en <a href="https://cran.r-project.org/" class="uri">https://cran.r-project.org/</a> y selecciona tu sistema operativo.</p></li>
<li class="fragment"><p><span class="hl-yellow"><strong>Paso 2</strong></span>: para Mac basta con que hacer click en el <strong>archivo .pkg</strong>, y abrirlo una vez descargado. Para sistemas Windows, debemos clickar en <strong>install R for the first time</strong> y después en <strong>Download R for Windows</strong>. Una vez descargado, abrirlo como cualquier archivo de instalación.</p></li>
<li class="fragment"><p><span class="hl-yellow"><strong>Paso 3</strong></span>: abrir el ejecutable de instalación.</p></li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning</strong></p>
</div>
<div class="callout-content">
<p>Siempre que tengas que descargar algo de CRAN (ya sea el propio R o un paquete), <span class="hl-orange"><strong>asegúrate de tener conexión a internet</strong></span>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="primera-operación" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Primera operación</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p>Para comprobar la instalación, tras abrir <code>R</code>, deberías ver el <code>R GUI</code> (Graphical User Interface) con una <strong>pantalla blanca</strong> similar a esta (<span class="hl-yellow"><strong>consola</strong></span>).</p>
</div><div class="column" style="width:40%;">
<p><img data-src="img/consola.jpg" width="200"></p>
</div>
</div>
<div class="fragment">
<p><span class="hl-yellow"><strong>Primer código</strong></span>: a una variable llamada <code>a</code> le <strong>asignaremos</strong> el valor <code>1</code> (escribiremos el código en la consola y daremos «enter»). Tras ello haremos la suma <code>a + b</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" data-code-line-numbers="1"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb1-1" class="hljs-ln-code"><a href="#cb1-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="primera-operación-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Primera operación</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p>Para comprobar la instalación, tras abrir <code>R</code>, deberías ver el <code>R GUI</code> (Graphical User Interface) con una <strong>pantalla blanca</strong> similar a esta (<span class="hl-yellow"><strong>consola</strong></span>).</p>
</div><div class="column" style="width:40%;">
<p><img data-src="img/consola.jpg" width="200"></p>
</div>
</div>
<p><span class="hl-yellow"><strong>Primer código</strong></span>: a una variable llamada <code>a</code> le <strong>asignaremos</strong> el valor <code>1</code> (escribiremos el código en la consola y daremos «enter»). Tras ello haremos la suma <code>a + b</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb2-1" class="hljs-ln-code"><a href="#cb2-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb2-2" class="hljs-ln-code"><a href="#cb2-2"></a>b <span class="ot">&lt;-</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="primera-operación-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Primera operación</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p>Para comprobar la instalación, tras abrir <code>R</code>, deberías ver el <code>R GUI</code> (Graphical User Interface) con una <strong>pantalla blanca</strong> similar a esta (<span class="hl-yellow"><strong>consola</strong></span>).</p>
</div><div class="column" style="width:40%;">
<p><img data-src="img/consola.jpg" width="200"></p>
</div>
</div>
<p><span class="hl-yellow"><strong>Primer código</strong></span>: a una variable llamada <code>a</code> le <strong>asignaremos</strong> el valor <code>1</code> (escribiremos el código en la consola y daremos «enter»). Tras ello haremos la suma <code>a + b</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb3-1" class="hljs-ln-code"><a href="#cb3-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb3-2" class="hljs-ln-code"><a href="#cb3-2"></a>b <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb3-3" class="hljs-ln-code"><a href="#cb3-3"></a>a <span class="sc">+</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<div class="fragment">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Fíjate que…</strong></p>
</div>
<div class="callout-content">
<p>En la consola aparece un número <code>[1]</code>: simplemente es un contador de elementos (como contar filas en un Word)</p>
</div>
</div>
</div>
</div>
</section>
<section id="instalación-de-r-studio" class="slide level2">
<h2>Instalación de R Studio</h2>
<p><code>RStudio</code> será el <span class="hl-yellow"><strong>Word</strong></span> que usaremos para escribir (lo que se conoce como un <span class="hl-yellow"><strong>IDE: entorno integrado de desarrollo</strong></span>).</p>
<div>
<ul>
<li class="fragment"><p><span class="hl-yellow"><strong>Paso 1</strong></span>: entra la <a href="https://posit.co/download/rstudio-desktop/">web oficial de RStudio</a> (ahora llamado Posit) y selecciona la descarga gratuita.</p></li>
<li class="fragment"><p><span class="hl-yellow"><strong>Paso 2</strong></span>: selecciona el ejecutable que te aparezca acorde a tu sistema operativo.</p></li>
<li class="fragment"><p><span class="hl-yellow"><strong>Paso 3</strong></span>: tras descargar el ejecutable, hay que abrirlo como otro cualquier otro y dejar que termine la instalación.</p></li>
</ul>
</div>
</section>
<section id="organización-de-rstudio" class="slide level2">
<h2>Organización de RStudio</h2>
<p>Al abrir <code>RStudio</code> seguramente tengas tres ventanas:</p>
<ul>
<li><span class="hl-yellow"><strong>Consola</strong></span>: es el nombre para llamar a la ventana grande que te ocupa buena parte de tu pantalla. Prueba a escribir el mismo código que antes (la suma de las variables) en ella. La consola será donde <strong>ejecutaremos órdenes y mostraremos resultados</strong>.</li>
</ul>

<img data-src="img/consola_rstudio.jpg" width="420" class="r-stretch"></section>
<section id="organización-de-rstudio-1" class="slide level2">
<h2>Organización de RStudio</h2>
<p>Al abrir <code>RStudio</code> seguramente tengas tres ventanas:</p>
<ul>
<li><span class="hl-yellow"><strong>Environment</strong></span>: la pantalla pequeña (puedes ajustar los márgenes con el ratón a tu gusto) que tenemos en la parte superior derecha. Nos mostrará las <strong>variables que tenemos definidas</strong>.</li>
</ul>

<img data-src="img/environment.jpg" width="420" class="r-stretch"></section>
<section id="organización-de-rstudio-2" class="slide level2">
<h2>Organización de RStudio</h2>
<p>Al abrir <code>RStudio</code> seguramente tengas tres ventanas:</p>
<ul>
<li><span class="hl-yellow"><strong>Panel multiusos</strong></span>: la ventana que tenemos en la parte inferior derecha no servirá para buscar <strong>ayuda de funciones</strong>, además de para <strong>visualizar gráficos</strong>.</li>
</ul>

<img data-src="img/multiusos.jpg" width="420" class="r-stretch"></section>
<section id="qué-es-r-por-qué-r" class="slide level2">
<h2>¿Qué es R? ¿Por qué R?</h2>

<img data-src="img/meme_barco.jpg" class="r-stretch"></section>
<section id="qué-es-r-por-qué-r-1" class="slide level2">
<h2>¿Qué es R? ¿Por qué R?</h2>

<img data-src="img/incel_excel.png" class="r-stretch"><p><code>R</code> es la evolución del trabajo de los laboratorios Bell con el lenguaje <code>S</code>, que fue llevado al mundo del software libre por Ross Ihaka y Robert Gentleman en los años 90. La version <code>R 1.0.0</code> se publicó el 29 de febrero de 2000.</p>
</section>
<section id="qué-es-r-por-qué-r-2" class="slide level2">
<h2>¿Qué es R? ¿Por qué R?</h2>
<p><code>R</code> es el <span class="hl-yellow"><strong>lenguaje estadístico por excelencia</strong></span>, creado por y para estadísticos/as, con 6 ventajas fundamentales <span class="hl-red"><strong>frente a Excel, SAS, Stata o SPSS</strong></span>:</p>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Lenguaje de programación</strong></span>: la obviedad → análisis <span class="hl-purple"><strong>replicables</strong></span></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Gratuito</strong></span>: la filosofía de la comunidad de <code>R</code> es el compartir código bajo <strong>copyleft</strong> → <strong>uso ético de dinero y algoritmos</strong></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Software libre</strong></span>: no solo es gratis sino que permite acceder libremente a código ajeno, incluso al <strong>propio código fuente</strong> → <span class="hl-purple"><strong>flexibilidad y transparencia</strong></span> (Free and Open Source Software FOSS)</li>
</ul>
</div>
</section>
<section id="qué-es-r-por-qué-r-3" class="slide level2">
<h2>¿Qué es R? ¿Por qué R?</h2>
<p><code>R</code> es el <span class="hl-yellow"><strong>lenguaje estadístico por excelencia</strong></span>, creado por y para estadísticos/as, con 6 ventajas fundamentales <span class="hl-red"><strong>frente a Excel, SAS, Stata o SPSS</strong></span>:</p>
<ul>
<li><span class="hl-yellow"><strong>Lenguaje modular</strong></span>: hemos instalado lo mínimo, pero existen códigos de otras personas que podemos reusar (casi 20 000 <span class="hl-yellow"><strong>paquetes</strong></span>) → <span class="hl-purple"><strong>ahorro de tiempo</strong></span> e <span class="hl-purple"><strong>innovación inmediata</strong></span></li>
</ul>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Lenguaje de alto nivel</strong></span>: facilita la programación (como Python) → <span class="hl-purple"><strong>menor curva de aprendizaje</strong></span></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Comunidad y empleabilidad</strong></span>: junto con Python es el lenguaje más utilizado en el campo de la estadística y la ciencia de datos en investigación, docencia, empresas (Línea Directa, Mapfre, Telefónica, Orange, Apple, Spotify, Netflix, El País, Civio, HP, etc) y organismos públicos (ISCIII, CNIC, CNIO, INE, IGN, CIS, CEO, DGT, AEMET, RTVE, etc)</li>
</ul>
</div>
</section>
<section id="por-qué-programar" class="slide level2">
<h2>¿Por qué programar?</h2>
<ul>
<li><p><span class="hl-yellow"><strong>Automatizar</strong></span> → te permitirá automatizar tareas recurrentes.</p></li>
<li><p><span class="hl-yellow"><strong>Replicabilidad</strong></span> → podrás replicar tu análisis siempre de la misma manera.</p></li>
<li><p><span class="hl-yellow"><strong>Flexibilidad</strong></span> → podrás adaptar el software a tus necesidades.</p></li>
<li><p><span class="hl-yellow"><strong>Transparencia</strong></span> → ser auditado por la comunidad.</p></li>
</ul>

<img data-src="img/the_general_problem.png" class="r-stretch"></section>
<section id="idea-fundamental-paquetes" class="slide level2">
<h2>Idea fundamental: paquetes</h2>
<p>Una de las ideas claves de <code>R</code> es el <span class="hl-yellow"><strong>uso de paquetes</strong></span>: códigos que otras personas han implementado para <strong>resolver un problema</strong></p>
<div class="columns">
<div class="column" style="width:35%;">
<p><img data-src="img/paquetes.png"></p>
</div><div class="column" style="width:65%;">
<div class="fragment" data-fragment-index="1">
<ul>
<li><span class="hl-yellow"><strong>Instalación</strong></span>: descargamos los códigos de la web (necesitamos internet) → <span class="hl-purple"><strong>comprar un libro</strong></span>, solo una vez (por ordenador)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">install.packages</span>(<span class="st">"ggplot2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment" data-fragment-index="2">
<ul>
<li><span class="hl-yellow"><strong>Carga</strong></span>: con el paquete descargado, indicamos qué paquetes queremos usar cada vez que abramos <code>RStudio</code> → <span class="hl-purple"><strong>traer el libro de la estantería</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="idea-fundamental-paquetes-1" class="slide level2">
<h2>Idea fundamental: paquetes</h2>
<div class="columns">
<div class="column" style="width:35%;">
<p><img data-src="img/paquetes.png"></p>
</div><div class="column" style="width:65%;">
<p>Una vez instalado, hay <strong>dos manera de usar un paquete</strong> (traerlo de la estantería)</p>
<div class="fragment" data-fragment-index="1">
<ul>
<li><span class="hl-yellow"><strong>Paquete entero</strong></span>: con <code>library()</code>, usando el nombre del paquete sin comillas, cargamos en la sesión <span class="hl-purple"><strong>todo el libro</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment" data-fragment-index="2">
<ul>
<li><span class="hl-yellow"><strong>Funciones concretas</strong></span> usando <code>paquete::funcion</code> le índicamos que solo queremos una <span class="hl-purple"><strong>página concreta de ese libro</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>ggplot2<span class="sc">::</span><span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="te-vas-equivocar" class="slide level2">
<h2>Te vas equivocar</h2>
<p>Durante tu aprendizaje va a ser muy habitual que las cosas no salgan a la primera → <span class="hl-yellow"><strong>te vas equivocar</strong></span>. No solo será importante asumirlo sino que es <span class="hl-yellow"><strong>importante leer los mensajes de error</strong></span> para aprender de ellos.</p>
<div class="fragment">
<ul>
<li><span class="hl-red"><strong>Mensajes de error</strong></span>: precedidos de <strong>«Error in…»</strong> y serán aquellos fallos que <span class="hl-red"><strong>impidan la ejecución</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="st">"a"</span> <span class="sc">+</span> <span class="dv">1</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in "a" + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li><span class="hl-orange"><strong>Mensajes de warning</strong></span>: precedidos de <strong>«Warning in…»</strong> son los (posibles) fallos más delicados ya que son incoherencias que <span class="hl-orange"><strong>no impiden la ejecución</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># Ejecuta la orden pero el resultado es NaN, **Not A Number**, un valor que no existe</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="fu">sqrt</span>(<span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in sqrt(-1): NaNs produced</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NaN</code></pre>
</div>
</div>
</div>
</section>
<section id="scripts-documentos-.r" class="slide level2">
<h2>Scripts (documentos .R)</h2>
<div class="columns">
<div class="column" style="width:35%;">
<p><img data-src="img/abrir_script.jpg" width="350"></p>
</div><div class="column" style="width:65%;">
<p>Un <span class="hl-yellow"><strong>script</strong></span> será el documento en el que programamos, nuestro archivo <code>.doc</code> (aquí con extensión <code>.R</code>) donde escribiremos las órdenes. Para <strong>abrir nuestro primero script</strong>, haz click en el menú en <code>File &lt; New File &lt; R Script</code>.</p>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Cuidado</strong></p>
</div>
<div class="callout-content">
<p>Es importante <strong>no abusar de la consola</strong>: todo lo que no escribas en un script, cuando cierres, <span class="hl-orange"><strong>lo habrás perdido</strong></span>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Cuidado</strong></p>
</div>
<div class="callout-content">
<p><code>R</code> es <span class="hl-orange"><strong>case-sensitive</strong></span>: es sensible a mayúsculas y minúsculas por lo que <code>x</code> y <code>X</code> representa variables distintas.</p>
</div>
</div>
</div>
</section>
<section id="ejecutando-el-primer-script" class="slide level2">
<h2>Ejecutando el primer script</h2>
<p>Ahora tenemos una <strong>cuarta ventana</strong>: la ventana donde <span class="hl-yellow"><strong>escribiremos nuestros códigos</strong></span>. ¿Cómo ejecutarlo?</p>
<div class="fragment">
<ol type="1">
<li><strong>Escribimos</strong> el código a ejecutar.</li>
</ol>
</div>
<div class="fragment">
<ol start="2" type="1">
<li><strong>Guardamos</strong> el archivo .R haciendo click en <code>Save current document</code>.</li>
</ol>
</div>
<div class="fragment">
<ol start="3" type="1">
<li>El código no se ejecuta salvo que se lo indiquemos. Tenemos <strong>tres opciones de ejecutar un script</strong>:</li>
</ol>
<ul>
<li><span class="hl-yellow"><strong>Copiar y pegar</strong></span> en consola.</li>
<li><span class="hl-yellow"><strong>Seleccionar líneas</strong></span> y <code>Ctrl+Enter</code></li>
<li><span class="hl-yellow"><strong>Activar Source on save</strong></span> a la derecha de guardar: no solo guarda sino que ejecuta el código <strong>completo</strong>.</li>
</ul>
</div>
</section>
<section id="sé-organizado-proyectos" class="slide level2">
<h2>Sé organizado: proyectos</h2>
<p>De la misma manera que en el ordenador solemos trabajar de manera <span class="hl-yellow"><strong>ordenada por carpetas</strong></span>, en <code>RStudio</code> podemos hacer lo mismo para trabajar de <span class="hl-yellow"><strong>manera eficaz creando proyectos</strong></span>.</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:60%;">
<p>Un <span class="hl-yellow"><strong>proyecto será una «carpeta»</strong></span> dentro de <code>RStudio</code>, de manera que nuestro directorio raíz automáticamente será la propia carpeta de proyecto (pudiendo pasar de un proyecto a otro con el menu superior derecho).</p>
<p>Podemos crear uno en una carpeta nueva o en una carpeta ya existente.</p>
</div><div class="column" style="width:40%;">
<p><img data-src="img/rstudio_proyectos.png" width="370"></p>
</div>
</div>
</div>
</section>
<section id="tu-turno-1" class="slide level2">
<h2>💻 Tu turno</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-1-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-1-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-1-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-1-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li><li><a href="#tabset-1-6"><span class="hl-yellow"><strong>Ejercicio 6</strong></span></a></li><li><a href="#tabset-1-7"><span class="hl-yellow"><strong>Ejercicio 7</strong></span></a></li><li><a href="#tabset-1-8"><span class="hl-yellow"><strong>Ejercicio 8</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<p>📝 Crea en tu ordenador una carpeta de la asignatura y crea dentro de ella el proyecto de <code>RStudio</code>: es ahí donde vas a guardar todo lo que hagamos a lo largo de este curso.Tras crear el proyecto tendrás un archivo <code>R Project</code>. A continuación crea en dicha carpeta dos subcarpetas: <code>datos</code> (es ahí donde irás guardando los distintos datasets que usaremos) y <code>scripts</code> (es ahí donde irás guardando los archivos <code>.R</code> de cada clase)</p>
</div>
<div id="tabset-1-2">
<p>📝 Dentro del proyecto crea un script <code>ejercicios-clase1.R</code> (dentro de la carpeta <code>scripts</code>). Una vez creado define en él una variable de nombre <code>a</code> y cuyo valor sea -1. Ejecuta el código de las 3 maneras explicadas.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>a <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-3">
<p>📝 Añade debajo otra línea para definir una variable <code>b</code> con el valor 5. Tras ello guarda la multiplicación de ambas variables. Ejecuta el código como consideres.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>b <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>a <span class="sc">*</span> b <span class="co"># sin guardar</span></span>
<span id="cb15-3"><a href="#cb15-3"></a>multiplicacion <span class="ot">&lt;-</span> a <span class="sc">*</span> b <span class="co"># guardado</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-4">
<p>📝 Modifica el código inferior para definir dos variables c y d, con valores 3 y -1. Tras ello divide las variables y guarda el resultado.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>c <span class="ot">&lt;-</span> <span class="co"># deberías asignarle el valor 3</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>d <span class="ot">&lt;-</span> <span class="co"># deberías asignarle el valor -1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>c <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>d <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb17-3"><a href="#cb17-3"></a>c <span class="sc">/</span> d <span class="co"># sin guardar</span></span>
<span id="cb17-4"><a href="#cb17-4"></a>division <span class="ot">&lt;-</span> c <span class="sc">/</span> d <span class="co"># guardado</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-5">
<p>📝 Asigna un valor positivo a <code>x</code> y calcula su raíz cuadrada; asigna otro negativo <code>y</code> y calcula su valor absoluto con la función <code>abs()</code>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="fu">sqrt</span>(x)</span>
<span id="cb18-3"><a href="#cb18-3"></a></span>
<span id="cb18-4"><a href="#cb18-4"></a>y <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">2</span></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="fu">abs</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Toma nota</strong></p>
</div>
<div class="callout-content">
<p>Comandos como <code>sqrt()</code>, <code>abs()</code> o <code>max()</code> son lo que llamamos <span class="hl-purple"><strong>funciones</strong></span>: líneas de código que hemos «encapsulado» bajo un nombre, y dado unos argumentos de entrada, ejecuta las órdenes (una especie de atajo). En las funciones los <span class="hl-yellow"><strong>argumentos irán SIEMPRE entre paréntesis</strong></span></p>
</div>
</div>
</div>
</div>
<div id="tabset-1-6">
<p>📝 Usando la variable <code>x</code> ya definida, completa/modifica el código inferior para guardar en una nueva variable <code>z</code> el resultado guardado en <code>x</code> menos 5.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>z <span class="ot">&lt;-</span> ? <span class="sc">-</span> ? <span class="co"># completa el código</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>z <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="dv">5</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-7">
<p>📝 Define una variable <code>x</code> y asígnale el valor <code>-1</code>. Define otra <code>y</code> y asígnale el valor <code>0</code>. Tras ello realiza las operaciones a) <code>x</code> entre <code>y</code>; b) raíz cuadrada de <code>x</code>. ¿Qué obtienes?</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>x <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb21-2"><a href="#cb21-2"></a>y <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb21-3"><a href="#cb21-3"></a></span>
<span id="cb21-4"><a href="#cb21-4"></a>x <span class="sc">/</span> y</span>
<span id="cb21-5"><a href="#cb21-5"></a><span class="fu">sqrt</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-8">
<p>📝 Escribe el código inferior en tu script. ¿Por qué crees que no funciona?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>x <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>y <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb22-3"><a href="#cb22-3"></a></span>
<span id="cb22-4"><a href="#cb22-4"></a>X <span class="sc">+</span> y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'X' not found</code></pre>
</div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="clase-2" class="title-slide slide level1 center">
<h1>Clase 2: <span class="flow">primeros datos y vectores</span></h1>
<p><span style="color:#444442;"><strong>¿Qué tipos de celdas (datos) existen? Concatenando celdas: vectores</strong></span></p>
<ul>
<li><p><a href="#/tu-turno-2-1">💻 Ejercicios resueltos: tipos de datos</a></p></li>
<li><p><a href="#/tu-turno-2-2">💻 Ejercicios resueltos: vectores</a></p></li>
<li><p><a href="#/caso-práctico-2">🐣 Workbook/caso práctico</a></p></li>
<li><p><a href="#/planificacion">📆 Planificación</a></p></li>
</ul>
</section>
<section id="de-la-celda-a-la-tabla" class="slide level2">
<h2>De la CELDA a la TABLA</h2>
<p>¿Qué <span class="hl-yellow"><strong>tipo de dato</strong></span> podemos tener en cada celda de una <strong>tabla</strong>?</p>

<img data-src="img/celdas.jpg" class="r-stretch"><div>
<ul>
<li class="fragment"><span class="hl-yellow"><strong>Celda</strong></span>: dato individual de un tipo concreto.</li>
<li class="fragment"><span class="hl-yellow"><strong>Variable</strong></span>: <strong>concatenación</strong> de valores del mismo tipo (<span class="hl-purple"><strong>vectores en R</strong></span>).</li>
<li class="fragment"><span class="hl-yellow"><strong>Matriz</strong></span>: concatenación de variables del <strong>mismo tipo y longitud</strong>.</li>
<li class="fragment"><span class="hl-yellow"><strong>Tabla</strong></span>: concatenación de variables de <span class="hl-purple"><strong>distinto tipo pero igual longitud</strong></span></li>
<li class="fragment"><span class="hl-yellow"><strong>Lista</strong></span>: concatenación de variables de <span class="hl-purple"><strong>distinto tipo y distinta longitud</strong></span></li>
</ul>
</div>
</section>
<section id="pero-antesbuenas-prácticas" class="slide level2">
<h2>Pero antes…buenas prácticas</h2>
<p>Antes de seguir, es importante que sepas algo cuánto antes: <span class="hl-yellow"><strong>empezar en la programación puede ser frustrante</strong></span></p>
<div class="fragment">
<p>Al igual que cuando aprendes un idioma nuevo, el primer obstáculo a solventar no es tanto qué decir sino cómo decirlo de manera correcta. Y en <code>R</code> pasa lo mismo, así que vamos a <span class="hl-yellow"><strong>normalizar nuestra forma de programar</strong></span> lo máximo posible para evitar errores futuros.</p>
</div>
<div class="fragment">
<ul>
<li><span class="hl-green"><strong>Tip 1</strong></span>: <span class="hl-yellow"><strong>asignar, evaluar y comparar no es lo mismo</strong></span>. Si te has fijado en <code>R</code> estamos usando <code>&lt;-</code> para asignar valores a variables. Usaremos <code>=</code> para evaluar argumentos en funciones y <code>==</code> para saber si dos elementos son iguales.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co"># asignar</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>x <span class="ot">=</span> <span class="dv">1</span> <span class="co"># evaluar</span></span>
<span id="cb24-3"><a href="#cb24-3"></a>x <span class="sc">==</span> <span class="dv">1</span> <span class="co"># comparar</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="pero-antesbuenas-prácticas-1" class="slide level2">
<h2>Pero antes…buenas prácticas</h2>
<ul>
<li><span class="hl-green"><strong>Tip 2</strong></span>: programa como escribes. Al igual que cuando redactas en castellano, acostúmbrate a incorporar <span class="hl-yellow"><strong>espacios y saltos de línea</strong></span> paranoquedarteciego (es una buena práctica y no un requisito porque <code>R</code> no procesa los espacios)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co"># óptimo</span></span>
<span id="cb25-2"><a href="#cb25-2"></a>x<span class="ot">&lt;-</span><span class="dv">1</span> <span class="co"># regu</span></span>
<span id="cb25-3"><a href="#cb25-3"></a>x<span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co"># peor (decídete)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<ul>
<li><span class="hl-green"><strong>Tip 3</strong></span>: no seas caótico/a, <span class="hl-yellow"><strong>estandariza nombres</strong></span>. Acostúmbrate siempre a nombrar las variables de la misma manera. El único requisito es que <strong>debe empezar siempre por una letra</strong> (y sin tildes). La forma más recomendable es la conocida como <code>snake_case</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>variable_en_modo_snake_case</span>
<span id="cb26-2"><a href="#cb26-2"></a>otraFormaMasDificilDeLeer</span>
<span id="cb26-3"><a href="#cb26-3"></a>hay.gente.que.usa.esto</span>
<span id="cb26-4"><a href="#cb26-4"></a>Incluso_Haygente.Caotica_que.NoMereceNuestraATENCION</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="pero-antesbuenas-prácticas-2" class="slide level2">
<h2>Pero antes…buenas prácticas</h2>
<ul>
<li><span class="hl-green"><strong>Tip 4</strong></span>: facilita la lectura y escritura, <span class="hl-yellow"><strong>pon límites</strong></span>. En <code>Tools &lt; Global Options</code> puedes personalizar algunas opciones de <code>RStudio</code>. En <code>Code &lt; Display</code> podemos indicarle en <code>Show margin</code> que los scripts nos muestren un margen “imaginario” (no interacciona con el código) para “forzarnos” a realizar un salto de línea.</li>
</ul>

<img data-src="img/show_margin.jpg" class="r-stretch"></section>
<section id="pero-antesbuenas-prácticas-3" class="slide level2">
<h2>Pero antes…buenas prácticas</h2>
<ul>
<li><span class="hl-green"><strong>Tip 5</strong></span>: el <span class="hl-yellow"><strong>tabulador es tu mejor amigo</strong></span>. En <code>RStudio</code> tenemos una herramienta maravillosa: si escribes parte del nombre de una variable o función y tabulas, <code>RStudio</code> te autocompleta</li>
</ul>

<img data-src="img/tab-autocompletar.png" class="r-stretch"></section>
<section id="pero-antesbuenas-prácticas-4" class="slide level2">
<h2>Pero antes…buenas prácticas</h2>
<ul>
<li><span class="hl-green"><strong>Tip 6</strong></span>: ni un paréntesis soltero. Siempre que abras un paréntesis deberás cerrarlo. Para facilitar esta tarea entra en <code>Tools &lt; Global Options &lt; Code &lt; Display</code> y activa la opción <code>Rainbow parentheses</code></li>
</ul>

<img data-src="img/rainbow-parentheses.jpg" class="r-stretch"></section>
<section id="pero-antesbuenas-prácticas-5" class="slide level2">
<h2>Pero antes…buenas prácticas</h2>
<ul>
<li><span class="hl-green"><strong>Tip 7</strong></span>: fíjate en el lateral izquierdo. No solo podrás ver la línea de código por la que vas sino que, en caso de estar cometiendo un <span class="hl-red"><strong>error de sintaxis</strong></span>, el propio <code>RStudio</code> te avisará.</li>
</ul>

<img data-src="img/rstudio-error-sintaxis.png" class="r-stretch"><ul>
<li><span class="hl-green"><strong>Tip 8</strong></span>: intenta <span class="hl-yellow"><strong>trabajar siempre por proyectos</strong></span> (para esta clase, crea un script <code>clase2.R</code> en el proyecto que creamos en la anterior clase)</li>
</ul>
<p>&nbsp;</p>
<p>Ver más tips en <a href="https://r4ds.had.co.nz/workflow-basics.html#whats-in-a-name" class="uri">https://r4ds.had.co.nz/workflow-basics.html#whats-in-a-name</a></p>
</section>
<section id="celdas-tipos-de-datos" class="slide level2">
<h2>Celdas: tipos de datos</h2>
<p>¿Existen <span class="hl-yellow"><strong>variables más allá de los números en la ciencia de datos</strong></span>? Piensa por ejemplo en los datos que podrías guardar de una persona:</p>
<div class="fragment fade-up">
<ul>
<li>La edad o el peso será un <span class="hl-yellow"><strong>número</strong></span>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>edad <span class="ot">&lt;-</span> <span class="dv">33</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment fade-up">
<ul>
<li>Su nombre será una cadena de <span class="hl-yellow"><strong>texto (conocida como string o char)</strong></span>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>nombre <span class="ot">&lt;-</span> <span class="st">"javi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment fade-up">
<ul>
<li>A la pregunta «¿estás matriculado en la Facultad?» la respuesta será lo que llamamos una <span class="hl-yellow"><strong>variable lógica</strong></span> (<code>TRUE</code> si está matriculado o <code>FALSE</code> en otro caso).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>matriculado <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment fade-up">
<ul>
<li>Su fecha de nacimiento será precisamente eso, una <span class="hl-yellow"><strong>fecha</strong></span>.</li>
</ul>
</div>
</section>
<section id="variables-numéricas" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Variables numéricas</h2>
<p>El dato más sencillo (ya lo hemos usado) serán las <span class="hl-yellow"><strong>variables numéricas</strong></span>. Para saber la <span class="hl-yellow"><strong>clase de dato en R</strong></span> de una variable tenemos la función <code>class()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30" data-code-line-numbers="1"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb30-1" class="hljs-ln-code"><a href="#cb30-1"></a>a <span class="ot">&lt;-</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="variables-numéricas-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Variables numéricas</h2>
<p>El dato más sencillo (ya lo hemos usado) serán las <span class="hl-yellow"><strong>variables numéricas</strong></span>. Para saber la <span class="hl-yellow"><strong>clase de dato en R</strong></span> de una variable tenemos la función <code>class()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>a <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="fu">class</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Para saber su <span class="hl-yellow"><strong>tipología (naturaleza o formato)</strong></span> variable tenemos <code>typeof()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="fu">typeof</span>(<span class="dv">1</span>) <span class="co"># 1 pero almacenado como un valor real (double, con decimales)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">typeof</span>(<span class="fu">as.integer</span>(<span class="dv">1</span>)) <span class="co"># 1 pero almacenado como un entero.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Fíjate que…</strong></p>
</div>
<div class="callout-content">
<p>En <code>R</code> tenemos una colección de funciones que empiezan por <code>as.x()</code> y que sirven como <span class="hl-yellow"><strong>funciones de conversión</strong></span>: un dato que era de un tipo, lo convertimos a tipo <code>x</code>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="variables-numéricas-2" class="slide level2">
<h2>Variables numéricas</h2>
<p>Además de los números «normales» tendremos el <span class="hl-yellow"><strong>valor más/menos infinito</strong></span> codificado como <code>Inf</code> o <code>-Inf</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="dv">1</span><span class="sc">/</span><span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Inf</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="sc">-</span><span class="dv">1</span><span class="sc">/</span><span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -Inf</code></pre>
</div>
</div>
<div class="fragment">
<p>Y valores que <span class="hl-yellow"><strong>no son números reales</strong></span> <em>not a number</em> (indeterminaciones, complejos, etc) codificado como <code>NaN</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="dv">0</span><span class="sc">/</span><span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NaN</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="fu">sqrt</span>(<span class="sc">-</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NaN</code></pre>
</div>
</div>
</div>
</section>
<section id="variables-numéricas-3" class="slide level2">
<h2>Variables numéricas</h2>
<p>Con las variables numéricas podemos realizar las <span class="hl-yellow"><strong>operaciones aritméticas</strong></span> de una calculadora: sumar (<code>+</code>)…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>a <span class="sc">+</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
</div>
<div class="fragment">
<p>…raíz cuadrada (<code>sqrt()</code>)…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="fu">sqrt</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.236068</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>… potencias (<code>^2</code>, <code>^3</code>)…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>a<span class="sc">^</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 25</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>…valor absoluto (<code>abs()</code>), etc.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a><span class="fu">abs</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
</div>
</section>
<section id="variables-de-texto" class="slide level2">
<h2>Variables de texto</h2>
<p>Imagina que además de la edad de una persona queremos guardar su nombre: ahora la variable será de tipo <code>character</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>nombre <span class="ot">&lt;-</span> <span class="st">"Javier"</span></span>
<span id="cb52-2"><a href="#cb52-2"></a><span class="fu">class</span>(nombre)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<div class="fragment">
<p>Las <span class="hl-yellow"><strong>cadenas de texto</strong></span> son un tipo con el que obviamente <span class="hl-red"><strong>no podremos hacer operaciones aritméticas</strong></span> (sí otras operaciones como pegar o localizar patrones).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>nombre <span class="sc">+</span> <span class="dv">1</span> <span class="co"># error al sumar número a texto</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in nombre + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Recuerda que…</strong></p>
</div>
<div class="callout-content">
<p>Las variables de tipo texto (character o string) van <span class="hl-orange"><strong>SIEMPRE entre comillas</strong></span>: no es lo mismo <code>TRUE</code> (valor lógico, binario) que <code>"TRUE"</code> (texto).</p>
</div>
</div>
</div>
</div>
</section>
<section id="primera-función-paste" class="slide level2">
<h2>Primera función: paste</h2>
<p>Como hemos comentado <code>R</code> llamaremos <span class="hl-yellow"><strong>función</strong></span> a un trozo de <span class="hl-yellow"><strong>código encapsulado</strong></span> bajo un nombre, y que depende de unos <span class="hl-yellow"><strong>argumentos</strong></span> de entrada. Nuestra primera función será <code>paste()</code>: dadas dos cadenas de texto nos permite pegarlas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a><span class="fu">paste</span>(<span class="st">"Javier"</span>, <span class="st">"Álvarez"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Javier Álvarez"</code></pre>
</div>
</div>
<div class="fragment">
<p>Fíjate que <span class="hl-yellow"><strong>por defecto</strong></span> nos pega las cadenas con un espacio, pero podemos añadir un <span class="hl-yellow"><strong>argumento opcional</strong></span> para indicarle el separador (en <code>sep = ...</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="fu">paste</span>(<span class="st">"Javier"</span>, <span class="st">"Álvarez"</span>, <span class="at">sep =</span> <span class="st">"*"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Javier*Álvarez"</code></pre>
</div>
</div>
</div>
</section>
<section id="primera-función-paste-1" class="slide level2">
<h2>Primera función: paste</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/paste_help.jpg"></p>
</div><div class="column" style="width:50%;">
<p>¿Cómo saber <span class="hl-yellow"><strong>qué argumentos necesita una función</strong></span>? Escribiendo en consola <code>? paste</code> te aparecerá una <span class="hl-yellow"><strong>ayuda</strong></span> en el panel multiusos.</p>
<p>En dicha ayuda podrás ver en su cabecera que argumentos ya tiene <span class="hl-yellow"><strong>asignados por defecto</strong></span> la función</p>
</div>
</div>
<div class="fragment">
<p>Existe una función similar llamada <code>paste0()</code> que pega por defecto con <code>sep = ""</code> (sin nada).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="fu">paste0</span>(<span class="st">"Javier"</span>, <span class="st">"Álvarez"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "JavierÁlvarez"</code></pre>
</div>
</div>
</div>
</section>
<section id="primera-función-paste-2" class="slide level2">
<h2>Primera función: paste</h2>
<p>Los argumentos (y su detalle) también pueden ser consultado <strong>tabulando (detras una coma)</strong>.</p>

<img data-src="img/tab-functions.png" class="r-stretch"></section>
<section id="funciones-argumentos-por-defecto" class="slide level2">
<h2>Funciones: argumentos por defecto</h2>
<p>Es muy importante entender el concepto de <span class="hl-yellow"><strong>argumento por defecto de una función</strong></span> en <code>R</code>: es un valor que la función usa pero a veces podemos no ver porque <span class="hl-yellow"><strong>ya tiene un valor asignado</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a><span class="co"># Hacen lo mismo</span></span>
<span id="cb62-2"><a href="#cb62-2"></a><span class="fu">paste</span>(<span class="st">"Javier"</span>, <span class="st">"Álvarez"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Javier Álvarez"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a><span class="fu">paste</span>(<span class="st">"Javier"</span>, <span class="st">"Álvarez"</span>, <span class="at">sep =</span> <span class="st">" "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Javier Álvarez"</code></pre>
</div>
</div>
<div class="fragment">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Toma nota</strong></p>
</div>
<div class="callout-content">
<p>El operador <code>=</code> lo <span class="hl-yellow"><strong>reservaremos para asignar argumentos</strong></span> dentro de funciones. Para todas las demás asignaciones usaremos <code>&lt;-</code></p>
</div>
</div>
</div>
</div>
</section>
<section id="primer-paquete-glue" class="slide level2">
<h2>Primer paquete: glue</h2>
<p>Una forma más intuitiva de trabajar con textos es usar el paquete <code>{glue}</code>: lo primero que haremos será «comprar el libro» (si nunca lo hemos hecho). Tras ello <span class="hl-yellow"><strong>cargamos el paquete</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a><span class="fu">install.packages</span>(<span class="st">"glue"</span>) <span class="co"># solo la primra vez</span></span>
<span id="cb66-2"><a href="#cb66-2"></a><span class="fu">library</span>(glue)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Con la función <code>glue()</code> de dicho paquete podemos usar <span class="hl-yellow"><strong>variables dentro de cadenas de texto</strong></span>. Por ejemplo, «la edad es de … años», donde la edad está guardada en una variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a>edad <span class="ot">&lt;-</span> <span class="dv">33</span></span>
<span id="cb67-2"><a href="#cb67-2"></a><span class="fu">glue</span>(<span class="st">"La edad es de {edad} años"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>La edad es de 33 años</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>Dentro de las llaves también podemos <span class="hl-yellow"><strong>ejecutar operaciones</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a>unidades <span class="ot">&lt;-</span> <span class="st">"días"</span></span>
<span id="cb69-2"><a href="#cb69-2"></a><span class="fu">glue</span>(<span class="st">"La edad es de {edad * 365} {unidades}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>La edad es de 12045 días</code></pre>
</div>
</div>
</div>
</section>
<section id="variables-lógicas" class="slide level2">
<h2>Variables lógicas</h2>
<p>Otro tipo fundamental serán las <span class="hl-yellow"><strong>variables lógicas o binarias</strong></span> (<strong>dos valores</strong>):</p>
<ul>
<li><code>TRUE</code>: <span class="hl-yellow"><strong>verdadero</strong></span> guardado internamente como un 1.</li>
<li><code>FALSE</code>: <span class="hl-yellow"><strong>falso</strong></span> guardado internamente como un 0.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a>soltero <span class="ot">&lt;-</span> <span class="cn">TRUE</span> <span class="co"># ¿Es soltero? --&gt; SÍ</span></span>
<span id="cb71-2"><a href="#cb71-2"></a><span class="fu">class</span>(soltero)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "logical"</code></pre>
</div>
</div>
<div class="fragment">
<p>Dado que internamente están guardados como variables binarias, podemos <span class="hl-yellow"><strong>realizar operaciones aritméticas</strong></span> con ellas</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a><span class="dv">2</span> <span class="sc">*</span> <span class="cn">TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a><span class="cn">FALSE</span> <span class="sc">-</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -1</code></pre>
</div>
</div>
</div>
</section>
<section id="variables-lógicas-1" class="slide level2">
<h2>Variables lógicas</h2>
<p>Como veremos en breve, las variables lógicas en realidad puede tomar un tercer valor: <code>NA</code> o <span class="hl-yellow"><strong>dato ausente</strong></span>, representando las siglas de <em>not available</em>, y será muy habitual encontrarlo dentro de una base de datos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a>ausente <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb77-2"><a href="#cb77-2"></a>ausente <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<div class="fragment">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Importante</strong></p>
</div>
<div class="callout-content">
<p>Las variables lógicas <span class="hl-red"><strong>NO son variables de texto</strong></span>: <code>"TRUE"</code> es un texto, <code>TRUE</code> es un valor lógico.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a><span class="cn">TRUE</span> <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a><span class="st">"TRUE"</span> <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in "TRUE" + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="condiciones-lógicas" class="slide level2">
<h2>Condiciones lógicas</h2>
<p>Los valores lógicos suelen ser resultado de <span class="hl-yellow"><strong>evaluar condiciones lógicas</strong></span>. Por ejemplo, imaginemos que queremos <span class="hl-yellow"><strong>comprobar</strong></span> si una persona se llama Javi.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a>nombre <span class="ot">&lt;-</span> <span class="st">"María"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Con el <span class="hl-yellow"><strong>operador lógico</strong></span> <code>==</code> preguntamos sí lo que tenemos guardado a la izquierda es <span class="hl-purple"><strong>igual que</strong></span> lo que tenemos a la derecha: es una <span class="hl-yellow"><strong>pregunta</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a>nombre <span class="sc">==</span> <span class="st">"Javi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>Con su opuesto <code>!=</code> preguntamos <span class="hl-purple"><strong>si es distinto</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a>nombre <span class="sc">!=</span> <span class="st">"Javi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Fíjate que…</strong></p>
</div>
<div class="callout-content">
<p>No es lo mismo <code>&lt;-</code> (<span class="hl-yellow"><strong>asignación</strong></span>) que <code>==</code> (estamos <span class="hl-yellow"><strong>preguntando</strong></span>, es una comparación lógica).</p>
</div>
</div>
</div>
</div>
</section>
<section id="condiciones-lógicas-1" class="slide level2">
<h2>Condiciones lógicas</h2>
<p>Además de las comparaciones «igual a» frente «distinto», también comparaciones de orden como <span class="hl-purple"><strong>menor que</strong></span> <code>&lt;</code>, <span class="hl-purple"><strong>mayor que</strong></span> <code>&gt;</code>, <code>&lt;=</code> o <code>&gt;=</code>.</p>
<p><strong>¿Tiene la persona menos de 32 años?</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1"></a>edad <span class="ot">&lt;-</span> <span class="dv">34</span></span>
<span id="cb88-2"><a href="#cb88-2"></a>edad <span class="sc">&lt;</span> <span class="dv">32</span> <span class="co"># ¿Es la edad menor de 32 años?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<div class="fragment">
<p><strong>¿La edad es mayor o igual que 38 años?</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a>edad <span class="sc">&gt;=</span> <span class="dv">38</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p><strong>¿El nombre guardado es Javi?</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a>nombre <span class="ot">&lt;-</span> <span class="st">"Javi"</span></span>
<span id="cb92-2"><a href="#cb92-2"></a>nombre <span class="sc">==</span> <span class="st">"Javi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</div>
</section>
<section id="variables-de-fecha" class="slide level2">
<h2>Variables de fecha</h2>
<p>Un tipo de datos muy especial: los <span class="hl-yellow"><strong>datos de tipo fecha</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1"></a>fecha_char <span class="ot">&lt;-</span> <span class="st">"2021-04-21"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Parece una simple cadena de texto pero <span class="hl-yellow"><strong>debería representar un instante en el tiempo</strong></span>. ¿Qué debería suceder si <span class="hl-purple"><strong>sumamos un 1 a una fecha</strong></span>?</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a>fecha_char <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in fecha_char + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
<p>Las fechas <span class="hl-red"><strong>NO pueden ser texto</strong></span>: debemos convertir la cadena de texto a fecha.</p>
</div>
<div class="fragment">
<p>&nbsp;</p>
<p>Para trabajar con fechas usaremos el paquete <code>{lubridate}</code>, que deberemos instalar antes de poder usarlo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a><span class="fu">install.packages</span>(<span class="st">"lubridate"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="variables-de-fecha-1" class="slide level2">
<h2>Variables de fecha</h2>
<p>Una vez instalado, de todos los paquetes (libros) que tenemos, le indicaremos que nos cargue ese concretamente.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1"></a><span class="fu">library</span>(lubridate) <span class="co"># instala si no lo has hecho</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Para <span class="hl-yellow"><strong>convertir a tipo fecha</strong></span> usaremos la función <code>as_date()</code> del paquete <code>{lubridate}</code> (por defecto en formato <code>yyyy-mm-dd</code>)</p>
<p>&nbsp;</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a><span class="co"># ¡no es una fecha, es un texto!</span></span>
<span id="cb99-2"><a href="#cb99-2"></a>fecha_char <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in fecha_char + 1: non-numeric argument to binary operator</code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a><span class="fu">class</span>(fecha_char)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a>fecha <span class="ot">&lt;-</span> <span class="fu">as_date</span>(<span class="st">"2023-03-28"</span>)</span>
<span id="cb103-2"><a href="#cb103-2"></a>fecha <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-03-29"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a><span class="fu">class</span>(fecha)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="variables-de-fecha-2" class="slide level2">
<h2>Variables de fecha</h2>
<p>En <code>as_date()</code> el formato de fecha por defecto es <code>yyyy-mm-dd</code> así si la cadena de texto no se introduce de manera adecuada…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a><span class="fu">as_date</span>(<span class="st">"28-03-2023"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<div class="fragment">
<p>Para <span class="hl-yellow"><strong>cualquier otro formato debemos especificarlo</strong></span> en el argumento opcional <code>format = ...</code> tal que <code>%d</code> representa días, <code>%m</code> meses, <code>%Y</code> en formato de 4 años y <code>%y</code> en formato de 2 años.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1"></a><span class="fu">as_date</span>(<span class="st">"28-03-2023"</span>, <span class="at">format =</span> <span class="st">"%d-%m-%Y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-03-28"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1"></a><span class="fu">as_date</span>(<span class="st">"28-03-23"</span>, <span class="at">format =</span> <span class="st">"%d-%m-%y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-03-28"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1"></a><span class="fu">as_date</span>(<span class="st">"03-28-2023"</span>, <span class="at">format =</span> <span class="st">"%m-%d-%Y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-03-28"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1"></a><span class="fu">as_date</span>(<span class="st">"28/03/2023"</span>, <span class="at">format =</span> <span class="st">"%d/%m/%Y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-03-28"</code></pre>
</div>
</div>
</div>
</section>
<section id="variables-de-fecha-3" class="slide level2">
<h2>Variables de fecha</h2>
<p>En dicho paquete tenemos funciones muy útiles para <span class="hl-yellow"><strong>manejar fechas</strong></span>:</p>
<ul>
<li>Con <code>today()</code> podemos obtener directamente la <span class="hl-purple"><strong>fecha actual</strong></span>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1"></a><span class="fu">today</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-09-04"</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li>Con <code>now()</code> podemos obtener la <span class="hl-purple"><strong>fecha y hora actual</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1"></a><span class="fu">now</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-09-04 10:25:16 CEST"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li>Con <code>year()</code>, <code>month()</code> o <code>day()</code> podemos <span class="hl-purple"><strong>extraer el año, mes y día</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1"></a>fecha <span class="ot">&lt;-</span> <span class="fu">today</span>()</span>
<span id="cb121-2"><a href="#cb121-2"></a><span class="fu">year</span>(fecha)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2024</code></pre>
</div>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1"></a><span class="fu">month</span>(fecha)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9</code></pre>
</div>
</div>
</div>
</section>
<section id="resúmenes-de-paquetes" class="slide level2">
<h2>Resúmenes de paquetes</h2>

<img data-src="img/lubridate.png" class="r-stretch"><div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Amplia contenido</strong></p>
</div>
<div class="callout-content">
<p>Tienes un resumen en pdf de los paquetes más importantes en la <span class="hl-green"><strong>carpeta correspondiente en el campus</strong></span></p>
</div>
</div>
</div>
</section>
<section id="tu-turno-2-1" class="slide level2">
<h2>💻 Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-2-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-2-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-2-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-2-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li><li><a href="#tabset-2-6"><span class="hl-yellow"><strong>Ejercicio 6</strong></span></a></li><li><a href="#tabset-2-7"><span class="hl-yellow"><strong>Ejercicio 7</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<p>📝 Define una variable que guarde tu edad (llamada <code>edad</code>) y otra con tu nombre (llamada <code>nombre</code>)</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1"></a>edad <span class="ot">&lt;-</span> <span class="dv">33</span></span>
<span id="cb125-2"><a href="#cb125-2"></a>nombre <span class="ot">&lt;-</span> <span class="st">"Javi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-2">
<p>📝 Comprueba con dicha variable <code>edad</code> si NO tiene 60 años o si se llama <code>"Ornitorrinco"</code> (debes obtener variables lógicas como resultado)</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1"></a>edad <span class="sc">!=</span> <span class="dv">60</span> <span class="co"># distinto de</span></span>
<span id="cb126-2"><a href="#cb126-2"></a>nombre <span class="sc">==</span> <span class="st">"Ornitorrinco"</span> <span class="co"># igual a</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-3">
<p>📝 ¿Por qué el código inferior da error?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1"></a>edad <span class="sc">+</span> nombre</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in edad + nombre: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
<div id="tabset-2-4">
<p>📝 Define otra variable llamada <code>hermanos</code> que responda la pregunta «¿tienes hermanos?» y otra variable que almacene tu fecha de nacimiento (llamada <code>fecha_nacimiento</code>).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1"></a>hermanos <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb129-2"><a href="#cb129-2"></a></span>
<span id="cb129-3"><a href="#cb129-3"></a><span class="fu">library</span>(lubridate) <span class="co"># sino lo tenías ya cargado</span></span>
<span id="cb129-4"><a href="#cb129-4"></a>fecha_nacimiento <span class="ot">&lt;-</span> <span class="fu">as_date</span>(<span class="st">"1989-09-10"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-5">
<p>📝 Define otra variable con tus apellidos (llamada <code>apellidos</code>) y usa <code>glue()</code> para tener, en una sola variable llamada <code>nombre_completo</code>, tu nombre y apellidos separando nombre y apellido por una coma</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1"></a>apellidos <span class="ot">&lt;-</span> <span class="st">"Álvarez Liébana"</span></span>
<span id="cb130-2"><a href="#cb130-2"></a><span class="fu">glue</span>(<span class="st">"{nombre}, {apellidos}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-6">
<p>📝 De <code>fecha_nacimiento</code> extrae el mes.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1"></a><span class="fu">month</span>(fecha_nacimiento)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-7">
<p>📝 Calcula los días que han pasado desde la fecha de tu nacimiento hasta hoy (con la fecha de nacimiento definida en el ejercicio 4).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1"></a><span class="fu">today</span>() <span class="sc">-</span> fecha_nacimiento</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="vectores-concatenar" class="slide level2">
<h2>Vectores: concatenar</h2>
<p>Cuando trabajamos con datos normalmente tendremos <span class="hl-yellow"><strong>columnas que representan variables</strong></span>: llamaremos <span class="hl-yellow"><strong>vectores</strong></span> a una <span class="hl-purple"><strong>concatenación</strong></span> de celdas (valores) del <span class="hl-purple"><strong>mismo tipo</strong></span> (lo que sería una columna de una tabla).</p>
<div class="fragment">
<p>La forma más sencilla es con el comando <code>c()</code> (c de <strong>concatenar</strong>), y basta con introducir sus <strong>elementos entre paréntesis y separados por comas</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1"></a>edades <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">32</span>, <span class="dv">27</span>, <span class="dv">60</span>, <span class="dv">61</span>)</span>
<span id="cb133-2"><a href="#cb133-2"></a>edades</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 32 27 60 61</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>Un número individual <code>x &lt;- 1</code> (o bien <code>x &lt;- c(1)</code>) es en realidad un <strong>vector de longitud uno</strong> –&gt; todo lo que sepamos <span class="hl-green"><strong>hacer con un número podemos hacerlo con un vector de ellos</strong></span>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="vectores-concatenar-1" class="slide level2">
<h2>Vectores: concatenar</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><img data-src="img/edades_environment.jpg"></p>
</div><div class="column" style="width:60%;">
<p>Como ves ahora en el <code>environment</code> tenemos una <strong>colección de elementos</strong> guardada</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1"></a>edades</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 32 27 60 61</code></pre>
</div>
</div>
</div>
</div>
<div class="fragment">
<p>La <span class="hl-yellow"><strong>longitud de un vector</strong></span> se puede calcular con <code>length()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1"></a><span class="fu">length</span>(edades)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>También podemos <span class="hl-yellow"><strong>concatenar vectores</strong></span> entre sí (los repite uno tras otro)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1"></a><span class="fu">c</span>(edades, edades, <span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 32 27 60 61 32 27 60 61  8</code></pre>
</div>
</div>
</div>
</section>
<section id="secuencias-numéricas" class="slide level2">
<h2>Secuencias numéricas</h2>
<p>El vector más famoso será el de tipo numérico, y en concreto, las conocidas como <span class="hl-yellow"><strong>secuencias numéricas</strong></span> (por ejemplo, los días del mes), usadas para, entre otras cosas, indexar bucles.</p>
<div class="fragment">
<p>El comando <code>seq(inicio, fin)</code> nos permite crear una <span class="hl-yellow"><strong>secuencia numérica</strong></span> desde un elemento inicial hasta uno final, <span class="hl-purple"><strong>avanzando de uno en uno</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">31</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
[26] 26 27 28 29 30 31</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>Fíjate que si hacemos eso con <span class="hl-red"><strong>caracteres no podremos hacerlo</strong></span> ya que no hay un orden a priori entre textos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1"></a><span class="st">"a"</span><span class="sc">:</span><span class="st">"z"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in "a":"z": NA/NaN argument</code></pre>
</div>
</div>
</div>
</section>
<section id="secuencias-numéricas-1" class="slide level2">
<h2>Secuencias numéricas</h2>
<p>Un atajo es el comando <code>1:n</code>, que nos devuelve lo mismo que <code>seq(1, n)</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5 6 7</code></pre>
</div>
</div>
<p>Si el elemento inicial es mayor que el final, entenderá que la secuencia es <span class="hl-purple"><strong>en orden decreciente</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1"></a><span class="dv">7</span><span class="sc">:-</span><span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  7  6  5  4  3  2  1  0 -1 -2 -3</code></pre>
</div>
</div>
<div class="fragment">
<p>También podemos definir <span class="hl-yellow"><strong>otro tipo de distancia</strong></span> (paso) entre consecutivos con el argumento <code>by = ...</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">7</span>, <span class="at">by =</span> <span class="fl">0.5</span>) <span class="co"># secuencia desde 1 a 7 de 0.5 en 0.5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0 5.5 6.0 6.5 7.0</code></pre>
</div>
</div>
</div>
</section>
<section id="secuencias-numéricas-2" class="slide level2">
<h2>Secuencias numéricas</h2>
<p>Otras veces nos interesará definir una <span class="hl-yellow"><strong>secuencia con una longitud concreta</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">50</span>, <span class="at">l =</span> <span class="dv">7</span>) <span class="co"># secuencia desde 1 a 50 de longitud 7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1.000000  9.166667 17.333333 25.500000 33.666667 41.833333 50.000000</code></pre>
</div>
</div>
<div class="fragment">
<p>Incluso puede nos interese generar un vector de <span class="hl-yellow"><strong>n elementos repetidos</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1"></a><span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">7</span>) <span class="co"># vector de 7 ceros</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0 0 0 0 0 0 0</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>Dado que internamente son guardados como números también podremos hacer esto con <span class="hl-yellow"><strong>fechas</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1"></a><span class="fu">seq</span>(<span class="fu">as_date</span>(<span class="st">"2023-09-01"</span>), <span class="fu">as_date</span>(<span class="st">"2023-09-10"</span>), <span class="at">by =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "2023-09-01" "2023-09-02" "2023-09-03" "2023-09-04" "2023-09-05"
 [6] "2023-09-06" "2023-09-07" "2023-09-08" "2023-09-09" "2023-09-10"</code></pre>
</div>
</div>
</div>
</section>
<section id="vectores-de-caracteres" class="slide level2">
<h2>Vectores de caracteres</h2>
<p>Un vector es una <strong>concatenación</strong> de elementos del <span class="hl-yellow"><strong>mismo tipo</strong></span>, pero no tienen porque ser necesariamente números. Vamos a crear una frase de ejemplo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1"></a>frase <span class="ot">&lt;-</span> <span class="st">"Me llamo Javi"</span></span>
<span id="cb157-2"><a href="#cb157-2"></a>frase</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Me llamo Javi"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1"></a><span class="fu">length</span>(frase)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<div class="fragment">
<p>En el caso anterior no era un vector, era un solo elemento de texto. Para crear un vector debemos usar de nuevo <code>c()</code> y separar elementos entre comas</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1"></a>vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Me"</span>, <span class="st">"llamo"</span>, <span class="st">"Javi"</span>)</span>
<span id="cb161-2"><a href="#cb161-2"></a>vector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Me"    "llamo" "Javi" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1"></a><span class="fu">length</span>(vector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
</div>
</section>
<section id="vectores-de-caracteres-1" class="slide level2">
<h2>Vectores de caracteres</h2>
<p>¿Qué sucederá si <span class="hl-yellow"><strong>concatenamos elementos de diferente tipo</strong></span>?</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="st">"javi"</span>, <span class="st">"3"</span>, <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1"    "2"    "javi" "3"    "TRUE"</code></pre>
</div>
</div>
<p>Fíjate que como todos tienen que ser del mismo tipo, lo que hace <code>R</code> es <span class="hl-yellow"><strong>convertir</strong></span> todo a texto, violando la <span class="hl-red"><strong>integridad del dato</strong></span></p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1"></a><span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 4 1 0</code></pre>
</div>
</div>
<p>Es importante entender que los valores lógicos en realidad están <span class="hl-yellow"><strong>almacenados internamente como 0/1</strong></span></p>
</div>
</section>
<section id="operaciones-con-vectores" class="slide level2">
<h2>Operaciones con vectores</h2>
<p>Con los vectores numéricos podemos hacer las mismas <span class="hl-yellow"><strong>operaciones aritméticas</strong></span> que con los números → un <span class="hl-purple"><strong>número es un vector</strong></span> (de longitud uno)</p>
<div class="fragment">
<p>¿Qué sucederá si <span class="hl-yellow"><strong>sumamos o restamos un valor</strong></span> a un vector?</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span>
<span id="cb169-2"><a href="#cb169-2"></a>x <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 4 6 8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1"></a>x <span class="sc">*</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2  6 10 14</code></pre>
</div>
</div>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Cuidado</strong></p>
</div>
<div class="callout-content">
<p>Salvo que indiquemos lo contrario, en <code>R</code> las operaciones con vectores son siempre <span class="hl-orange"><strong>elemento a elemento</strong></span></p>
</div>
</div>
</div>
</div>
</section>
<section id="suma-de-vectores" class="slide level2">
<h2>Suma de vectores</h2>
<p>Los vectores también pueden interactuar entre ellos, así que podemos definir, por ejemplo, <span class="hl-yellow"><strong>sumas de vectores</strong></span> (elemento a elemento)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>)</span>
<span id="cb173-2"><a href="#cb173-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>)</span>
<span id="cb173-3"><a href="#cb173-3"></a>x <span class="sc">+</span> y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  3  7 11</code></pre>
</div>
</div>
<div class="fragment">
<p>Dado que la operación (por ejemplo, una suma) se realiza elemento a elemento, ¿qué sucederá si <span class="hl-yellow"><strong>sumamos dos vectores de distinta longitud</strong></span>?</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1"></a>z <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span>
<span id="cb175-2"><a href="#cb175-2"></a>x <span class="sc">+</span> z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  3  7 11  9</code></pre>
</div>
</div>
<p>Lo que hace es <span class="hl-yellow"><strong>reciclar elementos</strong></span>: si tiene un vector de 4 elementos y sumamos otro de 3 elementos, lo que hará será reciclar del vector con menor longitud.</p>
</div>
</section>
<section id="comparar-vectores" class="slide level2">
<h2>Comparar vectores</h2>
<p>Una operación muy habitual es <span class="hl-yellow"><strong>preguntar a los datos</strong></span> mediante el uso de <span class="hl-purple"><strong>condiciones lógicas</strong></span>. Por ejemplo, si definimos un vector de temperaturas…</p>
<p><span class="hl-yellow"><strong>¿Qué días hizo menos de 22 grados?</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">31</span>, <span class="dv">27</span>, <span class="dv">15</span>, <span class="dv">29</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1"></a>x <span class="sc">&lt;</span> <span class="dv">22</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE FALSE FALSE  TRUE FALSE</code></pre>
</div>
</div>
<p>Nos devolverá un <span class="hl-yellow"><strong>vector lógico</strong></span>, en función de si <strong>cada elemento</strong> cumple o no la condición pedida (de <strong>igual longitud</strong> que el vector preguntado)</p>
</div>
<div class="fragment">
<p>Si tuviéramos un <span class="hl-yellow"><strong>dato ausente</strong></span> (por error del aparato ese día), la condición evaluada también sería <code>NA</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">20</span>, <span class="cn">NA</span>, <span class="dv">31</span>, <span class="dv">27</span>, <span class="dv">7</span>, <span class="dv">29</span>, <span class="dv">10</span>)</span>
<span id="cb180-2"><a href="#cb180-2"></a>y <span class="sc">&lt;</span> <span class="dv">22</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE    NA FALSE FALSE  TRUE FALSE  TRUE</code></pre>
</div>
</div>
</div>
</section>
<section id="comparar-vectores-1" class="slide level2">
<h2>Comparar vectores</h2>
<p>Las <span class="hl-yellow"><strong>condiciones lógicas pueden ser combinadas</strong></span> de dos maneras:</p>
<ul>
<li><span class="hl-yellow"><strong>Intersección</strong></span>: <span class="hl-purple"><strong>todas</strong></span> las condiciones concatenadas se deben cumplir (<span class="hl-purple"><strong>conjunción y</strong></span> con <code>&amp;</code>) para devolver un <code>TRUE</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1"></a>x <span class="sc">&lt;</span> <span class="dv">30</span> <span class="sc">&amp;</span> x <span class="sc">&gt;</span> <span class="dv">15</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE FALSE  TRUE FALSE  TRUE</code></pre>
</div>
</div>
<ul>
<li><span class="hl-yellow"><strong>Unión</strong></span>: basta con que <span class="hl-purple"><strong>al menos una</strong></span> se cumpla (<span class="hl-purple"><strong>conjunción o</strong></span> con <code>|</code>)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1"></a>x <span class="sc">&lt;</span> <span class="dv">30</span> <span class="sc">|</span> x <span class="sc">&gt;</span> <span class="dv">15</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE TRUE TRUE TRUE TRUE TRUE</code></pre>
</div>
</div>
<div class="fragment">
<p>Con <code>any()</code> y <code>all()</code> podemos comprobar que <span class="hl-yellow"><strong>todos los elementos</strong></span> cumplen</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1"></a><span class="fu">any</span>(x <span class="sc">&lt;</span> <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1"></a><span class="fu">all</span>(x <span class="sc">&lt;</span> <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
</section>
<section id="acceder-a-elementos" class="slide level2">
<h2>Acceder a elementos</h2>
<p>Otra operación muy habitual es la de <span class="hl-yellow"><strong>acceder a elementos</strong></span>. La forma más sencilla es usar el operador <code>[i]</code> (acceder al elemento i-ésimo)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1"></a>edades <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">33</span>, <span class="cn">NA</span>, <span class="dv">61</span>) </span>
<span id="cb190-2"><a href="#cb190-2"></a>edades[<span class="dv">3</span>] <span class="co"># accedemos a la edad de la tercera persona </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 33</code></pre>
</div>
</div>
<div class="fragment">
<p>Dado que un número no es más que un vector de longitud uno, esta operación también la podemos aplicar usando un <span class="hl-yellow"><strong>vector de índices a seleccionar</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"hola"</span>, <span class="st">"qué"</span>, <span class="st">"tal"</span>, <span class="st">"estás"</span>, <span class="st">"?"</span>)</span>
<span id="cb192-2"><a href="#cb192-2"></a>y[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">4</span>)] <span class="co"># primer, segundo y cuarto elemento</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hola"  "qué"   "estás"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>Para acceder al último, sin preocuparnos de cuál es, podemos pasarle como índice la propia longitud <code>x[length(x)]</code></p>
</div>
</div>
</div>
</div>
</section>
<section id="eliminar-elementos" class="slide level2">
<h2>Eliminar elementos</h2>
<p>Otras veces no querremos seleccionar sino <span class="hl-yellow"><strong>eliminar algunos elementos</strong></span>. Deberemos repetir la misma operación pero con el signo - delante: el operador <code>[-i]</code> no selecciona el elemento i-ésimo del vector sino que lo «des-selecciona»</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hola"  "qué"   "tal"   "estás" "?"    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1"></a>y[<span class="sc">-</span><span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hola"  "tal"   "estás" "?"    </code></pre>
</div>
</div>
<div class="fragment">
<p>En muchas ocasiones los queremos <span class="hl-yellow"><strong>seleccionar o eliminar en base a condiciones lógicas</strong></span>, en función de los valores, así que pasaremos como índice la propia condición (recuerda, <code>x &lt; 2</code> nos devuelve un vector lógico)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1"></a>edades <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">21</span>, <span class="dv">30</span>, <span class="dv">17</span>, <span class="dv">45</span>)</span>
<span id="cb198-2"><a href="#cb198-2"></a>nombres <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"javi"</span>, <span class="st">"maría"</span>, <span class="st">"laura"</span>, <span class="st">"carla"</span>, <span class="st">"luis"</span>)</span>
<span id="cb198-3"><a href="#cb198-3"></a>nombres[edades <span class="sc">&lt;</span> <span class="dv">18</span>] <span class="co"># nombres de los menores de edad</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "javi"  "carla"</code></pre>
</div>
</div>
</div>
</section>
<section id="sumar-vectores" class="slide level2">
<h2>Sumar vectores</h2>
<p>También podemos hacer uso de <span class="hl-yellow"><strong>operaciones estadísticas</strong></span> como por ejemplo <code>sum()</code> que, dado un vector, nos devuelve la suma de todos sus elementos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb200-2"><a href="#cb200-2"></a><span class="fu">sum</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<p><span class="hl-yellow"><strong>¿Qué sucede cuando falta un dato (ausente)?</strong></span></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>, <span class="cn">NA</span>, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb202-2"><a href="#cb202-2"></a><span class="fu">sum</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p>Por defecto, si tenemos un dato ausente, la <span class="hl-yellow"><strong>operación también será ausente</strong></span>. Para poder <span class="hl-purple"><strong>obviar ese dato</strong></span>, usamos un argumento opcional <code>na.rm = TRUE</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1"></a><span class="fu">sum</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</div>
</section>
<section id="sumar-vectores-1" class="slide level2">
<h2>Sumar vectores</h2>
<p>Como hemos comentado que los valores lógicos son guardados internamente como 0 y 1, podremos usarlos en operaciones aritméticas.</p>
<p>Por ejemplo, si queremos <span class="hl-yellow"><strong>averiguar el número de elementos que cumplen una condición</strong></span> (por ejemplo, menores que 3), los que lo hagan tendrán asignado un 1 (<code>TRUE</code>) y los que no un 0 (<code>FALSE</code>) , por lo que basta con sumar dicho vector lógico para obtener el número de elementos que cumplen</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>)</span>
<span id="cb206-2"><a href="#cb206-2"></a><span class="fu">sum</span>(x <span class="sc">&lt;</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</section>
<section id="suma-acumulada" class="slide level2">
<h2>Suma acumulada</h2>
<p>Otra operación habitual que puede sernos útil es la <span class="hl-yellow"><strong>suma acumulada</strong></span> con <code>cumsum()</code> que, dado un vector, nos devuelve un vector a su vez con el primero, el primero más el segundo, el primero más el segundo más el tercero…y así sucesivamente.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">8</span>)</span>
<span id="cb208-2"><a href="#cb208-2"></a><span class="fu">cumsum</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1  6  8  7 15</code></pre>
</div>
</div>
<p><span class="hl-yellow"><strong>¿Qué sucede cuando falta un dato (ausente)?</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb210"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb210-1"><a href="#cb210-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>, <span class="cn">NA</span>, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb210-2"><a href="#cb210-2"></a><span class="fu">cumsum</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1 -1  2 NA NA</code></pre>
</div>
</div>
<p>En el caso de la suma acumulada lo que sucede es que <span class="hl-yellow"><strong>a partir de ese valor, todo lo acumulado posterior será ausente</strong></span>.</p>
</section>
<section id="diferencia" class="slide level2">
<h2>Diferencia</h2>
<p>Otra operación habitual que puede sernos útil es la <span class="hl-yellow"><strong>diferencia (con retardo)</strong></span> con <code>diff()</code> que, dado un vector, nos devuelve un vector con el segundo menos el primero, el tercero menos el segundo, el cuarto menos el tercero…y así sucesivamente.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">9</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">5</span>)</span>
<span id="cb212-2"><a href="#cb212-2"></a><span class="fu">diff</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  7 -3 -2  6 -9 -1  6</code></pre>
</div>
</div>
<div class="fragment">
<p>Con el argumento <code>lag =</code> podemos indicar el <span class="hl-yellow"><strong>retardo</strong></span> de dicha diferencia (por ejemplo, <code>lag = 3</code> implica que se resta el cuarto menos el primero, el quinto menos el segundo, etc)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">9</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">5</span>)</span>
<span id="cb214-2"><a href="#cb214-2"></a><span class="fu">diff</span>(x, <span class="at">lag =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2  1 -5 -4 -4</code></pre>
</div>
</div>
</div>
</section>
<section id="media" class="slide level2">
<h2>Media</h2>
<p>Otras operaciones habituales son la <span class="hl-yellow"><strong>media</strong></span>, <span class="hl-yellow"><strong>mediana</strong></span>, <span class="hl-yellow"><strong>percentiles</strong></span>, etc.</p>
<ul>
<li><span class="hl-yellow"><strong>Media</strong></span>: medida de centralidad que consiste en sumar todos los elementos y dividirlos entre la cantidad de elementos sumados. La más conocida pero la <span class="hl-red"><strong>menos robusta</strong></span>: dado un conjunto, si se introducen valores atípicos o outliers (valores muy grandes o muy pequeños), la media se perturba con mucha facilidad.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb216"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb216-1"><a href="#cb216-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">165</span>, <span class="dv">170</span>, <span class="dv">181</span>, <span class="dv">191</span>, <span class="dv">150</span>, <span class="dv">155</span>, <span class="dv">167</span>, <span class="cn">NA</span>, <span class="dv">173</span>, <span class="dv">177</span>)</span>
<span id="cb216-2"><a href="#cb216-2"></a><span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 169.8889</code></pre>
</div>
</div>
</section>
<section id="percentiles" class="slide level2">
<h2>Percentiles</h2>
<p>Otras operaciones habituales son la <span class="hl-yellow"><strong>media</strong></span>, <span class="hl-yellow"><strong>mediana</strong></span>, <span class="hl-yellow"><strong>percentiles</strong></span>, etc.</p>
<ul>
<li><span class="hl-yellow"><strong>Mediana</strong></span>: medida de centralidad que consiste en ordenar los elementos y quedarse con el que ocupa la mitad.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">165</span>, <span class="dv">170</span>, <span class="dv">181</span>, <span class="dv">191</span>, <span class="dv">150</span>, <span class="dv">155</span>, <span class="dv">167</span>, <span class="dv">173</span>, <span class="dv">177</span>)</span>
<span id="cb218-2"><a href="#cb218-2"></a><span class="fu">median</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 170</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Percentiles</strong></span>: medidas de posición (nos dividen en partes iguales los datos).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb220"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb220-1"><a href="#cb220-1"></a><span class="fu">quantile</span>(x) <span class="co"># por defecto percentiles 0-25-50-75-100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  0%  25%  50%  75% 100% 
 150  165  170  177  191 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1"></a><span class="fu">quantile</span>(x, <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.4</span>, <span class="fl">0.9</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  10%   40%   90% 
154.0 167.6 183.0 </code></pre>
</div>
</div>
</div>
</section>
<section id="ordenar-vectores" class="slide level2">
<h2>Ordenar vectores</h2>
<p>Por último, una acción habitual es saber <span class="hl-yellow"><strong>ordenar valores</strong></span>:</p>
<ul>
<li><code>sort()</code>: devuelve el <span class="hl-yellow"><strong>vector ordenado</strong></span>. Por defecto de menor a mayor pero con <code>decreasing = TRUE</code> podemos cambiarlo</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1"></a>edades <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">81</span>, <span class="dv">7</span>, <span class="dv">25</span>, <span class="dv">41</span>, <span class="dv">65</span>, <span class="dv">20</span>, <span class="dv">33</span>, <span class="dv">23</span>, <span class="dv">77</span>)</span>
<span id="cb224-2"><a href="#cb224-2"></a><span class="fu">sort</span>(edades)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  7 20 23 25 33 41 65 77 81</code></pre>
</div>
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1"></a><span class="fu">sort</span>(edades, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 81 77 65 41 33 25 23 20  7</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li><code>order()</code>: devuelve el <span class="hl-yellow"><strong>vector de índices</strong></span> que tendríamos que usar para tener el vector ordenado</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1"></a><span class="fu">order</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5 6 1 7 2 8 9 3 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1"></a>x[<span class="fu">order</span>(x)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 150 155 165 167 170 173 177 181 191</code></pre>
</div>
</div>
</div>
</section>
<section id="tu-turno-2-2" class="slide level2">
<h2>💻 Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-3-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-3-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-3-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-3-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li><li><a href="#tabset-3-6"><span class="hl-yellow"><strong>Ejercicio 6</strong></span></a></li><li><a href="#tabset-3-7"><span class="hl-yellow"><strong>Ejercicio 7</strong></span></a></li><li><a href="#tabset-3-8"><span class="hl-yellow"><strong>Ejercicio 8</strong></span></a></li><li><a href="#tabset-3-9"><span class="hl-yellow"><strong>Ejercicio 9</strong></span></a></li><li><a href="#tabset-3-10"><span class="hl-yellow"><strong>Ejercicio 10</strong></span></a></li><li><a href="#tabset-3-11"><span class="hl-yellow"><strong>Ejercicio 11</strong></span></a></li><li><a href="#tabset-3-12"><span class="hl-yellow"><strong>Ejercicio 12</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<p>📝 Define el vector <code>x</code> como la concatenación de los 5 primeros números impares. Calcula la longitud del vector</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb232-1"><a href="#cb232-1"></a><span class="co"># Dos formas</span></span>
<span id="cb232-2"><a href="#cb232-2"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)</span>
<span id="cb232-3"><a href="#cb232-3"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">9</span>, <span class="at">by =</span> <span class="dv">2</span>)</span>
<span id="cb232-4"><a href="#cb232-4"></a></span>
<span id="cb232-5"><a href="#cb232-5"></a><span class="fu">length</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-2">
<p>📝 Accede al tercer elemento de <code>x</code>. Accede al último elemento (sin importar la longitud, un código que pueda ejecutarse siempre). Elimina el primer elemento.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb233"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb233-1"><a href="#cb233-1"></a>x[<span class="dv">3</span>]</span>
<span id="cb233-2"><a href="#cb233-2"></a>x[<span class="fu">length</span>(x)]</span>
<span id="cb233-3"><a href="#cb233-3"></a>x[<span class="sc">-</span><span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-3">
<p>📝 Obtén los elementos de <code>x</code> mayores que 4. Calcula el vector <code>1/x</code> y guárdalo en una variable.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb234"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb234-1"><a href="#cb234-1"></a>x[x <span class="sc">&gt;</span> <span class="dv">4</span>]</span>
<span id="cb234-2"><a href="#cb234-2"></a>z <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">/</span>x</span>
<span id="cb234-3"><a href="#cb234-3"></a>z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-4">
<p>📝 Crea un vector que represente los nombres de 5 personas, de los cuales uno es desconocido.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb235"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb235-1"><a href="#cb235-1"></a>nombres <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Javi"</span>, <span class="st">"Sandra"</span>, <span class="cn">NA</span>, <span class="st">"Laura"</span>, <span class="st">"Carlos"</span>)</span>
<span id="cb235-2"><a href="#cb235-2"></a>nombres</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-5">
<p>📝 Encuentra del vector <code>x</code> de ejercicios anteriores los elementos mayores (estrictos) que 1 Y ADEMÁS menores (estrictos) que 7. Encuentra una forma de averiguar si todos los elementos son o no positivos.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb236"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb236-1"><a href="#cb236-1"></a>x[x <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> x <span class="sc">&lt;</span> <span class="dv">7</span>]</span>
<span id="cb236-2"><a href="#cb236-2"></a><span class="fu">all</span>(x <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-6">
<p>📝 Dado el vector <code>x &lt;- c(1, -5, 8, NA, 10, -3, 9)</code>, ¿por qué su media no devuelve un número sino lo que se muestra en el código inferior?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb237"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb237-1"><a href="#cb237-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">5</span>, <span class="dv">8</span>, <span class="cn">NA</span>, <span class="dv">10</span>, <span class="sc">-</span><span class="dv">3</span>, <span class="dv">9</span>)</span>
<span id="cb237-2"><a href="#cb237-2"></a><span class="fu">mean</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
</div>
<div id="tabset-3-7">
<p>📝 Dado el vector <code>x &lt;- c(1, -5, 8, NA, 10, -3, 9)</code>, extrae los elementos que ocupan los lugares 1, 2, 5, 6.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb239"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb239-1"><a href="#cb239-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">5</span>, <span class="dv">8</span>, <span class="cn">NA</span>, <span class="dv">10</span>, <span class="sc">-</span><span class="dv">3</span>, <span class="dv">9</span>)</span>
<span id="cb239-2"><a href="#cb239-2"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">6</span>)]</span>
<span id="cb239-3"><a href="#cb239-3"></a>x[<span class="sc">-</span><span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-8">
<p>📝 Dado el vector <code>x</code> del ejercicio anterior, ¿cuales tienen un dato ausente? Pista: las funciones <code>is.algo()</code> comprueban si el elemento es tipo <code>algo</code> (tabula)</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb240"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb240-1"><a href="#cb240-1"></a><span class="fu">is.na</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-9">
<p>📝 Define el vector <code>x</code> como la concatenación de los 4 primeros números pares. Calcula el número de elementos de <code>x</code> menores estrictamente que 5.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb241"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb241-1"><a href="#cb241-1"></a>x[x <span class="sc">&lt;</span> <span class="dv">5</span>] </span>
<span id="cb241-2"><a href="#cb241-2"></a><span class="fu">sum</span>(x <span class="sc">&lt;</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-10">
<p>📝 Calcula el vector <code>1/x</code> y obtén la versión ordenada (de menor a mayor) de las dos formas posibles</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb242"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb242-1"><a href="#cb242-1"></a>z <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">/</span>x</span>
<span id="cb242-2"><a href="#cb242-2"></a><span class="fu">sort</span>(z)</span>
<span id="cb242-3"><a href="#cb242-3"></a>z[<span class="fu">order</span>(z)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-11">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb243"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb243-1"><a href="#cb243-1"></a><span class="fu">min</span>(x)</span>
<span id="cb243-2"><a href="#cb243-2"></a><span class="fu">max</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-12">
<p>📝 Encuentra del vector <code>x</code> los elementos mayores (estrictos) que 1 y menores (estrictos) que 6. Encuentra una forma de averiguar si todos los elementos son o no negativos.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb244"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb244-1"><a href="#cb244-1"></a>x[x <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> x <span class="sc">&lt;</span> <span class="dv">7</span>]</span>
<span id="cb244-2"><a href="#cb244-2"></a><span class="fu">all</span>(x <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="caso-practico-2" class="slide level2">
<h2>🐣 Caso práctico</h2>
<p>En el paquete <code>{datasets}</code> (ya instalado por defecto) tenemos diversos conjuntos de datos y uno de ellos es <code>airquality</code>. Debajo te he extraído 3 variables de dicho dataset (fíjate que se hace con <code>datos$variable</code>, ese dolar será importante en el futuro).</p>
<p>Los datos capturan <span class="hl-yellow"><strong>medidas diarias (n = 153 observaciones) de la calidad del aire</strong></span> en Nueva York, de mayo a septiembre de 1973. Se midieron <strong>6 variables</strong>: niveles de ozono, radiación solar, viento, temperatura, mes y día.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb245"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb245-1"><a href="#cb245-1"></a><span class="fu">library</span>(datasets)</span>
<span id="cb245-2"><a href="#cb245-2"></a>temperature <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Temp</span>
<span id="cb245-3"><a href="#cb245-3"></a>month <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Month</span>
<span id="cb245-4"><a href="#cb245-4"></a>day <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Day</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Intenta responder a las preguntas planteadas en el <a href="https://javieralvarezliebana.quarto.pub/intro-r-base/"><strong>workbook</strong></a></p>
</section></section>
<section>
<section id="clase-3" class="title-slide slide level1 center">
<h1>Clase 3: <span class="flow">textos y primeras tablas</span></h1>
<p><span style="color:#444442;"><strong>Profundizando en variables de tipo texto. Primeras bases de datos</strong></span></p>
<ul>
<li><p><a href="#/tu-turno-3-1">💻 Ejercicios resueltos: variables de texto</a></p></li>
<li><p><a href="#/caso-practico-3-1">🐣 Workbook/caso práctico</a></p></li>
<li><p><a href="#/tu-turno-3-2">💻 Ejercicios resueltos: matrices</a></p></li>
<li><p><a href="#/tu-turno-3-3">💻 Ejercicios resueltos: data.frame y tibble</a></p></li>
<li><p><a href="#/caso-practico-3-2">🐣 Workbook/caso práctico</a></p></li>
<li><p><a href="#/planificacion">📆 Planificación</a></p></li>
</ul>
</section>
<section id="profundizando-en-textos" class="slide level2">
<h2>Profundizando en textos</h2>
<p>Aunque no podamos hacer operaciones aritméticas con ellos si serán importante algunas <span class="hl-yellow"><strong>operaciones que podamos realizar con las cadenas de texto</strong></span></p>
<p>Para eso usaremos el paquete <code>{stringr}</code> (dentro del mismo «universo de paquetes» de <code>{lubridate}</code>, del que hablaremos más adelante)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb246"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb246-1"><a href="#cb246-1"></a><span class="fu">library</span>(stringr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="profundizando-en-textos-1" class="slide level2">
<h2>Profundizando en textos</h2>
<p>En dicho paquete vamos a trabajar particularmente con <span class="hl-yellow"><strong>cuatro familias de funciones</strong></span></p>
<ul>
<li><p><span class="hl-purple"><strong>Manipulación</strong></span></p></li>
<li><p><span class="hl-purple"><strong>Tratamiento de espacios</strong></span></p></li>
<li><p><span class="hl-purple"><strong>Búsqueda de patrones</strong></span></p></li>
</ul>
</section>
<section id="utilidades-básicas" class="slide level2">
<h2>Utilidades básicas</h2>
<ul>
<li><span class="hl-yellow"><strong>Longitud de un texto</strong></span>: para calcular la longitud de una cadena de texto podemos usar <code>str_length()</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb247"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb247-1"><a href="#cb247-1"></a><span class="fu">str_length</span>(<span class="st">"abc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb249"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb249-1"><a href="#cb249-1"></a><span class="fu">str_length</span>(<span class="st">"abc 123 *"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9</code></pre>
</div>
</div>
<div class="fragment">
<p>Como ves <strong>cuenta tanto números como espacios como caracteres que no sean alfanuméricos</strong>. Además si el texto es ausente devuelve ausente</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb251"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb251-1"><a href="#cb251-1"></a><span class="fu">str_length</span>(<span class="cn">NA</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>Las <span class="hl-yellow"><strong>funciones del paquete están preparadas para ser vectorizadas</strong></span> por lo que si aplicamos una función a un vector de dos elementos la aplica a ambos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb253"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb253-1"><a href="#cb253-1"></a><span class="fu">str_length</span>(<span class="fu">c</span>(<span class="st">"abc"</span>, <span class="st">"defghi"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 6</code></pre>
</div>
</div>
</div>
</section>
<section id="utilidades-básicas-1" class="slide level2">
<h2>Utilidades básicas</h2>
<ul>
<li><span class="hl-yellow"><strong>Ordenar</strong></span>: con <code>str_order()</code> podemos ordenar cadenas de texto según su orden alfabético (distinguiendo <code>..._sort()</code> y <code>..._order()</code> como con los números)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb255"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb255-1"><a href="#cb255-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"y"</span>, <span class="st">"i"</span>, <span class="st">"k"</span>)</span>
<span id="cb255-2"><a href="#cb255-2"></a><span class="fu">str_order</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 3 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb257"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb257-1"><a href="#cb257-1"></a><span class="fu">str_sort</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "i" "k" "y"</code></pre>
</div>
</div>
</section>
<section id="manipulación" class="slide level2">
<h2>Manipulación</h2>
<ul>
<li><span class="hl-yellow"><strong>Extraer subcadenas</strong></span>: dada una cadena de texto, <code>str_sub(texto, star = ..., end = ...)</code> nos extrae la subcadena desde la posición <code>star</code> hasta <code>end</code> (si es negativo empieza a contar por detrás).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb259"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb259-1"><a href="#cb259-1"></a><span class="fu">str_sub</span>(<span class="st">"abcd efg"</span>, <span class="at">star =</span> <span class="dv">4</span>, <span class="at">end =</span> <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "d e"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb261"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb261-1"><a href="#cb261-1"></a><span class="fu">str_sub</span>(<span class="st">"abcd efg"</span>, <span class="at">star =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] " efg"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb263"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb263-1"><a href="#cb263-1"></a><span class="fu">str_sub</span>(<span class="st">"abcd efg"</span>, <span class="at">star =</span> <span class="dv">4</span>, <span class="at">end =</span> <span class="sc">-</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "d ef"</code></pre>
</div>
</div>
</section>
<section id="manipulación-1" class="slide level2">
<h2>Manipulación</h2>
<ul>
<li><span class="hl-yellow"><strong>Extraer subcadenas</strong></span>: la función <code>str_sub()</code> permite aplicarlo a de manera vectorial a múltiples cadenas de texto, e incluso usarla para asignar valores.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb265"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb265-1"><a href="#cb265-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"abcdef"</span>, <span class="st">"ghifjk"</span>)</span>
<span id="cb265-2"><a href="#cb265-2"></a><span class="fu">str_sub</span>(x, <span class="at">star =</span> <span class="dv">3</span>, <span class="at">end =</span> <span class="sc">-</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "cde" "ifj"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb267"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb267-1"><a href="#cb267-1"></a><span class="fu">str_sub</span>(x, <span class="at">star =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">end =</span> <span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "f" "k"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb269"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb269-1"><a href="#cb269-1"></a><span class="co"># En ambas cadenas, sustituimos por * en la posición 2</span></span>
<span id="cb269-2"><a href="#cb269-2"></a><span class="fu">str_sub</span>(x, <span class="at">star =</span> <span class="dv">2</span>, <span class="at">end =</span> <span class="dv">2</span>) <span class="ot">&lt;-</span> <span class="st">"*"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="manipulación-2" class="slide level2">
<h2>Manipulación</h2>
<ul>
<li><span class="hl-yellow"><strong>Duplicar cadenas</strong></span>: con <code>str_dup(..., times = ...)</code>, dada una cadena de texto (o varias), podemos repetir una cadena <code>times</code> veces.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb270"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb270-1"><a href="#cb270-1"></a><span class="fu">str_dup</span>(<span class="st">"abc"</span>, <span class="at">times =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "abcabcabc"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb272"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb272-1"><a href="#cb272-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"abcdef"</span>, <span class="st">"ghifjk"</span>)</span>
<span id="cb272-2"><a href="#cb272-2"></a><span class="fu">str_dup</span>(x, <span class="at">times =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "abcdefabcdef"                   "ghifjkghifjkghifjkghifjkghifjk"</code></pre>
</div>
</div>
</section>
<section id="manipulación-3" class="slide level2">
<h2>Manipulación</h2>
<ul>
<li><span class="hl-yellow"><strong>Concatenar cadenas</strong></span>: con <code>str_c</code> podemos concatenar distintas cadenas de texto (con <code>sep = ...</code> indicamos el caracter que hará de separador)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb274"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb274-1"><a href="#cb274-1"></a><span class="fu">str_c</span>(<span class="st">"Buenos días"</span>, <span class="st">"Mi nombre es Javier"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Buenos díasMi nombre es Javier"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb276"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb276-1"><a href="#cb276-1"></a><span class="fu">str_c</span>(<span class="st">"Buenos días"</span>, <span class="st">"Mi nombre es Javier"</span>, <span class="at">sep =</span> <span class="st">". "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Buenos días. Mi nombre es Javier"</code></pre>
</div>
</div>
</section>
<section id="manipulación-4" class="slide level2">
<h2>Manipulación</h2>
<ul>
<li><span class="hl-yellow"><strong>Mayúsculas/minúsculas</strong></span>: con <code>str_to_...()</code> podemos convertir textos a mayúsculas (<code>..._upper</code>), a minúsculas (<code>..._lower</code>) y a título (<code>..._title</code>, primera letra de cada palabra en mayúscula)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb278"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb278-1"><a href="#cb278-1"></a><span class="fu">str_to_upper</span>(<span class="st">"me llamo Javi"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ME LLAMO JAVI"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb280"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb280-1"><a href="#cb280-1"></a><span class="fu">str_to_lower</span>(<span class="st">"me llamo Javi"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "me llamo javi"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb282"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb282-1"><a href="#cb282-1"></a><span class="fu">str_to_title</span>(<span class="st">"me llamo Javi"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Me Llamo Javi"</code></pre>
</div>
</div>
</section>
<section id="manipulación-5" class="slide level2">
<h2>Manipulación</h2>
<ul>
<li><span class="hl-yellow"><strong>Reemplazar</strong></span>: <code>str_replace()</code> busca un patrón dado en una cadena de texto y, si la encuentra, la sustituye pro otra de reemplazo</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb284"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb284-1"><a href="#cb284-1"></a><span class="fu">str_replace</span>(<span class="fu">c</span>(<span class="st">"javi"</span>, <span class="st">"sandra"</span>, <span class="st">"carlos"</span>), <span class="at">pattern =</span> <span class="st">"i"</span>, <span class="at">replacement =</span> <span class="st">"*"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "jav*"   "sandra" "carlos"</code></pre>
</div>
</div>
<div class="fragment">
<p>Con <code>str_replace_all()</code> reemplazamos todas las coincidencias (por defecto sino solo se reemplaza la primera)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb286"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb286-1"><a href="#cb286-1"></a><span class="fu">str_replace</span>(<span class="fu">c</span>(<span class="st">"javi"</span>, <span class="st">"sandra"</span>, <span class="st">"carlos"</span>), <span class="at">pattern =</span> <span class="st">"a"</span>, <span class="at">replacement =</span> <span class="st">"*"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "j*vi"   "s*ndra" "c*rlos"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb288"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb288-1"><a href="#cb288-1"></a><span class="fu">str_replace_all</span>(<span class="fu">c</span>(<span class="st">"javi"</span>, <span class="st">"sandra"</span>, <span class="st">"carlos"</span>), <span class="at">pattern =</span> <span class="st">"a"</span>, <span class="at">replacement =</span> <span class="st">"*"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "j*vi"   "s*ndr*" "c*rlos"</code></pre>
</div>
</div>
</div>
</section>
<section id="espacios-en-blanco" class="slide level2">
<h2>Espacios en blanco</h2>
<ul>
<li><span class="hl-yellow"><strong>Rellenar</strong></span>: la función <code>str_pad()</code> rellena una cadena con espacios (al inicio por defecto) para que tenga anchura indicada. Con <code>side = "both"</code> como argumento extra nos añade en ambos lados. Con <code>side = "right"</code> los añade al final. Con <code>pad = ...</code> podemos decidir si queremos rellenar con otro tipo de caracter (espacio por defecto).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb290"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb290-1"><a href="#cb290-1"></a><span class="fu">str_pad</span>(<span class="st">"abc"</span>, <span class="at">width =</span> <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "   abc"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb292"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb292-1"><a href="#cb292-1"></a><span class="fu">str_pad</span>(<span class="st">"abc"</span>, <span class="dv">12</span>, <span class="at">side =</span> <span class="st">"both"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "    abc     "</code></pre>
</div>
<div class="sourceCode cell-code" id="cb294"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb294-1"><a href="#cb294-1"></a><span class="fu">str_pad</span>(<span class="st">"abc"</span>, <span class="dv">6</span>, <span class="at">side =</span> <span class="st">"right"</span>, <span class="at">pad =</span> <span class="st">"*"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "abc***"</code></pre>
</div>
</div>
<div class="fragment">
<p>Si <code>width</code> es menor que la longitud de la cadena, no hace nada.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb296"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb296-1"><a href="#cb296-1"></a><span class="fu">str_pad</span>(<span class="st">"abc"</span>,  <span class="at">width =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "abc"</code></pre>
</div>
</div>
</div>
</section>
<section id="espacios-en-blanco-1" class="slide level2">
<h2>Espacios en blanco</h2>
<ul>
<li><span class="hl-yellow"><strong>Eliminar espacios</strong></span>: con <code>str_trim()</code> podemos eliminar espacios en blanco al inicio y al final de la cadena. Si añadimos <code>side = ...</code> podemos cambiar si queremos que solo los elimine al final o al inicio (por defecto, en ambos). Con <code>str_squish()</code> cambiamos cualquier sucesión de espacios en blanco en medio del texto por uno solo (y elimina al inicio y final)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb298"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb298-1"><a href="#cb298-1"></a><span class="fu">str_trim</span>(<span class="st">" abcde   fghi "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "abcde   fghi"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb300"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb300-1"><a href="#cb300-1"></a><span class="fu">str_trim</span>(<span class="st">" abcde   "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "abcde"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb302"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb302-1"><a href="#cb302-1"></a><span class="fu">str_trim</span>(<span class="st">" abcde   "</span>, <span class="at">side =</span> <span class="st">"left"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "abcde   "</code></pre>
</div>
<div class="sourceCode cell-code" id="cb304"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb304-1"><a href="#cb304-1"></a><span class="fu">str_squish</span>(<span class="st">" abcde   fghi "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "abcde fghi"</code></pre>
</div>
</div>
</section>
<section id="patrones" class="slide level2">
<h2>Patrones</h2>
<ul>
<li><span class="hl-yellow"><strong>Detectar</strong></span>: con <code>str_detect()</code> podemos detectar si una cadena de texto contiene o no una secuencia de caracteres</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb306"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb306-1"><a href="#cb306-1"></a><span class="fu">str_detect</span>(<span class="fu">c</span>(<span class="st">"javi álvarez"</span>, <span class="st">"javi reyes"</span>, <span class="st">"sandra reyes"</span>), <span class="at">pattern =</span> <span class="st">"javi"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb308"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb308-1"><a href="#cb308-1"></a><span class="fu">str_detect</span>(<span class="fu">c</span>(<span class="st">"javi álvarez"</span>, <span class="st">"javi reyes"</span>, <span class="st">"sandra reyes"</span>), <span class="at">pattern =</span> <span class="st">"reyes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE  TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb310"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb310-1"><a href="#cb310-1"></a><span class="fu">str_detect</span>(<span class="fu">c</span>(<span class="st">"javi álvarez"</span>, <span class="st">"javi reyes"</span>, <span class="st">"sandra reyes"</span>), <span class="at">pattern =</span> <span class="st">"carlos"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE FALSE</code></pre>
</div>
</div>
</section>
<section id="patrones-1" class="slide level2">
<h2>Patrones</h2>
<ul>
<li><span class="hl-yellow"><strong>Expresiones regulares</strong></span>: no solo vamos a poder detectar patrones simples sino que podemos hacer uso de las conocidas como <strong>expresiones regulares</strong>, indicándole por ejemplo que queremos localizar todo patrón que sea, al menos una letra</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb312"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb312-1"><a href="#cb312-1"></a><span class="fu">str_detect</span>(<span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"ab"</span>, <span class="st">"abc"</span>, <span class="st">"abcd"</span>), <span class="at">pattern =</span> <span class="st">"[a-z]"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE TRUE TRUE TRUE</code></pre>
</div>
</div>
<div class="fragment">
<p>Si tras los corchetes indicamos <code>{n}</code> podemos detectar aquellas cadenas con n letras consecutivas</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb314"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb314-1"><a href="#cb314-1"></a><span class="fu">str_detect</span>(<span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"ab"</span>, <span class="st">"abc"</span>, <span class="st">"abcd"</span>), <span class="at">pattern =</span> <span class="st">"[a-z]{3}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE  TRUE  TRUE</code></pre>
</div>
</div>
</div>
</section>
<section id="patrones-2" class="slide level2">
<h2>Patrones</h2>
<ul>
<li><span class="hl-yellow"><strong>Expresiones regulares</strong></span>: un buen manejo de estas expresiones puede sernos muy útil para, por ejemplo, detectar formatos correctos en DNI o números de teléfono (de Madrid, por ejemplo).</li>
</ul>
<p>Vamos a considerar que un formato correcto de DNI es aquel seguido por 8 números (<code>[0-9]{8}</code>) seguido directamente de una letra mayúscula (<code>[A-Z]</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb316"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb316-1"><a href="#cb316-1"></a><span class="fu">str_detect</span>(<span class="fu">c</span>(<span class="st">"5055A198-W"</span>, <span class="st">"50508040W"</span>, <span class="st">"5050505W"</span>, <span class="st">"50508040-W"</span>),</span>
<span id="cb316-2"><a href="#cb316-2"></a>           <span class="at">pattern =</span> <span class="st">"[0-9]{8}[A-Z]"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE FALSE FALSE</code></pre>
</div>
</div>
<div class="fragment">
<p>Podemos buscar distintos patrones a la vez concatenándolos con una <code>|</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb318"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb318-1"><a href="#cb318-1"></a><span class="fu">str_detect</span>(<span class="fu">c</span>(<span class="st">"5055A198-W"</span>, <span class="st">"50508040W"</span>, <span class="st">"5050505W"</span>, <span class="st">"50508040-W"</span>),</span>
<span id="cb318-2"><a href="#cb318-2"></a>           <span class="at">pattern =</span> <span class="st">"[0-9]{8}[A-Z]|[0-9]{8}[-][A-Z]"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE FALSE  TRUE</code></pre>
</div>
</div>
</div>
</section>
<section id="patrones-3" class="slide level2">
<h2>Patrones</h2>
<ul>
<li><span class="hl-yellow"><strong>Contar patrones</strong></span>: con <code>str_count()</code> podemos contar cuantas veces aparece un mismo patrón</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb320"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb320-1"><a href="#cb320-1"></a><span class="fu">str_count</span>(<span class="fu">c</span>(<span class="st">"abcd defg"</span>, <span class="st">"ab defg"</span>, <span class="st">"ab cd"</span>), <span class="at">pattern =</span> <span class="st">"[a-z]{4}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 1 0</code></pre>
</div>
</div>
</section>
<section id="patrones-4" class="slide level2">
<h2>Patrones</h2>
<ul>
<li><span class="hl-yellow"><strong>Localizar posiciones</strong></span>: <code>str_locate()</code> nos permite localizar la primera posición en la que se produce un patrón. Con <code>str_locate_all()</code> obtenemos todos</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb322"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb322-1"><a href="#cb322-1"></a><span class="fu">str_locate</span>(<span class="fu">c</span>(<span class="st">"abcde abcd"</span>, <span class="st">"cba"</span>, <span class="st">"*a*"</span>), <span class="at">pattern =</span> <span class="st">"a"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     start end
[1,]     1   1
[2,]     3   3
[3,]     2   2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb324"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb324-1"><a href="#cb324-1"></a><span class="fu">str_locate_all</span>(<span class="fu">c</span>(<span class="st">"abcde abcd"</span>, <span class="st">"cba"</span>, <span class="st">"*a*"</span>), <span class="at">pattern =</span> <span class="st">"a"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
     start end
[1,]     1   1
[2,]     7   7

[[2]]
     start end
[1,]     3   3

[[3]]
     start end
[1,]     2   2</code></pre>
</div>
</div>
</section>
<section id="patrones-5" class="slide level2">
<h2>Patrones</h2>
<ul>
<li><span class="hl-yellow"><strong>Extraer patrones</strong></span>: con <code>str_extract()</code> podemos extraer patrones (con <code>str_extract_all()</code> todos ellos) de una cadena de texto.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb326"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb326-1"><a href="#cb326-1"></a><span class="fu">str_extract</span>(<span class="fu">c</span>(<span class="st">"DNI: 5050W"</span>, <span class="st">"DNI: 50558040W, DNI: 50558080-W"</span>, <span class="st">"DNI: 50558080-W"</span>),</span>
<span id="cb326-2"><a href="#cb326-2"></a>            <span class="at">pattern =</span> <span class="st">"[0-9]{8}[A-Z]|[0-9]{8}[-][A-Z]"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA           "50558040W"  "50558080-W"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb328"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb328-1"><a href="#cb328-1"></a><span class="fu">str_extract_all</span>(<span class="fu">c</span>(<span class="st">"DNI: 5050W"</span>, <span class="st">"DNI: 50558040W, DNI: 50558080-W"</span>, <span class="st">"DNI: 50558080-W"</span>),</span>
<span id="cb328-2"><a href="#cb328-2"></a>            <span class="at">pattern =</span> <span class="st">"[0-9]{8}[A-Z]|[0-9]{8}[-][A-Z]"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
character(0)

[[2]]
[1] "50558040W"  "50558080-W"

[[3]]
[1] "50558080-W"</code></pre>
</div>
</div>
</section>
<section id="patrones-6" class="slide level2">
<h2>Patrones</h2>
<ul>
<li><span class="hl-yellow"><strong>Dividir</strong></span>: con <code>str_split()</code> podemos localizar un patrón y dividir la cadena de texto siempre que aparezca (con <code>str_split_fixed()</code> podemos dividir en un número concreto de trozos)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb330"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb330-1"><a href="#cb330-1"></a><span class="fu">str_split</span>(<span class="fu">c</span>(<span class="st">"a-b-c"</span>, <span class="st">"ab-c-d-e"</span>), <span class="at">pattern =</span> <span class="st">"-"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "a" "b" "c"

[[2]]
[1] "ab" "c"  "d"  "e" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb332"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb332-1"><a href="#cb332-1"></a><span class="fu">str_split_fixed</span>(<span class="fu">c</span>(<span class="st">"a-b-c"</span>, <span class="st">"ab-c-d-e"</span>), <span class="at">pattern =</span> <span class="st">"-"</span>, <span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]   
[1,] "a"  "b-c"  
[2,] "ab" "c-d-e"</code></pre>
</div>
</div>
<div class="fragment">
<p>Si usamos <code>boundary()</code> como patrón podemos dividir en base a caracteres, frases, palabras, etc.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb334"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb334-1"><a href="#cb334-1"></a>x <span class="ot">&lt;-</span> <span class="st">"Esto es una frase. Y esto otra."</span></span>
<span id="cb334-2"><a href="#cb334-2"></a><span class="fu">str_split</span>(x, <span class="fu">boundary</span>(<span class="st">"word"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "Esto"  "es"    "una"   "frase" "Y"     "esto"  "otra" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb336"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb336-1"><a href="#cb336-1"></a><span class="fu">str_split</span>(x, <span class="fu">boundary</span>(<span class="st">"sentence"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "Esto es una frase. " "Y esto otra."       </code></pre>
</div>
</div>
</div>
</section>
<section id="tu-turno-3-1" class="slide level2">
<h2>💻 Tu turno (textos)</h2>
<p>El dataset será <code>discursos</code> (extraído de <a href="https://github.com/lirondos/discursos-de-navidad" class="uri">https://github.com/lirondos/discursos-de-navidad</a>) donde están guardados los discursos de navidad de los jefes de Estado de España desde 1946 hasta 2021.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb338"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb338-1"><a href="#cb338-1"></a><span class="fu">load</span>(<span class="at">file =</span> <span class="st">"./datos/discursos.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1"><span class="hl-yellow"><strong>Ej 1</strong></span></a></li><li><a href="#tabset-4-2"><span class="hl-yellow"><strong>Ej 2</strong></span></a></li><li><a href="#tabset-4-3"><span class="hl-yellow"><strong>Ej 3</strong></span></a></li><li><a href="#tabset-4-4"><span class="hl-yellow"><strong>Ej 4</strong></span></a></li><li><a href="#tabset-4-5"><span class="hl-yellow"><strong>Ej 5</strong></span></a></li><li><a href="#tabset-4-6"><span class="hl-yellow"><strong>Ej 6</strong></span></a></li><li><a href="#tabset-4-7"><span class="hl-yellow"><strong>Ej 7</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<p>📝 Convierte todos los discurso a minúscula.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb339"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb339-1"><a href="#cb339-1"></a><span class="co"># Convertimos a minúscula</span></span>
<span id="cb339-2"><a href="#cb339-2"></a>discursos<span class="sc">$</span>texto <span class="ot">&lt;-</span> <span class="fu">str_to_lower</span>(discursos<span class="sc">$</span>texto)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-4-2">
<p>📝 Elimina signos de puntuación tales como “:”, “,”, “.”, “;”, “¡”, “!”, “¿” y “?”. Tras ello elimina espacios adelante, atrás y en medio si existen solo deja uno de ellos.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb340"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb340-1"><a href="#cb340-1"></a><span class="co"># Eliminamos los signos de puntuación</span></span>
<span id="cb340-2"><a href="#cb340-2"></a>discursos<span class="sc">$</span>texto <span class="ot">&lt;-</span></span>
<span id="cb340-3"><a href="#cb340-3"></a>  <span class="fu">str_remove_all</span>(discursos<span class="sc">$</span>texto, <span class="at">pattern =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">:|</span><span class="sc">\\</span><span class="st">,|</span><span class="sc">\\</span><span class="st">.|</span><span class="sc">\\</span><span class="st">;|</span><span class="sc">\\</span><span class="st">¡|</span><span class="sc">\\</span><span class="st">!|</span><span class="sc">\\</span><span class="st">¿|</span><span class="sc">\\</span><span class="st">?"</span>)</span>
<span id="cb340-4"><a href="#cb340-4"></a></span>
<span id="cb340-5"><a href="#cb340-5"></a><span class="co"># Tras ello eliminamos espacios adelante, atrás y en medio solo dejamos uno</span></span>
<span id="cb340-6"><a href="#cb340-6"></a>discursos<span class="sc">$</span>texto <span class="ot">&lt;-</span> <span class="fu">str_squish</span>(discursos<span class="sc">$</span>texto)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-4-3">
<p>📝 Crea una nueva variable <code>long</code> con la longitud de cada discurso</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb341"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb341-1"><a href="#cb341-1"></a><span class="co"># Eliminamos los signos de puntuación</span></span>
<span id="cb341-2"><a href="#cb341-2"></a>discursos<span class="sc">$</span>long <span class="ot">&lt;-</span> <span class="fu">str_length</span>(discursos<span class="sc">$</span>texto)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-4-4">
<p>📝 Añade una nueva variable <code>n_words</code> con el nº palabras de cada discurso. Pista: si tras dividir cada discurso en palabras usas <code>length()</code> te devolverá seguro 76 ya que lo ha guardado en un tipo de dato llamado lista. Para calcular la longitud de cada uno de los 76 elementos de la lista usaremos <code>lengths()</code></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb342"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb342-1"><a href="#cb342-1"></a>lista <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"a"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="st">"b"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="st">"c"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) <span class="co"># Explicación length</span></span>
<span id="cb342-2"><a href="#cb342-2"></a><span class="fu">length</span>(lista)</span>
<span id="cb342-3"><a href="#cb342-3"></a><span class="fu">lengths</span>(lista)</span>
<span id="cb342-4"><a href="#cb342-4"></a><span class="co"># Dividimos y aplicamos lengths</span></span>
<span id="cb342-5"><a href="#cb342-5"></a>discursos<span class="sc">$</span>n_words <span class="ot">&lt;-</span> <span class="fu">lengths</span>(<span class="fu">str_split</span>(discursos<span class="sc">$</span>texto, <span class="fu">boundary</span>(<span class="st">"word"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-4-5">
<p>📝 Determina los 5 años con mayor longitud, y los 5 años con menor número de palabras</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb343"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb343-1"><a href="#cb343-1"></a><span class="co"># 5 años con mayor longitud (usamos order para obtener índices)</span></span>
<span id="cb343-2"><a href="#cb343-2"></a>discursos<span class="sc">$</span>year[<span class="fu">order</span>(discursos<span class="sc">$</span>long, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]]</span>
<span id="cb343-3"><a href="#cb343-3"></a></span>
<span id="cb343-4"><a href="#cb343-4"></a><span class="co"># 5 años con menor cantidad de palabras</span></span>
<span id="cb343-5"><a href="#cb343-5"></a>discursos<span class="sc">$</span>year[<span class="fu">order</span>(discursos<span class="sc">$</span>n_words)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-4-6">
<p>📝 Incorpora una nueva variable llamada <code>spain</code> que calcule el número de veces que se dice “españoles”, “españolas” o “españa” en el discurso. Determina los 5 años dónde menos se menten dichas palabras</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb344"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb344-1"><a href="#cb344-1"></a><span class="co"># Contamos</span></span>
<span id="cb344-2"><a href="#cb344-2"></a>discursos<span class="sc">$</span>spain <span class="ot">&lt;-</span> <span class="fu">str_count</span>(discursos<span class="sc">$</span>texto, <span class="at">pattern =</span> <span class="st">"españoles|españolas|españa"</span>)</span>
<span id="cb344-3"><a href="#cb344-3"></a></span>
<span id="cb344-4"><a href="#cb344-4"></a><span class="co"># Años con más menciones</span></span>
<span id="cb344-5"><a href="#cb344-5"></a>discursos<span class="sc">$</span>year[<span class="fu">order</span>(discursos<span class="sc">$</span>spain, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-4-7">
<p>📝 De los 76 años calcula el número de discursos en los que las palabras “mujer” o “mujeres” se nombren más que las palabras “hombre” u “hombres”</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb345"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb345-1"><a href="#cb345-1"></a><span class="fu">sum</span>(<span class="fu">str_count</span>(discursos<span class="sc">$</span>texto, <span class="at">pattern =</span> <span class="st">"mujer|mujeres"</span>) <span class="sc">&gt;</span></span>
<span id="cb345-2"><a href="#cb345-2"></a>      <span class="fu">str_count</span>(discursos<span class="sc">$</span>texto, <span class="at">pattern =</span> <span class="st">"hombre|hombres"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="caso-practico-3-1" class="slide level2">
<h2>🐣 Caso práctico I: textos</h2>
<p>Para practicar textos y tibbles vamos a usar el dataset <code>salto_longitud</code> que tienes guardado en la carpeta de datos, que guarda cómo ha <strong>progresado el récord de salto de longitud masculino</strong>. Dicha tabla ha sido extraída directamente de la wikipedia <a href="https://en.wikipedia.org/wiki/Men%27s_long_jump_world_record_progression#Low_altitude_record_progression_1965%E2%80%931991" class="uri">https://en.wikipedia.org/wiki/Men%27s_long_jump_world_record_progression#Low_altitude_record_progression_1965%E2%80%931991</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb346"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb346-1"><a href="#cb346-1"></a><span class="fu">load</span>(<span class="at">file =</span> <span class="st">"./datos/salto_longitud.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Aunque más adelante veremos como extraerlo, puedes ver debajo si quieres el código que se ha usado para extraer la tabla</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb347"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb347-1"><a href="#cb347-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb347-2"><a href="#cb347-2"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb347-3"><a href="#cb347-3"></a>wiki_jump <span class="ot">&lt;-</span> <span class="st">'https://en.wikipedia.org/wiki/Men%27s_long_jump_world_record_progression'</span></span>
<span id="cb347-4"><a href="#cb347-4"></a>long_jump <span class="ot">&lt;-</span> <span class="fu">read_html</span>(wiki_jump)</span>
<span id="cb347-5"><a href="#cb347-5"></a>salto_longitud <span class="ot">&lt;-</span> <span class="fu">html_table</span>(<span class="fu">html_node</span>(long_jump, <span class="st">'table'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Intenta responder a las preguntas planteadas en el <a href="https://javieralvarezliebana.quarto.pub/textos-primeras-bbdd/"><strong>workbook</strong></a></p>
</section>
<section id="primera-base-de-datos" class="slide level2">
<h2>Primera base de datos</h2>
<p>Cuando analizamos datos solemos tener <span class="hl-yellow"><strong>varias variables</strong></span> de cada individuo: necesitamos una «tabla» que las recopile. La opción más inmediata son las <span class="hl-yellow"><strong>matrices</strong></span>: concatenación de variables del <span class="hl-purple"><strong>mismo tipo e igual longitud</strong></span>.</p>
<p>Imagina que tenemos estaturas y pesos de 4 personas. ¿Cómo <span class="hl-yellow"><strong>crear un dataset con las dos variables</strong></span>?</p>
<div class="fragment">
<p>La opción más habitual es usando <code>cbind()</code>: <span class="hl-yellow"><strong>concatenamos (bind) vectores en forma de columnas (c)</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb348" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb348-1"><a href="#cb348-1"></a>estaturas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">150</span>, <span class="dv">160</span>, <span class="dv">170</span>, <span class="dv">180</span>)</span>
<span id="cb348-2"><a href="#cb348-2"></a>pesos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">63</span>, <span class="dv">70</span>, <span class="dv">85</span>, <span class="dv">95</span>)</span>
<span id="cb348-3"><a href="#cb348-3"></a>datos_matriz <span class="ot">&lt;-</span> <span class="fu">cbind</span>(estaturas, pesos)</span>
<span id="cb348-4"><a href="#cb348-4"></a>datos_matriz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     estaturas pesos
[1,]       150    63
[2,]       160    70
[3,]       170    85
[4,]       180    95</code></pre>
</div>
</div>
</div>
</section>
<section id="primer-intento-matrices" class="slide level2">
<h2>Primer intento: matrices</h2>
<p>También podemos <span class="hl-yellow"><strong>construir la matriz por filas</strong></span> con la función <code>rbind()</code> (concatenar - bind - por filas - rows), aunque lo <span class="hl-green"><strong>recomendable es tener cada variable en columna</strong></span> e individuo en fila como luego veremos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb350"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb350-1"><a href="#cb350-1"></a><span class="fu">rbind</span>(estaturas, pesos) <span class="co"># Construimos la matriz por filas</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          [,1] [,2] [,3] [,4]
estaturas  150  160  170  180
pesos       63   70   85   95</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li>Podemos <span class="hl-yellow"><strong>«visualizar» la matriz</strong></span> con <code>View(matriz)</code>.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Podemos <span class="hl-yellow"><strong>comprobar las dimensiones</strong></span> con <code>dim()</code>, <code>nrow()</code> y <code>ncol()</code>: las matrices son un tipo de <strong>datos tabulados</strong> (organizados en filas y columnas)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb352"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb352-1"><a href="#cb352-1"></a><span class="fu">dim</span>(datos_matriz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb354"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb354-1"><a href="#cb354-1"></a><span class="fu">nrow</span>(datos_matriz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb356"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb356-1"><a href="#cb356-1"></a><span class="fu">ncol</span>(datos_matriz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
</div>
</section>
<section id="primer-intento-matrices-1" class="slide level2">
<h2>Primer intento: matrices</h2>
<p>También podemos <span class="hl-yellow"><strong>«darle vuelta» (matriz transpuesta)</strong></span> con <code>t()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb358"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb358-1"><a href="#cb358-1"></a><span class="fu">t</span>(datos_matriz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          [,1] [,2] [,3] [,4]
estaturas  150  160  170  180
pesos       63   70   85   95</code></pre>
</div>
</div>
<div class="fragment">
<p>Dado que ahora tenemos dos dimensiones en nuestros datos, para <span class="hl-yellow"><strong>acceder a elementos con <code>[]</code></strong></span> deberemos proporcionar <strong>dos índices separados por comas</strong>: índice de la fila y de la columna</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb360"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb360-1"><a href="#cb360-1"></a>datos_matriz[<span class="dv">2</span>, <span class="dv">1</span>] <span class="co"># segunda fila, primera columna</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>estaturas 
      160 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb362"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb362-1"><a href="#cb362-1"></a>datos_matriz[<span class="dv">1</span>, <span class="dv">2</span>] <span class="co"># primera fila, segunda columna </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>pesos 
   63 </code></pre>
</div>
</div>
</div>
</section>
<section id="primer-intento-matrices-2" class="slide level2">
<h2>Primer intento: matrices</h2>
<p>En algunas casos querremos obtener los <span class="hl-yellow"><strong>datos totales de un individuo</strong></span> (una fila concreta pero todas las columnas) o los valores de <span class="hl-yellow"><strong>toda una variable</strong></span> para todos los individuos (una columna concreta pero todas las filas). Para ello dejaremos <span class="hl-yellow"><strong>sin rellenar uno de los índices</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb364"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb364-1"><a href="#cb364-1"></a>datos_matriz[<span class="dv">2</span>, ] <span class="co"># segundo individuo</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>estaturas     pesos 
      160        70 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb366"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb366-1"><a href="#cb366-1"></a>datos_matriz[, <span class="dv">1</span>] <span class="co"># primera variable</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 150 160 170 180</code></pre>
</div>
</div>
<div class="fragment">
<p>Mucho de lo aprendido con vectores podemos hacerlo con matrices, así podemos por ejemplo acceder a varias filas y/o columnas haciendo uso de las <span class="hl-yellow"><strong>secuencias de enteros 1:n</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb368"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb368-1"><a href="#cb368-1"></a>datos_matriz[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>), <span class="dv">1</span>] <span class="co"># primera variable para el primer y tercer individuo</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 150 170</code></pre>
</div>
</div>
</div>
</section>
<section id="primer-intento-matrices-3" class="slide level2">
<h2>Primer intento: matrices</h2>
<p>También podemos definir una <span class="hl-yellow"><strong>matriz a partir de un vector numérico</strong></span>, reorganizando los valores en forma de matriz (sabiendo que los elementos se van <span class="hl-purple"><strong>colocando por columnas</strong></span>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb370"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb370-1"><a href="#cb370-1"></a>z <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="at">ncol =</span> <span class="dv">3</span>) </span>
<span id="cb370-2"><a href="#cb370-2"></a>z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    2    5    8
[3,]    3    6    9</code></pre>
</div>
</div>
<div class="fragment">
<p>Incluso podemos <span class="hl-yellow"><strong>definir una matriz de valores constantes</strong></span>, por ejemplo de ceros (para luego rellenar)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb372"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb372-1"><a href="#cb372-1"></a><span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    0    0    0
[2,]    0    0    0</code></pre>
</div>
</div>
</div>
</section>
<section id="operaciones-con-matrices" class="slide level2">
<h2>Operaciones con matrices</h2>
<p>Con las matrices sucede como con los vectores: cuando aplicamos una <span class="hl-yellow"><strong>operación aritmética lo hacemos elemento a elemento</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb374"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb374-1"><a href="#cb374-1"></a>z<span class="sc">/</span><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]  0.2  0.8  1.4
[2,]  0.4  1.0  1.6
[3,]  0.6  1.2  1.8</code></pre>
</div>
</div>
<div class="fragment">
<p>Para realizar <span class="hl-yellow"><strong>operaciones en un sentido matricial</strong></span> deberemos añadir <code>%%</code>, por ejemplo, para multiplicar matrices será <code>%*%</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb376"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb376-1"><a href="#cb376-1"></a>z <span class="sc">*</span> <span class="fu">t</span>(z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    8   21
[2,]    8   25   48
[3,]   21   48   81</code></pre>
</div>
<div class="sourceCode cell-code" id="cb378"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb378-1"><a href="#cb378-1"></a>z <span class="sc">%*%</span> <span class="fu">t</span>(z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]   66   78   90
[2,]   78   93  108
[3,]   90  108  126</code></pre>
</div>
</div>
</div>
</section>
<section id="operaciones-con-matrices-1" class="slide level2">
<h2>Operaciones con matrices</h2>
<p>También podemos <span class="hl-yellow"><strong>realizar operaciones por columnas/filas</strong></span> sin recurrir a bucles con la función <code>apply()</code>, y le indicaremos como <strong>argumentos</strong></p>
<ul>
<li>la matriz</li>
<li>el sentido de la operación (<code>MARGIN = 1</code> por filas, <code>MARGIN = 2</code> por columnas)</li>
<li>la función a aplicar</li>
<li>argumentos extra que necesite la función</li>
</ul>
<div class="fragment">
<p>Por ejemplo, para aplicar una media a cada variable, será <code>mean</code> aplicada con <code>MARGIN = 2</code> (misma función para cada columna)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb380"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb380-1"><a href="#cb380-1"></a><span class="co"># Media (mean) por columnas (MARGIN = 2)</span></span>
<span id="cb380-2"><a href="#cb380-2"></a><span class="fu">apply</span>(datos_matriz, <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span> <span class="st">"mean"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>estaturas     pesos 
   165.00     78.25 </code></pre>
</div>
</div>
</div>
</section>
<section id="tu-turno-3-2" class="slide level2">
<h2>💻 Tu turno (matrices)</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-5-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-5-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-5-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-5-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li><li><a href="#tabset-5-6"><span class="hl-yellow"><strong>Ejercicio 6</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<p>📝 Modifica el código inferior para definir una matriz <code>x</code> de unos, de 3 filas y 7 columnas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb382"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb382-1"><a href="#cb382-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb382-2"><a href="#cb382-2"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb383"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb383-1"><a href="#cb383-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span>, <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">7</span>)</span>
<span id="cb383-2"><a href="#cb383-2"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-5-2">
<p>📝 A la matriz anterior, suma un 1 a cada número de la matriz y divide el resultado entre 5. Tras ello calcula su transpuesta</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb384"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb384-1"><a href="#cb384-1"></a>new_matrix <span class="ot">&lt;-</span> (x <span class="sc">+</span> <span class="dv">1</span>)<span class="sc">/</span><span class="dv">5</span></span>
<span id="cb384-2"><a href="#cb384-2"></a><span class="fu">t</span>(new_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-5-3">
<p>📝 ¿Por qué el código inferior nos devuelve dicho mensaje de aviso?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb385"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb385-1"><a href="#cb385-1"></a><span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>, <span class="at">nrow =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in matrix(1:15, nrow = 4): data length [15] is not a sub-multiple or
multiple of the number of rows [4]</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    5    9   13
[2,]    2    6   10   14
[3,]    3    7   11   15
[4,]    4    8   12    1</code></pre>
</div>
</div>
</div>
<div id="tabset-5-4">
<p>📝 Define la matriz <code>x &lt;- matrix(1:12, nrow = 4)</code>. Tras ello obtén los datos del primer individuo, los datos de la tercera variable, y el elemento <code>(4, 1)</code>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb388"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb388-1"><a href="#cb388-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">nrow =</span> <span class="dv">4</span>)</span>
<span id="cb388-2"><a href="#cb388-2"></a>x[<span class="dv">1</span>, ] <span class="co"># primera fila</span></span>
<span id="cb388-3"><a href="#cb388-3"></a>x[, <span class="dv">3</span>] <span class="co"># tercera columna</span></span>
<span id="cb388-4"><a href="#cb388-4"></a>x[<span class="dv">4</span>, <span class="dv">1</span>] <span class="co"># elemento (4, 1)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-5-5">
<p>📝 Define una matriz de 2 variables y 3 individuos tal que cada variable capture la estatura y la edad 3 personas, de manera que la edad de la segunda persona sea desconocida (ausente). Tras ello calcula la media de cada variable (¡nos debe de volver un número!)</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb389"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb389-1"><a href="#cb389-1"></a>datos <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="st">"edad"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="cn">NA</span>, <span class="dv">25</span>), <span class="st">"estatura"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">160</span>, <span class="dv">165</span>, <span class="dv">170</span>))</span>
<span id="cb389-2"><a href="#cb389-2"></a><span class="fu">apply</span>(datos, <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span> <span class="st">"mean"</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="co"># media por columnas</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-5-6">
<p>📝 ¿Por qué devuelve error el código inferior? ¿Qué está mal?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb390"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb390-1"><a href="#cb390-1"></a>matriz <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="st">"edad"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">25</span>), <span class="st">"nombres"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"javi"</span>, <span class="st">"sandra"</span>, <span class="st">"carlos"</span>))</span>
<span id="cb390-2"><a href="#cb390-2"></a>matriz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     edad nombres 
[1,] "15" "javi"  
[2,] "20" "sandra"
[3,] "25" "carlos"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb392"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb392-1"><a href="#cb392-1"></a>matriz <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in matriz + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="segundo-intento-data.frame" class="slide level2">
<h2>Segundo intento: data.frame</h2>
<p>Las matrices tienen el mismo problema que los vectores: si juntamos datos de distinto tipo, se <span class="hl-red"><strong>perturba la integridad del dato</strong></span> ya que los convierte (fíjate en el código inferior: las edades y los <code>TRUE/FALSE</code> los ha convertido a texto)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb394" data-code-line-numbers="4-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb394-1"><a href="#cb394-1"></a>edades <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">14</span>, <span class="dv">24</span>, <span class="cn">NA</span>)</span>
<span id="cb394-2"><a href="#cb394-2"></a>soltero <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">NA</span>, <span class="cn">FALSE</span>)</span>
<span id="cb394-3"><a href="#cb394-3"></a>nombres <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"javi"</span>, <span class="st">"laura"</span>, <span class="st">"lucía"</span>)</span>
<span id="cb394-4"><a href="#cb394-4"></a>matriz <span class="ot">&lt;-</span> <span class="fu">cbind</span>(edades, soltero, nombres)</span>
<span id="cb394-5"><a href="#cb394-5"></a>matriz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     edades soltero nombres
[1,] "14"   "TRUE"  "javi" 
[2,] "24"   NA      "laura"
[3,] NA     "FALSE" "lucía"</code></pre>
</div>
</div>
<div class="fragment">
<p>De hecho al no ser números ya no podemos realizar operaciones aritméticas</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb396"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb396-1"><a href="#cb396-1"></a>matriz <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in matriz + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
</section>
<section id="segundo-intento-data.frame-1" class="slide level2">
<h2>Segundo intento: data.frame</h2>
<p>Para poder trabajar con <span class="hl-yellow"><strong>variables de distinto tipo</strong></span> tenemos en <code>R</code> lo que se conoce como <span class="hl-yellow"><strong>data.frame</strong></span>: concatenación de variables de igual longitud pero que pueden ser de <span class="hl-purple"><strong>tipo distinto</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb398"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb398-1"><a href="#cb398-1"></a>tabla <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(edades, soltero, nombres)</span>
<span id="cb398-2"><a href="#cb398-2"></a><span class="fu">class</span>(tabla)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb400"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb400-1"><a href="#cb400-1"></a>tabla</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  edades soltero nombres
1     14    TRUE    javi
2     24      NA   laura
3     NA   FALSE   lucía</code></pre>
</div>
</div>
</section>
<section id="segundo-intento-data.frame-2" class="slide level2">
<h2>Segundo intento: data.frame</h2>
<p>Dado que un <code>data.frame</code> es ya un intento de «base de datos» las variables no son meros vectores matemáticos: <span class="hl-yellow"><strong>tienen un significado</strong></span> y podemos (debemos) <span class="hl-purple"><strong>ponerles nombres</strong></span> que describan su significado</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb402"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb402-1"><a href="#cb402-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb402-2"><a href="#cb402-2"></a>tabla <span class="ot">&lt;-</span></span>
<span id="cb402-3"><a href="#cb402-3"></a>  <span class="fu">data.frame</span>(<span class="st">"edad"</span> <span class="ot">=</span> edades, <span class="st">"estado"</span> <span class="ot">=</span> soltero, <span class="st">"nombre"</span> <span class="ot">=</span> nombres,</span>
<span id="cb402-4"><a href="#cb402-4"></a>             <span class="st">"f_nacimiento"</span> <span class="ot">=</span> <span class="fu">as_date</span>(<span class="fu">c</span>(<span class="st">"1989-09-10"</span>, <span class="st">"1992-04-01"</span>, <span class="st">"1980-11-27"</span>)))</span>
<span id="cb402-5"><a href="#cb402-5"></a>tabla</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  edad estado nombre f_nacimiento
1   14   TRUE   javi   1989-09-10
2   24     NA  laura   1992-04-01
3   NA  FALSE  lucía   1980-11-27</code></pre>
</div>
</div>
</section>
<section id="segundo-intento-data.frame-3" class="slide level2">
<h2>Segundo intento: data.frame</h2>
<p><span class="hl-yellow"><strong>¡TENEMOS NUESTRO PRIMER CONJUNTO DE DATOS!</strong></span> (estrictamente no podemos hablar de base de datos pero de momento como lo si fuesen). Puedes visualizarlo escribiendo su nombre en consola o con <code>View(tabla)</code></p>

<img data-src="img/view_tabla.jpg" class="r-stretch"></section>
<section id="acceso-a-variables" class="slide level2">
<h2>Acceso a variables</h2>
<p>Si queremos acceder a sus elementos, al ser de nuevo <strong>datos tabulados</strong>, podemos acceder como en las matrices (<span class="hl-red"><strong>no recomendable</strong></span>): de nuevo <span class="hl-yellow"><strong>tenemos dos índices</strong></span> (filas y columnas, dejando libre la que no usemos)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb404"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb404-1"><a href="#cb404-1"></a>tabla[<span class="dv">2</span>, ]  <span class="co"># segunda fila (todas sus variables)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  edad estado nombre f_nacimiento
2   24     NA  laura   1992-04-01</code></pre>
</div>
<div class="sourceCode cell-code" id="cb406"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb406-1"><a href="#cb406-1"></a>tabla[, <span class="dv">3</span>]  <span class="co"># tercera columna (de todos los individuos)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "javi"  "laura" "lucía"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb408"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb408-1"><a href="#cb408-1"></a>tabla[<span class="dv">2</span>, <span class="dv">1</span>]  <span class="co"># primera característica de la segunda persona</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 24</code></pre>
</div>
</div>
<div class="fragment">
<div class="columns">
<div class="column" style="width:25%;">
<p><img data-src="img/menu_data_frame.jpg"></p>
</div><div class="column" style="width:75%;">
<p>Pero también tiene las ventajas de una <span class="hl-yellow"><strong>«base» de datos</strong></span> : podemos <span class="hl-purple"><strong>aceder a las variables por su nombre</strong></span> (<span class="hl-green"><strong>lo recomendable</strong></span> ya que las variables pueden cambiar de posición y ahora sí tienen un significado), poniendo el nombre de la tabla seguido del símbolo <code>$</code> (con el <strong>tabulador</strong>, nos aparecerá un menú de columnas a elegir)</p>
</div>
</div>
</div>
</section>
<section id="funciones-de-consulta" class="slide level2">
<h2>Funciones de consulta</h2>
<ul>
<li><code>names()</code>: nos muestra los nombres de las variables</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb410"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb410-1"><a href="#cb410-1"></a><span class="fu">names</span>(tabla)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "edad"         "estado"       "nombre"       "f_nacimiento"</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li><code>dim()</code>: nos muestra las dimensiones (también <code>nrow()</code> y <code>ncol()</code>)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb412"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb412-1"><a href="#cb412-1"></a><span class="fu">dim</span>(tabla)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 4</code></pre>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li>Podemos acceder a las variables por su nombre</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb414"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb414-1"><a href="#cb414-1"></a>tabla[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>), <span class="st">"nombre"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "javi"  "lucía"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb416"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb416-1"><a href="#cb416-1"></a>tabla<span class="sc">$</span>nombre[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "javi"  "lucía"</code></pre>
</div>
</div>
</div>
</section>
<section id="añadir-variable" class="slide level2">
<h2>Añadir variable</h2>
<p>Si tenemos uno ya creado y queremos <span class="hl-yellow"><strong>añadir una columna</strong></span> es tan simple como usar la función <code>data.frame()</code> que ya hemos visto para concatenar la columna. Vamos añadir por ejemplo una nueva variable, el número de hermanos de cada individuo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb418"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb418-1"><a href="#cb418-1"></a><span class="co"># Añadimos una nueva columna con nº de hermanos/as</span></span>
<span id="cb418-2"><a href="#cb418-2"></a>hermanos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb418-3"><a href="#cb418-3"></a>tabla <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(tabla, <span class="st">"n_hermanos"</span> <span class="ot">=</span> hermanos)</span>
<span id="cb418-4"><a href="#cb418-4"></a>tabla</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  edad estado nombre f_nacimiento n_hermanos
1   14   TRUE   javi   1989-09-10          0
2   24     NA  laura   1992-04-01          2
3   NA  FALSE  lucía   1980-11-27          3</code></pre>
</div>
</div>
</section>
<section id="intento-final-tibble" class="slide level2">
<h2>Intento final: tibble</h2>
<p>Las tablas en formato <code>data.frame</code> tienen algunas <span class="hl-red"><strong>limitaciones</strong></span>. La principal es que <span class="hl-red"><strong>no permite la recursividad</strong></span>: imagina que definimos una base de datos con estaturas y pesos, y queremos una tercera variable con el IMC</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb420"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb420-1"><a href="#cb420-1"></a><span class="fu">data.frame</span>(<span class="st">"estatura"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">1.7</span>, <span class="fl">1.8</span>, <span class="fl">1.6</span>), <span class="st">"peso"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">75</span>, <span class="dv">70</span>),</span>
<span id="cb420-2"><a href="#cb420-2"></a>           <span class="st">"IMC"</span> <span class="ot">=</span> peso <span class="sc">/</span> (estatura<span class="sc">^</span><span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in data.frame(estatura = c(1.7, 1.8, 1.6), peso = c(80, 75, 70), : object 'peso' not found</code></pre>
</div>
</div>
<div class="fragment">
<p>En adelante usaremos el formato <code>tibble</code> (<span class="hl-yellow"><strong>data.frame mejorado</strong></span>) del paquete <code>{tibble}</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb422"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb422-1"><a href="#cb422-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb422-2"><a href="#cb422-2"></a>datos_tb <span class="ot">&lt;-</span> </span>
<span id="cb422-3"><a href="#cb422-3"></a>  <span class="fu">tibble</span>(<span class="st">"estatura"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">1.7</span>, <span class="fl">1.8</span>, <span class="fl">1.6</span>), <span class="st">"peso"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">75</span>, <span class="dv">70</span>), <span class="st">"IMC"</span> <span class="ot">=</span> peso <span class="sc">/</span> (estatura<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb422-4"><a href="#cb422-4"></a><span class="fu">class</span>(datos_tb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb424"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb424-1"><a href="#cb424-1"></a>datos_tb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  estatura  peso   IMC
     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1      1.7    80  27.7
2      1.8    75  23.1
3      1.6    70  27.3</code></pre>
</div>
</div>
</div>
</section>
<section id="intento-final-tibble-1" class="slide level2">
<h2>Intento final: tibble</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb426"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb426-1"><a href="#cb426-1"></a>datos_tb <span class="ot">&lt;-</span></span>
<span id="cb426-2"><a href="#cb426-2"></a>  <span class="fu">tibble</span>(<span class="st">"estatura"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">1.7</span>, <span class="fl">1.8</span>, <span class="fl">1.6</span>), <span class="st">"peso"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">75</span>, <span class="dv">70</span>), <span class="st">"IMC"</span> <span class="ot">=</span> peso <span class="sc">/</span> (estatura<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb426-3"><a href="#cb426-3"></a>datos_tb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  estatura  peso   IMC
     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1      1.7    80  27.7
2      1.8    75  23.1
3      1.6    70  27.3</code></pre>
</div>
</div>
<p>Las tablas en formato <code>tibble</code> nos permitirá una <span class="hl-yellow"><strong>gestión más ágil, eficiente y coherente</strong></span> de los datos, con 4 ventajas principales:</p>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Metainformación</strong></span>: si te fijas en la cabecera, nos dice ya automáticamente el número de filas y columnas, y el tipo de cada variable</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Recursividad</strong></span>: permite definir las variables secuencialmente (como hemos visto)</li>
</ul>
</div>
</section>
<section id="intento-final-tibble-2" class="slide level2">
<h2>Intento final: tibble</h2>
<ul>
<li><span class="hl-yellow"><strong>Consistencia</strong></span>: si accedes a una columna que no existe avisa con un warning</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb428"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb428-1"><a href="#cb428-1"></a>datos_tb<span class="sc">$</span>invent</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Unknown or uninitialised column: `invent`.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Por filas</strong></span>: crear por filas (copiar y pegar de una tabla) con <code>tribble()</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb431"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb431-1"><a href="#cb431-1"></a><span class="fu">tribble</span>(<span class="sc">~</span>colA, <span class="sc">~</span>colB,</span>
<span id="cb431-2"><a href="#cb431-2"></a>        <span class="st">"a"</span>,   <span class="dv">1</span>,</span>
<span id="cb431-3"><a href="#cb431-3"></a>        <span class="st">"b"</span>,   <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  colA   colB
  &lt;chr&gt; &lt;dbl&gt;
1 a         1
2 b         2</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>El paquete <code>{datapasta}</code> nos permite <span class="hl-green"><strong>copiar y pegar</strong></span> tablas de páginas web y documentos sencillos</p>
</div>
</div>
</div>
</div>
</section>
<section id="recapitulando" class="slide level2">
<h2>Recapitulando</h2>
<ul>
<li>Cada <span class="hl-yellow"><strong>celda puede ser de un tipo diverso</strong></span>: números, texto, fechas, valores lógicos, etc</li>
</ul>
<div class="fragment">
<ul>
<li>Un <span class="hl-yellow"><strong>vector es una concatenación de celdas</strong></span> (las futuras columnas de nuestras tablas) –&gt; En <code>R</code> por defecto las operaciones se hacen <span class="hl-yellow"><strong>elemento a elemento</strong></span></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Una <span class="hl-yellow"><strong>matriz</strong></span> nos permite concatenar <span class="hl-yellow"><strong>variables del MISMO tipo y MISMA longitud</strong></span> –&gt; datos tabulados</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Un <span class="hl-yellow"><strong>data.frame</strong></span> nos permite concatenar <span class="hl-yellow"><strong>variables de DISTINTO tipo y MISMA longitud</strong></span> –&gt; usaremos <span class="hl-yellow"><strong>tibble</strong></span> como una opción mejorada de base de datos</li>
</ul>
</div>
</section>
<section id="tu-turno-3-3" class="slide level2">
<h2>💻 Tu turno (tb/df)</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-6-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-6-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-6-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-6-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li><li><a href="#tabset-6-6"><span class="hl-yellow"><strong>Ejercicio 6</strong></span></a></li><li><a href="#tabset-6-7"><span class="hl-yellow"><strong>Ejercicio 7</strong></span></a></li><li><a href="#tabset-6-8"><span class="hl-yellow"><strong>Ejercicio 8</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<p>📝 Carga del paquete <code>{datasets}</code> el conjunto de datos <code>airquality</code> (variables de la calidad del aire de Nueva York desde mayo hasta septiembre de 1973). ¿Es el conjunto de datos airquality de tipo tibble? En caso negativo, conviértelo a tibble (busca en la documentación del paquete en <a href="https://tibble.tidyverse.org/index.html" class="uri">https://tibble.tidyverse.org/index.html</a>).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb433"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb433-1"><a href="#cb433-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb433-2"><a href="#cb433-2"></a><span class="fu">class</span>(datasets<span class="sc">::</span>airquality)</span>
<span id="cb433-3"><a href="#cb433-3"></a>airquality_tb <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(datasets<span class="sc">::</span>airquality)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-6-2">
<p>📝 Una vez convertido a <code>tibble</code> obtén el nombre de las variables y las dimensiones del conjunto de datos. ¿Cuántas variables hay? ¿Cuántos días se han medido?</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb434"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb434-1"><a href="#cb434-1"></a><span class="fu">names</span>(airquality_tb)</span>
<span id="cb434-2"><a href="#cb434-2"></a><span class="fu">ncol</span>(airquality_tb)</span>
<span id="cb434-3"><a href="#cb434-3"></a><span class="fu">nrow</span>(airquality_tb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-6-3">
<p>📝 Filtra solo los datos de la quinta observación</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb435"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb435-1"><a href="#cb435-1"></a>airquality_tb[Month <span class="sc">==</span> <span class="dv">8</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-6-4">
<p>📝 Filtra solo los datos del mes de agosto. ¿Cómo indicarle que queremos solo las filas que cumplan una condición concreta? (pista: en realidad todo son vectores “formateados”)</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb436"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb436-1"><a href="#cb436-1"></a>airquality_tb[Month <span class="sc">==</span> <span class="dv">8</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-6-5">
<p>📝 Selecciona aquellos datos que no sean ni de julio ni de agosto.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb437"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb437-1"><a href="#cb437-1"></a>airquality_tb[Month <span class="sc">!=</span> <span class="dv">7</span> <span class="sc">&amp;</span> Month <span class="sc">!=</span> <span class="dv">8</span>, ]</span>
<span id="cb437-2"><a href="#cb437-2"></a>airquality_tb[<span class="sc">!</span>(Month <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">8</span>)), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-6-6">
<p>📝 Modifica el siguiente código para quedarte solo con las variable de ozono y temperatura (sin importar qué posición ocupen)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb438"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb438-1"><a href="#cb438-1"></a>airquality_tb[, <span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-6-7">
<p>📝 Selecciona los datos de temperatura y viento de agosto.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb439"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb439-1"><a href="#cb439-1"></a>airquality_tb[Month <span class="sc">==</span> <span class="dv">8</span>, <span class="fu">c</span>(<span class="st">"Temp"</span>, <span class="st">"Wind"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-6-8">
<p>📝 Traduce a castellano el nombre de las variables.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb440"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb440-1"><a href="#cb440-1"></a><span class="fu">names</span>(airquality_tb) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ozono"</span>, <span class="st">"rad_solar"</span>, <span class="st">"viento"</span>, <span class="st">"temp"</span>, <span class="st">"mes"</span>, <span class="st">"dia"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="caso-practico-3-2" class="slide level2">
<h2>🐣 Caso práctico II: tibble</h2>
<p>Del paquete <code>{Biostatistics}</code> usaremos el conunto de datos <code>pinniped</code>, que guarda los <strong>datos de peso de cuerpo y cerebro</strong> (desagregado por sexo y mono/poligamia) de 33 especies de mamíferos marinos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb441"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb441-1"><a href="#cb441-1"></a>Biostatistics<span class="sc">::</span>pinniped</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                       Species Male_brain_g Female_brain_g Male_mass_Kg
1       Monachus schauinslandi        370.0             NA        173.0
2            Monachus monachus        480.0          480.0        260.0
3      Mirounga angustirostris        700.0          640.0       2275.0
4             Mirounga leonina       1431.3          898.8       3510.0
5       Leptonychotes weddelli        535.0          637.5        450.0
6            Ommatophoca rossi        425.0          530.0        153.8
7        Lobodon carcinophagus        578.2          538.8        220.5
8            Hydrurga leptonyx        765.0          660.0        324.0
9          Cystophora cristata        480.0          430.0        343.2
10         Erignathus barbatus           NA          460.0        312.5
11          Halichoerus grypus        342.5          272.5        233.0
12          Phoca groenlandica        297.5          252.5        145.0
13              Phoca fasciata        257.5          240.0         94.8
14                Phoca largha        257.5          250.0         97.0
15               Phoca caspica        165.0          160.0         70.5
16              Phoca sibirica        185.0          190.0         89.5
17               Phoca hispida        229.3          220.0         84.0
18              Phoca vitulina        362.3          265.0         97.1
19      Zalophus californianus        405.0          361.5        244.5
20          Eumetopias jubatus        747.5          575.0       1000.0
21              Otaria byronia        546.3          470.0        300.0
22            Neophoca cinerea        440.0          337.5        300.0
23          Phocarctos hookeri        417.5          370.0        364.0
24         Callorhinus ursinus        355.0          302.5        140.0
25     Arctocephalus townsendi           NA             NA        112.0
26     Arctocephalus philippii        415.0             NA        140.0
27 Arctocephalus galapagoensis        302.5          280.0         64.5
28     Arctocephalus australis        350.0          265.0         91.0
29      Arctocephalus forsteri        340.0          300.0        125.0
30       Arctocephalus gazella        360.0          320.0        155.0
31    Arctocephalus tropicalis        322.5          330.0        152.5
32      Arctocephalus pusillus        401.3          337.5        263.0
33           Odobenus rosmarus       1303.0         1340.5       1233.0
   Female_mass_Kg Mate_type
1           272.2      mono
2           275.0      mono
3           488.0      poly
4           565.7      poly
5           447.0      poly
6           164.0      mono
7           224.0      mono
8           367.0      mono
9           222.5      mono
10          326.0      mono
11          205.8      poly
12          139.0      mono
13           80.4      mono
14           71.3      mono
15           55.0      mono
16           85.0      mono
17           81.2      mono
18           85.2      mono
19           81.0      poly
20          287.5      poly
21          144.0      poly
22           78.6      poly
23          114.7      poly
24           33.3      poly
25           49.6      poly
26           48.1      poly
27           27.4      poly
28           48.5      poly
29           38.1      poly
30           45.0      poly
31           50.0      poly
32           64.1      poly
33          811.5      poly</code></pre>
</div>
</div>
<p>Intenta responder a las preguntas planteadas en el <a href="https://javieralvarezliebana.quarto.pub/textos-primeras-bbdd/"><strong>workbook</strong></a></p>
</section></section>
<section>
<section id="clase-4" class="title-slide slide level1 center">
<h1>Clase 4: <span class="flow">Quarto</span></h1>
<p><span style="color:#444442;"><strong>Comunicar: elaborar apuntes, diapositivas, etc</strong></span></p>
<ul>
<li><p><a href="#/caso-practico-4">🐣 Workbook/caso práctico</a></p></li>
<li><p><a href="#/planificacion">📆 Planificación</a></p></li>
</ul>
</section>
<section id="comunicar-rmd-y-quarto" class="slide level2">
<h2>Comunicar: rmd y Quarto</h2>
<p>Una de las <span class="hl-yellow"><strong>principales fortalezas</strong></span> de <code>R</code> es la <span class="hl-yellow"><strong>facilidad para generar informes, libros, webs, apuntes y hasta diapositivas</strong></span> (este mismo material por ejemplo). Para ello <span class="hl-purple"><strong>instalaremos</strong></span> antes</p>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li>el paquete <code>{rmarkdown}</code> (para generar archivos <code>.rmd</code>)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb443"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb443-1"><a href="#cb443-1"></a><span class="fu">install.packages</span>(<span class="st">"rmarkdown"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>instalar <a href="https://quarto.org/docs/get-started/"><strong>Quarto</strong></a> (si ya conocías <code>R</code>, el «nuevo» <code>.rmd</code> ahora como <code>.qmd</code>)</li>
</ul>
</div><div class="column" style="width:60%;">
<p><img data-src="img/quarto.png"></p>
</div>
</div>
</section>
<section id="comunicar-rmd-y-quarto-1" class="slide level2">
<h2>Comunicar: rmd y Quarto</h2>
<p>Hasta ahora solo hemos programado en scripts (archivos <code>.R</code>) dentro de proyectos, pero en muchas ocasiones <span class="hl-yellow"><strong>no trabajaremos solos</strong></span> y necesitaremos <span class="hl-yellow"><strong>comunicar los resultados</strong></span> en diferentes formatos:</p>
<ul>
<li>apuntes (para nosotros mismos)</li>
<li>diapositivas</li>
<li>web</li>
<li>informes</li>
</ul>
<p>Para todo ello usaremos <span class="hl-yellow"><strong>Quarto</strong></span> (ver más en <a href="https://ivelasq.quarto.pub/intro-to-quarto/" class="uri">https://ivelasq.quarto.pub/intro-to-quarto/</a>)</p>
</section>
<section id="comunicar-rmd-y-quarto-2" class="slide level2">
<h2>Comunicar: rmd y Quarto</h2>
<p>Los archivos de extensión <code>.qmd</code> (o <code>.rmd</code> antes) nos permitirán fácilmente combinar:</p>
<ul>
<li><span class="hl-yellow"><strong>Markdown</strong></span>: <span class="hl-purple"><strong>lenguaje tipado</strong></span> que nos permite crear contenido simple (tipo wordpress, con texto, <strong>negritas</strong>, <em>cursivas</em>, etc) con un diseño legible.</li>
</ul>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Matemáticas (latex)</strong></span>: lenguaje para escribir notación matemática como <span class="math inline">\(x^2\)</span> o <span class="math inline">\(\sqrt{y}\)</span> o <span class="math inline">\(\int_{a}^{b} f(x) dx\)</span></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Código y salidas</strong></span>: podremos no solo mostrar el paso final sino el código que has ido realizando (en <code>R</code>, <code>Python</code>, <code>C++</code>, <code>Julia</code>, …), con <span class="hl-purple"><strong>cajitas de código llamadas CHUNKS</strong></span>.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Imágenes, <span class="hl-yellow"><strong>gráficas</strong></span>, tablas, estilos (css, js), etc.</li>
</ul>
</div>
</section>
<section id="comunicar-rmd-y-quarto-3" class="slide level2">
<h2>Comunicar: rmd y Quarto</h2>
<p>La principal ventaja de realizar este tipo de material en Quarto/Rmarkdown es que, al hacerlo desde <code>RStudio</code>, puedes generar un <span class="hl-yellow"><strong>informe o una presentación sin salirte del entorno de programación</strong></span> en el que estás trabajando</p>
<p>De esta forma podrás analizar los datos, resumirlos y a la vez comunicarlos con la misma herramienta.</p>
<div class="fragment">
<p>Recientemente el equipo de <code>RStudio</code> desarrolló <span class="hl-yellow"><strong>Quarto</strong></span>, una versión mejorada de Rmarkdown (archivos <code>.qmd</code>), con un formato un poco más estético y simple. Tienes toda la documentación y ejemplos en <a href="https://quarto.org/"><strong>https://quarto.org/</strong></a></p>
</div>
</section>
<section id="usos-de-quarto" class="slide level2">
<h2>Usos de Quarto</h2>
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1">Webs</a></li><li><a href="#tabset-7-2">Libros</a></li><li><a href="#tabset-7-3">Blogs</a></li><li><a href="#tabset-7-4">Presentaciones</a></li><li><a href="#tabset-7-5">Revistas</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<p><img data-src="./img/website.png" height="350"></p>
</div>
<div id="tabset-7-2">
<p><img data-src="./img/book.png" height="350"></p>
</div>
<div id="tabset-7-3">
<p><img data-src="./img/blog.png" height="350"></p>
</div>
<div id="tabset-7-4">
<p><img data-src="./img/presentation.png" height="350"></p>
</div>
<div id="tabset-7-5">
<p><img data-src="https://user-images.githubusercontent.com/163582/42351114-e5deaa1c-8078-11e8-90de-2aff57bba255.png" height="350"></p>
</div>
</div>
</div>
<p>Imágenes obtenidas de <a href="https://ivelasq.quarto.pub/intro-to-quarto/#/working-with-the-rstudio-visual-editor" class="uri">https://ivelasq.quarto.pub/intro-to-quarto/#/working-with-the-rstudio-visual-editor</a></p>
</section>
<section id="nuestro-primer-informe" class="slide level2">
<h2>Nuestro primer informe</h2>
<div class="columns">
<div class="column" style="width:55%;">
<p><img data-src="img/quarto-create.png"></p>
</div><div class="column" style="width:45%;">
<p>Vamos a crear el <span class="hl-yellow"><strong>primer fichero rmarkdown con Quarto</strong></span> con extensión <code>.qmd</code>. Para ello solo necesitaremos hacer click en</p>
<p><code>File &lt;&lt; New File &lt;&lt; Quarto Document</code></p>
</div>
</div>
</section>
<section id="nuestro-primer-informe-1" class="slide level2">
<h2>Nuestro primer informe</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p><img data-src="img/quarto-format.png"></p>
</div><div class="column" style="width:55%;">
<p>Tras hacerlo nos aparecerán varias <span class="hl-yellow"><strong>opciones de formatos de salida</strong></span>:</p>
<ul>
<li>archivo <code>.pdf</code></li>
<li>archivo <code>.html</code> (<span class="hl-yellow"><strong>recomendable</strong></span>): documento dinámico, permite la interacción con el usuario, como una «página web».</li>
<li>archivo <code>.doc</code> (nada recomendable)</li>
</ul>
</div>
</div>
<div class="fragment">
<p>De momento dejaremos marcado el <span class="hl-yellow"><strong>formato HTML que viene por defecto</strong></span>, y escribiremos el <span class="hl-yellow"><strong>título</strong></span> de nuestro documento. Tras ello tendremos nuestro <span class="hl-yellow"><strong>archivo .qmd</strong></span> (ya no es un script .R como los que hemos abierto hasta ahora).</p>
</div>
</section>
<section id="nuestro-primer-informe-2" class="slide level2">
<h2>Nuestro primer informe</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p><img data-src="img/quarto-example.png"></p>
</div><div class="column" style="width:40%;">
<p>Deberías tener algo similar a la captura de la imagen con <span class="hl-yellow"><strong>dos modos de edición</strong></span>: <code>Source</code> (con código, la opción recomendada hasta que lo domines) y <code>Visual</code> (más parecido a un blog)</p>
</div>
</div>
<p>Para <span class="hl-yellow"><strong>ejecutar TODO el documento</strong></span> debes clickar <code>Render on Save</code> y darle a guardar.</p>
</section>
<section id="salida-de-quarto" class="slide level2">
<h2>Salida de Quarto</h2>

<img data-src="img/quarto-prueba-html.png" class="r-stretch"><p>Deberías haber obtenido una <span class="hl-yellow"><strong>salida en html similar a esta</strong></span> (y se te ha generado en tu ordenador un <span class="hl-yellow"><strong>archivo html</strong></span>)</p>
</section>
<section id="editor-source-vs-visual" class="slide level2">
<h2>Editor: source vs visual</h2>
<p>Como se indicaba, tienes dos formas de trabajar: con código puro y algo parecido a un Notion (blog)</p>

<img data-src="./img/rstudio-source-visual.png" class="r-stretch"><p>Imagen obtenida de <a href="https://ivelasq.quarto.pub/intro-to-quarto/#/working-with-the-rstudio-visual-editor" class="uri">https://ivelasq.quarto.pub/intro-to-quarto/#/working-with-the-rstudio-visual-editor</a></p>
</section>
<section id="nuestro-primer-informe-3" class="slide level2">
<h2>Nuestro primer informe</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-example.png"></p>
</div><div class="column" style="width:50%;">
<p>Un fichero <code>.qmd</code> se <span class="hl-yellow"><strong>divide básicamente en tres partes</strong></span>:</p>
<ul>
<li><p><span class="hl-yellow"><strong>Cabecera</strong></span>: la parte que tienes al inicio entre <code>---</code>.</p></li>
<li><p><span class="hl-yellow"><strong>Texto</strong></span>: que podremos formatear y mejorar con negritas (escrito como <strong>negritas</strong>, con doble astérisco al inicio y final), cursivas (<em>cursivas</em>, con barra baja al inicio y final) o destacar nombres de funciones o variables de R. Puedes añadir ecuaciones como <span class="math inline">\(x^2\)</span> (he escrito <code>$x^2$</code>, entre dólares).</p></li>
<li><p><span class="hl-yellow"><strong>Código R</strong></span></p></li>
</ul>
</div>
</div>
</section>
<section id="cabecera-de-un-qmd" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Cabecera de un qmd</h2>
<p>La <span class="hl-yellow"><strong>cabecera están en formato YAML</strong></span> y contiene los <span class="hl-yellow"><strong>metadatos</strong></span> del documento</p>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><code>title</code> y <code>subtitle</code>: el título/subtítulo del documento</li>
<li><code>author</code>: autor del mismo</li>
<li><code>format</code>: formato de salida (podremos personalizar)
<ul>
<li><code>theme</code>: si tienes algún archivo de estilos</li>
<li><code>toc</code>: si quieres índice o no</li>
<li><code>toc-location</code>: posición del índice</li>
<li><code>toc-title</code>: título del índice</li>
</ul></li>
<li><code>editor</code>: si estás en modo visual o source.</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="sourceCode" id="cb444"><pre class="sourceCode numberSource yaml number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode yaml hljs"><span id="cb444-1" class="hljs-ln-code"><a href="#cb444-1"></a><span class="pp">---</span></span>
<span id="cb444-2" class="hljs-ln-code"><a href="#cb444-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"prueba"</span></span>
<span id="cb444-3" class="hljs-ln-code"><a href="#cb444-3"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb444-4" class="hljs-ln-code"><a href="#cb444-4"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span></span>
<span id="cb444-5" class="hljs-ln-code"><a href="#cb444-5"></a><span class="fu">editor</span><span class="kw">:</span><span class="at"> visual</span></span>
<span id="cb444-6" class="hljs-ln-code"><a href="#cb444-6"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="cabecera-de-un-qmd-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Cabecera de un qmd</h2>
<p>La <span class="hl-yellow"><strong>cabecera están en formato YAML</strong></span> y contiene los <span class="hl-yellow"><strong>metadatos</strong></span> del documento</p>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><code>title</code> y <code>subtitle</code>: el título/subtítulo del documento</li>
<li><code>author</code>: autor del mismo</li>
<li><code>format</code>: formato de salida (podremos personalizar)
<ul>
<li><code>theme</code>: si tienes algún archivo de estilos</li>
<li><code>toc</code>: si quieres índice o no</li>
<li><code>toc-location</code>: posición del índice</li>
<li><code>toc-title</code>: título del índice</li>
</ul></li>
<li><code>editor</code>: si estás en modo visual o source.</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="sourceCode" id="cb445"><pre class="sourceCode numberSource yaml number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode yaml hljs"><span id="cb445-1" class="hljs-ln-code"><a href="#cb445-1"></a><span class="pp">---</span></span>
<span id="cb445-2" class="hljs-ln-code"><a href="#cb445-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"prueba"</span></span>
<span id="cb445-3" class="hljs-ln-code"><a href="#cb445-3"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">"javier álvarez liébana"</span></span>
<span id="cb445-4" class="hljs-ln-code"><a href="#cb445-4"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb445-5" class="hljs-ln-code"><a href="#cb445-5"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span></span>
<span id="cb445-6" class="hljs-ln-code"><a href="#cb445-6"></a><span class="fu">editor</span><span class="kw">:</span><span class="at"> visual</span></span>
<span id="cb445-7" class="hljs-ln-code"><a href="#cb445-7"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="cabecera-de-un-qmd-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Cabecera de un qmd</h2>
<p>La <span class="hl-yellow"><strong>cabecera están en formato YAML</strong></span> y contiene los <span class="hl-yellow"><strong>metadatos</strong></span> del documento</p>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><code>title</code> y <code>subtitle</code>: el título/subtítulo del documento</li>
<li><code>author</code>: autor del mismo</li>
<li><code>format</code>: formato de salida (podremos personalizar)
<ul>
<li><code>theme</code>: si tienes algún archivo de estilos</li>
<li><code>toc</code>: si quieres índice o no</li>
<li><code>toc-location</code>: posición del índice</li>
<li><code>toc-title</code>: título del índice</li>
</ul></li>
<li><code>editor</code>: si estás en modo visual o source.</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="sourceCode" id="cb446"><pre class="sourceCode numberSource yaml number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode yaml hljs"><span id="cb446-1" class="hljs-ln-code"><a href="#cb446-1"></a><span class="pp">---</span></span>
<span id="cb446-2" class="hljs-ln-code"><a href="#cb446-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"prueba"</span></span>
<span id="cb446-3" class="hljs-ln-code"><a href="#cb446-3"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">"javier álvarez liébana"</span></span>
<span id="cb446-4" class="hljs-ln-code"><a href="#cb446-4"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb446-5" class="hljs-ln-code"><a href="#cb446-5"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span></span>
<span id="cb446-6" class="hljs-ln-code"><a href="#cb446-6"></a><span class="at">    </span><span class="fu">style</span><span class="kw">:</span><span class="at"> style.css</span></span>
<span id="cb446-7" class="hljs-ln-code"><a href="#cb446-7"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb446-8" class="hljs-ln-code"><a href="#cb446-8"></a><span class="fu">editor</span><span class="kw">:</span><span class="at"> visual</span></span>
<span id="cb446-9" class="hljs-ln-code"><a href="#cb446-9"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="cabecera-de-un-qmd-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Cabecera de un qmd</h2>
<p>La <span class="hl-yellow"><strong>cabecera están en formato YAML</strong></span> y contiene los <span class="hl-yellow"><strong>metadatos</strong></span> del documento</p>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><code>title</code> y <code>subtitle</code>: el título/subtítulo del documento</li>
<li><code>author</code>: autor del mismo</li>
<li><code>format</code>: formato de salida (podremos personalizar)
<ul>
<li><code>theme</code>: si tienes algún archivo de estilos</li>
<li><code>toc</code>: si quieres índice o no</li>
<li><code>toc-location</code>: posición del índice</li>
<li><code>toc-title</code>: título del índice</li>
</ul></li>
<li><code>editor</code>: si estás en modo visual o source.</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="sourceCode" id="cb447"><pre class="sourceCode numberSource yaml number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode yaml hljs"><span id="cb447-1" class="hljs-ln-code"><a href="#cb447-1"></a><span class="pp">---</span></span>
<span id="cb447-2" class="hljs-ln-code"><a href="#cb447-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"prueba"</span></span>
<span id="cb447-3" class="hljs-ln-code"><a href="#cb447-3"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">"javier álvarez liébana"</span></span>
<span id="cb447-4" class="hljs-ln-code"><a href="#cb447-4"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb447-5" class="hljs-ln-code"><a href="#cb447-5"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span></span>
<span id="cb447-6" class="hljs-ln-code"><a href="#cb447-6"></a><span class="at">    </span><span class="fu">style</span><span class="kw">:</span><span class="at"> style.css</span></span>
<span id="cb447-7" class="hljs-ln-code"><a href="#cb447-7"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb447-8" class="hljs-ln-code"><a href="#cb447-8"></a><span class="at">    </span><span class="fu">toc-location</span><span class="kw">:</span><span class="at"> left</span></span>
<span id="cb447-9" class="hljs-ln-code"><a href="#cb447-9"></a><span class="fu">editor</span><span class="kw">:</span><span class="at"> visual</span></span>
<span id="cb447-10" class="hljs-ln-code"><a href="#cb447-10"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="cabecera-de-un-qmd-4" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Cabecera de un qmd</h2>
<p>La <span class="hl-yellow"><strong>cabecera están en formato YAML</strong></span> y contiene los <span class="hl-yellow"><strong>metadatos</strong></span> del documento</p>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><code>title</code> y <code>subtitle</code>: el título/subtítulo del documento</li>
<li><code>author</code>: autor del mismo</li>
<li><code>format</code>: formato de salida (podremos personalizar)
<ul>
<li><code>theme</code>: si tienes algún archivo de estilos</li>
<li><code>toc</code>: si quieres índice o no</li>
<li><code>toc-location</code>: posición del índice</li>
<li><code>toc-title</code>: título del índice</li>
</ul></li>
<li><code>editor</code>: si estás en modo visual o source.</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="sourceCode" id="cb448"><pre class="sourceCode numberSource yaml number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode yaml hljs"><span id="cb448-1" class="hljs-ln-code"><a href="#cb448-1"></a><span class="pp">---</span></span>
<span id="cb448-2" class="hljs-ln-code"><a href="#cb448-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"prueba"</span></span>
<span id="cb448-3" class="hljs-ln-code"><a href="#cb448-3"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">"javier álvarez liébana"</span></span>
<span id="cb448-4" class="hljs-ln-code"><a href="#cb448-4"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb448-5" class="hljs-ln-code"><a href="#cb448-5"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span></span>
<span id="cb448-6" class="hljs-ln-code"><a href="#cb448-6"></a><span class="at">    </span><span class="fu">style</span><span class="kw">:</span><span class="at"> style.css</span></span>
<span id="cb448-7" class="hljs-ln-code"><a href="#cb448-7"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb448-8" class="hljs-ln-code"><a href="#cb448-8"></a><span class="at">    </span><span class="fu">toc-location</span><span class="kw">:</span><span class="at"> left</span></span>
<span id="cb448-9" class="hljs-ln-code"><a href="#cb448-9"></a><span class="at">    </span><span class="fu">toc-title</span><span class="kw">:</span><span class="at"> Índice</span></span>
<span id="cb448-10" class="hljs-ln-code"><a href="#cb448-10"></a><span class="fu">editor</span><span class="kw">:</span><span class="at"> visual</span></span>
<span id="cb448-11" class="hljs-ln-code"><a href="#cb448-11"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="texto-de-un-qmd" class="slide level2">
<h2>Texto de un qmd</h2>
<p>Respecto a la escritura solo hay una <span class="hl-yellow"><strong>cosa importante</strong></span>: salvo que indiquemos lo contrario, <span class="hl-yellow"><strong>TODO lo que vamos a escribir es texto (normal)</strong></span>. No código R.</p>
<div class="columns">
<div class="column" style="width:35%;">
<p><img data-src="img/quarto-prueba-qmd2.png" width="350"> <img data-src="img/quarto-prueba-html2.png" width="320"></p>
</div><div class="column" style="width:65%;">
<p>Vamos a empezar escribiendo una sección al inicio (<code># Intro</code> y detrás por ej. la frase</p>
<blockquote>
<p>Este material ha sido diseñado por el profesor Javier Álvarez Liébana, docente en la Universidad Complutense de Madrid</p>
</blockquote>
<p>Además al <code>Running Code</code> le añadiremos una almohadilla <code>#</code>: las <span class="hl-yellow"><strong>almohadillas FUERA DE CHUNKS</strong></span> nos servirán para crear <span class="hl-yellow"><strong>epígrafes (secciones)</strong></span> en el documento</p>
</div>
</div>
</section>
<section id="índice-de-un-qmd" class="slide level2">
<h2>Índice de un qmd</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><img data-src="img/quarto-indice-qmd-2.png" width="370"> <img data-src="img/quarto-indice-html2.png" width="370"></p>
</div><div class="column" style="width:60%;">
<p>Para que el <span class="hl-yellow"><strong>índice capture dichas secciones</strong></span> modificaremos la cabecera del archivo como se observa en la imagen (puedes cambiar la localización del índice y el título si quieres para probar).</p>
</div>
</div>
</section>
<section id="texto-en-un-qmd" class="slide level2">
<h2>Texto en un qmd</h2>
<p>Vamos a <span class="hl-yellow"><strong>personalizar un poco el texto</strong></span> haciendo lo siguiente:</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-texto-mejorado-qmd.png" width="370"> <img data-src="img/quarto-texto-mejorado-html.png" width="370"></p>
</div><div class="column" style="width:50%;">
<ul>
<li><p>Vamos a añadir <span class="hl-yellow"><strong>negrita al nombre</strong></span> (poniendo ** al inicio y al final).</p></li>
<li><p>Vamos añadir <span class="hl-yellow"><strong>cursiva</strong></span> a la palabra material (poniendo _ al inicio y al final).</p></li>
<li><p>Vamos añadir un <span class="hl-yellow"><strong>enlace</strong></span> <a href="https://www.ucm.es" class="uri">https://www.ucm.es</a>, asociándolo al nombre de la Universidad. Para ello el título lo ponemos entre corchetes y justo detrás el enlace entre paréntesis <code>[«Universidad Complutense de Madrid»](https://www.ucm.es)</code></p></li>
</ul>
</div>
</div>
</section>
<section id="código-en-un-qmd" class="slide level2">
<h2>Código en un qmd</h2>
<p>Para <span class="hl-yellow"><strong>añadir código R</strong></span> debemos crear nuestras <span class="hl-yellow"><strong>cajas de código llamadas chunks</strong></span>: altos en el camino en nuestro texto markdown donde podremos incluir código de casi cualquier lenguaje (y sus salidas).</p>
<p>&nbsp;</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-chunk-qmd.png" width="470"></p>
</div><div class="column" style="width:50%;">
<p>Para incluir uno deberá de ir <span class="hl-yellow"><strong>encabezado</strong></span> de la siguiente forma tienes un atajo <code>Command + Option + I</code> (Mac) o <code>Ctrl + Shift + I</code> (Windows)</p>
</div>
</div>
</section>
<section id="código-en-un-qmd-1" class="slide level2">
<h2>Código en un qmd</h2>
<p>Dentro de dicha cajita (que tiene ahora otro color en el documento) <span class="hl-yellow"><strong>escribiremos código R</strong></span> como lo veníamos haciendo hasta ahora en los scripts.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-chunk-1-qmd.png" width="410"> <img data-src="img/quarto-chunk-1-html.png" width="410"></p>
</div><div class="column" style="width:50%;">
<p>Vamos por ejemplo a definir dos variables y su suma de la siguiente manera, escribiendo dicho código en nuestro <code>.qmd</code> (dentro de ese chunk)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb449"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb449-1"><a href="#cb449-1"></a><span class="co"># Código R</span></span>
<span id="cb449-2"><a href="#cb449-2"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb449-3"><a href="#cb449-3"></a>y <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb449-4"><a href="#cb449-4"></a>x <span class="sc">+</span> y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="etiquetando-chunks" class="slide level2">
<h2>Etiquetando chunks</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-tag-chunks-qmd.png" width="400"> <img data-src="img/quarto-tag-chunks-html.png" width="400"></p>
</div><div class="column" style="width:50%;">
<p>Los chunks pueden tener un <span class="hl-yellow"><strong>nombre o etiqueta</strong></span>, de forma que podamos referenciarlos de nuevo para no repetir código.</p>
</div>
</div>
</section>
<section id="ejecutando-chunks" class="slide level2">
<h2>Ejecutando chunks</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><img data-src="img/quarto-inline-qmd.png" width="400"> <img data-src="img/quarto-inline-html.png" width="380"></p>
</div><div class="column" style="width:60%;">
<p>En cada chunk aparecen <span class="hl-yellow"><strong>dos botones</strong></span>:</p>
<ul>
<li><p>botón de <span class="hl-yellow"><strong>play</strong></span>: activa la <span class="hl-yellow"><strong>ejecución y salida de ese chunk particular</strong></span> (lo puedes visualizar dentro de tu propio <code>RStudio</code>)</p></li>
<li><p>botón de <span class="hl-yellow"><strong>rebobinar</strong></span>: activa la <span class="hl-yellow"><strong>ejecución y salida de todos los chunk hasta ese</strong></span> (sin llegar a él)</p></li>
</ul>
<p>&nbsp;</p>
<p>Además podemos <span class="hl-yellow"><strong>incluir código R dentro de la línea de texto</strong></span> (en lugar de mostrar el texto x ejecuta el código R mostrando la variable).</p>
</div>
</div>
</section>
<section id="personalización-de-chunks" class="slide level2">
<h2>Personalización de chunks</h2>
<p>Los <span class="hl-yellow"><strong>chunks podemos personalizarlos</strong></span> con opciones al inicio del chunk precedido de <code>#|</code>:</p>
<ul>
<li><p><code>#| echo: false</code>: <span class="hl-green"><strong>ejecuta código</strong></span> y se <span class="hl-green"><strong>muestra resultado</strong></span> pero <span class="hl-red"><strong>no visualiza código</strong></span> en la salida.</p></li>
<li><p><code>#| include: false</code>: <span class="hl-green"><strong>ejecuta código</strong></span> pero <span class="hl-red"><strong>no muestra resultado</strong></span> y <span class="hl-red"><strong>no visualiza código</strong></span> en la salida.</p></li>
<li><p><code>#| eval: false</code>: <span class="hl-red"><strong>no ejecuta código</strong></span>, <span class="hl-red"><strong>no muestra resultado</strong></span> pero <span class="hl-green"><strong>sí visualiza código</strong></span> en la salida.</p></li>
<li><p><code>#| message: false</code>: <span class="hl-green"><strong>ejecuta código</strong></span> pero <span class="hl-red"><strong>no muestra mensajes de salida</strong></span>.</p></li>
<li><p><code>#| warning: false</code>: <span class="hl-green"><strong>ejecuta código</strong></span> pero <span class="hl-red"><strong>no muestra mensajes de warning</strong></span>.</p></li>
<li><p><code>#| error: true</code>: <span class="hl-green"><strong>ejecuta código</strong></span> y <span class="hl-green"><strong>permite que haya errores</strong></span> mostrando el mensaje de error en la salida.</p></li>
</ul>

<img data-src="img/quarto-options-chunk.png" width="380" class="r-stretch"><p>Estas opciones podemos aplicarlas chunk a chunk o fijar los parámetros de forma global con <code>knitr::opts_chunk$set()</code> al inicio del documento (dentro de un chunk).</p>
</section>
<section id="personalizando-chunks" class="slide level2">
<h2>Personalizando chunks</h2>
<p>Si queremos que aplique la <strong>opción a todos los chunks por defecto</strong> debemos incluirlo al final de la cabecera, como <span class="hl-yellow"><strong>opciones de ejecución</strong></span></p>
<div class="sourceCode" id="cb451"><pre class="sourceCode numberSource yaml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb451-1"><a href="#cb451-1"></a><span class="pp">---</span></span>
<span id="cb451-2"><a href="#cb451-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"¡Hola!"</span></span>
<span id="cb451-3"><a href="#cb451-3"></a><span class="fu">format</span><span class="kw">:</span><span class="at"> html</span></span>
<span id="cb451-4"><a href="#cb451-4"></a><span class="fu">editor</span><span class="kw">:</span><span class="at"> visual</span></span>
<span id="cb451-5"><a href="#cb451-5"></a><span class="fu">execute</span><span class="kw">:</span></span>
<span id="cb451-6"><a href="#cb451-6"></a><span class="at">  </span><span class="fu">echo</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb451-7"><a href="#cb451-7"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="organizando-qmd" class="slide level2">
<h2>Organizando qmd</h2>
<p>Además de texto y código podemos introducir lo siguiente:</p>
<ul>
<li><p><span class="hl-yellow"><strong>Ecuaciones</strong></span>: puedes añadir además ecuaciones como <span class="math inline">\(x^2\)</span> (he escrito <code>$x^2$</code>, la ecuación entre dólares).</p></li>
<li><p><span class="hl-yellow"><strong>Listas</strong></span>: puedes itemizar elementos poniendo <code>*</code></p></li>
</ul>
<p><code>* Paso 1: ...</code></p>
<p><code>* Paso 2: ...</code></p>
<ul>
<li><span class="hl-yellow"><strong>Cross-references</strong></span>: puedes etiquetar partes del documento (la etiqueta se construye con <code>{#nombre-seccion}</code>) y llamarlas luego con <code>[Sección](@nombre-seccion)</code></li>
</ul>
</section>
<section id="gráficasimágenes-en-qmd" class="slide level2">
<h2>Gráficas/imágenes en qmd</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-fig-qmd.png" width="340"> <img data-src="img/quarto-fig-html.png" width="390"></p>
</div><div class="column" style="width:50%;">
<p>Por último, también podemos <span class="hl-yellow"><strong>añadir pies de gráficas o imágenes</strong></span> añadiendo <code>#| fig-cap: "..."</code></p>
</div>
</div>
<div class="fragment">
<div class="columns">
<div class="column" style="width:65%;">
<p>Fíjate que el <span class="hl-yellow"><strong>caption está en el margen</strong></span> (por ejemplo). Puedes cambiarlo introduciendo <span class="hl-yellow"><strong>ajustes en la cabecera</strong></span> (todo lo relativo a figuras empieza por <code>fig-</code>, y puedes ver las opciones tabulando). Tienes más información en <strong><a href="https://quarto.org/" class="uri">https://quarto.org/</a></strong></p>
</div><div class="column" style="width:35%;">
<p><img data-src="img/quarto-cabecera-desplegable.png" width="400"></p>
</div>
</div>
</div>
</section>
<section id="añadir-estilos" class="slide level2">
<h2>Añadir estilos</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-estilos-qmd.png" width="400"> <img data-src="img/quarto-estilos-html.png" width="400"></p>
</div><div class="column" style="width:50%;">
<p>Por último puedes añadir un <span class="hl-yellow"><strong>tema personalizado</strong></span> incluyendo un <span class="hl-yellow"><strong>archivo de estilos</strong></span> (archivo en formato <code>.scss</code> o <code>.css</code>). Te he dejado uno en <a href="https://github.com/dadosdelaplace/docencia-R-master-bio-2324/tree/main/material" class="uri">https://github.com/dadosdelaplace/docencia-R-master-bio-2324/tree/main/material</a>.</p>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Importante</strong></p>
</div>
<div class="callout-content">
<p>El archivo de estilos debe estar en la misma carpeta que el archivo <code>.qmd</code></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="añadir-estilos-1" class="slide level2">
<h2>Añadir estilos</h2>
<p>También puedes hacerlo de manera sencilla <span class="hl-yellow"><strong>añadiendo a los textos un poco de HTML</strong></span>. Por ejemplo, para personalizar el color de un texto va entre corchetes y justo tras el texto, entre llaves, las opciones de estilo</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb452-1"><a href="#cb452-1"></a>Esta palabra es [roja]{style="color:red;"} ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb453"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb453-1"><a href="#cb453-1"></a>... y esta [verde y en negrita]{style="color:green; font-weight: bold;"}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="fragment">
<p>Esta palabra es <span style="color:red;">roja</span> …</p>
<p>… y esta <span style="color:green; font-weight: bold;">verde y en negrita</span></p>
</div>
</section>
<section id="revealjs" class="slide level2">
<h2>Revealjs</h2>
<p>Puedes añadir algunas «animaciones» usando lo que se conoce como Revealjs (javascript), especifcándolo en la cabecera y usando <span class="hl-yellow"><strong>bloques</strong></span> de dicho lenguaje delimitados por <code>:::</code> al inicio y final, y la palabra de la «herramienta» a usar. Por ejemplo <code>{.incremental}</code> hace una transición de los elementos.</p>
<div class="sourceCode" id="cb454"><pre class="sourceCode numberSource yaml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb454-1"><a href="#cb454-1"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb454-2"><a href="#cb454-2"></a><span class="at">  revealjs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>&nbsp;</p>
<div class="sourceCode" id="cb455"><pre class="sourceCode numberSource revealjs number-lines code-with-copy"><code class="sourceCode"><span id="cb455-1"><a href="#cb455-1"></a>::: {.incremental}</span>
<span id="cb455-2"><a href="#cb455-2"></a>- Me</span>
<span id="cb455-3"><a href="#cb455-3"></a>- llamo</span>
<span id="cb455-4"><a href="#cb455-4"></a>- Javi</span>
<span id="cb455-5"><a href="#cb455-5"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div>
<ul>
<li class="fragment">Me</li>
<li class="fragment">llamo</li>
<li class="fragment">Javi</li>
</ul>
</div>
</section>
<section id="bloques-de-llamada" class="slide level2">
<h2>Bloques de llamada</h2>
<p>También puedes usar los <span class="hl-yellow"><strong>bloques de llamada</strong></span> que por defecto son <code>note</code>, <code>tip</code>, <code>warning</code>, <code>caution</code> e <code>important</code> (aunque los puedes crear y personalizar). Para ello basta con usar <code>:::{.callout-tipo}</code> y el tipo que quieras</p>
<div class="sourceCode" id="cb456"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb456-1"><a href="#cb456-1"></a>:::{.callout-tip}</span>
<span id="cb456-2"><a href="#cb456-2"></a></span>
<span id="cb456-3"><a href="#cb456-3"></a>Note that there are five types of callouts, including: </span>
<span id="cb456-4"><a href="#cb456-4"></a>`note`, `tip`, `warning`, `caution`, and `important`.</span>
<span id="cb456-5"><a href="#cb456-5"></a></span>
<span id="cb456-6"><a href="#cb456-6"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="fragment">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>Recuerda que los 5 tipos son <code>note</code>, <code>tip</code>, <code>warning</code>, <code>caution</code> e <code>important</code>.</p>
</div>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-caution callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Caution</strong></p>
</div>
<div class="callout-content">
<p>Úsalos con cabeza, a veces mucho recursos estético puede marear.</p>
</div>
</div>
</div>
</div>
</section>
<section id="múltiples-columnas" class="slide level2">
<h2>Múltiples columnas</h2>
<p>Con <code>:::: columns</code> podemos definir una disposición de <span class="hl-yellow"><strong>múltiples columnas</strong></span> donde cada una viene definida por <code>::: {.column width="65%"} cosa :::</code>, indicando al lado del porcentaje cuanto quieres que ocupe cada columna (¡cuidado, no dejar espacios!)</p>
<div class="sourceCode" id="cb457"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb457-1"><a href="#cb457-1"></a>:::: columns</span>
<span id="cb457-2"><a href="#cb457-2"></a>::: {.column width="65%"}</span>
<span id="cb457-3"><a href="#cb457-3"></a>Así se define un vector</span>
<span id="cb457-4"><a href="#cb457-4"></a>:::</span>
<span id="cb457-5"><a href="#cb457-5"></a>::: {.column width="35%"}</span>
<span id="cb457-6"><a href="#cb457-6"></a>x <span class="er">&lt;</span>- c(1, 2, 3)</span>
<span id="cb457-7"><a href="#cb457-7"></a>x</span>
<span id="cb457-8"><a href="#cb457-8"></a>:::</span>
<span id="cb457-9"><a href="#cb457-9"></a>::::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>&nbsp;</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:65%;">
<p>Así se define un vector</p>
</div><div class="column" style="width:35%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb458"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb458-1"><a href="#cb458-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb458-2"><a href="#cb458-2"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="pestañas" class="slide level2">
<h2>Pestañas</h2>
<p>Con <code>::: panel-tabset :::</code> podemos también definir un panel de pestañas</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb460-1"><a href="#cb460-1"></a>### Ejercicios</span>
<span id="cb460-2"><a href="#cb460-2"></a></span>
<span id="cb460-3"><a href="#cb460-3"></a>Resuelve los siguientes ejercicios</span>
<span id="cb460-4"><a href="#cb460-4"></a>::: panel-tabset</span>
<span id="cb460-5"><a href="#cb460-5"></a></span>
<span id="cb460-6"><a href="#cb460-6"></a>#### Ejercicio 1</span>
<span id="cb460-7"><a href="#cb460-7"></a></span>
<span id="cb460-8"><a href="#cb460-8"></a>Define un vector x con los primeros 3 números naturales</span>
<span id="cb460-9"><a href="#cb460-9"></a></span>
<span id="cb460-10"><a href="#cb460-10"></a>#### Ejercicio 2</span>
<span id="cb460-11"><a href="#cb460-11"></a></span>
<span id="cb460-12"><a href="#cb460-12"></a>Haz la suma del vector anterior</span>
<span id="cb460-13"><a href="#cb460-13"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="fragment">
<h3 id="ejercicios">Ejercicios</h3>
<p>Resuelve los siguientes ejercicios</p>
<div class="panel-tabset">
<ul id="tabset-8" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-8-1">Ejercicio 1</a></li><li><a href="#tabset-8-2">Ejercicio 2</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1">
<p>Define un vector x con los primeros 3 números naturales</p>
</div>
<div id="tabset-8-2">
<p>Haz la suma del vector anterior</p>
</div>
</div>
</div>
</div>
</section>
<section id="código-ajeno-a-r" class="slide level2">
<h2>Código ajeno a R</h2>
<p>Además <code>{reticulate}</code> nos permite crear chunks de <code>python</code> dentro de un Quarto en <code>R</code> (ver <a href="https://quarto.org/docs/computations/python.html" class="uri">https://quarto.org/docs/computations/python.html</a> para crear jupyter notebooks directamente desde Quarto)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb461"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb461-1"><a href="#cb461-1"></a><span class="co"># install.packages("reticulate")</span></span>
<span id="cb461-2"><a href="#cb461-2"></a><span class="fu">library</span>(reticulate)</span>
<span id="cb461-3"><a href="#cb461-3"></a></span>
<span id="cb461-4"><a href="#cb461-4"></a><span class="fu">install_python</span>(<span class="st">"3.9.12"</span>) <span class="co"># Instalar python en PC sino lo tienes</span></span>
<span id="cb461-5"><a href="#cb461-5"></a></span>
<span id="cb461-6"><a href="#cb461-6"></a><span class="co"># Instalar paquetes de Python</span></span>
<span id="cb461-7"><a href="#cb461-7"></a>reticulate<span class="sc">::</span><span class="fu">py_install</span>(<span class="st">"numpy"</span>)</span>
<span id="cb461-8"><a href="#cb461-8"></a>reticulate<span class="sc">::</span><span class="fu">py_install</span>(<span class="st">"matplotlib"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:60%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb462"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb462-1"><a href="#cb462-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb462-2"><a href="#cb462-2"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb462-3"><a href="#cb462-3"></a>r <span class="op">=</span> np.arange(<span class="dv">0</span>, <span class="dv">2</span>, <span class="fl">0.05</span>)</span>
<span id="cb462-4"><a href="#cb462-4"></a>theta <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> np.pi <span class="op">*</span> r</span>
<span id="cb462-5"><a href="#cb462-5"></a>fig, ax <span class="op">=</span> plt.subplots(</span>
<span id="cb462-6"><a href="#cb462-6"></a>  subplot_kw <span class="op">=</span> {<span class="st">'projection'</span>: <span class="st">'polar'</span>} </span>
<span id="cb462-7"><a href="#cb462-7"></a>)</span>
<span id="cb462-8"><a href="#cb462-8"></a>ax.plot(theta, r)</span>
<span id="cb462-9"><a href="#cb462-9"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:40%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-213-1.png" width="614"></p>
</div>
</div>
</div>
</div>
</section>
<section id="caso-practico-4" class="slide level2">
<h2>🐣 Caso práctico: simulacro</h2>
<ol type="1">
<li>Crea un documento <code>.qmd</code> en el que al menos la cabecera contenga</li>
</ol>
<ul>
<li>Título, autor y formato (html)</li>
<li>Índice con título y situado a la derecha</li>
</ul>
<ol start="2" type="1">
<li><p>Tras ello vuelve a <a href="#/tu-turno-3-3">ejercicios del tema 3</a> y estructura un documento donde cada ejercicio sea una subsección. En cada subsección pon el enunciado.</p></li>
<li><p>Debajo de cada enunciado pon el chunk con el código correspondiente, así como comentarios de texto de la salida (con negritas y cursivas)</p></li>
<li><p>Añade un último chunk en el que, dado un vector <code>x &lt;- 1:5</code>, calcules su media, e incluye con <code>$ $</code> la fórmula de la media aritmética e incrusta además una foto de la fórmula que encuentres por google.</p></li>
<li><p>Renderiza el documento para obtener el html</p></li>
</ol>
</section></section>
<section>
<section id="clase-5" class="title-slide slide level1 center">
<h1>Clase 5: <span class="flow">entrega I</span></h1>
<p><span style="color:#444442;"><strong>Ponderación: 5%</strong></span></p>
</section>
<section id="ejemplo-de-entrega" class="slide level2">
<h2>Ejemplo de entrega</h2>
<p>Vamos a realizar un pequeño simulacro antes de la entrega usando el dataset <code>starwars</code> del paquete <code>{dplyr}</code></p>

<img data-src="https://sm.ign.com/t/ign_latam/screenshot/default/baby-yoda-nombre_3x56.1280.jpg" class="r-stretch"></section>
<section id="ejemplo-de-entrega-1" class="slide level2">
<h2>Ejemplo de entrega</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb463"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb463-1"><a href="#cb463-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb463-2"><a href="#cb463-2"></a>starwars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 14
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Luke Sk…    172    77 blond      fair       blue            19   male  mascu…
 2 C-3PO       167    75 &lt;NA&gt;       gold       yellow         112   none  mascu…
 3 R2-D2        96    32 &lt;NA&gt;       white, bl… red             33   none  mascu…
 4 Darth V…    202   136 none       white      yellow          41.9 male  mascu…
 5 Leia Or…    150    49 brown      light      brown           19   fema… femin…
 6 Owen La…    178   120 brown, gr… light      blue            52   male  mascu…
 7 Beru Wh…    165    75 brown      light      blue            47   fema… femin…
 8 R5-D4        97    32 &lt;NA&gt;       white, red red             NA   none  mascu…
 9 Biggs D…    183    84 black      light      brown           24   male  mascu…
10 Obi-Wan…    182    77 auburn, w… fair       blue-gray       57   male  mascu…
# ℹ 77 more rows
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
<p>En él tenemos <strong>diferentes variables de los personajes de Star Wars</strong>, con características de su pelo, piel, altura, nombre, etc.</p>
</section>
<section id="ejemplo-de-entrega-2" class="slide level2">
<h2>Ejemplo de entrega</h2>
<blockquote>
<p>Crea un documento <code>.qmd</code> con nombre, título, formato e índice. Cada ejercicio posterior será una subsección del documento. Ejecuta los chunks que consideres y comenta las salidas para responder a cada pregunta</p>
</blockquote>
<div class="fragment">
<blockquote>
<p>Ejercicio 1. ¿Cuántos personajes hay guardados en la base de datos? ¿Cuántas características se han medido de cada uno?</p>
</blockquote>
</div>
<div class="fragment">
<blockquote>
<p>Ejercicio 2. Extrae en dos variables distintas <code>nombres</code> y <code>edades</code> las variables correspondientes de la tabla. ¿De qué tipo es la variable nombre? ¿Y la variable birth_year?</p>
</blockquote>
</div>
<div class="fragment">
<blockquote>
<p>Ejercicio 3. Obtén el vector de nombres de los personajes ordenados de mayores a jóvenes.</p>
</blockquote>
</div>
</section>
<section id="ejemplo-de-entrega-3" class="slide level2">
<h2>Ejemplo de entrega</h2>
<blockquote>
<p>Ejercicio 4. Busca ayuda de la función unique(). Úsala para saber que modalidades tiene la variable cualitativa correspondiente al color de ojos. ¿Cuántos distintos hay?</p>
</blockquote>
<div class="fragment">
<blockquote>
<p>Ejercicio 5. ¿Existe ALGÚN valor ausente en la variable de color ojos?</p>
</blockquote>
</div>
<div class="fragment">
<blockquote>
<p>Ejercicio 6. Calcula la media y desviación típica de las variables de estatura y peso (cuidado con los ausentes). Define un nuevo tibble con esas dos variables e incorpora una tercera variable que se llame “IMC” que calcule el índice de masa corporal. Incorpora con <code>$ $</code> la fórmula usada para el IMC.</p>
</blockquote>
</div>
</section>
<section id="entrega-i" class="slide level2">
<h2>Entrega I</h2>
<p>El día de la entrega tendrás subido una <span class="hl-yellow"><strong>plantilla de entrega</strong></span> en formato <code>.qmd</code> en el campus.</p>
<ul>
<li><p><strong>Descomprime la carpeta</strong> (¡importante! si no descomprimes, aunque puedas editar el <code>.qmd</code>, no podrás generar el <code>.html</code>)</p></li>
<li><p><strong>Edita la cabecera</strong> con tu nombre y DNI</p></li>
<li><p>Deberás <strong>rellenar cada chunk</strong> con el código que consideres (en algunos te he dejado pistas) y <strong>cambiar</strong> de <code>#| eval: false</code> a <code>#| eval: true</code> (si los quitas directamente, por defecto ya es true)</p></li>
<li><p>Deberás de <strong>comentar</strong> con texto normal lo que consideres para responder a las preguntas.</p></li>
<li><p>Será <span class="hl-yellow"><strong>OBLIGATORIO</strong></span> subir el archivo <code>.html</code> generado (solo se corregirá dicho archivo) así que ve renderizando según rellenas el documento, no lo dejes para el final.</p></li>
</ul>
</section></section>
<section>
<section id="clase-6" class="title-slide slide level1 center">
<h1>Clase 6: <span class="flow">estructuras control</span></h1>
<p><span style="color:#444442;"><strong>Estructuras condicionales y bucles</strong></span></p>
<ul>
<li><p><a href="#/tu-turno-6-1">💻 Ejercicios resueltos: estructuras condicionales</a></p></li>
<li><p><a href="#/tu-turno-6-2">💻 Ejercicios resueltos: bucles</a></p></li>
<li><p><a href="#/caso-practico-6">🐣 Workbook/caso práctico</a></p></li>
<li><p><a href="#/planificacion">📆 Planificación</a></p></li>
</ul>
</section>
<section id="estructuras-de-control" class="slide level2">
<h2>Estructuras de control</h2>
<p>Una <span class="hl-yellow"><strong>estructura de control</strong></span> se compone de una serie de comandos orientados a <span class="hl-yellow"><strong>decidir el camino</strong></span> que tu código debe recorrer</p>
<ul>
<li><p>Si se cumple la condición A, ¿qué sucede?</p></li>
<li><p>¿Y si sucede B?</p></li>
<li><p>¿Cómo puedo repetir una misma expresión (dependiendo de una variable)?</p></li>
</ul>
<div class="fragment">
<p>Si has programado antes, quizás te sea familiar las conocidas como <span class="hl-yellow"><strong>estructuras condicionales</strong></span> tales como <code>if (blabla) {...} else {...}</code> o <span class="hl-yellow"><strong>bucles</strong></span> <code>for/while</code> (a evitar siempre que podamos).</p>
</div>
</section>
<section id="estructura-if" class="slide level2">
<h2>Estructura If</h2>
<p>Una de las estructuras de control más famosas son las conocidas como <span class="hl-yellow"><strong>estructuras condicionales</strong></span> <code>if</code>.</p>
<blockquote>
<p>SI (IF) un conjunto de condiciones se cumple (TRUE), entonces ejecuta lo que haya dentro de las llaves</p>
</blockquote>
<p>Por ejemplo, la estructura <code>if (x == 1) { código A }</code> lo que hará será <span class="hl-yellow"><strong>ejecutar el código A entre llaves</strong></span> pero <span class="hl-purple"><strong>SOLO SI</strong></span> la <span class="hl-purple"><strong>condición entre paréntesis es cierta</strong></span> (solo si <code>x</code> es 1). En cualquier otro caso, no hará nada.</p>
<div class="fragment">
<p>Por ejemplo, definamos un vector de edades de 8 personas</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb465"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb465-1"><a href="#cb465-1"></a>edad <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">14</span>, <span class="dv">17</span>, <span class="dv">24</span>, <span class="dv">56</span>, <span class="dv">31</span>, <span class="dv">20</span>, <span class="dv">87</span>, <span class="dv">73</span>)</span>
<span id="cb465-2"><a href="#cb465-2"></a>edad <span class="sc">&lt;</span> <span class="dv">18</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
</div>
</div>
</div>
</section>
<section id="estructura-if-1" class="slide level2">
<h2>Estructura If</h2>
<p>Nuestra estructura condicional hará lo siguiente: <span class="hl-yellow"><strong>si existe algún menor de edad, imprimirá</strong></span> por pantalla un mensaje.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb467"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb467-1"><a href="#cb467-1"></a><span class="cf">if</span> (<span class="fu">any</span>(edad <span class="sc">&lt;</span> <span class="dv">18</span>)) { </span>
<span id="cb467-2"><a href="#cb467-2"></a>  </span>
<span id="cb467-3"><a href="#cb467-3"></a>  <span class="fu">print</span>(<span class="st">"Existe alguna persona menor de edad"</span>)</span>
<span id="cb467-4"><a href="#cb467-4"></a>  </span>
<span id="cb467-5"><a href="#cb467-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Existe alguna persona menor de edad"</code></pre>
</div>
</div>
</section>
<section id="estructura-if-2" class="slide level2">
<h2>Estructura If</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb469"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb469-1"><a href="#cb469-1"></a><span class="cf">if</span> (<span class="fu">any</span>(edad <span class="sc">&lt;</span> <span class="dv">18</span>)) { </span>
<span id="cb469-2"><a href="#cb469-2"></a>  </span>
<span id="cb469-3"><a href="#cb469-3"></a>  <span class="fu">print</span>(<span class="st">"Existe alguna persona menor de edad"</span>)</span>
<span id="cb469-4"><a href="#cb469-4"></a>  </span>
<span id="cb469-5"><a href="#cb469-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>En caso de que las <span class="hl-yellow"><strong>condiciones no sean ciertas</strong></span> dentro de <code>if()</code> (<code>FALSE</code>), no sucede nada</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb470"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb470-1"><a href="#cb470-1"></a><span class="cf">if</span> (<span class="fu">all</span>(edad <span class="sc">&gt;=</span> <span class="dv">18</span>)) { </span>
<span id="cb470-2"><a href="#cb470-2"></a>  </span>
<span id="cb470-3"><a href="#cb470-3"></a>  <span class="fu">print</span>(<span class="st">"Todos son mayores de edad"</span>)</span>
<span id="cb470-4"><a href="#cb470-4"></a>  </span>
<span id="cb470-5"><a href="#cb470-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>No obtenemos ningún mensaje</strong> porque la condición <code>all(edad &gt;= 18)</code> no es <code>TRUE</code>, así que no ejecuta nada.</p>
</section>
<section id="estructura-if-else" class="slide level2">
<h2>Estructura If-else</h2>
<p>La estructura <code>if (condicion) { código A }</code> puede combinarse con un <code>else { código B }</code>: cuando la <span class="hl-yellow"><strong>condición no está verificada</strong></span>, se <span class="hl-yellow"><strong>ejecutará el código alternativo B</strong></span> dentro de <code>else { }</code>, permitiéndonos decidir que sucede cuando se cumple y cuando no.</p>
<div class="fragment">
<p>Por ejemplo, <code>if (x == 1) { código A } else { código B }</code> ejecutará A si <code>x</code> es igual a 1 y B en cualquier otro caso.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb471"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb471-1"><a href="#cb471-1"></a><span class="cf">if</span> (<span class="fu">all</span>(edad <span class="sc">&gt;=</span> <span class="dv">18</span>)) { </span>
<span id="cb471-2"><a href="#cb471-2"></a>  </span>
<span id="cb471-3"><a href="#cb471-3"></a>  <span class="fu">print</span>(<span class="st">"Todos son mayores de edad"</span>)</span>
<span id="cb471-4"><a href="#cb471-4"></a>  </span>
<span id="cb471-5"><a href="#cb471-5"></a>} <span class="cf">else</span> {</span>
<span id="cb471-6"><a href="#cb471-6"></a>  </span>
<span id="cb471-7"><a href="#cb471-7"></a>  <span class="fu">print</span>(<span class="st">"Existe alguna persona menor de edad"</span>)</span>
<span id="cb471-8"><a href="#cb471-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Existe alguna persona menor de edad"</code></pre>
</div>
</div>
</div>
</section>
<section id="estructura-if-else-1" class="slide level2">
<h2>Estructura If-else</h2>
<p>Esta estructura <code>if - else</code> puede ser <span class="hl-yellow"><strong>anidada</strong></span>: imagina que queremos ejecutar un código si todos son menores; si no sucede, pero todos son mayores de 16, hacer otra cosa; en cualquier otra cosa, otra acción.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb473"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb473-1"><a href="#cb473-1"></a><span class="cf">if</span> (<span class="fu">all</span>(edad <span class="sc">&gt;=</span> <span class="dv">18</span>)) { </span>
<span id="cb473-2"><a href="#cb473-2"></a>  </span>
<span id="cb473-3"><a href="#cb473-3"></a>  <span class="fu">print</span>(<span class="st">"Todos son mayores de edad"</span>)</span>
<span id="cb473-4"><a href="#cb473-4"></a>  </span>
<span id="cb473-5"><a href="#cb473-5"></a>} <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">all</span>(edad <span class="sc">&gt;=</span> <span class="dv">16</span>)) {</span>
<span id="cb473-6"><a href="#cb473-6"></a>  </span>
<span id="cb473-7"><a href="#cb473-7"></a>  <span class="fu">print</span>(<span class="st">"Hay algún menor de edad pero todos con 16 años o más"</span>)</span>
<span id="cb473-8"><a href="#cb473-8"></a>  </span>
<span id="cb473-9"><a href="#cb473-9"></a>} <span class="cf">else</span> { <span class="fu">print</span>(<span class="st">"Hay alguna persona con menos de 16 años"</span>) }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Hay alguna persona con menos de 16 años"</code></pre>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Truco</strong></p>
</div>
<div class="callout-content">
<p>Puedes <strong>colapsar las estructuras</strong> haciendo click en la flecha a la izquierda que aparece en tu script.</p>
</div>
</div>
</div>
</section>
<section id="if-else-vectorizado" class="slide level2">
<h2>If-else vectorizado</h2>
<p>Esta estructura condicional se puede <span class="hl-yellow"><strong>vectorizar</strong></span> (en una sola línea) con <code>if_else()</code> (del paquete <code>{dplyr}</code>), cuyos argumentos son</p>
<ul>
<li>la condición a evaluar</li>
<li>lo que sucede cuando se cumple y cuando no</li>
<li>un argumento opcional para cuando la condición a evaluar es <code>NA</code></li>
</ul>
<p>Vamos a etiquetar sin son mayores/menores y un “desconocido” cuando no conocemos</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb475"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb475-1"><a href="#cb475-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb475-2"><a href="#cb475-2"></a>edad <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>, edad)</span>
<span id="cb475-3"><a href="#cb475-3"></a><span class="fu">if_else</span>(edad <span class="sc">&gt;=</span> <span class="dv">18</span>, <span class="st">"mayor"</span>, <span class="st">"menor"</span>, <span class="at">missing =</span> <span class="st">"desconocido"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "desconocido" "menor"       "menor"       "mayor"       "mayor"      
[6] "mayor"       "mayor"       "mayor"       "mayor"      </code></pre>
</div>
</div>
<p>En <code>R</code> base existe <code>ifelse()</code>: no deja especificar que hacer con los ausentes pero permite especificar distintos tipos de datos en <code>TRUE</code> y en <code>FALSE</code>.</p>
</section>
<section id="tu-turno-6-1" class="slide level2">
<h2>💻 Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-9" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-9-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-9-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-9-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-9-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-9-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li><li><a href="#tabset-9-6"><span class="hl-yellow"><strong>Ejercicio 6</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-9-1">
<p>📝 ¿Cuál es la salida del siguiente código?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb477"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb477-1"><a href="#cb477-1"></a><span class="fu">if_else</span>(<span class="fu">sqrt</span>(<span class="dv">9</span>) <span class="sc">&lt;</span> <span class="dv">2</span>, <span class="fu">sqrt</span>(<span class="dv">9</span>), <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb478"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb478-1"><a href="#cb478-1"></a>La salida es <span class="dv">0</span> ya que <span class="fu">sqrt</span>(<span class="dv">9</span>) es igual <span class="dv">3</span>, y dado que no es menor que <span class="dv">2</span>, devuelve el segundo argumento que es <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-9-2">
<p>📝 ¿Cuál es la salida del siguiente código?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb479"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb479-1"><a href="#cb479-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">NA</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>)</span>
<span id="cb479-2"><a href="#cb479-2"></a><span class="fu">if_else</span>(<span class="fu">sqrt</span>(x) <span class="sc">&lt;</span> <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb480"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb480-1"><a href="#cb480-1"></a>La salida es el vector <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="dv">1</span>) ya que <span class="fu">sqrt</span>(<span class="dv">1</span>) sí es menor que <span class="dv">2</span>, <span class="fu">sqrt</span>(<span class="dv">9</span>) no lo es, y tanto en el caso de <span class="fu">sqrt</span>(<span class="cn">NA</span>) (raíz de ausente) como <span class="fu">sqrt</span>(<span class="sc">-</span><span class="dv">1</span>) (devuelve <span class="cn">NaN</span>, not a number), su raíz cuadrada no puede verificarse si es menor que <span class="dv">2</span> o no, así que la salida es NA.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-9-3">
<p>📝 Modifica el código inferior para que, cuando no se pueda verificar si la raíz cuadrada de un número es menor que 2, devuelva -1</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb481"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb481-1"><a href="#cb481-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">NA</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>)</span>
<span id="cb481-2"><a href="#cb481-2"></a><span class="fu">if_else</span>(<span class="fu">sqrt</span>(x) <span class="sc">&lt;</span> <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb482"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb482-1"><a href="#cb482-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">NA</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>)</span>
<span id="cb482-2"><a href="#cb482-2"></a><span class="fu">if_else</span>(<span class="fu">sqrt</span>(x) <span class="sc">&lt;</span> <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="at">missing =</span> <span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-9-4">
<p>📝 ¿Cuál es son los valores de <code>x</code> e <code>y</code> del código inferior para <code>z &lt;- 1</code>, <code>z &lt;- -1</code> y <code>z &lt;- -5</code>?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb483"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb483-1"><a href="#cb483-1"></a>z <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb483-2"><a href="#cb483-2"></a><span class="cf">if</span> (z <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb483-3"><a href="#cb483-3"></a>  </span>
<span id="cb483-4"><a href="#cb483-4"></a>  x <span class="ot">&lt;-</span> z<span class="sc">^</span><span class="dv">3</span></span>
<span id="cb483-5"><a href="#cb483-5"></a>  y <span class="ot">&lt;-</span> <span class="sc">-</span><span class="fu">sqrt</span>(z)</span>
<span id="cb483-6"><a href="#cb483-6"></a>  </span>
<span id="cb483-7"><a href="#cb483-7"></a>} <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">abs</span>(z) <span class="sc">&lt;</span> <span class="dv">2</span>) {</span>
<span id="cb483-8"><a href="#cb483-8"></a>  </span>
<span id="cb483-9"><a href="#cb483-9"></a>  x <span class="ot">&lt;-</span> z<span class="sc">^</span><span class="dv">4</span></span>
<span id="cb483-10"><a href="#cb483-10"></a>  y <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="sc">-</span>z)</span>
<span id="cb483-11"><a href="#cb483-11"></a>  </span>
<span id="cb483-12"><a href="#cb483-12"></a>} <span class="cf">else</span> {</span>
<span id="cb483-13"><a href="#cb483-13"></a>  </span>
<span id="cb483-14"><a href="#cb483-14"></a>  x <span class="ot">&lt;-</span> z<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb483-15"><a href="#cb483-15"></a>  y <span class="ot">&lt;-</span> <span class="fu">abs</span>(z)</span>
<span id="cb483-16"><a href="#cb483-16"></a>  </span>
<span id="cb483-17"><a href="#cb483-17"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb484"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb484-1"><a href="#cb484-1"></a>En primero caso x <span class="ot">=</span> <span class="dv">1</span> e y <span class="ot">=</span> <span class="sc">-</span><span class="fl">1.</span> En el segundo caso x <span class="ot">=</span> <span class="dv">1</span> e y <span class="ot">=</span> <span class="fl">1.</span> En el tercer caso <span class="sc">-</span><span class="dv">1</span> y <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-9-5">
<p>📝 ¿Qué sucederá si ejecutamos el código inferior?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb485"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb485-1"><a href="#cb485-1"></a>z <span class="ot">&lt;-</span> <span class="st">"a"</span></span>
<span id="cb485-2"><a href="#cb485-2"></a><span class="cf">if</span> (z <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb485-3"><a href="#cb485-3"></a>  </span>
<span id="cb485-4"><a href="#cb485-4"></a>  x <span class="ot">&lt;-</span> z<span class="sc">^</span><span class="dv">3</span></span>
<span id="cb485-5"><a href="#cb485-5"></a>  y <span class="ot">&lt;-</span> <span class="sc">-</span><span class="fu">sqrt</span>(z)</span>
<span id="cb485-6"><a href="#cb485-6"></a>  </span>
<span id="cb485-7"><a href="#cb485-7"></a>} <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">abs</span>(z) <span class="sc">&lt;</span> <span class="dv">2</span>) {</span>
<span id="cb485-8"><a href="#cb485-8"></a>  </span>
<span id="cb485-9"><a href="#cb485-9"></a>  x <span class="ot">&lt;-</span> z<span class="sc">^</span><span class="dv">4</span></span>
<span id="cb485-10"><a href="#cb485-10"></a>  y <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="sc">-</span>z)</span>
<span id="cb485-11"><a href="#cb485-11"></a>  </span>
<span id="cb485-12"><a href="#cb485-12"></a>} <span class="cf">else</span> {</span>
<span id="cb485-13"><a href="#cb485-13"></a>  </span>
<span id="cb485-14"><a href="#cb485-14"></a>  x <span class="ot">&lt;-</span> z<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb485-15"><a href="#cb485-15"></a>  y <span class="ot">&lt;-</span> <span class="fu">abs</span>(z)</span>
<span id="cb485-16"><a href="#cb485-16"></a>  </span>
<span id="cb485-17"><a href="#cb485-17"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb486"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb486-1"><a href="#cb486-1"></a><span class="co"># dará error ya que no es un argumento numérico</span></span>
<span id="cb486-2"><a href="#cb486-2"></a>Error <span class="cf">in</span> z<span class="sc">^</span><span class="dv">3</span> <span class="sc">:</span> non<span class="sc">-</span>numeric argument to binary operator</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-9-6">
<p>📝 Del paquete <code>{lubridate}</code>, la función <code>hour()</code> nos devuelve la hora de una fecha dada, y la función <code>now()</code> nos devuelve fecha y hora del momento actual. Con ambas funciones haz que se imprima por pantalla (<code>cat()</code>) “buenas noches” solo a partir de las 21 horas.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb487"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb487-1"><a href="#cb487-1"></a><span class="co"># Cargamos librería</span></span>
<span id="cb487-2"><a href="#cb487-2"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb487-3"><a href="#cb487-3"></a></span>
<span id="cb487-4"><a href="#cb487-4"></a><span class="co"># Fecha-hora actual</span></span>
<span id="cb487-5"><a href="#cb487-5"></a>fecha_actual <span class="ot">&lt;-</span> <span class="fu">now</span>()</span>
<span id="cb487-6"><a href="#cb487-6"></a></span>
<span id="cb487-7"><a href="#cb487-7"></a><span class="co"># Estructura if</span></span>
<span id="cb487-8"><a href="#cb487-8"></a><span class="cf">if</span> (<span class="fu">hour</span>(fecha_actual) <span class="sc">&gt;</span> <span class="dv">21</span>) {</span>
<span id="cb487-9"><a href="#cb487-9"></a>  </span>
<span id="cb487-10"><a href="#cb487-10"></a>  <span class="fu">cat</span>(<span class="st">"Buenas noches"</span>) <span class="co"># print/cat dos formas de imprimir por pantalla</span></span>
<span id="cb487-11"><a href="#cb487-11"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="bucles" class="slide level2">
<h2>Bucles</h2>
<p>Aunque en la mayoría de ocasiones se pueden reemplazar por otras estructuras más eficientes y legibles, es importante conocer una de las expresiones de control más famosas: los <span class="hl-yellow"><strong>bucles</strong></span>.</p>
<ul>
<li><p><code>for { }</code>: permite <span class="hl-yellow"><strong>repetir el mismo código</strong></span> en un <span class="hl-purple"><strong>número prefijado y conocido</strong></span> de veces.</p></li>
<li><p><code>while { }</code>: permite <span class="hl-yellow"><strong>repetir el mismo código</strong></span> pero en un <span class="hl-purple"><strong>número indeterminado de veces</strong></span> (hasta que una <strong>condición</strong> deje de cumplirse).</p></li>
</ul>
</section>
<section id="bucles-for" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Bucles for</h2>
<p>Un bucle <span class="hl-yellow"><strong>for</strong></span> es una estructura que permite <span class="hl-yellow"><strong>repetir</strong></span> un conjunto de órdenes un número <span class="hl-purple"><strong>finito, prefijado y conocido de veces</strong></span> dado un conjunto de índices.</p>
<p>Vamos a definir un vector <code>x &lt;- c(0, -7, 1, 4)</code> y otra variable vacía <code>y</code>. Tras ello definiremos un bucle for con <code>for () { }</code>: dentro de los paréntesis indicaremos un índice y unos valores a recorrer, dentro de las llaves el código a ejecutar en cada iteración (en este caso, rellenar <code>y</code> como <code>x + 1</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb488"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb488-1" class="hljs-ln-code"><a href="#cb488-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb488-2" class="hljs-ln-code"><a href="#cb488-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="bucles-for-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Bucles for</h2>
<p>Un bucle <span class="hl-yellow"><strong>for</strong></span> es una estructura que permite <span class="hl-yellow"><strong>repetir</strong></span> un conjunto de órdenes un número <span class="hl-purple"><strong>finito, prefijado y conocido de veces</strong></span> dado un conjunto de índices.</p>
<p>Vamos a definir un vector <code>x &lt;- c(0, -7, 1, 4)</code> y otra variable vacía <code>y</code>. Tras ello definiremos un bucle for con <code>for () { }</code>: dentro de los paréntesis indicaremos un índice y unos valores a recorrer, dentro de las llaves el código a ejecutar en cada iteración (en este caso, rellenar <code>y</code> como <code>x + 1</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb489"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb489-1" class="hljs-ln-code"><a href="#cb489-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb489-2" class="hljs-ln-code"><a href="#cb489-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb489-3" class="hljs-ln-code"><a href="#cb489-3"></a></span>
<span id="cb489-4" class="hljs-ln-code"><a href="#cb489-4"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) {</span>
<span id="cb489-5" class="hljs-ln-code"><a href="#cb489-5"></a>  </span>
<span id="cb489-6" class="hljs-ln-code"><a href="#cb489-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="bucles-for-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Bucles for</h2>
<p>Un bucle <span class="hl-yellow"><strong>for</strong></span> es una estructura que permite <span class="hl-yellow"><strong>repetir</strong></span> un conjunto de órdenes un número <span class="hl-purple"><strong>finito, prefijado y conocido de veces</strong></span> dado un conjunto de índices.</p>
<p>Vamos a definir un vector <code>x &lt;- c(0, -7, 1, 4)</code> y otra variable vacía <code>y</code>. Tras ello definiremos un bucle for con <code>for () { }</code>: dentro de los paréntesis indicaremos un índice y unos valores a recorrer, dentro de las llaves el código a ejecutar en cada iteración (en este caso, rellenar <code>y</code> como <code>x + 1</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb490"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb490-1" class="hljs-ln-code"><a href="#cb490-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb490-2" class="hljs-ln-code"><a href="#cb490-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb490-3" class="hljs-ln-code"><a href="#cb490-3"></a></span>
<span id="cb490-4" class="hljs-ln-code"><a href="#cb490-4"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) {</span>
<span id="cb490-5" class="hljs-ln-code"><a href="#cb490-5"></a>  y[i] <span class="ot">&lt;-</span> x[i] <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb490-6" class="hljs-ln-code"><a href="#cb490-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="bucles-for-3" class="slide level2">
<h2>Bucles for</h2>
<p>Fíjate que debido a que <code>R</code> funciona de manera <span class="hl-yellow"><strong>vectorial por defecto</strong></span>, el bucle es lo mismo que hacer <code>x + 1</code> directamente.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb491"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb491-1"><a href="#cb491-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb491-2"><a href="#cb491-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb491-3"><a href="#cb491-3"></a></span>
<span id="cb491-4"><a href="#cb491-4"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) {</span>
<span id="cb491-5"><a href="#cb491-5"></a>  y[i] <span class="ot">&lt;-</span> x[i] <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb491-6"><a href="#cb491-6"></a>}</span>
<span id="cb491-7"><a href="#cb491-7"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1 -6  2  5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb493"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb493-1"><a href="#cb493-1"></a>y2 <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb493-2"><a href="#cb493-2"></a>y2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1 -6  2  5</code></pre>
</div>
</div>
</section>
<section id="bucles-for-4" class="slide level2">
<h2>Bucles for</h2>
<p>Otra opción habitual es indicar los índices de manera «automática»: desde el primero <code>1</code> hasta el último (que corresponde con la longitud de x <code>length(x)</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb495"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb495-1"><a href="#cb495-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb495-2"><a href="#cb495-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb495-3"><a href="#cb495-3"></a></span>
<span id="cb495-4"><a href="#cb495-4"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)) {</span>
<span id="cb495-5"><a href="#cb495-5"></a>  y[i] <span class="ot">&lt;-</span> x[i] <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb495-6"><a href="#cb495-6"></a>}</span>
<span id="cb495-7"><a href="#cb495-7"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1 -6  2  5</code></pre>
</div>
</div>
</section>
<section id="bucles-for-5" class="slide level2">
<h2>Bucles for</h2>
<p>Así la <span class="hl-yellow"><strong>estructura general de un bucle for</strong></span> será siempre la siguiente</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb497"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb497-1"><a href="#cb497-1"></a><span class="cf">for</span> (índice <span class="cf">in</span> conjunto) { </span>
<span id="cb497-2"><a href="#cb497-2"></a>  código (dependiente de i)</span>
<span id="cb497-3"><a href="#cb497-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="hl-green"><strong>SIEMPRE</strong></span> sabemos cuántas iteraciones tenemos (tantas como elementos haya en el conjunto a indexar)</p>
</section>
<section id="evitando-bucles" class="slide level2">
<h2>Evitando bucles</h2>
<p>Como ya hemos aprendido con el paquete<code>{microbenchmark}</code> podemos chequear como <span class="hl-yellow"><strong>los bucles suelen ser muy ineficientes</strong></span> (de ahí que debamos evitarlos en la mayoría de ocasiones</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb498"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb498-1"><a href="#cb498-1"></a><span class="fu">library</span>(microbenchmark)</span>
<span id="cb498-2"><a href="#cb498-2"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span></span>
<span id="cb498-3"><a href="#cb498-3"></a><span class="fu">microbenchmark</span>(y <span class="ot">&lt;-</span> x<span class="sc">^</span><span class="dv">2</span>, </span>
<span id="cb498-4"><a href="#cb498-4"></a>               <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) { y[i] <span class="ot">&lt;-</span> x[i]<span class="sc">^</span><span class="dv">2</span> },</span>
<span id="cb498-5"><a href="#cb498-5"></a>               <span class="at">times =</span> <span class="dv">500</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Unit: microseconds
                                    expr      min       lq        mean   median
                                y &lt;- x^2    1.681    1.927    2.301002    2.009
 for (i in 1:100) {     y[i] &lt;- x[i]^2 } 1278.995 1300.520 1372.431130 1313.660
        uq      max neval
    2.1525    9.389   500
 1351.6265 4278.227   500</code></pre>
</div>
</div>
</section>
<section id="bucles-for-6" class="slide level2">
<h2>Bucles for</h2>
<p>Podemos ver otro ejemplo de bucle <span class="hl-yellow"><strong>combinando números y textos</strong></span>: definimos un vector de edades y de nombres, e imprimimos el nombre y edad i-ésima.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb500"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb500-1"><a href="#cb500-1"></a>nombres <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Javi"</span>, <span class="st">"Sandra"</span>, <span class="st">"Carlos"</span>, <span class="st">"Marcos"</span>, <span class="st">"Marta"</span>)</span>
<span id="cb500-2"><a href="#cb500-2"></a>edades <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">33</span>, <span class="dv">27</span>, <span class="dv">18</span>, <span class="dv">43</span>, <span class="dv">29</span>)</span>
<span id="cb500-3"><a href="#cb500-3"></a></span>
<span id="cb500-4"><a href="#cb500-4"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) { </span>
<span id="cb500-5"><a href="#cb500-5"></a>  </span>
<span id="cb500-6"><a href="#cb500-6"></a>  <span class="fu">print</span>(<span class="fu">glue</span>(<span class="st">"{nombres[i]} tiene {edades[i]} años"</span>)) </span>
<span id="cb500-7"><a href="#cb500-7"></a>  </span>
<span id="cb500-8"><a href="#cb500-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Javi tiene 33 años
Sandra tiene 27 años
Carlos tiene 18 años
Marcos tiene 43 años
Marta tiene 29 años</code></pre>
</div>
</div>
</section>
<section id="bucles-for-7" class="slide level2">
<h2>Bucles for</h2>
<p>Aunque normalmente se suelen indexar con vectors numéricos, los bucles pueden ser <span class="hl-yellow"><strong>indexados sobre cualquier estructura vectorial</strong></span>, da igual de que tipo sea el conjunto</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb502"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb502-1"><a href="#cb502-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb502-2"><a href="#cb502-2"></a>week_days <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"monday"</span>, <span class="st">"tuesday"</span>, <span class="st">"wednesday"</span>, <span class="st">"thursday"</span>,</span>
<span id="cb502-3"><a href="#cb502-3"></a>               <span class="st">"friday"</span>, <span class="st">"saturday"</span>, <span class="st">"sunday"</span>)</span>
<span id="cb502-4"><a href="#cb502-4"></a></span>
<span id="cb502-5"><a href="#cb502-5"></a><span class="cf">for</span> (days <span class="cf">in</span> week_days) {</span>
<span id="cb502-6"><a href="#cb502-6"></a>  </span>
<span id="cb502-7"><a href="#cb502-7"></a>  <span class="fu">print</span>(<span class="fu">str_to_upper</span>(days))</span>
<span id="cb502-8"><a href="#cb502-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "MONDAY"
[1] "TUESDAY"
[1] "WEDNESDAY"
[1] "THURSDAY"
[1] "FRIDAY"
[1] "SATURDAY"
[1] "SUNDAY"</code></pre>
</div>
</div>
</section>
<section id="bucles-y-condicionales" class="slide level2">
<h2>Bucles y condicionales</h2>
<p>Vamos a <strong>combinar las estructuras condicionales y los bucles</strong>: usando el conjunto <code>swiss</code> del paquete <code>{datasets}</code>, vamos a asignar <code>NA</code> si los valores de fertilidad son mayores de 80.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb504"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb504-1"><a href="#cb504-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(swiss)) {</span>
<span id="cb504-2"><a href="#cb504-2"></a>  </span>
<span id="cb504-3"><a href="#cb504-3"></a>  <span class="cf">if</span> (swiss<span class="sc">$</span>Fertility[i] <span class="sc">&gt;</span> <span class="dv">80</span>) { </span>
<span id="cb504-4"><a href="#cb504-4"></a>    </span>
<span id="cb504-5"><a href="#cb504-5"></a>    swiss<span class="sc">$</span>Fertility[i] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb504-6"><a href="#cb504-6"></a>    </span>
<span id="cb504-7"><a href="#cb504-7"></a>  }</span>
<span id="cb504-8"><a href="#cb504-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Esto es exactamente igual a un <code>if_else()</code> vectorizado</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb505"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb505-1"><a href="#cb505-1"></a><span class="fu">data</span>(<span class="st">"swiss"</span>)</span>
<span id="cb505-2"><a href="#cb505-2"></a>swiss<span class="sc">$</span>Fertility <span class="ot">&lt;-</span> <span class="fu">if_else</span>(swiss<span class="sc">$</span>Fertility <span class="sc">&gt;</span> <span class="dv">80</span>, <span class="cn">NA</span>, swiss<span class="sc">$</span>Fertility)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="bucles-while" class="slide level2">
<h2>Bucles while</h2>
<p>Otra forma de crear un bucle es con la estructura <code>while { }</code>, que nos ejecutará un bucle <span class="hl-yellow"><strong>un número desconocido de veces</strong></span>, hasta que una condición <span class="hl-yellow"><strong>deje de cumplirse</strong></span> (de hecho puede que nunca termine). Por ejemplo, vamos a inializar una variable <code>ciclos &lt;- 1</code>, que incrementaremos en cada paso, y no saldremos del bucle hasta que <code>ciclos &gt; 4</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb506"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb506-1"><a href="#cb506-1"></a>ciclos <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb506-2"><a href="#cb506-2"></a><span class="cf">while</span>(ciclos <span class="sc">&lt;=</span> <span class="dv">4</span>) {</span>
<span id="cb506-3"><a href="#cb506-3"></a>  </span>
<span id="cb506-4"><a href="#cb506-4"></a>  <span class="fu">print</span>(<span class="fu">glue</span>(<span class="st">"No todavía, vamos por el ciclo {ciclos}"</span>)) </span>
<span id="cb506-5"><a href="#cb506-5"></a>  ciclos <span class="ot">&lt;-</span> ciclos <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb506-6"><a href="#cb506-6"></a>  </span>
<span id="cb506-7"><a href="#cb506-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No todavía, vamos por el ciclo 1
No todavía, vamos por el ciclo 2
No todavía, vamos por el ciclo 3
No todavía, vamos por el ciclo 4</code></pre>
</div>
</div>
</section>
<section id="bucles-while-1" class="slide level2">
<h2>Bucles while</h2>
<p>Un bucle <code>while</code> será siempre como sigue</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb508"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb508-1"><a href="#cb508-1"></a><span class="cf">while</span>(condición) {</span>
<span id="cb508-2"><a href="#cb508-2"></a>  </span>
<span id="cb508-3"><a href="#cb508-3"></a>  código a hacer mientras la condición sea <span class="cn">TRUE</span></span>
<span id="cb508-4"><a href="#cb508-4"></a>  <span class="co"># normalmente aquí se actualiza alguna variable</span></span>
<span id="cb508-5"><a href="#cb508-5"></a>  </span>
<span id="cb508-6"><a href="#cb508-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="bucles-while-2" class="slide level2">
<h2>Bucles while</h2>
<p>¿Qué sucede cuando la <span class="hl-yellow"><strong>condición nunca es FALSE</strong></span>? Pruébalo tu mismo</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb509"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb509-1"><a href="#cb509-1"></a><span class="cf">while</span> (<span class="dv">1</span> <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb509-2"><a href="#cb509-2"></a>  </span>
<span id="cb509-3"><a href="#cb509-3"></a>  <span class="fu">print</span>(<span class="st">"Presiona ESC para salir del bucle"</span>)</span>
<span id="cb509-4"><a href="#cb509-4"></a>  </span>
<span id="cb509-5"><a href="#cb509-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>&nbsp;</p>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Cuidado</strong></p>
</div>
<div class="callout-content">
<p>Un bucle <code>while { }</code> puede ser bastante «peligroso» sino controlamos bien cómo pararlo.</p>
</div>
</div>
</div>
</section>
<section id="bucles-while-3" class="slide level2">
<h2>Bucles while</h2>
<p>Contamos con dos palabras reservadas para <span class="hl-yellow"><strong>abortar un bucle o forzar su avance</strong></span>:</p>
<ul>
<li><code>break</code>: permite <span class="hl-yellow"><strong>abortar un bucle</strong></span> incluso si no se ha llegado a su final</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb510"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb510-1"><a href="#cb510-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb510-2"><a href="#cb510-2"></a>  <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">3</span>) {</span>
<span id="cb510-3"><a href="#cb510-3"></a>    </span>
<span id="cb510-4"><a href="#cb510-4"></a>    <span class="cf">break</span> <span class="co"># si i = 3, abortamos bucle</span></span>
<span id="cb510-5"><a href="#cb510-5"></a>    </span>
<span id="cb510-6"><a href="#cb510-6"></a>  }</span>
<span id="cb510-7"><a href="#cb510-7"></a>  <span class="fu">print</span>(i)</span>
<span id="cb510-8"><a href="#cb510-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1
[1] 2</code></pre>
</div>
</div>
</section>
<section id="bucles-while-4" class="slide level2">
<h2>Bucles while</h2>
<p>Contamos con dos palabras reservadas para <span class="hl-yellow"><strong>abortar un bucle o forzar su avance</strong></span>:</p>
<ul>
<li><code>next</code>: <span class="hl-yellow"><strong>fuerza un bucle a avanzar a la siguiente iteración</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb512"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb512-1"><a href="#cb512-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb512-2"><a href="#cb512-2"></a>  <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">3</span>) {</span>
<span id="cb512-3"><a href="#cb512-3"></a>    </span>
<span id="cb512-4"><a href="#cb512-4"></a>    <span class="cf">next</span> <span class="co"># si i = 3, la obvia y continua al siguiente</span></span>
<span id="cb512-5"><a href="#cb512-5"></a>    </span>
<span id="cb512-6"><a href="#cb512-6"></a>  }</span>
<span id="cb512-7"><a href="#cb512-7"></a>  <span class="fu">print</span>(i)</span>
<span id="cb512-8"><a href="#cb512-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1
[1] 2
[1] 4
[1] 5</code></pre>
</div>
</div>
</section>
<section id="bucles-repeat" class="slide level2">
<h2>Bucles repeat</h2>
<p>Aunque no es tan usado como las opciones anteriores, también contamos con <code>repeat { }</code> que ejecuta un <span class="hl-yellow"><strong>bucle de manera infinita hasta que se indique abortar</strong></span> con un break</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb514"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb514-1"><a href="#cb514-1"></a>count <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb514-2"><a href="#cb514-2"></a><span class="cf">repeat</span> { </span>
<span id="cb514-3"><a href="#cb514-3"></a>  </span>
<span id="cb514-4"><a href="#cb514-4"></a>  count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb514-5"><a href="#cb514-5"></a>  <span class="cf">if</span> (count <span class="sc">&gt;=</span> <span class="dv">100</span>) { <span class="cf">break</span> }</span>
<span id="cb514-6"><a href="#cb514-6"></a>  </span>
<span id="cb514-7"><a href="#cb514-7"></a>}</span>
<span id="cb514-8"><a href="#cb514-8"></a>count</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 100</code></pre>
</div>
</div>
</section>
<section id="replicate" class="slide level2">
<h2>Replicate</h2>
<p>Aunque no es formalmente un bucle, otra forma de <span class="hl-yellow"><strong>repetir código un número de veces</strong></span> es hacer uso de <code>replicate()</code>: simplemente permite repetir lo mismo <span class="hl-yellow"><strong>n veces</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb516"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb516-1"><a href="#cb516-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb516-2"><a href="#cb516-2"></a><span class="fu">replicate</span>(<span class="at">n =</span> <span class="dv">3</span>, x<span class="sc">^</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    1    1
[2,]    4    4    4
[3,]    9    9    9</code></pre>
</div>
</div>
</section>
<section id="replicate-1" class="slide level2">
<h2>Replicate</h2>
<p>La función <code>replicate()</code> se suele usar para <span class="hl-yellow"><strong>generar distintas repeticiones de elementos aleatorios</strong></span>. Por ejemplo, imaginemos que queremos generar 3 muestras de distribuciones normales, en la que cada muestra tendrá 7 elementos. Para generar una se usa <code>rnorm(n = 7)</code> (r de resample, norm de normal, y si no se dice nada es media 0 y desv 1).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb518"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb518-1"><a href="#cb518-1"></a><span class="fu">replicate</span>(<span class="at">n =</span> <span class="dv">3</span>, <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">7</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           [,1]        [,2]        [,3]
[1,] -2.0970189  0.78135362  0.61639959
[2,]  2.3675334  1.34338236 -0.09962508
[3,] -0.4325260  1.41004329 -0.38344325
[4,]  0.6408602 -0.07650159  1.46483525
[5,] -0.6456994  1.72453937  0.01135047
[6,] -1.4212672 -0.55582216  0.74514330
[7,]  0.9273218  0.57365950  0.74895367</code></pre>
</div>
</div>
</section>
<section id="tu-turno-6-2" class="slide level2">
<h2>💻 Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-10" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-10-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-10-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-10-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-10-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-10-1">
<p>📝 Modifica el código inferior para que se imprima un mensaje por pantalla si y solo si todos los datos de <code>airquality</code> son con mes distinto a enero</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb520"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb520-1"><a href="#cb520-1"></a><span class="fu">library</span>(datasets)</span>
<span id="cb520-2"><a href="#cb520-2"></a>months <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Month</span>
<span id="cb520-3"><a href="#cb520-3"></a></span>
<span id="cb520-4"><a href="#cb520-4"></a><span class="cf">if</span> (months <span class="sc">==</span> <span class="dv">2</span>) {</span>
<span id="cb520-5"><a href="#cb520-5"></a>  <span class="fu">print</span>(<span class="st">"No hay datos de enero"</span>)</span>
<span id="cb520-6"><a href="#cb520-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb521"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb521-1"><a href="#cb521-1"></a><span class="fu">library</span>(datasets)</span>
<span id="cb521-2"><a href="#cb521-2"></a>months <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Month</span>
<span id="cb521-3"><a href="#cb521-3"></a></span>
<span id="cb521-4"><a href="#cb521-4"></a><span class="cf">if</span> (<span class="fu">all</span>(months <span class="sc">!=</span> <span class="dv">1</span>)) {</span>
<span id="cb521-5"><a href="#cb521-5"></a>  <span class="fu">print</span>(<span class="st">"No hay datos de enero"</span>)</span>
<span id="cb521-6"><a href="#cb521-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-10-2">
<p>📝 Modifica el código inferior para guardar en una variable llamada <code>temp_alta</code> un <code>TRUE</code> si alguno de los registros tiene una temperatura superior a 90 grados Farenheit y <code>FALSE</code> en cualquier otro caso</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb522"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb522-1"><a href="#cb522-1"></a>temp <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Temp</span>
<span id="cb522-2"><a href="#cb522-2"></a></span>
<span id="cb522-3"><a href="#cb522-3"></a><span class="cf">if</span> (temp <span class="sc">==</span> <span class="dv">100</span>) {</span>
<span id="cb522-4"><a href="#cb522-4"></a>  <span class="fu">print</span>(<span class="st">"Algunos de los registros tienen temperaturas superiores a 90 grados Farenheit"</span>)</span>
<span id="cb522-5"><a href="#cb522-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb523"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb523-1"><a href="#cb523-1"></a><span class="co"># Option 1</span></span>
<span id="cb523-2"><a href="#cb523-2"></a>temp <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Temp</span>
<span id="cb523-3"><a href="#cb523-3"></a>temp_alta <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb523-4"><a href="#cb523-4"></a><span class="cf">if</span> (<span class="fu">any</span>(temp <span class="sc">&gt;</span> <span class="dv">90</span>)) {</span>
<span id="cb523-5"><a href="#cb523-5"></a>   temp_alta <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb523-6"><a href="#cb523-6"></a>}</span>
<span id="cb523-7"><a href="#cb523-7"></a></span>
<span id="cb523-8"><a href="#cb523-8"></a><span class="co"># Option 2</span></span>
<span id="cb523-9"><a href="#cb523-9"></a>temp_alta <span class="ot">&lt;-</span> <span class="fu">any</span>(airquality<span class="sc">$</span>Temp <span class="sc">&gt;</span> <span class="dv">90</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-10-3">
<p>📝 Modifica el código inferior para diseñar un bucle <code>for</code> de 5 iteraciones que solo recorra los primeros 5 impares (y en cada paso del bucle los imprima)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb524"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb524-1"><a href="#cb524-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb524-2"><a href="#cb524-2"></a>  </span>
<span id="cb524-3"><a href="#cb524-3"></a>  <span class="fu">print</span>(i)</span>
<span id="cb524-4"><a href="#cb524-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb525"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb525-1"><a href="#cb525-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)) {</span>
<span id="cb525-2"><a href="#cb525-2"></a>  </span>
<span id="cb525-3"><a href="#cb525-3"></a>  <span class="fu">print</span>(i)</span>
<span id="cb525-4"><a href="#cb525-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-10-4">
<p>📝 Modifica el código inferior para diseñar un bucle <code>while</code> que empiece con un contador <code>count &lt;- 1</code> y pare cuando llegue a 6</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb526"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb526-1"><a href="#cb526-1"></a>count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb526-2"><a href="#cb526-2"></a><span class="cf">while</span> (count <span class="sc">==</span> <span class="dv">2</span>) {</span>
<span id="cb526-3"><a href="#cb526-3"></a>  </span>
<span id="cb526-4"><a href="#cb526-4"></a>  <span class="fu">print</span>(count)</span>
<span id="cb526-5"><a href="#cb526-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb527"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb527-1"><a href="#cb527-1"></a>count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb527-2"><a href="#cb527-2"></a><span class="cf">while</span> (count <span class="sc">&lt;</span> <span class="dv">6</span>) {</span>
<span id="cb527-3"><a href="#cb527-3"></a>  </span>
<span id="cb527-4"><a href="#cb527-4"></a>  <span class="fu">print</span>(count)</span>
<span id="cb527-5"><a href="#cb527-5"></a>  count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb527-6"><a href="#cb527-6"></a>  </span>
<span id="cb527-7"><a href="#cb527-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="caso-practico-6" class="slide level2">
<h2>🐣 Caso práctico</h2>
<p>Intenta responder a las preguntas planteadas en el <a href="https://javieralvarezliebana.quarto.pub/control-bucles-if-else/"><strong>workbook</strong></a> donde tendrás que diseñar algunos estudios de simulación haciendo uso de <strong>bucles y estructuras condicionales</strong></p>
</section></section>
<section>
<section id="clase-7" class="title-slide slide level1 center">
<h1>Clase 7: <span class="flow">funciones</span></h1>
<p><span style="color:#444442;"><strong>¿Qué es una función? ¿Cómo se definen? Variables locales vs globales</strong></span></p>
</section>
<section id="creando-funciones" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Creando funciones</h2>
<p>No solo podemos usar <strong>funciones predeterminadas</strong> que vienen ya cargadas en paquetes, además podemos <span class="hl-yellow"><strong>crear nuestras propias funciones</strong></span> para <strong>automatizar tareas</strong>. ¿Cómo <span class="hl-purple"><strong>crear nuestra propia función</strong></span>? Veamos su <strong>esquema básico</strong>:</p>
<ul>
<li><p><span class="hl-yellow"><strong>Nombre</strong></span>: por ejemplo <code>name_fun</code> (sin espacios ni caracteres extraños). Al nombre le <span class="hl-yellow"><strong>asignamos la palabra reservada</strong></span> <code>function()</code>.</p></li>
<li><p>Definir <span class="hl-yellow"><strong>argumentos de entrada</strong></span> (dentro de <code>function()</code>).</p></li>
<li><p><span class="hl-yellow"><strong>Cuerpo</strong></span> de la función dentro de <code>{ }</code>.</p></li>
<li><p>Finalizamos la función con los <span class="hl-yellow"><strong>argumentos de salida</strong></span> con <code>return()</code>.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb528"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb528-1" class="hljs-ln-code"><a href="#cb528-1"></a>name_fun <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb528-2" class="hljs-ln-code"><a href="#cb528-2"></a>  </span>
<span id="cb528-3" class="hljs-ln-code"><a href="#cb528-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="creando-funciones-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Creando funciones</h2>
<p>No solo podemos usar <strong>funciones predeterminadas</strong> que vienen ya cargadas en paquetes, además podemos <span class="hl-yellow"><strong>crear nuestras propias funciones</strong></span> para <strong>automatizar tareas</strong>. ¿Cómo <span class="hl-purple"><strong>crear nuestra propia función</strong></span>? Veamos su <strong>esquema básico</strong>:</p>
<ul>
<li><p><span class="hl-yellow"><strong>Nombre</strong></span>: por ejemplo <code>name_fun</code> (sin espacios ni caracteres extraños). Al nombre le <span class="hl-yellow"><strong>asignamos la palabra reservada</strong></span> <code>function()</code>.</p></li>
<li><p>Definir <span class="hl-yellow"><strong>argumentos de entrada</strong></span> (dentro de <code>function()</code>).</p></li>
<li><p><span class="hl-yellow"><strong>Cuerpo</strong></span> de la función dentro de <code>{ }</code>.</p></li>
<li><p>Finalizamos la función con los <span class="hl-yellow"><strong>argumentos de salida</strong></span> con <code>return()</code>.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb529"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb529-1" class="hljs-ln-code"><a href="#cb529-1"></a>name_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2, ...) {</span>
<span id="cb529-2" class="hljs-ln-code"><a href="#cb529-2"></a>  </span>
<span id="cb529-3" class="hljs-ln-code"><a href="#cb529-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="creando-funciones-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Creando funciones</h2>
<p>No solo podemos usar <strong>funciones predeterminadas</strong> que vienen ya cargadas en paquetes, además podemos <span class="hl-yellow"><strong>crear nuestras propias funciones</strong></span> para <strong>automatizar tareas</strong>. ¿Cómo <span class="hl-purple"><strong>crear nuestra propia función</strong></span>? Veamos su <strong>esquema básico</strong>:</p>
<ul>
<li><p><span class="hl-yellow"><strong>Nombre</strong></span>: por ejemplo <code>name_fun</code> (sin espacios ni caracteres extraños). Al nombre le <span class="hl-yellow"><strong>asignamos la palabra reservada</strong></span> <code>function()</code>.</p></li>
<li><p>Definir <span class="hl-yellow"><strong>argumentos de entrada</strong></span> (dentro de <code>function()</code>).</p></li>
<li><p><span class="hl-yellow"><strong>Cuerpo</strong></span> de la función dentro de <code>{ }</code>.</p></li>
<li><p>Finalizamos la función con los <span class="hl-yellow"><strong>argumentos de salida</strong></span> con <code>return()</code>.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb530"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb530-1" class="hljs-ln-code"><a href="#cb530-1"></a>name_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2, ...) {</span>
<span id="cb530-2" class="hljs-ln-code"><a href="#cb530-2"></a>  </span>
<span id="cb530-3" class="hljs-ln-code"><a href="#cb530-3"></a>  código a ejecutar</span>
<span id="cb530-4" class="hljs-ln-code"><a href="#cb530-4"></a>  </span>
<span id="cb530-5" class="hljs-ln-code"><a href="#cb530-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="creando-funciones-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Creando funciones</h2>
<p>No solo podemos usar <strong>funciones predeterminadas</strong> que vienen ya cargadas en paquetes, además podemos <span class="hl-yellow"><strong>crear nuestras propias funciones</strong></span> para <strong>automatizar tareas</strong>. ¿Cómo <span class="hl-purple"><strong>crear nuestra propia función</strong></span>? Veamos su <strong>esquema básico</strong>:</p>
<ul>
<li><p><span class="hl-yellow"><strong>Nombre</strong></span>: por ejemplo <code>name_fun</code> (sin espacios ni caracteres extraños). Al nombre le <span class="hl-yellow"><strong>asignamos la palabra reservada</strong></span> <code>function()</code>.</p></li>
<li><p>Definir <span class="hl-yellow"><strong>argumentos de entrada</strong></span> (dentro de <code>function()</code>).</p></li>
<li><p><span class="hl-yellow"><strong>Cuerpo</strong></span> de la función dentro de <code>{ }</code>.</p></li>
<li><p>Finalizamos la función con los <span class="hl-yellow"><strong>argumentos de salida</strong></span> con <code>return()</code>.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb531"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb531-1" class="hljs-ln-code"><a href="#cb531-1"></a>name_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2, ...) {</span>
<span id="cb531-2" class="hljs-ln-code"><a href="#cb531-2"></a>  </span>
<span id="cb531-3" class="hljs-ln-code"><a href="#cb531-3"></a>  código a ejecutar</span>
<span id="cb531-4" class="hljs-ln-code"><a href="#cb531-4"></a>  </span>
<span id="cb531-5" class="hljs-ln-code"><a href="#cb531-5"></a>  <span class="fu">return</span>(var_salida)</span>
<span id="cb531-6" class="hljs-ln-code"><a href="#cb531-6"></a>  </span>
<span id="cb531-7" class="hljs-ln-code"><a href="#cb531-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="creando-funciones-4" class="slide level2">
<h2>Creando funciones</h2>
<ul>
<li><p><code>arg1, arg2, ...</code>: serán los <span class="hl-yellow"><strong>argumentos de entrada</strong></span>, los argumentos que toma la función para ejecutar el código que tiene dentro</p></li>
<li><p><code>código</code>: líneas de código que queramos que <span class="hl-yellow"><strong>ejecute la función</strong></span>.</p></li>
<li><p><code>return(var_salida)</code>: se introducirán los <span class="hl-yellow"><strong>argumentos de salida</strong></span>.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb532"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb532-1"><a href="#cb532-1"></a>name_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2, ...) {</span>
<span id="cb532-2"><a href="#cb532-2"></a>  </span>
<span id="cb532-3"><a href="#cb532-3"></a>  <span class="co"># Código que queramos ejecutar</span></span>
<span id="cb532-4"><a href="#cb532-4"></a>  código</span>
<span id="cb532-5"><a href="#cb532-5"></a>  </span>
<span id="cb532-6"><a href="#cb532-6"></a>  <span class="co"># Salida</span></span>
<span id="cb532-7"><a href="#cb532-7"></a>  <span class="fu">return</span>(var_salida)</span>
<span id="cb532-8"><a href="#cb532-8"></a>  </span>
<span id="cb532-9"><a href="#cb532-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Importante</strong></p>
</div>
<div class="callout-content">
<p>Todas las variables que definamos dentro de la función son <span class="hl-yellow"><strong>variables LOCALES: solo existirán dentro de la función</strong></span> salvo que especifiquemos lo contrario.</p>
</div>
</div>
</div>
</section>
<section id="creando-funciones-5" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Creando funciones</h2>
<p>Veamos un ejemplo muy simple de función para <span class="hl-yellow"><strong>calcular el área de un rectángulo</strong></span>.</p>
<p>Dado que el área de un rectángulo se calcula como el <strong>producto de sus lados</strong>, necesitaremos precisamente eso, sus lados: esos serán los <span class="hl-yellow"><strong>argumentos de entrada</strong></span> y el <span class="hl-purple"><strong>valor a devolver</strong></span> será justo su <strong>área</strong> (<span class="math inline">\(lado_1 * lado_2\)</span>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb533"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb533-1" class="hljs-ln-code"><a href="#cb533-1"></a><span class="co"># Definición del nombre de función y argumentos de entrada</span></span>
<span id="cb533-2" class="hljs-ln-code"><a href="#cb533-2"></a>calcular_area <span class="ot">&lt;-</span> <span class="cf">function</span>(lado_1, lado_2) {</span>
<span id="cb533-3" class="hljs-ln-code"><a href="#cb533-3"></a>  </span>
<span id="cb533-4" class="hljs-ln-code"><a href="#cb533-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="creando-funciones-6" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Creando funciones</h2>
<p>Veamos un ejemplo muy simple de función para <span class="hl-yellow"><strong>calcular el área de un rectángulo</strong></span>.</p>
<p>Dado que el área de un rectángulo se calcula como el <strong>producto de sus lados</strong>, necesitaremos precisamente eso, sus lados: esos serán los <span class="hl-yellow"><strong>argumentos de entrada</strong></span> y el <span class="hl-purple"><strong>valor a devolver</strong></span> será justo su <strong>área</strong> (<span class="math inline">\(lado_1 * lado_2\)</span>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb534"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb534-1" class="hljs-ln-code"><a href="#cb534-1"></a><span class="co"># Definición del nombre de función y argumentos de entrada</span></span>
<span id="cb534-2" class="hljs-ln-code"><a href="#cb534-2"></a>calcular_area <span class="ot">&lt;-</span> <span class="cf">function</span>(lado_1, lado_2) {</span>
<span id="cb534-3" class="hljs-ln-code"><a href="#cb534-3"></a>  </span>
<span id="cb534-4" class="hljs-ln-code"><a href="#cb534-4"></a>  area <span class="ot">&lt;-</span> lado_1 <span class="sc">*</span> lado_2</span>
<span id="cb534-5" class="hljs-ln-code"><a href="#cb534-5"></a>  </span>
<span id="cb534-6" class="hljs-ln-code"><a href="#cb534-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="creando-funciones-7" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Creando funciones</h2>
<p>Veamos un ejemplo muy simple de función para <span class="hl-yellow"><strong>calcular el área de un rectángulo</strong></span>.</p>
<p>Dado que el área de un rectángulo se calcula como el <strong>producto de sus lados</strong>, necesitaremos precisamente eso, sus lados: esos serán los <span class="hl-yellow"><strong>argumentos de entrada</strong></span> y el <span class="hl-purple"><strong>valor a devolver</strong></span> será justo su <strong>área</strong> (<span class="math inline">\(lado_1 * lado_2\)</span>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb535"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb535-1" class="hljs-ln-code"><a href="#cb535-1"></a><span class="co"># Definición del nombre de función y argumentos de entrada</span></span>
<span id="cb535-2" class="hljs-ln-code"><a href="#cb535-2"></a>calcular_area <span class="ot">&lt;-</span> <span class="cf">function</span>(lado_1, lado_2) {</span>
<span id="cb535-3" class="hljs-ln-code"><a href="#cb535-3"></a>  </span>
<span id="cb535-4" class="hljs-ln-code"><a href="#cb535-4"></a>  area <span class="ot">&lt;-</span> lado_1 <span class="sc">*</span> lado_2</span>
<span id="cb535-5" class="hljs-ln-code"><a href="#cb535-5"></a>  <span class="fu">return</span>(area)</span>
<span id="cb535-6" class="hljs-ln-code"><a href="#cb535-6"></a>  </span>
<span id="cb535-7" class="hljs-ln-code"><a href="#cb535-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="uso-de-funciones" class="slide level2">
<h2>Uso de funciones</h2>
<p>También podemos hacer una definición directa de las variables <strong>sin almacenar por el camino</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb536"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb536-1"><a href="#cb536-1"></a><span class="co"># Definición del nombre de función y argumentos de entrada</span></span>
<span id="cb536-2"><a href="#cb536-2"></a>calcular_area <span class="ot">&lt;-</span> <span class="cf">function</span>(lado_1, lado_2) {</span>
<span id="cb536-3"><a href="#cb536-3"></a>  </span>
<span id="cb536-4"><a href="#cb536-4"></a>  <span class="fu">return</span>(lado_1 <span class="sc">*</span> lado_2)</span>
<span id="cb536-5"><a href="#cb536-5"></a>  </span>
<span id="cb536-6"><a href="#cb536-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p><span class="hl-yellow"><strong>¿Cómo aplicar la función?</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb537"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb537-1"><a href="#cb537-1"></a><span class="fu">calcular_area</span>(<span class="dv">5</span>, <span class="dv">3</span>) <span class="co"># área de un rectángulo 5 x 3 </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb539"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb539-1"><a href="#cb539-1"></a><span class="fu">calcular_area</span>(<span class="dv">1</span>, <span class="dv">5</span>) <span class="co"># área de un rectángulo 1 x 5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
</div>
</section>
<section id="uso-de-funciones-1" class="slide level2">
<h2>Uso de funciones</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>Aunque no sea necesario, es <span class="hl-green"><strong>recomendable hacer explícita la llamada de los argumentos</strong></span>, especificando en el código qué valor es para cada argumento para que no dependa de su orden, haciendo el código más legible</p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb541"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb541-1"><a href="#cb541-1"></a><span class="fu">calcular_area</span>(<span class="at">lado_1 =</span> <span class="dv">5</span>, <span class="at">lado_2 =</span> <span class="dv">3</span>) <span class="co"># área de un rectángulo 5 x 3 </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb543"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb543-1"><a href="#cb543-1"></a><span class="fu">calcular_area</span>(<span class="at">lado_2 =</span> <span class="dv">3</span>, <span class="at">lado_1 =</span> <span class="dv">5</span>) <span class="co"># área de un rectángulo 5 x 3 </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15</code></pre>
</div>
</div>
</section>
<section id="argumentos-por-defecto" class="slide level2">
<h2>Argumentos por defecto</h2>
<p>Imagina ahora que nos damos cuenta que el 90% de las veces usamos dicha función para <span class="hl-yellow"><strong>calcular por defecto el área de un cuadrado</strong></span> (es decir, solo necesitamos un lado). Para ello, podemos definir <span class="hl-yellow"><strong>argumentos por defecto</strong></span> en la función: tomarán dicho valor salvo que le asignemos otro.</p>
<p>¿Por qué no asignar <code>lado_2 = lado_1</code> <strong>por defecto</strong>, para ahorrar líneas de código y tiempo?</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb545"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb545-1"><a href="#cb545-1"></a>calcular_area <span class="ot">&lt;-</span> <span class="cf">function</span>(lado_1, <span class="at">lado_2 =</span> lado_1) {</span>
<span id="cb545-2"><a href="#cb545-2"></a>  </span>
<span id="cb545-3"><a href="#cb545-3"></a>  <span class="co"># Cuerpo de la función</span></span>
<span id="cb545-4"><a href="#cb545-4"></a>  area <span class="ot">&lt;-</span> lado_1 <span class="sc">*</span> lado_2</span>
<span id="cb545-5"><a href="#cb545-5"></a>  </span>
<span id="cb545-6"><a href="#cb545-6"></a>  <span class="co"># Resultado que devolvemos</span></span>
<span id="cb545-7"><a href="#cb545-7"></a>  <span class="fu">return</span>(area)</span>
<span id="cb545-8"><a href="#cb545-8"></a>  </span>
<span id="cb545-9"><a href="#cb545-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="argumentos-por-defecto-1" class="slide level2">
<h2>Argumentos por defecto</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb546"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb546-1"><a href="#cb546-1"></a>calcular_area <span class="ot">&lt;-</span> <span class="cf">function</span>(lado_1, <span class="at">lado_2 =</span> lado_1) {</span>
<span id="cb546-2"><a href="#cb546-2"></a>  </span>
<span id="cb546-3"><a href="#cb546-3"></a>  <span class="co"># Cuerpo de la función</span></span>
<span id="cb546-4"><a href="#cb546-4"></a>  area <span class="ot">&lt;-</span> lado_1 <span class="sc">*</span> lado_2</span>
<span id="cb546-5"><a href="#cb546-5"></a>  </span>
<span id="cb546-6"><a href="#cb546-6"></a>  <span class="co"># Resultado que devolvemos</span></span>
<span id="cb546-7"><a href="#cb546-7"></a>  <span class="fu">return</span>(area)</span>
<span id="cb546-8"><a href="#cb546-8"></a>  </span>
<span id="cb546-9"><a href="#cb546-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ahora <span class="hl-yellow"><strong>por defecto</strong></span> el segundo lado será igual al primero (si se lo añadimos usará ambos).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb547"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb547-1"><a href="#cb547-1"></a><span class="fu">calcular_area</span>(<span class="at">lado_1 =</span> <span class="dv">5</span>) <span class="co"># cuadrado</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb549"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb549-1"><a href="#cb549-1"></a><span class="fu">calcular_area</span>(<span class="at">lado_1 =</span> <span class="dv">5</span>, <span class="at">lado_2 =</span> <span class="dv">7</span>) <span class="co"># rectángulo</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 35</code></pre>
</div>
</div>
</section>
<section id="salida-múltiple" class="slide level2">
<h2>Salida múltiple</h2>
<p>Compliquemos un poco la función y añadamos en la salida los valores de cada lado, etiquetados como <code>lado_1</code> y <code>lado_2</code>, <span class="hl-yellow"><strong>empaquetando la salida en una vector</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb551" data-code-line-numbers="7-8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb551-1"><a href="#cb551-1"></a><span class="co"># Definición del nombre de función y argumentos de entrada</span></span>
<span id="cb551-2"><a href="#cb551-2"></a>calcular_area <span class="ot">&lt;-</span> <span class="cf">function</span>(lado_1, <span class="at">lado_2 =</span> lado_1) {</span>
<span id="cb551-3"><a href="#cb551-3"></a>  </span>
<span id="cb551-4"><a href="#cb551-4"></a>  <span class="co"># Cuerpo de la función</span></span>
<span id="cb551-5"><a href="#cb551-5"></a>  area <span class="ot">&lt;-</span> lado_1 <span class="sc">*</span> lado_2</span>
<span id="cb551-6"><a href="#cb551-6"></a>  </span>
<span id="cb551-7"><a href="#cb551-7"></a>  <span class="co"># Resultado</span></span>
<span id="cb551-8"><a href="#cb551-8"></a>  <span class="fu">return</span>(<span class="fu">c</span>(<span class="st">"area"</span> <span class="ot">=</span> area, <span class="st">"lado_1"</span> <span class="ot">=</span> lado_1, <span class="st">"lado_2"</span> <span class="ot">=</span> lado_2))</span>
<span id="cb551-9"><a href="#cb551-9"></a>  </span>
<span id="cb551-10"><a href="#cb551-10"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="salida-múltiple-1" class="slide level2">
<h2>Salida múltiple</h2>
<p>Podemos complicar un poco más la salida añadiendo una cuarta variable que nos diga, en función de los argumentos, <span class="hl-yellow"><strong>si rectángulo o cuadrado</strong></span>, teniendo que añadir en la salida una variable que de tipo caracter (o lógica).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb552" data-code-line-numbers="7-9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb552-1"><a href="#cb552-1"></a><span class="co"># Definición del nombre de función y argumentos de entrada</span></span>
<span id="cb552-2"><a href="#cb552-2"></a>calcular_area <span class="ot">&lt;-</span> <span class="cf">function</span>(lado_1, <span class="at">lado_2 =</span> lado_1) {</span>
<span id="cb552-3"><a href="#cb552-3"></a>  </span>
<span id="cb552-4"><a href="#cb552-4"></a>  <span class="co"># Cuerpo de la función</span></span>
<span id="cb552-5"><a href="#cb552-5"></a>  area <span class="ot">&lt;-</span> lado_1 <span class="sc">*</span> lado_2</span>
<span id="cb552-6"><a href="#cb552-6"></a>  </span>
<span id="cb552-7"><a href="#cb552-7"></a>  <span class="co"># Resultado</span></span>
<span id="cb552-8"><a href="#cb552-8"></a>  <span class="fu">return</span>(<span class="fu">c</span>(<span class="st">"area"</span> <span class="ot">=</span> area, <span class="st">"lado_1"</span> <span class="ot">=</span> lado_1, <span class="st">"lado_2"</span> <span class="ot">=</span> lado_2,</span>
<span id="cb552-9"><a href="#cb552-9"></a>           <span class="st">"tipo"</span> <span class="ot">=</span> <span class="fu">if_else</span>(lado_1 <span class="sc">==</span> lado_2, <span class="st">"cuadrado"</span>, <span class="st">"rectángulo"</span>)))</span>
<span id="cb552-10"><a href="#cb552-10"></a>  </span>
<span id="cb552-11"><a href="#cb552-11"></a>}</span>
<span id="cb552-12"><a href="#cb552-12"></a><span class="fu">calcular_area</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        area       lado_1       lado_2         tipo 
        "15"          "5"          "3" "rectángulo" </code></pre>
</div>
</div>
<div class="fragment">
<p><span class="hl-red"><strong>Problema</strong></span>: al intentar juntar números y texto, lo convierte todo a números. Podríamos guardarlo todo en un <code>tibble()</code> como hemos aprendido o en un objeto conocido en <code>R</code> como <span class="hl-yellow"><strong>listas</strong></span></p>
</div>
</section>
<section id="introducción-a-listas" class="slide level2">
<h2>Introducción a listas</h2>
<p>Veamos un pequeño resumen de los datos que ya conocemos:</p>
<ul>
<li><p><span class="hl-yellow"><strong>vectores</strong></span>: colección de elementos de igual tipo. Pueden ser números, caracteres o valores lógicos, entre otros.</p></li>
<li><p><span class="hl-yellow"><strong>matrices</strong></span>: colección BIDIMENSIONAL de elementos de igual tipo e igual longitud.</p></li>
<li><p><span class="hl-yellow"><strong>data.frame / tibble</strong></span>: colección BIDIMENSIONAL de elementos de igual longitud pero de cualquier tipo.</p></li>
</ul>
<div class="fragment">
<p>Las <span class="hl-yellow"><strong>listas</strong></span> serán <span class="hl-purple"><strong>colecciones de variables de diferente tipo y diferente longitud</strong></span>, con estructuras totalmente heterógeneas (incluso una lista puede tener dentro a su vez otra lista).</p>
</div>
</section>
<section id="introducción-a-listas-1" class="slide level2">
<h2>Introducción a listas</h2>
<p>Vamos a crear <span class="hl-yellow"><strong>nuestra primera lista</strong></span> con <code>list()</code> con tres elementos: el nombre de nuestros padres/madres, nuestro lugar de nacimiento y edades de nuestros hermanos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb554"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb554-1"><a href="#cb554-1"></a>var_1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Paloma"</span>, <span class="st">"Gregorio"</span>)</span>
<span id="cb554-2"><a href="#cb554-2"></a>var_2 <span class="ot">&lt;-</span> <span class="st">"Madrid"</span></span>
<span id="cb554-3"><a href="#cb554-3"></a>var_3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">26</span>)</span>
<span id="cb554-4"><a href="#cb554-4"></a></span>
<span id="cb554-5"><a href="#cb554-5"></a>lista <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"progenitores"</span> <span class="ot">=</span> var_1, <span class="st">"lugar_nac"</span> <span class="ot">=</span> var_2, <span class="st">"edad_hermanos"</span> <span class="ot">=</span> var_3)</span>
<span id="cb554-6"><a href="#cb554-6"></a>lista</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$progenitores
[1] "Paloma"   "Gregorio"

$lugar_nac
[1] "Madrid"

$edad_hermanos
[1] 25 30 26</code></pre>
</div>
</div>
</section>
<section id="introducción-a-listas-2" class="slide level2">
<h2>Introducción a listas</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb556"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb556-1"><a href="#cb556-1"></a><span class="fu">length</span>(lista)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>Si observas el objeto que hemos definido como lista, su <span class="hl-yellow"><strong>longitud</strong></span> del es de 3 ya que tenemos <strong>guardados tres elementos</strong>: un vector de caracteres (de longitud 2), un caracter (vector de longitud 1), y un vector de números (de longitud 3)</p>
<div class="fragment">
<p>Tenemos guardados elementos de <span class="hl-yellow"><strong>distinto tipo</strong></span> (algo que ya podíamos hacer) pero, además, de <strong>longitudes dispares</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb558"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb558-1"><a href="#cb558-1"></a><span class="fu">dim</span>(lista) <span class="co"># devolverá NULL al no tener dos dimensiones</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
<div class="sourceCode cell-code" id="cb560"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb560-1"><a href="#cb560-1"></a><span class="fu">class</span>(lista) <span class="co"># de tipo lista</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
</div>
</div>
</section>
<section id="introducción-a-listas-3" class="slide level2">
<h2>Introducción a listas</h2>
<p>Si los juntásemos con un <code>tibble()</code>, al tener distinta longitud, obtendríamos un <span class="hl-red"><strong>error</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb562"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb562-1"><a href="#cb562-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb562-2"><a href="#cb562-2"></a><span class="fu">tibble</span>(<span class="st">"progenitores"</span> <span class="ot">=</span> var_1, <span class="st">"lugar_nac"</span> <span class="ot">=</span> va_2, <span class="st">"edad_hermanos"</span> <span class="ot">=</span> var_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval_tidy(xs[[j]], mask): object 'va_2' not found</code></pre>
</div>
</div>
</section>
<section id="introducción-a-listas-4" class="slide level2">
<h2>Introducción a listas</h2>
<ul>
<li><span class="hl-yellow"><strong>Acceder por índice</strong></span>: con el operador <code>[[i]]</code> accedemos al <strong>elemento i-ésimo</strong> de la lista.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb564"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb564-1"><a href="#cb564-1"></a>lista[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Paloma"   "Gregorio"</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Acceder por nombre</strong></span>: con <code>$nombre_elemento</code> accedemos por su nombre.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb566"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb566-1"><a href="#cb566-1"></a>lista<span class="sc">$</span>progenitores</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Paloma"   "Gregorio"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>En contraposición, el <span class="hl-yellow"><strong>corchete simple</strong></span> nos permite acceder a <span class="hl-yellow"><strong>varios elementos</strong></span> a la vez</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb568"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb568-1"><a href="#cb568-1"></a><span class="co"># Varios elementos</span></span>
<span id="cb568-2"><a href="#cb568-2"></a>lista[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$progenitores
[1] "Paloma"   "Gregorio"

$lugar_nac
[1] "Madrid"</code></pre>
</div>
</div>
</div>
</section>
<section id="salida-múltiple-listas" class="slide level2">
<h2>Salida múltiple: listas</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb570" data-code-line-numbers="7-9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb570-1"><a href="#cb570-1"></a><span class="co"># Definición del nombre de función y argumentos de entrada</span></span>
<span id="cb570-2"><a href="#cb570-2"></a>calcular_area <span class="ot">&lt;-</span> <span class="cf">function</span>(lado_1, <span class="at">lado_2 =</span> lado_1) {</span>
<span id="cb570-3"><a href="#cb570-3"></a>  </span>
<span id="cb570-4"><a href="#cb570-4"></a>  <span class="co"># Cuerpo de la función</span></span>
<span id="cb570-5"><a href="#cb570-5"></a>  area <span class="ot">&lt;-</span> lado_1 <span class="sc">*</span> lado_2</span>
<span id="cb570-6"><a href="#cb570-6"></a>  </span>
<span id="cb570-7"><a href="#cb570-7"></a>  <span class="co"># Resultado</span></span>
<span id="cb570-8"><a href="#cb570-8"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="st">"area"</span> <span class="ot">=</span> area, <span class="st">"lado_1"</span> <span class="ot">=</span> lado_1, <span class="st">"lado_2"</span> <span class="ot">=</span> lado_2,</span>
<span id="cb570-9"><a href="#cb570-9"></a>           <span class="st">"tipo"</span> <span class="ot">=</span> <span class="fu">if_else</span>(lado_1 <span class="sc">==</span> lado_2, <span class="st">"cuadrado"</span>, <span class="st">"rectángulo"</span>)))</span>
<span id="cb570-10"><a href="#cb570-10"></a>  </span>
<span id="cb570-11"><a href="#cb570-11"></a>}</span>
<span id="cb570-12"><a href="#cb570-12"></a><span class="fu">calcular_area</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$area
[1] 15

$lado_1
[1] 5

$lado_2
[1] 3

$tipo
[1] "rectángulo"</code></pre>
</div>
</div>
</section>
<section id="orden-de-los-argumentos" class="slide level2">
<h2>Orden de los argumentos</h2>
<p>Antes nos daba igual el orden de los argumentos pero ahora el <span class="hl-yellow"><strong>orden de los argumentos de entrada importa</strong></span>, ya que en la salida incluimos <code>lado_1</code> y <code>lado_2</code>.</p>
<div class="fragment">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Recomendación</strong></p>
</div>
<div class="callout-content">
<p>Como se comentaba, altamente recomendable hacer la llamada a la función <span class="hl-yellow"><strong>indicando explícitamente los argumentos</strong></span> para mejorar <strong>legibilidad e interpretabilidad</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb572"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb572-1"><a href="#cb572-1"></a><span class="co"># Equivalente a calcular_area(5, 3)</span></span>
<span id="cb572-2"><a href="#cb572-2"></a><span class="fu">calcular_area</span>(<span class="at">lado_1 =</span> <span class="dv">5</span>, <span class="at">lado_2 =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$area
[1] 15

$lado_1
[1] 5

$lado_2
[1] 3

$tipo
[1] "rectángulo"</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="funciones-generando-conocimiento" class="slide level2">
<h2>Funciones: generando conocimiento</h2>
<p>Parece una tontería lo que hemos hecho pero hemos cruzado una frontera importante: hemos pasado de <span class="hl-yellow"><strong>consumir conocimiento</strong></span> (código de otros paquetes, elaborado por otros/as), a <span class="hl-purple"><strong>generar conocimiento</strong></span>, creando nuestras propias funciones.</p>
<div class="fragment">
<p>Las funciones van a ser claves en tu día a día ya que te permitirá automatizar código que vas a repetir una y otra vez: empaquetando ese código bajo un alias (nombre de la función) vas a <span class="hl-yellow"><strong>poder usarlo una y otra vez sin necesidad de programarlo (por lo que hacer el doble de trabajo no implicará trabajar el doble)</strong></span></p>
</div>
</section>
<section id="variables-locales-vs-globales" class="slide level2">
<h2>Variables locales vs globales</h2>
<p>Un aspecto importante sobre el que reflexionar con las funciones: ¿qué sucede si <span class="hl-yellow"><strong>nombramos a una variable dentro</strong></span> de una función a la que se nos ha <strong>olvidado asignar</strong> un valor dentro de la misma?</p>
<div class="fragment">
<p>Debemos ser cautos al usar funciones en <code>R</code>, ya que debido a la <span class="hl-yellow"><strong>«regla lexicográfica»</strong></span>, si una variable no se define dentro de la función, <code>R</code> <span class="hl-purple"><strong>buscará dicha variable en el entorno</strong></span> de variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb574"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb574-1"><a href="#cb574-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb574-2"><a href="#cb574-2"></a>funcion_ejemplo <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb574-3"><a href="#cb574-3"></a>    </span>
<span id="cb574-4"><a href="#cb574-4"></a>  <span class="fu">print</span>(x) <span class="co"># No devuelve nada, solo realiza la acción </span></span>
<span id="cb574-5"><a href="#cb574-5"></a>}</span>
<span id="cb574-6"><a href="#cb574-6"></a><span class="fu">funcion_ejemplo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</div>
</section>
<section id="variables-locales-vs-globales-1" class="slide level2">
<h2>Variables locales vs globales</h2>
<p>Si una variable <span class="hl-yellow"><strong>ya está definida fuera de la función (entorno global)</strong></span>, y además es usada dentro de cambiando su valor, el valor <span class="hl-yellow"><strong>solo cambia dentro</strong></span> pero <span class="hl-red"><strong>no en el entorno global</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb576"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb576-1"><a href="#cb576-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb576-2"><a href="#cb576-2"></a>funcion_ejemplo <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb576-3"><a href="#cb576-3"></a>    </span>
<span id="cb576-4"><a href="#cb576-4"></a>  x <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb576-5"><a href="#cb576-5"></a>  <span class="fu">print</span>(x) <span class="co"># lo que vale dentro</span></span>
<span id="cb576-6"><a href="#cb576-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb577"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb577-1"><a href="#cb577-1"></a><span class="co"># lo que vale dentro</span></span>
<span id="cb577-2"><a href="#cb577-2"></a><span class="fu">funcion_ejemplo</span>() <span class="co">#&lt;&lt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb579"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb579-1"><a href="#cb579-1"></a><span class="co"># lo que vale fuera</span></span>
<span id="cb579-2"><a href="#cb579-2"></a><span class="fu">print</span>(x) <span class="co">#&lt;&lt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</section>
<section id="variables-locales-vs-globales-2" class="slide level2">
<h2>Variables locales vs globales</h2>
<p>Si queremos que además de cambiar localmente lo haga <span class="hl-yellow"><strong>globalmente</strong></span> deberemos usar la <span class="hl-yellow"><strong>doble asignación</strong></span> (<code>&lt;&lt;-</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb581"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb581-1"><a href="#cb581-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb581-2"><a href="#cb581-2"></a>y <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb581-3"><a href="#cb581-3"></a>funcion_ejemplo <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb581-4"><a href="#cb581-4"></a>  </span>
<span id="cb581-5"><a href="#cb581-5"></a>  <span class="co"># no cambia globalmente, solo localmente</span></span>
<span id="cb581-6"><a href="#cb581-6"></a>  x <span class="ot">&lt;-</span> <span class="dv">3</span> </span>
<span id="cb581-7"><a href="#cb581-7"></a>  <span class="co"># cambia globalmente</span></span>
<span id="cb581-8"><a href="#cb581-8"></a>  y <span class="ot">&lt;&lt;-</span> <span class="dv">0</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb581-9"><a href="#cb581-9"></a>  </span>
<span id="cb581-10"><a href="#cb581-10"></a>  <span class="fu">print</span>(x)</span>
<span id="cb581-11"><a href="#cb581-11"></a>  <span class="fu">print</span>(y)</span>
<span id="cb581-12"><a href="#cb581-12"></a>}</span>
<span id="cb581-13"><a href="#cb581-13"></a></span>
<span id="cb581-14"><a href="#cb581-14"></a><span class="fu">funcion_ejemplo</span>() <span class="co"># lo que vale dentro</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3
[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb583"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb583-1"><a href="#cb583-1"></a>x <span class="co"># lo que vale fuera</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb585"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb585-1"><a href="#cb585-1"></a>y <span class="co"># lo que vale fuera</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
</section>
<section id="tu-turno-7" class="slide level2">
<h2>💻 Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-11" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-11-1"><span class="hl-yellow"><strong>Ej 1</strong></span></a></li><li><a href="#tabset-11-2"><span class="hl-yellow"><strong>Ej 2</strong></span></a></li><li><a href="#tabset-11-3"><span class="hl-yellow"><strong>Ej 3</strong></span></a></li><li><a href="#tabset-11-4"><span class="hl-yellow"><strong>Ej 4</strong></span></a></li><li><a href="#tabset-11-5"><span class="hl-yellow"><strong>Ej 5</strong></span></a></li><li><a href="#tabset-11-6"><span class="hl-yellow"><strong>Ej 6</strong></span></a></li><li><a href="#tabset-11-7"><span class="hl-yellow"><strong>Ej 7</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-11-1">
<p>📝 Modifica el código inferior para definir una función llamada <code>funcion_suma</code>, de forma que dados dos elementos, devuelve su suma.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb587"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb587-1"><a href="#cb587-1"></a>nombre <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb587-2"><a href="#cb587-2"></a>  suma <span class="ot">&lt;-</span> <span class="co"># código a ejecutar</span></span>
<span id="cb587-3"><a href="#cb587-3"></a>  <span class="fu">return</span>()</span>
<span id="cb587-4"><a href="#cb587-4"></a>}</span>
<span id="cb587-5"><a href="#cb587-5"></a><span class="co"># Aplicamos la función</span></span>
<span id="cb587-6"><a href="#cb587-6"></a><span class="fu">suma</span>(<span class="dv">3</span>, <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb588"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb588-1"><a href="#cb588-1"></a>funcion_suma <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb588-2"><a href="#cb588-2"></a>  suma <span class="ot">&lt;-</span> x <span class="sc">+</span> y</span>
<span id="cb588-3"><a href="#cb588-3"></a>  <span class="fu">return</span>(suma)</span>
<span id="cb588-4"><a href="#cb588-4"></a>}</span>
<span id="cb588-5"><a href="#cb588-5"></a><span class="fu">funcion_suma</span>(<span class="dv">3</span>, <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-11-2">
<p>📝 Modifica el código inferior para definir una función llamada <code>funcion_producto</code>, de forma que dados dos elementos, devuelve su producto, pero que por defecto calcule el cuadrado</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb589"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb589-1"><a href="#cb589-1"></a>nombre <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb589-2"><a href="#cb589-2"></a>  producto <span class="ot">&lt;-</span> <span class="co"># código de la multiplicación</span></span>
<span id="cb589-3"><a href="#cb589-3"></a>  <span class="fu">return</span>()</span>
<span id="cb589-4"><a href="#cb589-4"></a>}</span>
<span id="cb589-5"><a href="#cb589-5"></a><span class="fu">producto</span>(<span class="dv">3</span>)</span>
<span id="cb589-6"><a href="#cb589-6"></a><span class="fu">producto</span>(<span class="dv">3</span>, <span class="sc">-</span><span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb590"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb590-1"><a href="#cb590-1"></a>funcion_producto <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">y =</span> x) {</span>
<span id="cb590-2"><a href="#cb590-2"></a>  producto <span class="ot">&lt;-</span> x <span class="sc">*</span> y</span>
<span id="cb590-3"><a href="#cb590-3"></a>  <span class="fu">return</span>(producto)</span>
<span id="cb590-4"><a href="#cb590-4"></a>}</span>
<span id="cb590-5"><a href="#cb590-5"></a><span class="fu">funcion_producto</span>(<span class="dv">3</span>)</span>
<span id="cb590-6"><a href="#cb590-6"></a><span class="fu">funcion_producto</span>(<span class="dv">3</span>, <span class="sc">-</span><span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-11-3">
<p>📝 Define una función llamada <code>igualdad_nombres</code> que, dados dos nombres, nos diga si son iguales o no. Hazlo considerando importantes las mayúsculas, y sin que importen las mayúsculas. Usa el paquete <code>{stringr}</code>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb591"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb591-1"><a href="#cb591-1"></a><span class="co"># Distinguiendo mayúsculas</span></span>
<span id="cb591-2"><a href="#cb591-2"></a>igualdad_nombres <span class="ot">&lt;-</span> <span class="cf">function</span>(persona_1, persona_2) {</span>
<span id="cb591-3"><a href="#cb591-3"></a>  <span class="fu">return</span>(persona_1 <span class="sc">==</span> persona_2)</span>
<span id="cb591-4"><a href="#cb591-4"></a>}</span>
<span id="cb591-5"><a href="#cb591-5"></a><span class="fu">igualdad_nombres</span>(<span class="st">"Javi"</span>, <span class="st">"javi"</span>)</span>
<span id="cb591-6"><a href="#cb591-6"></a><span class="fu">igualdad_nombres</span>(<span class="st">"Javi"</span>, <span class="st">"Lucía"</span>)</span>
<span id="cb591-7"><a href="#cb591-7"></a></span>
<span id="cb591-8"><a href="#cb591-8"></a><span class="co"># Sin importar mayúsculas</span></span>
<span id="cb591-9"><a href="#cb591-9"></a>igualdad_nombres <span class="ot">&lt;-</span> <span class="cf">function</span>(persona_1, persona_2) {</span>
<span id="cb591-10"><a href="#cb591-10"></a>  <span class="fu">return</span>(<span class="fu">toupper</span>(persona_1) <span class="sc">==</span> <span class="fu">toupper</span>(persona_2))</span>
<span id="cb591-11"><a href="#cb591-11"></a>}</span>
<span id="cb591-12"><a href="#cb591-12"></a><span class="fu">igualdad_nombres</span>(<span class="st">"Javi"</span>, <span class="st">"javi"</span>)</span>
<span id="cb591-13"><a href="#cb591-13"></a><span class="fu">igualdad_nombres</span>(<span class="st">"Javi"</span>, <span class="st">"Lucía"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-11-4">
<p>📝 Crea una función llamada <code>calculo_IMC</code> que, dados dos argumentos (peso y estatura en metros) y un nombre, devuelva una lista con el IMC (<span class="math inline">\(peso/(estatura_m^2)\)</span>) y el nombre.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb592"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb592-1"><a href="#cb592-1"></a>calculo_IMC <span class="ot">&lt;-</span> <span class="cf">function</span>(nombre, peso, estatura) {</span>
<span id="cb592-2"><a href="#cb592-2"></a>  </span>
<span id="cb592-3"><a href="#cb592-3"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="st">"nombre"</span> <span class="ot">=</span> nombre, <span class="st">"IMC"</span> <span class="ot">=</span> peso<span class="sc">/</span>(estatura<span class="sc">^</span><span class="dv">2</span>)))</span>
<span id="cb592-4"><a href="#cb592-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-11-5">
<p>📝 Repite el ejercicio anterior pero con otro argumento opcional que se llame unidades (por defecto, <code>unidades = "metros"</code>). Desarrolla la función de forma que haga lo correcto si <code>unidades = "metros"</code> y si <code>unidades = "centímetros"</code>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb593"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb593-1"><a href="#cb593-1"></a>calculo_IMC <span class="ot">&lt;-</span> <span class="cf">function</span>(nombre, peso, estatura, <span class="at">unidades =</span> <span class="st">"metros"</span>) {</span>
<span id="cb593-2"><a href="#cb593-2"></a>  </span>
<span id="cb593-3"><a href="#cb593-3"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="st">"nombre"</span> <span class="ot">=</span> nombre,</span>
<span id="cb593-4"><a href="#cb593-4"></a>              <span class="st">"IMC"</span> <span class="ot">=</span> peso<span class="sc">/</span>(<span class="fu">if_else</span>(unidades <span class="sc">==</span> <span class="st">"metros"</span>, estatura, estatura<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>)))</span>
<span id="cb593-5"><a href="#cb593-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-11-6">
<p>📝 Crea un tibble ficticio de 7 personas, con tres variables (inventa nombre, y simula peso, estatura en centímetros), y aplica la función definida de forma que obtengamos una cuarta columna con su IMC.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb594"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb594-1"><a href="#cb594-1"></a>datos <span class="ot">&lt;-</span></span>
<span id="cb594-2"><a href="#cb594-2"></a>  <span class="fu">tibble</span>(<span class="st">"nombres"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"javi"</span>, <span class="st">"sandra"</span>, <span class="st">"laura"</span>,</span>
<span id="cb594-3"><a href="#cb594-3"></a>                       <span class="st">"ana"</span>, <span class="st">"carlos"</span>, <span class="st">"leo"</span>, <span class="cn">NA</span>),</span>
<span id="cb594-4"><a href="#cb594-4"></a>         <span class="st">"peso"</span> <span class="ot">=</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">7</span>, <span class="at">mean =</span> <span class="dv">70</span>, <span class="at">sd =</span> <span class="dv">1</span>),</span>
<span id="cb594-5"><a href="#cb594-5"></a>         <span class="st">"estatura"</span> <span class="ot">=</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">7</span>, <span class="at">mean =</span> <span class="dv">168</span>, <span class="at">sd =</span> <span class="dv">5</span>))</span>
<span id="cb594-6"><a href="#cb594-6"></a></span>
<span id="cb594-7"><a href="#cb594-7"></a>datos <span class="sc">|&gt;</span> </span>
<span id="cb594-8"><a href="#cb594-8"></a>  <span class="fu">mutate</span>(<span class="at">IMC =</span> <span class="fu">calculo_IMC</span>(nombres, peso, estatura, <span class="at">unidades =</span> <span class="st">"centímetros"</span>)<span class="sc">$</span>IMC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-11-7">
<p>📝 Crea una función llamada <code>atajo</code> que tenga dos argumentos numéricos <code>x</code> e <code>y</code>. Si ambos son iguales, debes devolver <code>"iguales"</code> y hacer que la función acaba automáticamente (piensa cuándo una función sale). OJO: <code>x</code> e <code>y</code> podrían ser vectores. Si son distintos (de igual de longitud) calcula la proporción de elementos diferentes. Si son distintos (por ser distinta longitud), devuelve los elementos que no sean comunes.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb595"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb595-1"><a href="#cb595-1"></a>atajo <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb595-2"><a href="#cb595-2"></a>  </span>
<span id="cb595-3"><a href="#cb595-3"></a>  <span class="cf">if</span> (<span class="fu">all</span>(x <span class="sc">==</span> y) <span class="sc">&amp;</span> <span class="fu">length</span>(x) <span class="sc">==</span> <span class="fu">length</span>(y)) { <span class="fu">return</span>(<span class="st">"iguales"</span>) }</span>
<span id="cb595-4"><a href="#cb595-4"></a>  <span class="cf">else</span> {</span>
<span id="cb595-5"><a href="#cb595-5"></a>   </span>
<span id="cb595-6"><a href="#cb595-6"></a>    <span class="cf">if</span> (<span class="fu">length</span>(x) <span class="sc">==</span> <span class="fu">length</span>(y)) {</span>
<span id="cb595-7"><a href="#cb595-7"></a>      </span>
<span id="cb595-8"><a href="#cb595-8"></a>      n_diff <span class="ot">&lt;-</span> <span class="fu">sum</span>(x <span class="sc">!=</span> y) <span class="sc">/</span> <span class="fu">length</span>(x)</span>
<span id="cb595-9"><a href="#cb595-9"></a>      <span class="fu">return</span>(n_diff)</span>
<span id="cb595-10"><a href="#cb595-10"></a>      </span>
<span id="cb595-11"><a href="#cb595-11"></a>    } <span class="cf">else</span> {</span>
<span id="cb595-12"><a href="#cb595-12"></a>      </span>
<span id="cb595-13"><a href="#cb595-13"></a>      diff_elem <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">c</span>(<span class="fu">setdiff</span>(x, y), <span class="fu">setdiff</span>(y, x)))</span>
<span id="cb595-14"><a href="#cb595-14"></a>      <span class="fu">return</span>(diff_elem)</span>
<span id="cb595-15"><a href="#cb595-15"></a>    }</span>
<span id="cb595-16"><a href="#cb595-16"></a>    </span>
<span id="cb595-17"><a href="#cb595-17"></a>  }</span>
<span id="cb595-18"><a href="#cb595-18"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="caso-practico-7" class="slide level2">
<h2>🐣 Caso práctico</h2>
<p>Para practicar con funciones vamos a crear un completo <strong>conversor de temperaturas</strong> que, dada una temperatura en Fahrenheit, Celsius o Kelvin, la convierta a cualquiera de las otras</p>
<p>Intenta responder a las preguntas planteadas en el <a href="https://javieralvarezliebana.quarto.pub/funciones-en-r/"><strong>workbook</strong></a> hasta construirlo.</p>
</section></section>
<section>
<section id="clase-8" class="title-slide slide level1 center">
<h1>Clase 8: <span class="flow">tidydata</span></h1>
<p><span style="color:#444442;"><strong>Nuestra base de datos: tibble. Tidydata: un multiverso de datos limpios</strong></span></p>
</section>
<section id="previously-in-breaking-bad" class="slide level2">
<h2>Previously, in Breaking Bad…</h2>
<p>Nuestro <span class="hl-yellow"><strong>formato final de base de datos</strong></span> será el objeto de tipo <code>tibble</code>, un <code>data.frame</code> mejorado</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb596"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb596-1"><a href="#cb596-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb596-2"><a href="#cb596-2"></a><span class="fu">tibble</span>(<span class="st">"estatura"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">1.7</span>, <span class="fl">1.8</span>, <span class="fl">1.6</span>), <span class="st">"peso"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">75</span>, <span class="dv">70</span>), <span class="st">"IMC"</span> <span class="ot">=</span> peso <span class="sc">/</span> (estatura<span class="sc">^</span><span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  estatura  peso   IMC
     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1      1.7    80  27.7
2      1.8    75  23.1
3      1.6    70  27.3</code></pre>
</div>
</div>
<ul>
<li><p><span class="hl-yellow"><strong>Metainformación</strong></span>: en la cabecera nos dice ya automáticamente el número de filas y columnas, y el tipo de cada variable</p></li>
<li><p><span class="hl-yellow"><strong>Recursividad</strong></span>: permite definir las variables secuencialmente (como hemos visto)</p></li>
<li><p><span class="hl-yellow"><strong>Consistencia</strong></span>: si accedes a una columna que no existe avisa con un warning</p></li>
<li><p><span class="hl-yellow"><strong>Por filas</strong></span>: permite crear por filas con <code>tribble()</code></p></li>
</ul>
</section>
<section id="previously-in-breaking-bad-1" class="slide level2">
<h2>Previously, in Breaking Bad…</h2>
<p>Para definir un <code>tibble()</code> nosotro mismos tenemos dos opciones:</p>
<ul>
<li><span class="hl-yellow"><strong>Concatenando vectores</strong></span> que ya tengamos definidos, haciendo uso de la función <code>tibble()</code> del paquete <code>{tibble}</code> (ya incluido en <code>{tidyverse}</code>)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb598"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb598-1"><a href="#cb598-1"></a>estatura <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.7</span>, <span class="fl">1.8</span>, <span class="fl">1.6</span>)</span>
<span id="cb598-2"><a href="#cb598-2"></a>peso <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">75</span>, <span class="dv">70</span>)</span>
<span id="cb598-3"><a href="#cb598-3"></a>IMC <span class="ot">&lt;-</span>  peso <span class="sc">/</span> (estatura<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb598-4"><a href="#cb598-4"></a><span class="fu">tibble</span>(<span class="st">"estatura"</span> <span class="ot">=</span> estatura, <span class="st">"peso"</span> <span class="ot">=</span> peso,</span>
<span id="cb598-5"><a href="#cb598-5"></a>       <span class="st">"IMC"</span> <span class="ot">=</span> IMC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  estatura  peso   IMC
     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1      1.7    80  27.7
2      1.8    75  23.1
3      1.6    70  27.3</code></pre>
</div>
</div>
</section>
<section id="previously-in-breaking-bad-2" class="slide level2">
<h2>Previously, in Breaking Bad…</h2>
<ul>
<li><span class="hl-yellow"><strong>Directamente en tibble</strong></span> proporcionando manualmente valores y nombres de variables</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb600"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb600-1"><a href="#cb600-1"></a><span class="fu">tibble</span>(<span class="st">"estatura"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">1.7</span>, <span class="fl">1.8</span>, <span class="fl">1.6</span>),</span>
<span id="cb600-2"><a href="#cb600-2"></a>       <span class="st">"peso"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">75</span>, <span class="dv">70</span>),</span>
<span id="cb600-3"><a href="#cb600-3"></a>       <span class="st">"IMC"</span> <span class="ot">=</span> peso <span class="sc">/</span> (estatura<span class="sc">^</span><span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  estatura  peso   IMC
     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1      1.7    80  27.7
2      1.8    75  23.1
3      1.6    70  27.3</code></pre>
</div>
</div>
</section>
<section id="r-base-vs-tidyverse" class="slide level2">
<h2>R base vs Tidyverse</h2>
<p>Hasta ahora todo lo que hemos hecho en <code>R</code> lo hemos realizado en el paradigma de programación conocido como <span class="hl-yellow"><strong>R base</strong></span>. Y es que cuando <code>R</code> nació como lenguaje, muchos de los que programaban en él imitaron formas y metodologías heredadas de otros lenguajes, basado en el uso de</p>
<ul>
<li><p>Bucles <span class="hl-yellow"><strong>for</strong></span></p></li>
<li><p>Bucles <span class="hl-yellow"><strong>while</strong></span></p></li>
<li><p>Estructuras <span class="hl-yellow"><strong>if-else</strong></span></p></li>
</ul>
<p>Y aunque conocer dichas estructuras puede sernos en algunos casos interesantes, en la <span class="hl-red"><strong>mayoría de ocasiones han quedado caducas y vamos a poder evitarlas</strong></span> (en especial los bucles) ya que <code>R</code> está especialmente <span class="hl-yellow"><strong>diseñado para trabajar de manera funcional</strong></span> (en lugar de elemento a elemento).</p>
</section>
<section id="qué-es-tidyverse" class="slide level2">
<h2>¿Qué es tidyverse?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/tidyverrse_universe.jpg"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="img/flow_tidyverse.jpg"></p>
</div>
</div>
<p>En ese contexto de programación funcional, hace una década nacía <code>{tidyverse}</code>, un <span class="hl-yellow"><strong>«universo» de paquetes</strong></span> para garantizar un flujo de trabajo eficiente, coherente y lexicográficamente sencillo de entender, basado en la idea de que <span class="hl-purple"><strong>nuestros datos están limpios y ordenados (tidy)</strong></span></p>
</section>
<section id="qué-es-tidyverse-1" class="slide level2">
<h2>¿Qué es tidyverse?</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p><img data-src="img/tidyverrse_universe.jpg"></p>
<ul>
<li><code>{lubridate}</code> manejo de fechas</li>
<li><code>{rvest}</code>: web scraping</li>
<li><code>{tidymodels}</code>: modelización/predicción</li>
</ul>
</div><div class="column" style="width:55%;">
<ul>
<li><code>{tibble}</code>: optimizando data.frame</li>
<li><code>{tidyr}</code>: limpieza de datos</li>
<li><code>{readr}</code>: carga datos rectangulares (.csv), <code>{readxl}</code> para importar archivos .xls y .xlsx</li>
<li><code>{dplyr}</code>: gramática para depurar</li>
<li><code>{stringr}</code>: manejo de textos</li>
<li><code>{purrr}</code>: manejo de listas</li>
<li><code>{forcats}</code>: manejo de cualitativas</li>
<li><code>{ggplot2}</code>: visualización de datos</li>
</ul>
</div>
</div>
</section>
<section id="qué-es-tidyverse-2" class="slide level2">
<h2>¿Qué es tidyverse?</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p><img data-src="img/tidyverrse_universe.jpg"></p>
<ul>
<li><code>{lubridate}</code> manejo de fechas</li>
<li><code>{rvest}</code>: web scraping</li>
<li><code>{tidymodels}</code>: modelización/predicción</li>
</ul>
</div><div class="column" style="width:55%;">
<ul>
<li><code>{tibble}</code>: <span class="hl-yellow"><strong>optimizando data.frame</strong></span></li>
<li><code>{tidyr}</code>: <span class="hl-yellow"><strong>limpieza de datos</strong></span></li>
<li><code>{readr}</code>: carga datos rectangulares (.csv), <code>{readxl}</code> para importar archivos .xls y .xlsx</li>
<li><code>{dplyr}</code>: gramática para depurar</li>
<li><code>{stringr}</code>: manejo de textos</li>
<li><code>{purrr}</code>: manejo de listas</li>
<li><code>{forcats}</code>: manejo de cualitativas</li>
<li><code>{ggplot2}</code>: visualización de datos</li>
</ul>
</div>
</div>
</section>
<section id="filosofía-base-tidy-data" class="slide level2">
<h2>Filosofía base: tidy data</h2>
<blockquote>
<p>Tidy datasets are all alike, but every messy dataset is messy in its own way (Hadley Wickham, Chief Scientist en RStudio)</p>
</blockquote>
<div style="font-size:120px; text-align: center; color:#F8DF58;">
<p><b>TIDY</b><b><span style="color:#CAB0EE;">VERSE</span></b></p>
</div>
<p>El <span class="hl-purple"><strong>universo</strong></span> de paquetes <code>{tidyverse}</code> se basa en la idea introducida por <strong>Hadley Wickham</strong> (el Dios al que rezamos) de <span class="hl-yellow"><strong>estandarizar</strong></span> el formato de los datos para</p>
<div>
<ul>
<li class="fragment"><span class="hl-green"><strong>sistematizar</strong></span> la depuración</li>
<li class="fragment">hacer más <span class="hl-green"><strong>sencillo</strong></span> su manipulación.</li>
<li class="fragment">código <span class="hl-green"><strong>legible</strong></span></li>
</ul>
</div>
</section>
<section id="reglas-del-tidy-data" class="slide level2">
<h2>Reglas del tidy data</h2>
<p>Lo primero por tanto será entender qué son los <span class="hl-yellow"><strong>conjuntos tidydata</strong></span> ya que todo <code>{tidyverse}</code> se basa en que los datos están estandarizados.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="fragment fade-in">
<ol type="1">
<li>Cada <span class="hl-yellow"><strong>variable</strong></span> en una <span class="hl-purple"><strong>única columna</strong></span></li>
</ol>
</div>
<div class="fragment fade-in">
<ol start="2" type="1">
<li>Cada <span class="hl-yellow"><strong>individuo</strong></span> en una <span class="hl-purple"><strong>fila diferente</strong></span></li>
</ol>
</div>
<div class="fragment fade-in">
<ol start="3" type="1">
<li>Cada <span class="hl-yellow"><strong>celda</strong></span> con un <span class="hl-purple"><strong>único valor</strong></span></li>
</ol>
</div>
<div class="fragment fade-in">
<ol start="4" type="1">
<li>Cada <span class="hl-yellow"><strong>dataset</strong></span> en un <span class="hl-purple"><strong>tibble</strong></span></li>
</ol>
</div>
<div class="fragment fade-in">
<ol start="5" type="1">
<li>Si queremos cruzar <span class="hl-yellow"><strong>múltiples tablas</strong></span> debemos tener una <span class="hl-purple"><strong>columna común</strong></span></li>
</ol>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="img/tidy_def.jpg" style="width:160.0%"></p>
</div>
</div>
</section>
<section id="tubería-pipe" class="slide level2">
<h2>Tubería (pipe)</h2>
<p>En <code>{tidyverse}</code> será clave el <span class="hl-yellow"><strong>operador pipe (tubería)</strong></span> definido como <code>|&gt;</code> (<span class="hl-purple"><strong>ctrl+shift+M</strong></span>): será una <span class="hl-yellow"><strong>tubería que recorre los datos</strong></span> y los transforma.</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<p>En R base, si queremos aplicar tres funciones <code>first()</code>, <code>second()</code> y <code>third()</code> en orden, sería</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb602"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb602-1"><a href="#cb602-1"></a><span class="fu">third</span>(<span class="fu">second</span>(<span class="fu">first</span>(datos)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<p>En <code>{tidyverse}</code> podremos <span class="hl-yellow"><strong>leer de izquierda a derecha</strong></span> y separar los datos de las acciones</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb603"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb603-1"><a href="#cb603-1"></a>datos <span class="sc">|&gt;</span> <span class="fu">first</span>() <span class="sc">|&gt;</span> <span class="fu">second</span>() <span class="sc">|&gt;</span> <span class="fu">third</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-caution callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Apunte importante</strong></p>
</div>
<div class="callout-content">
<p>Desde la versión 4.1.0 de <code>R</code> disponemos de <code>|&gt;</code>, un pipe <strong>nativo</strong> disponible <span class="hl-purple"><strong>fuera de tidyverse</strong></span>, sustituyendo al <span class="hl-red"><strong>antiguo pipe</strong></span> <code>%&gt;%</code> que dependía del paquete <code>{magrittr}</code> (bastante problemático).</p>
</div>
</div>
</div>
</div>
</section>
<section id="tubería-pipe-1" class="slide level2">
<h2>Tubería (pipe)</h2>
<p>La principal ventaja es que el <span class="hl-yellow"><strong>código sea muy legible (casi literal)</strong></span> pudiendo hacer grandes operaciones con los datos con apenas código.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb604"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb604-1"><a href="#cb604-1"></a>datos <span class="sc">|&gt;</span></span>
<span id="cb604-2"><a href="#cb604-2"></a>  <span class="fu">limpio</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb604-3"><a href="#cb604-3"></a>  <span class="fu">filtro</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb604-4"><a href="#cb604-4"></a>  <span class="fu">selecciono</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb604-5"><a href="#cb604-5"></a>  <span class="fu">ordeno</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb604-6"><a href="#cb604-6"></a>  <span class="fu">modifico</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb604-7"><a href="#cb604-7"></a>  <span class="fu">renombro</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb604-8"><a href="#cb604-8"></a>  <span class="fu">agrupo</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb604-9"><a href="#cb604-9"></a>  <span class="fu">cuento</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb604-10"><a href="#cb604-10"></a>  <span class="fu">resumo</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb604-11"><a href="#cb604-11"></a>  <span class="fu">pinto</span>(...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<center>
<img src="img/logo_pipe.png" width="360px">
</center>
</div>
</div>
</section>
<section id="datos-sucios-messy-data" class="slide level2">
<h2>Datos SUCIOS: messy data</h2>
<p>¿Pero qué aspecto tienen los <span class="hl-yellow"><strong>datos no tidy</strong></span>? Vamos a cargar la tabla <code>table4a</code> del paquete <code>{tidyr}</code> (ya lo tenemos cargado del entorno tidyverse).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb605"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb605-1"><a href="#cb605-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb605-2"><a href="#cb605-2"></a>table4a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  country     `1999` `2000`
  &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;
1 Afghanistan    745   2666
2 Brazil       37737  80488
3 China       212258 213766</code></pre>
</div>
</div>
<p><span class="hl-red"><strong>¿Qué puede estar fallando?</strong></span></p>
</section>
<section id="pivotar-pivot_longer" class="slide level2">
<h2>Pivotar: pivot_longer()</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb607"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb607-1"><a href="#cb607-1"></a>table4a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  country     `1999` `2000`
  &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;
1 Afghanistan    745   2666
2 Brazil       37737  80488
3 China       212258 213766</code></pre>
</div>
</div>
</div><div class="column" style="width:60%;">
<p>❎ Cada <span class="hl-red"><strong>fila representa dos observaciones</strong></span> (1999 y 2000) → las columnas <code>1999</code> y <code>2000</code> en realidad deberían ser en sí <span class="hl-yellow"><strong>valores de una variable</strong></span> y no nombres de columnas.</p>
</div>
</div>
<div class="fragment">
<p>Incluiremos una <span class="hl-yellow"><strong>nueva columna</strong></span> que nos guarde el año y otra que guarde el valor de la variable de interés en cada uno de esos años. Y lo haremos con la función <code>pivot_longer()</code>: <span class="hl-yellow"><strong>pivotaremos la tabla</strong></span> a formato long:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb609"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb609-1"><a href="#cb609-1"></a>table4a <span class="sc">|&gt;</span> </span>
<span id="cb609-2"><a href="#cb609-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"1999"</span>, <span class="st">"2000"</span>), <span class="at">names_to =</span> <span class="st">"year"</span>, <span class="at">values_to =</span> <span class="st">"cases"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  country     year   cases
  &lt;chr&gt;       &lt;chr&gt;  &lt;dbl&gt;
1 Afghanistan 1999     745
2 Afghanistan 2000    2666
3 Brazil      1999   37737
4 Brazil      2000   80488
5 China       1999  212258
6 China       2000  213766</code></pre>
</div>
</div>
</div>
</section>
<section id="pivotar-pivot_longer-1" class="slide level2">
<h2>Pivotar: pivot_longer()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb611"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb611-1"><a href="#cb611-1"></a>table4a <span class="sc">|&gt;</span> </span>
<span id="cb611-2"><a href="#cb611-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"1999"</span>, <span class="st">"2000"</span>),</span>
<span id="cb611-3"><a href="#cb611-3"></a>               <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb611-4"><a href="#cb611-4"></a>               <span class="at">values_to =</span> <span class="st">"cases"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  country     year   cases
  &lt;chr&gt;       &lt;chr&gt;  &lt;dbl&gt;
1 Afghanistan 1999     745
2 Afghanistan 2000    2666
3 Brazil      1999   37737
4 Brazil      2000   80488
5 China       1999  212258
6 China       2000  213766</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="img/table4a.jpg"></p>
</div>
</div>
<ul>
<li><code>cols</code>: <span class="hl-yellow"><strong>nombre de las variables a pivotar</strong></span></li>
<li><code>names_to</code>: nombre de la nueva variable a la quemandamos la <span class="hl-yellow"><strong>cabecera</strong></span> de la tabla (los nombres).</li>
<li><code>values_to</code>: nombre de la nueva variable a la que vamos a mandar los <span class="hl-yellow"><strong>datos</strong></span>.</li>
</ul>
</section>
<section id="datos-sucios-messy-data-1" class="slide level2">
<h2>Datos SUCIOS: messy data</h2>
<p>Veamos otro ejemplo con la tabla <code>table2</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb613"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb613-1"><a href="#cb613-1"></a>table2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 4
   country      year type            count
   &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;
 1 Afghanistan  1999 cases             745
 2 Afghanistan  1999 population   19987071
 3 Afghanistan  2000 cases            2666
 4 Afghanistan  2000 population   20595360
 5 Brazil       1999 cases           37737
 6 Brazil       1999 population  172006362
 7 Brazil       2000 cases           80488
 8 Brazil       2000 population  174504898
 9 China        1999 cases          212258
10 China        1999 population 1272915272
11 China        2000 cases          213766
12 China        2000 population 1280428583</code></pre>
</div>
</div>
<p><span class="hl-red"><strong>¿Qué puede estar fallando?</strong></span></p>
</section>
<section id="pivotar-pivot_wider" class="slide level2">
<h2>Pivotar: pivot_wider()</h2>
<div class="columns">
<div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 4
   country      year type            count
   &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;
 1 Afghanistan  1999 cases             745
 2 Afghanistan  1999 population   19987071
 3 Afghanistan  2000 cases            2666
 4 Afghanistan  2000 population   20595360
 5 Brazil       1999 cases           37737
 6 Brazil       1999 population  172006362
 7 Brazil       2000 cases           80488
 8 Brazil       2000 population  174504898
 9 China        1999 cases          212258
10 China        1999 population 1272915272
11 China        2000 cases          213766
12 China        2000 population 1280428583</code></pre>
</div>
</div>
</div><div class="column" style="width:40%;">
<p>❎ Cada <span class="hl-red"><strong>observación está dividido en dos filas</strong></span> → los <span class="hl-yellow"><strong>registros con el mismo año deberían ser el mismo</strong></span></p>
</div>
</div>
<div class="fragment">
<p>Lo que haremos será lo opuesto: con <code>pivot_wider()</code> <span class="hl-yellow"><strong>ensancharemos la tabla</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb616"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb616-1"><a href="#cb616-1"></a>table2 <span class="sc">|&gt;</span>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> type, <span class="at">values_from =</span> count)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  country      year  cases population
  &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;
1 Afghanistan  1999    745   19987071
2 Afghanistan  2000   2666   20595360
3 Brazil       1999  37737  172006362
4 Brazil       2000  80488  174504898
5 China        1999 212258 1272915272
6 China        2000 213766 1280428583</code></pre>
</div>
</div>
</div>
</section>
<section id="datos-sucios-messy-data-2" class="slide level2">
<h2>Datos SUCIOS: messy data</h2>
<p>Veamos otro ejemplo con la tabla <code>table3</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb618"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb618-1"><a href="#cb618-1"></a>table3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  country      year rate             
  &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;            
1 Afghanistan  1999 745/19987071     
2 Afghanistan  2000 2666/20595360    
3 Brazil       1999 37737/172006362  
4 Brazil       2000 80488/174504898  
5 China        1999 212258/1272915272
6 China        2000 213766/1280428583</code></pre>
</div>
</div>
<p><span class="hl-red"><strong>¿Qué puede estar fallando?</strong></span></p>
</section>
<section id="separar-separate" class="slide level2">
<h2>Separar: separate()</h2>
<div class="columns">
<div class="column" style="width:60%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb620"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb620-1"><a href="#cb620-1"></a>table3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  country      year rate             
  &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;            
1 Afghanistan  1999 745/19987071     
2 Afghanistan  2000 2666/20595360    
3 Brazil       1999 37737/172006362  
4 Brazil       2000 80488/174504898  
5 China        1999 212258/1272915272
6 China        2000 213766/1280428583</code></pre>
</div>
</div>
</div><div class="column" style="width:40%;">
<p>❎ Cada <span class="hl-red"><strong>celda contiene varios valores</strong></span></p>
</div>
</div>
<div class="fragment">
<p>Lo que haremos será hacer uso de la función <code>separate()</code> para mandar <span class="hl-yellow"><strong>separar cada valor</strong></span> a una columna diferente.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb622"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb622-1"><a href="#cb622-1"></a>table3 <span class="sc">|&gt;</span> <span class="fu">separate</span>(rate, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"cases"</span>, <span class="st">"pop"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  country      year cases  pop       
  &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;     
1 Afghanistan  1999 745    19987071  
2 Afghanistan  2000 2666   20595360  
3 Brazil       1999 37737  172006362 
4 Brazil       2000 80488  174504898 
5 China        1999 212258 1272915272
6 China        2000 213766 1280428583</code></pre>
</div>
</div>
</div>
</section>
<section id="separar-separate-1" class="slide level2">
<h2>Separar: separate()</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb624"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb624-1"><a href="#cb624-1"></a>table3 <span class="sc">|&gt;</span> <span class="fu">separate</span>(rate, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"cases"</span>, <span class="st">"pop"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  country      year cases  pop       
  &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;     
1 Afghanistan  1999 745    19987071  
2 Afghanistan  2000 2666   20595360  
3 Brazil       1999 37737  172006362 
4 Brazil       2000 80488  174504898 
5 China        1999 212258 1272915272
6 China        2000 213766 1280428583</code></pre>
</div>
</div>
<p>Fíjate que los datos, aunque los ha separado, <span class="hl-red"><strong>los ha mantenido como texto</strong></span> cuando en realidad deberían ser variables numéricas. Para ello podemos añadir el argumento opcional <code>convert = TRUE</code></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb626"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb626-1"><a href="#cb626-1"></a>table3 <span class="sc">|&gt;</span> <span class="fu">separate</span>(rate, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"cases"</span>, <span class="st">"pop"</span>), <span class="at">convert =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  country      year  cases        pop
  &lt;chr&gt;       &lt;dbl&gt;  &lt;int&gt;      &lt;int&gt;
1 Afghanistan  1999    745   19987071
2 Afghanistan  2000   2666   20595360
3 Brazil       1999  37737  172006362
4 Brazil       2000  80488  174504898
5 China        1999 212258 1272915272
6 China        2000 213766 1280428583</code></pre>
</div>
</div>
</div>
</section>
<section id="datos-sucios-messy-data-3" class="slide level2">
<h2>Datos SUCIOS: messy data</h2>
<p>Veamos el último ejemplo con la tabla <code>table5</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb628"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb628-1"><a href="#cb628-1"></a>table5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  country     century year  rate             
  &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;            
1 Afghanistan 19      99    745/19987071     
2 Afghanistan 20      00    2666/20595360    
3 Brazil      19      99    37737/172006362  
4 Brazil      20      00    80488/174504898  
5 China       19      99    212258/1272915272
6 China       20      00    213766/1280428583</code></pre>
</div>
</div>
<p><span class="hl-red"><strong>¿Qué puede estar fallando?</strong></span></p>
</section>
<section id="unir-unite" class="slide level2">
<h2>Unir unite()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb630"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb630-1"><a href="#cb630-1"></a>table5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  country     century year  rate             
  &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;            
1 Afghanistan 19      99    745/19987071     
2 Afghanistan 20      00    2666/20595360    
3 Brazil      19      99    37737/172006362  
4 Brazil      20      00    80488/174504898  
5 China       19      99    212258/1272915272
6 China       20      00    213766/1280428583</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>❎ Tenemos <span class="hl-red"><strong>mismos valores divididos en dos columnas</strong></span></p>
</div>
</div>
<div class="fragment">
<p>Usaremos <code>unite()</code> para <span class="hl-yellow"><strong>unir los valores</strong></span> de siglo y año en una misma columna</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb632"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb632-1"><a href="#cb632-1"></a>table5 <span class="sc">|&gt;</span> <span class="fu">unite</span>(<span class="at">col =</span> year_completo, century, year, <span class="at">sep =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  country     year_completo rate             
  &lt;chr&gt;       &lt;chr&gt;         &lt;chr&gt;            
1 Afghanistan 1999          745/19987071     
2 Afghanistan 2000          2666/20595360    
3 Brazil      1999          37737/172006362  
4 Brazil      2000          80488/174504898  
5 China       1999          212258/1272915272
6 China       2000          213766/1280428583</code></pre>
</div>
</div>
</div>
</section>
<section id="ejemplo-relig_income" class="slide level2">
<h2>Ejemplo: relig_income</h2>
<p>Vamos a realizar un ejemplo juntos con la tabla <code>relig_income</code> del paquete <code>{tidyr}</code>. Como se indica en la ayuda <code>? relig_income</code>, la tabla representa la cantidad de personas que hay en cada tramo de ingresos anuales (20k = 20 000$) y en cada religión.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb634"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb634-1"><a href="#cb634-1"></a>relig_income</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 18 × 11
   religion `&lt;$10k` `$10-20k` `$20-30k` `$30-40k` `$40-50k` `$50-75k` `$75-100k`
   &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
 1 Agnostic      27        34        60        81        76       137        122
 2 Atheist       12        27        37        52        35        70         73
 3 Buddhist      27        21        30        34        33        58         62
 4 Catholic     418       617       732       670       638      1116        949
 5 Don’t k…      15        14        15        11        10        35         21
 6 Evangel…     575       869      1064       982       881      1486        949
 7 Hindu          1         9         7         9        11        34         47
 8 Histori…     228       244       236       238       197       223        131
 9 Jehovah…      20        27        24        24        21        30         15
10 Jewish        19        19        25        25        30        95         69
11 Mainlin…     289       495       619       655       651      1107        939
12 Mormon        29        40        48        51        56       112         85
13 Muslim         6         7         9        10         9        23         16
14 Orthodox      13        17        23        32        32        47         38
15 Other C…       9         7        11        13        13        14         18
16 Other F…      20        33        40        46        49        63         46
17 Other W…       5         2         3         4         2         7          3
18 Unaffil…     217       299       374       365       341       528        407
# ℹ 3 more variables: `$100-150k` &lt;dbl&gt;, `&gt;150k` &lt;dbl&gt;,
#   `Don't know/refused` &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="ejemplo-relig_income-1" class="slide level2">
<h2>Ejemplo: relig_income</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb636"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb636-1"><a href="#cb636-1"></a>relig_income</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 18 × 11
   religion `&lt;$10k` `$10-20k` `$20-30k` `$30-40k` `$40-50k` `$50-75k` `$75-100k`
   &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
 1 Agnostic      27        34        60        81        76       137        122
 2 Atheist       12        27        37        52        35        70         73
 3 Buddhist      27        21        30        34        33        58         62
 4 Catholic     418       617       732       670       638      1116        949
 5 Don’t k…      15        14        15        11        10        35         21
 6 Evangel…     575       869      1064       982       881      1486        949
 7 Hindu          1         9         7         9        11        34         47
 8 Histori…     228       244       236       238       197       223        131
 9 Jehovah…      20        27        24        24        21        30         15
10 Jewish        19        19        25        25        30        95         69
11 Mainlin…     289       495       619       655       651      1107        939
12 Mormon        29        40        48        51        56       112         85
13 Muslim         6         7         9        10         9        23         16
14 Orthodox      13        17        23        32        32        47         38
15 Other C…       9         7        11        13        13        14         18
16 Other F…      20        33        40        46        49        63         46
17 Other W…       5         2         3         4         2         7          3
18 Unaffil…     217       299       374       365       341       528        407
# ℹ 3 more variables: `$100-150k` &lt;dbl&gt;, `&gt;150k` &lt;dbl&gt;,
#   `Don't know/refused` &lt;dbl&gt;</code></pre>
</div>
</div>
<p><span class="hl-yellow"><strong>¿Es tidydata?</strong></span></p>
</section>
<section id="ejemplo-relig_income-2" class="slide level2">
<h2>Ejemplo: relig_income</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb638"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb638-1"><a href="#cb638-1"></a>relig_income</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 18 × 11
   religion `&lt;$10k` `$10-20k` `$20-30k` `$30-40k` `$40-50k` `$50-75k` `$75-100k`
   &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
 1 Agnostic      27        34        60        81        76       137        122
 2 Atheist       12        27        37        52        35        70         73
 3 Buddhist      27        21        30        34        33        58         62
 4 Catholic     418       617       732       670       638      1116        949
 5 Don’t k…      15        14        15        11        10        35         21
 6 Evangel…     575       869      1064       982       881      1486        949
 7 Hindu          1         9         7         9        11        34         47
 8 Histori…     228       244       236       238       197       223        131
 9 Jehovah…      20        27        24        24        21        30         15
10 Jewish        19        19        25        25        30        95         69
11 Mainlin…     289       495       619       655       651      1107        939
12 Mormon        29        40        48        51        56       112         85
13 Muslim         6         7         9        10         9        23         16
14 Orthodox      13        17        23        32        32        47         38
15 Other C…       9         7        11        13        13        14         18
16 Other F…      20        33        40        46        49        63         46
17 Other W…       5         2         3         4         2         7          3
18 Unaffil…     217       299       374       365       341       528        407
# ℹ 3 more variables: `$100-150k` &lt;dbl&gt;, `&gt;150k` &lt;dbl&gt;,
#   `Don't know/refused` &lt;dbl&gt;</code></pre>
</div>
</div>
<p>No lo es ya que en realidad <span class="hl-red"><strong>solo deberíamos tener una variable de ingresos</strong></span> y la tenemos dividida en 11: todas ellas es la misma variable solo que adopta un valor diferente. <span class="hl-green"><strong>¿Cómo convertirla a tidy data?</strong></span></p>
</section>
<section id="ejemplo-relig_income-3" class="slide level2">
<h2>Ejemplo: relig_income</h2>
<p>La idea es <span class="hl-yellow"><strong>pivotar todas las columnas de ingresos</strong></span> para que acaben en una sola columna llamada <code>income</code>, y los valores (el número de personas) en otra llamada <code>people</code> (por ejemplo). La tabla la haremos más larga y menos ancha así que…</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb640"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb640-1"><a href="#cb640-1"></a>relig_tidy <span class="ot">&lt;-</span></span>
<span id="cb640-2"><a href="#cb640-2"></a>  relig_income <span class="sc">|&gt;</span></span>
<span id="cb640-3"><a href="#cb640-3"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="st">"&lt;$10k"</span><span class="sc">:</span><span class="st">"Don't know/refused"</span>, <span class="at">names_to =</span> <span class="st">"income"</span>,</span>
<span id="cb640-4"><a href="#cb640-4"></a>               <span class="at">values_to =</span> <span class="st">"people"</span>)</span>
<span id="cb640-5"><a href="#cb640-5"></a>relig_tidy </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 3
   religion income             people
   &lt;chr&gt;    &lt;chr&gt;               &lt;dbl&gt;
 1 Agnostic &lt;$10k                  27
 2 Agnostic $10-20k                34
 3 Agnostic $20-30k                60
 4 Agnostic $30-40k                81
 5 Agnostic $40-50k                76
 6 Agnostic $50-75k               137
 7 Agnostic $75-100k              122
 8 Agnostic $100-150k             109
 9 Agnostic &gt;150k                  84
10 Agnostic Don't know/refused     96
# ℹ 170 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="ejemplo-relig_income-4" class="slide level2">
<h2>Ejemplo: relig_income</h2>
<p>Vamos a hilar más fino: ahora mismo en la variable <code>income</code> en realidad tenemos dos valores, el límite inferior y el superior de la renta. Vamos a <span class="hl-yellow"><strong>separar dicha variable e ingresos</strong></span> en dos, llamadas <code>income_inf</code> y <code>income_sup</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb642"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb642-1"><a href="#cb642-1"></a>relig_tidy </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 3
   religion income             people
   &lt;chr&gt;    &lt;chr&gt;               &lt;dbl&gt;
 1 Agnostic &lt;$10k                  27
 2 Agnostic $10-20k                34
 3 Agnostic $20-30k                60
 4 Agnostic $30-40k                81
 5 Agnostic $40-50k                76
 6 Agnostic $50-75k               137
 7 Agnostic $75-100k              122
 8 Agnostic $100-150k             109
 9 Agnostic &gt;150k                  84
10 Agnostic Don't know/refused     96
# ℹ 170 more rows</code></pre>
</div>
</div>
</section>
<section id="ejemplo-relig_income-5" class="slide level2">
<h2>Ejemplo: relig_income</h2>
<p>Vamos a hilar más fino: ahora mismo en la variable <code>income</code> en realidad tenemos dos valores, el límite inferior y el superior de la renta. Vamos a <span class="hl-yellow"><strong>separar dicha variable e ingresos</strong></span> en dos, llamadas <code>income_inf</code> y <code>income_sup</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb644"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb644-1"><a href="#cb644-1"></a>relig_tidy <span class="sc">|&gt;</span></span>
<span id="cb644-2"><a href="#cb644-2"></a>  <span class="co"># Separamos por -</span></span>
<span id="cb644-3"><a href="#cb644-3"></a>  <span class="fu">separate</span>(income, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"income_inf"</span>, <span class="st">"income_sup"</span>), <span class="at">sep =</span> <span class="st">"-"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 4
   religion income_inf         income_sup people
   &lt;chr&gt;    &lt;chr&gt;              &lt;chr&gt;       &lt;dbl&gt;
 1 Agnostic &lt;$10k              &lt;NA&gt;           27
 2 Agnostic $10                20k            34
 3 Agnostic $20                30k            60
 4 Agnostic $30                40k            81
 5 Agnostic $40                50k            76
 6 Agnostic $50                75k           137
 7 Agnostic $75                100k          122
 8 Agnostic $100               150k          109
 9 Agnostic &gt;150k              &lt;NA&gt;           84
10 Agnostic Don't know/refused &lt;NA&gt;           96
# ℹ 170 more rows</code></pre>
</div>
</div>
<div class="fragment">
<p>¿Está ya bien? Fíjate bien…</p>
</div>
</section>
<section id="ejemplo-relig_income-6" class="slide level2">
<h2>Ejemplo: relig_income</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb646"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb646-1"><a href="#cb646-1"></a>relig_tidy <span class="sc">|&gt;</span></span>
<span id="cb646-2"><a href="#cb646-2"></a>  <span class="co"># Separamos por -</span></span>
<span id="cb646-3"><a href="#cb646-3"></a>  <span class="fu">separate</span>(income, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"income_inf"</span>, <span class="st">"income_sup"</span>), <span class="at">sep =</span> <span class="st">"-"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 4
   religion income_inf         income_sup people
   &lt;chr&gt;    &lt;chr&gt;              &lt;chr&gt;       &lt;dbl&gt;
 1 Agnostic &lt;$10k              &lt;NA&gt;           27
 2 Agnostic $10                20k            34
 3 Agnostic $20                30k            60
 4 Agnostic $30                40k            81
 5 Agnostic $40                50k            76
 6 Agnostic $50                75k           137
 7 Agnostic $75                100k          122
 8 Agnostic $100               150k          109
 9 Agnostic &gt;150k              &lt;NA&gt;           84
10 Agnostic Don't know/refused &lt;NA&gt;           96
# ℹ 170 more rows</code></pre>
</div>
</div>
<p>Si te fijas la primera columna el <code>"$10k"</code> debería ser una cota superior, no inferior. ¿Cómo indicarle que separe bien ese caso?</p>
</section>
<section id="ejemplo-relig_income-7" class="slide level2">
<h2>Ejemplo: relig_income</h2>
<p>Le indicaremos que separe si encuentra <code>"-"</code> o <code>"&lt;"</code> (usamos <code>|</code> para separar ambas opciones)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb648"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb648-1"><a href="#cb648-1"></a>relig_tidy <span class="sc">|&gt;</span></span>
<span id="cb648-2"><a href="#cb648-2"></a>  <span class="co"># Separamos por -</span></span>
<span id="cb648-3"><a href="#cb648-3"></a>  <span class="fu">separate</span>(income, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"income_inf"</span>, <span class="st">"income_sup"</span>), <span class="at">sep =</span> <span class="st">"-|&lt;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 4
   religion income_inf           income_sup people
   &lt;chr&gt;    &lt;chr&gt;                &lt;chr&gt;       &lt;dbl&gt;
 1 Agnostic ""                   $10k           27
 2 Agnostic "$10"                20k            34
 3 Agnostic "$20"                30k            60
 4 Agnostic "$30"                40k            81
 5 Agnostic "$40"                50k            76
 6 Agnostic "$50"                75k           137
 7 Agnostic "$75"                100k          122
 8 Agnostic "$100"               150k          109
 9 Agnostic "&gt;150k"              &lt;NA&gt;           84
10 Agnostic "Don't know/refused" &lt;NA&gt;           96
# ℹ 170 more rows</code></pre>
</div>
</div>
</section>
<section id="ejemplo-relig_income-8" class="slide level2">
<h2>Ejemplo: relig_income</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb650"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb650-1"><a href="#cb650-1"></a>relig_tidy <span class="ot">&lt;-</span></span>
<span id="cb650-2"><a href="#cb650-2"></a>  relig_tidy <span class="sc">|&gt;</span></span>
<span id="cb650-3"><a href="#cb650-3"></a>  <span class="co"># Separamos por -</span></span>
<span id="cb650-4"><a href="#cb650-4"></a>  <span class="fu">separate</span>(income, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"income_inf"</span>, <span class="st">"income_sup"</span>), <span class="at">sep =</span> <span class="st">"-|&lt;"</span>)</span>
<span id="cb650-5"><a href="#cb650-5"></a>relig_tidy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 4
   religion income_inf           income_sup people
   &lt;chr&gt;    &lt;chr&gt;                &lt;chr&gt;       &lt;dbl&gt;
 1 Agnostic ""                   $10k           27
 2 Agnostic "$10"                20k            34
 3 Agnostic "$20"                30k            60
 4 Agnostic "$30"                40k            81
 5 Agnostic "$40"                50k            76
 6 Agnostic "$50"                75k           137
 7 Agnostic "$75"                100k          122
 8 Agnostic "$100"               150k          109
 9 Agnostic "&gt;150k"              &lt;NA&gt;           84
10 Agnostic "Don't know/refused" &lt;NA&gt;           96
# ℹ 170 more rows</code></pre>
</div>
</div>
<p>Piensa ahora como podemos <span class="hl-yellow"><strong>convertir los límites de ingresos a numéricas (eliminando símbolos, letras, etc)</strong></span></p>
</section>
<section id="ejemplo-relig_income-9" class="slide level2">
<h2>Ejemplo: relig_income</h2>
<p>Para ello usaremos el paquete <code>{stringr}</code> que hemos visto antes, en concreto la función <code>str_remove_all()</code> a la que le podemos pasar los caracteres que queremos eliminar (fíjate que <code>$</code> al ser un caracter reservado en <code>R</code> hay que indicárselo con <code>\\$</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb652"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb652-1"><a href="#cb652-1"></a>relig_tidy<span class="sc">$</span>income_inf <span class="ot">&lt;-</span></span>
<span id="cb652-2"><a href="#cb652-2"></a>  <span class="fu">str_remove_all</span>(relig_tidy<span class="sc">$</span>income_inf, <span class="st">"</span><span class="sc">\\</span><span class="st">$|&gt;|k"</span>)</span>
<span id="cb652-3"><a href="#cb652-3"></a>relig_tidy<span class="sc">$</span>income_sup <span class="ot">&lt;-</span></span>
<span id="cb652-4"><a href="#cb652-4"></a>  <span class="fu">str_remove_all</span>(relig_tidy<span class="sc">$</span>income_sup, <span class="st">"</span><span class="sc">\\</span><span class="st">$|&gt;|k"</span>)</span>
<span id="cb652-5"><a href="#cb652-5"></a></span>
<span id="cb652-6"><a href="#cb652-6"></a>relig_tidy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 4
   religion income_inf          income_sup people
   &lt;chr&gt;    &lt;chr&gt;               &lt;chr&gt;       &lt;dbl&gt;
 1 Agnostic ""                  10             27
 2 Agnostic "10"                20             34
 3 Agnostic "20"                30             60
 4 Agnostic "30"                40             81
 5 Agnostic "40"                50             76
 6 Agnostic "50"                75            137
 7 Agnostic "75"                100           122
 8 Agnostic "100"               150           109
 9 Agnostic "150"               &lt;NA&gt;           84
10 Agnostic "Don't now/refused" &lt;NA&gt;           96
# ℹ 170 more rows</code></pre>
</div>
</div>
</section>
<section id="ejemplo-relig_income-10" class="slide level2">
<h2>Ejemplo: relig_income</h2>
<p>Fíjate que tenemos <code>"Don't now/refused"</code>. ¿Qué deberíamos tener?</p>
<div class="fragment">
<p>Debería ser un <span class="hl-yellow"><strong>dato ausente</strong></span> así que usaremos <code>if_else()</code>: si contiene dicha frase, <code>NA</code>, en caso contrario su valor (consejo: <code>str_detect()</code> para detectar patrones en textos, y evitar tener que escribir toda la palabra sin errores)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb654"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb654-1"><a href="#cb654-1"></a>relig_tidy<span class="sc">$</span>income_inf <span class="ot">&lt;-</span></span>
<span id="cb654-2"><a href="#cb654-2"></a>  <span class="fu">if_else</span>(<span class="fu">str_detect</span>(relig_tidy<span class="sc">$</span>income_inf, <span class="st">"refused"</span>), <span class="cn">NA</span>, relig_tidy<span class="sc">$</span>income_inf)</span>
<span id="cb654-3"><a href="#cb654-3"></a>relig_tidy<span class="sc">$</span>income_sup <span class="ot">&lt;-</span></span>
<span id="cb654-4"><a href="#cb654-4"></a>  <span class="fu">if_else</span>(<span class="fu">str_detect</span>(relig_tidy<span class="sc">$</span>income_sup, <span class="st">"refused"</span>), <span class="cn">NA</span>, relig_tidy<span class="sc">$</span>income_sup)</span>
<span id="cb654-5"><a href="#cb654-5"></a>relig_tidy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 4
   religion income_inf income_sup people
   &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;       &lt;dbl&gt;
 1 Agnostic ""         10             27
 2 Agnostic "10"       20             34
 3 Agnostic "20"       30             60
 4 Agnostic "30"       40             81
 5 Agnostic "40"       50             76
 6 Agnostic "50"       75            137
 7 Agnostic "75"       100           122
 8 Agnostic "100"      150           109
 9 Agnostic "150"      &lt;NA&gt;           84
10 Agnostic  &lt;NA&gt;      &lt;NA&gt;           96
# ℹ 170 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="ejemplo-relig_income-11" class="slide level2">
<h2>Ejemplo: relig_income</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb656"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb656-1"><a href="#cb656-1"></a>relig_tidy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 4
   religion income_inf income_sup people
   &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;       &lt;dbl&gt;
 1 Agnostic ""         10             27
 2 Agnostic "10"       20             34
 3 Agnostic "20"       30             60
 4 Agnostic "30"       40             81
 5 Agnostic "40"       50             76
 6 Agnostic "50"       75            137
 7 Agnostic "75"       100           122
 8 Agnostic "100"      150           109
 9 Agnostic "150"      &lt;NA&gt;           84
10 Agnostic  &lt;NA&gt;      &lt;NA&gt;           96
# ℹ 170 more rows</code></pre>
</div>
</div>
<p>En la primera línea, ese <code>""</code> también debería ser `NA``</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb658"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb658-1"><a href="#cb658-1"></a>relig_tidy<span class="sc">$</span>income_inf <span class="ot">&lt;-</span></span>
<span id="cb658-2"><a href="#cb658-2"></a>  <span class="fu">if_else</span>(relig_tidy<span class="sc">$</span>income_inf <span class="sc">==</span> <span class="st">""</span>, <span class="cn">NA</span>, relig_tidy<span class="sc">$</span>income_inf)</span>
<span id="cb658-3"><a href="#cb658-3"></a>relig_tidy<span class="sc">$</span>income_suop <span class="ot">&lt;-</span></span>
<span id="cb658-4"><a href="#cb658-4"></a>  <span class="fu">if_else</span>(relig_tidy<span class="sc">$</span>income_sup <span class="sc">==</span> <span class="st">""</span>, <span class="cn">NA</span>, relig_tidy<span class="sc">$</span>income_sup)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ejemplo-relig_income-12" class="slide level2">
<h2>Ejemplo: relig_income</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb659"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb659-1"><a href="#cb659-1"></a>relig_tidy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 5
   religion income_inf income_sup people income_suop
   &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;      
 1 Agnostic &lt;NA&gt;       10             27 10         
 2 Agnostic 10         20             34 20         
 3 Agnostic 20         30             60 30         
 4 Agnostic 30         40             81 40         
 5 Agnostic 40         50             76 50         
 6 Agnostic 50         75            137 75         
 7 Agnostic 75         100           122 100        
 8 Agnostic 100        150           109 150        
 9 Agnostic 150        &lt;NA&gt;           84 &lt;NA&gt;       
10 Agnostic &lt;NA&gt;       &lt;NA&gt;           96 &lt;NA&gt;       
# ℹ 170 more rows</code></pre>
</div>
</div>
<p>Además si te fijas los números son en realidad caracteres, así que vamos a <span class="hl-yellow"><strong>convertirlos a números</strong></span></p>
</section>
<section id="ejemplo-relig_income-13" class="slide level2">
<h2>Ejemplo: relig_income</h2>
<p>Además si te fijas los números son en realidad caracteres, así que vamos a <span class="hl-yellow"><strong>convertirlos a números</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb661"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb661-1"><a href="#cb661-1"></a>relig_tidy<span class="sc">$</span>income_inf <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(relig_tidy<span class="sc">$</span>income_inf)</span>
<span id="cb661-2"><a href="#cb661-2"></a>relig_tidy<span class="sc">$</span>income_sup <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(relig_tidy<span class="sc">$</span>income_sup)</span>
<span id="cb661-3"><a href="#cb661-3"></a>relig_tidy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 5
   religion income_inf income_sup people income_suop
   &lt;chr&gt;         &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;      
 1 Agnostic         NA         10     27 10         
 2 Agnostic         10         20     34 20         
 3 Agnostic         20         30     60 30         
 4 Agnostic         30         40     81 40         
 5 Agnostic         40         50     76 50         
 6 Agnostic         50         75    137 75         
 7 Agnostic         75        100    122 100        
 8 Agnostic        100        150    109 150        
 9 Agnostic        150         NA     84 &lt;NA&gt;       
10 Agnostic         NA         NA     96 &lt;NA&gt;       
# ℹ 170 more rows</code></pre>
</div>
</div>
</section>
<section id="ejemplo-relig_income-14" class="slide level2">
<h2>Ejemplo: relig_income</h2>
<p>¿Se te ocurre alguna forma de <strong>«cuantificar numéricamente»</strong> los valores ausentes que tenemos en este caso?</p>
<div class="fragment">
<p>Si te fijas en realidad cuando hay ausente en el límite inferior en realidad podríamos poner un 0 (nadie puede ganar menos de eso) y cuando lo tenemos en el límite superior sería <code>Inf</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb663"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb663-1"><a href="#cb663-1"></a>relig_tidy<span class="sc">$</span>income_inf <span class="ot">&lt;-</span></span>
<span id="cb663-2"><a href="#cb663-2"></a>  <span class="fu">if_else</span>(<span class="fu">is.na</span>(relig_tidy<span class="sc">$</span>income_inf), <span class="dv">0</span>, relig_tidy<span class="sc">$</span>income_inf)</span>
<span id="cb663-3"><a href="#cb663-3"></a>relig_tidy<span class="sc">$</span>income_sup <span class="ot">&lt;-</span></span>
<span id="cb663-4"><a href="#cb663-4"></a>  <span class="fu">if_else</span>(<span class="fu">is.na</span>(relig_tidy<span class="sc">$</span>income_sup), <span class="cn">Inf</span>, relig_tidy<span class="sc">$</span>income_sup)</span>
<span id="cb663-5"><a href="#cb663-5"></a>relig_tidy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 5
   religion income_inf income_sup people income_suop
   &lt;chr&gt;         &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;      
 1 Agnostic          0         10     27 10         
 2 Agnostic         10         20     34 20         
 3 Agnostic         20         30     60 30         
 4 Agnostic         30         40     81 40         
 5 Agnostic         40         50     76 50         
 6 Agnostic         50         75    137 75         
 7 Agnostic         75        100    122 100        
 8 Agnostic        100        150    109 150        
 9 Agnostic        150        Inf     84 &lt;NA&gt;       
10 Agnostic          0        Inf     96 &lt;NA&gt;       
# ℹ 170 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="ejemplo-relig_income-15" class="slide level2">
<h2>Ejemplo: relig_income</h2>
<p>Aunque nos haya llevado un rato este es el <strong>código completo resumido</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb665"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb665-1"><a href="#cb665-1"></a>relig_tidy <span class="ot">&lt;-</span></span>
<span id="cb665-2"><a href="#cb665-2"></a>  relig_income <span class="sc">|&gt;</span></span>
<span id="cb665-3"><a href="#cb665-3"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="st">"&lt;$10k"</span><span class="sc">:</span><span class="st">"Don't know/refused"</span>, <span class="at">names_to =</span> <span class="st">"income"</span>,</span>
<span id="cb665-4"><a href="#cb665-4"></a>               <span class="at">values_to =</span> <span class="st">"people"</span>) <span class="sc">|&gt;</span></span>
<span id="cb665-5"><a href="#cb665-5"></a>  <span class="fu">separate</span>(income, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"income_inf"</span>, <span class="st">"income_sup"</span>), <span class="at">sep =</span> <span class="st">"-|&lt;"</span>)</span>
<span id="cb665-6"><a href="#cb665-6"></a></span>
<span id="cb665-7"><a href="#cb665-7"></a>relig_tidy<span class="sc">$</span>income_inf <span class="ot">&lt;-</span> <span class="fu">str_remove_all</span>(relig_tidy<span class="sc">$</span>income_inf, <span class="st">"</span><span class="sc">\\</span><span class="st">$|&gt;|k"</span>)</span>
<span id="cb665-8"><a href="#cb665-8"></a>relig_tidy<span class="sc">$</span>income_sup <span class="ot">&lt;-</span> <span class="fu">str_remove_all</span>(relig_tidy<span class="sc">$</span>income_sup, <span class="st">"</span><span class="sc">\\</span><span class="st">$|&gt;|k"</span>)</span>
<span id="cb665-9"><a href="#cb665-9"></a></span>
<span id="cb665-10"><a href="#cb665-10"></a>relig_tidy<span class="sc">$</span>income_inf <span class="ot">&lt;-</span></span>
<span id="cb665-11"><a href="#cb665-11"></a>  <span class="fu">if_else</span>(<span class="fu">str_detect</span>(relig_tidy<span class="sc">$</span>income_inf, <span class="st">"refused"</span>) <span class="sc">|</span></span>
<span id="cb665-12"><a href="#cb665-12"></a>            relig_tidy<span class="sc">$</span>income_inf <span class="sc">==</span> <span class="st">""</span>, <span class="dv">0</span>, <span class="fu">as.numeric</span>(relig_tidy<span class="sc">$</span>income_inf))</span>
<span id="cb665-13"><a href="#cb665-13"></a>relig_tidy<span class="sc">$</span>income_sup <span class="ot">&lt;-</span></span>
<span id="cb665-14"><a href="#cb665-14"></a>  <span class="fu">if_else</span>(<span class="fu">str_detect</span>(relig_tidy<span class="sc">$</span>income_sup, <span class="st">"refused"</span>) <span class="sc">|</span></span>
<span id="cb665-15"><a href="#cb665-15"></a>            relig_tidy<span class="sc">$</span>income_sup <span class="sc">==</span> <span class="st">""</span>, <span class="cn">Inf</span>, <span class="fu">as.numeric</span>(relig_tidy<span class="sc">$</span>income_sup))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ejemplo-relig_income-16" class="slide level2">
<h2>Ejemplo: relig_income</h2>
<p>¿Por qué era <span class="hl-yellow"><strong>importante tenerlo en tidydata</strong></span>? Lo veremos más adelante al visualizar los datos pero esto ya nos permite realizar filtros muy rápidos con muy poco código.</p>
<p>Por ejemplo: ¿cuántas personas agnósticas con ingresos superiores (o iguales) a 30 tenemos?</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb666"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb666-1"><a href="#cb666-1"></a><span class="co"># una línea de código</span></span>
<span id="cb666-2"><a href="#cb666-2"></a><span class="fu">sum</span>(relig_tidy<span class="sc">$</span>people[relig_tidy<span class="sc">$</span>religion <span class="sc">==</span> <span class="st">"Agnostic"</span> <span class="sc">&amp;</span> relig_tidy<span class="sc">$</span>income_inf <span class="sc">&gt;=</span> <span class="dv">30</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 609</code></pre>
</div>
</div>
</div>
</section>
<section id="tu-turno-8" class="slide level2">
<h2>💻 Tu turno</h2>
<p><span style="color:#444442;"><strong>Intenta realizar los siguientes ejercicios sin mirar las soluciones</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-12" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-12-1"><span class="hl-yellow"><strong>Ejercicio 1</strong></span></a></li><li><a href="#tabset-12-2"><span class="hl-yellow"><strong>Ejercicio 2</strong></span></a></li><li><a href="#tabset-12-3"><span class="hl-yellow"><strong>Ejercicio 3</strong></span></a></li><li><a href="#tabset-12-4"><span class="hl-yellow"><strong>Ejercicio 4</strong></span></a></li><li><a href="#tabset-12-5"><span class="hl-yellow"><strong>Ejercicio 5</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-12-1">
<p>📝 Usa el dataset original <code>relig_income</code> y trata de responder a la última pregunta: ¿cuántas personas agnósticas con ingresos superiores (o iguales) a 30 tenemos? Compara el código a realizar cuando tenemos tidydata a cuando no. ¿Cuál es más legible si no supieses <code>R</code>? ¿Cuál tiene mayor probabilidad de error?</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb668"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb668-1"><a href="#cb668-1"></a><span class="fu">sum</span>(relig_income[relig_income<span class="sc">$</span>religion <span class="sc">==</span> <span class="st">"Agnostic"</span>,</span>
<span id="cb668-2"><a href="#cb668-2"></a>             <span class="fu">c</span>(<span class="st">"$30-40k"</span>, <span class="st">"$40-50k"</span>, <span class="st">"$50-75k"</span>, <span class="st">"$75-100k"</span>, <span class="st">"$100-150k"</span>, <span class="st">"&gt;150k"</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-12-2">
<p>📝 Usando <code>relig_tidy</code> determina quién tiene más ingresos medios, ¿católicos (<code>Catholic</code>) o agnósticos (<code>Agnostic</code>)? Crea antes una variable <code>avg_income</code> (ingresos medios por intervalo): si hay 5 personas entre 20 y 30, y 3 personas entre 30 y 50, la media sería <span class="math inline">\((25*5 + 40*3)/8\)</span> (si es <code>Inf</code> por arriba, <code>NA</code>)</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb669"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb669-1"><a href="#cb669-1"></a>relig_tidy<span class="sc">$</span>avg_income <span class="ot">&lt;-</span> </span>
<span id="cb669-2"><a href="#cb669-2"></a>  <span class="fu">if_else</span>(<span class="fu">is.infinite</span>(relig_tidy<span class="sc">$</span>income_sup), <span class="cn">NA</span>, (relig_tidy<span class="sc">$</span>income_sup <span class="sc">+</span> relig_tidy<span class="sc">$</span>income_inf)<span class="sc">/</span><span class="dv">2</span>)</span>
<span id="cb669-3"><a href="#cb669-3"></a></span>
<span id="cb669-4"><a href="#cb669-4"></a><span class="co"># Agnosticos vs catolicos</span></span>
<span id="cb669-5"><a href="#cb669-5"></a><span class="fu">sum</span>((relig_tidy<span class="sc">$</span>avg_income[relig_tidy<span class="sc">$</span>religion <span class="sc">==</span> <span class="st">"Agnostic"</span>] <span class="sc">*</span> relig_tidy<span class="sc">$</span>people[relig_tidy<span class="sc">$</span>religion <span class="sc">==</span> <span class="st">"Agnostic"</span>]), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span></span>
<span id="cb669-6"><a href="#cb669-6"></a>  <span class="fu">sum</span>(relig_tidy<span class="sc">$</span>people[relig_tidy<span class="sc">$</span>religion <span class="sc">==</span> <span class="st">"Agnostic"</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb669-7"><a href="#cb669-7"></a></span>
<span id="cb669-8"><a href="#cb669-8"></a><span class="fu">sum</span>((relig_tidy<span class="sc">$</span>avg_income[relig_tidy<span class="sc">$</span>religion <span class="sc">==</span> <span class="st">"Catholic"</span>] <span class="sc">*</span> relig_tidy<span class="sc">$</span>people[relig_tidy<span class="sc">$</span>religion <span class="sc">==</span> <span class="st">"Catholic"</span>]), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span></span>
<span id="cb669-9"><a href="#cb669-9"></a>  <span class="fu">sum</span>(relig_tidy<span class="sc">$</span>people[relig_tidy<span class="sc">$</span>religion <span class="sc">==</span> <span class="st">"Catholic"</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-12-3">
<p>📝 Si debemos elegir budismo (<code>Buddhist</code>) e hinduismo (<code>Hindu</code>), ¿cuál de las dos es la religión mayoritaria entre los que ganan más de 50 000$ anuales?</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb670"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb670-1"><a href="#cb670-1"></a>greatest_income <span class="ot">&lt;-</span></span>
<span id="cb670-2"><a href="#cb670-2"></a>  relig_tidy[relig_tidy<span class="sc">$</span>income_inf <span class="sc">&gt;=</span> <span class="dv">50</span> <span class="sc">&amp;</span> relig_tidy<span class="sc">$</span>religion <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Buddhist"</span>, <span class="st">"Hindu"</span>), ]</span>
<span id="cb670-3"><a href="#cb670-3"></a></span>
<span id="cb670-4"><a href="#cb670-4"></a><span class="fu">sum</span>(greatest_income<span class="sc">$</span>people[greatest_income<span class="sc">$</span>religion <span class="sc">==</span> <span class="st">"Buddhist"</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb670-5"><a href="#cb670-5"></a><span class="fu">sum</span>(greatest_income<span class="sc">$</span>people[greatest_income<span class="sc">$</span>religion <span class="sc">==</span> <span class="st">"Hindu"</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-12-4">
<p>📝 Echa un vistazo a la tabla <code>table4b</code> del paquete <code>{tidyr}</code>. ¿Es tidydata? En caso negativo, ¿qué falla? ¿Cómo convertirla a tidy data en caso de que no lo sea ya?</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb671"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb671-1"><a href="#cb671-1"></a>table4b <span class="sc">|&gt;</span></span>
<span id="cb671-2"><a href="#cb671-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="st">"1999"</span><span class="sc">:</span><span class="st">"2000"</span>, <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb671-3"><a href="#cb671-3"></a>               <span class="at">values_to =</span> <span class="st">"cases"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-12-5">
<p>📝 Echa un vistazo a la tabla <code>billboard</code> del paquete <code>{tidyr}</code>. ¿Es tidydata? En caso negativo, ¿qué falla? ¿Cómo convertirla a tidy data en caso de que no lo sea ya?</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb672"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb672-1"><a href="#cb672-1"></a>billboard <span class="sc">|&gt;</span></span>
<span id="cb672-2"><a href="#cb672-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="st">"wk1"</span><span class="sc">:</span><span class="st">"wk76"</span>,</span>
<span id="cb672-3"><a href="#cb672-3"></a>               <span class="at">names_to =</span> <span class="st">"week"</span>,</span>
<span id="cb672-4"><a href="#cb672-4"></a>               <span class="at">names_prefix =</span> <span class="st">"wk"</span>,</span>
<span id="cb672-5"><a href="#cb672-5"></a>               <span class="at">values_to =</span> <span class="st">"position"</span>,</span>
<span id="cb672-6"><a href="#cb672-6"></a>               <span class="at">values_drop_na =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="caso-practico-8" class="slide level2">
<h2>🐣 Caso práctico</h2>
<p>En el paquete <code>{tidyr}</code> contamos con el dataset <code>who2</code> (dataset de la Organización Mundial de la Salud). Intenta responder a las preguntas planteadas en el <a href="https://javieralvarezliebana.quarto.pub/tidydata/"><strong>workbook</strong></a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb673"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb673-1"><a href="#cb673-1"></a>who2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7,240 × 58
   country      year sp_m_014 sp_m_1524 sp_m_2534 sp_m_3544 sp_m_4554 sp_m_5564
   &lt;chr&gt;       &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1 Afghanistan  1980       NA        NA        NA        NA        NA        NA
 2 Afghanistan  1981       NA        NA        NA        NA        NA        NA
 3 Afghanistan  1982       NA        NA        NA        NA        NA        NA
 4 Afghanistan  1983       NA        NA        NA        NA        NA        NA
 5 Afghanistan  1984       NA        NA        NA        NA        NA        NA
 6 Afghanistan  1985       NA        NA        NA        NA        NA        NA
 7 Afghanistan  1986       NA        NA        NA        NA        NA        NA
 8 Afghanistan  1987       NA        NA        NA        NA        NA        NA
 9 Afghanistan  1988       NA        NA        NA        NA        NA        NA
10 Afghanistan  1989       NA        NA        NA        NA        NA        NA
# ℹ 7,230 more rows
# ℹ 50 more variables: sp_m_65 &lt;dbl&gt;, sp_f_014 &lt;dbl&gt;, sp_f_1524 &lt;dbl&gt;,
#   sp_f_2534 &lt;dbl&gt;, sp_f_3544 &lt;dbl&gt;, sp_f_4554 &lt;dbl&gt;, sp_f_5564 &lt;dbl&gt;,
#   sp_f_65 &lt;dbl&gt;, sn_m_014 &lt;dbl&gt;, sn_m_1524 &lt;dbl&gt;, sn_m_2534 &lt;dbl&gt;,
#   sn_m_3544 &lt;dbl&gt;, sn_m_4554 &lt;dbl&gt;, sn_m_5564 &lt;dbl&gt;, sn_m_65 &lt;dbl&gt;,
#   sn_f_014 &lt;dbl&gt;, sn_f_1524 &lt;dbl&gt;, sn_f_2534 &lt;dbl&gt;, sn_f_3544 &lt;dbl&gt;,
#   sn_f_4554 &lt;dbl&gt;, sn_f_5564 &lt;dbl&gt;, sn_f_65 &lt;dbl&gt;, ep_m_014 &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section></section>
<section>
<section id="clase-9" class="title-slide slide level1 center">
<h1>Clase 9: <span class="flow">entrega II</span></h1>
<p><span style="color:#444442;"><strong>Ponderación: 15%</strong></span></p>
</section>
<section id="instrucciones" class="slide level2">
<h2>Instrucciones</h2>
<p>El día de la entrega tendrás subido una <span class="hl-yellow"><strong>plantilla de entrega</strong></span> en formato <code>.qmd</code> en el campus.</p>
<ul>
<li><p><strong>Descomprime la carpeta</strong> (¡importante! si no descomprimes, aunque puedas editar el <code>.qmd</code>, no podrás generar el <code>.html</code>)</p></li>
<li><p><strong>Edita la cabecera</strong> con tu nombre y DNI</p></li>
<li><p>Deberás <strong>rellenar cada chunk</strong> con el código que consideres (en algunos te he dejado pistas) y <strong>cambiar</strong> de <code>#| eval: false</code> a <code>#| eval: true</code> (si los quitas directamente, por defecto ya es true)</p></li>
<li><p>Deberás de <strong>comentar</strong> con texto normal lo que consideres para responder a las preguntas.</p></li>
<li><p>Será <span class="hl-yellow"><strong>OBLIGATORIO</strong></span> subir el archivo <code>.html</code> generado (solo se corregirá dicho archivo) así que ve renderizando según rellenas el documento, no lo dejes para el final.</p></li>
</ul>
</section></section>
<section>
<section id="clase-10" class="title-slide slide level1 center">
<h1>Clase 10: <span class="flow">tidyverse (filas)</span></h1>
<p><span style="color:#444442;"><strong>Tidyverse: operaciones por filas (I)</strong></span></p>
</section>
<section id="section" class="slide level2">
<h2>…</h2>
</section></section>
<section>
<section id="clase-11" class="title-slide slide level1 center">
<h1>Clase 11: <span class="flow">tidyverse (filas)</span></h1>
<p><span style="color:#444442;"><strong>Tidyverse: operaciones por filas (II)</strong></span></p>
</section>
<section class="slide level2">

<div class="footer footer-default">
<p><a href="..."><strong>Javier Álvarez Liébana</strong></a> • Máster de Bioestadística (UCM)</p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="index_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="index_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="index_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="index_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true,"width":"normal"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>