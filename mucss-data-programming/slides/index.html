<!DOCTYPE html>
<html lang="es"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Master in Computational Social Sciences • Javier Álvarez Liébana">
  <title>Data programming and intro to R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto.css">
  <link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="img/background-mucss.webp" data-background-opacity="0.2" data-background-size="cover" class="quarto-title-block center">
  <h1 class="title">Data programming and intro to R</h1>
  <p class="subtitle">Prepare, clean, transform and enrich data in R</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Master in Computational Social Sciences • Javier Álvarez Liébana 
</div>
</div>
</div>

</section>
<section class="slide level2">

<div class="r-fit-text">
<p><span class="flow">Welcome to R!</span></p>
</div>
<p><span style="color:#444442;"><strong>Put your spreadsheets, SAS and SPSS aside</strong></span></p>
</section>
<section id="hi" class="slide level2">
<h2>Hi!</h2>
<p><span class="hl-green"><strong>Mail</strong></span>: <strong><a href="mailto:javalv09@ucm.es" class="email">javalv09@ucm.es</a></strong>.</p>
<div class="columns">
<div class="column" style="width:30%;">
<p><img data-src="img/me.jpeg"></p>
</div><div class="column" style="width:70%;">
<div>
<ul>
<li class="fragment"><p><span class="hl-yellow"><strong>Javier Álvarez Liébana</strong></span> from Carabanchel (Madrid).</p></li>
<li class="fragment"><p>Degree in Mathematics (UCM). <span class="hl-yellow"><strong>PhD in Statistics</strong></span> (UGR).</p></li>
<li class="fragment"><p>In charge of <span class="hl-yellow"><strong>data visualization and analysis</strong></span> for the Principality of Asturias (2021-2022) during the COVID pandemic</p></li>
<li class="fragment"><p>Member of the <span class="hl-yellow"><strong>Spanish Society of Statistics and OR</strong></span> and the <span class="hl-yellow"><strong>Spanish Royal Mathematical Society</strong></span>.</p></li>
</ul>
</div>
</div>
</div>
<p>Currently, <span class="hl-yellow"><strong>Assistant Professor at the Faculty of Statistics of the UCM</strong></span>. Disseminating via <a href="https://twitter.com/dadosdelaplace"><strong>Twitter</strong></a> e <a href="https://instagram.com/javieralvarezliebana"><strong>Instagram</strong></a></p>
</section>
<section id="goals" class="slide level2">
<h2>Goals</h2>
<div class="columns">
<div class="column" style="width:37%;">
<p><img data-src="https://assets-global.website-files.com/6092cb6b4ac959f39728dd26/6188a97fa499b5fbfe410417_target%20(1).png"></p>
</div><div class="column" style="width:63%;">
<div>
<ul>
<li class="fragment"><p>Take away the <span class="hl-yellow"><strong>fear of programming</strong></span> → learn to program by programming</p></li>
<li class="fragment"><p>Understanding <span class="hl-yellow"><strong>basic R concepts</strong></span> from scratch → learning to <strong>abstract</strong> ideas and algorithms</p></li>
<li class="fragment"><p>Utility of programming → <span class="hl-yellow"><strong>reproducible, transparent and maintainable workflows</strong></span>.</p></li>
<li class="fragment"><p>Introduction to <span class="hl-yellow"><strong>analysis and preprocessing of data</strong></span> → <code>{tidyverse}</code>.</p></li>
<li class="fragment"><p>Handling <span class="hl-yellow"><strong>advanced data types</strong></span> → <code>{forcats}</code>, <code>{lubridate}</code> and <code>{purrr}</code> packages</p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="evaluation-intro-to-r" class="slide level2">
<h2>Evaluation: intro to R</h2>
<ul>
<li><span class="hl-yellow"><strong>Attendance and individual participation</strong></span> (30%)</li>
</ul>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Final exam</strong></span> on 10/09/2024, 15:00-16:10 (70%).</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Max grade</strong></span>: to get a grade greater than 9/10 you should get at least 9/10 in the final exam.</li>
</ul>
</div>
</section>
<section id="evaluation-data-programming" class="slide level2">
<h2>Evaluation: data programming</h2>
<ul>
<li><span class="hl-yellow"><strong>Attendance and individual participation</strong></span> (10%)</li>
</ul>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>2 individual tasks</strong></span> done during the course (15%-25%).</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>1 group task</strong></span> between 4 and 6 people (20%). <strong>Deadline</strong>: 23/12/2024.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Final exam</strong></span> with all materials and internet (30%). <span class="hl-purple"><strong>You are exempt if you get more than 7.5/10</strong></span> in the previous tasks.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Max grade</strong></span>: to get a grade greater than 9/10 you should get at least 9/10 in the individual tasks.</li>
</ul>
</div>
</section>
<section id="planning" class="slide level2">
<h2>Planning</h2>
<ul>
<li><span class="hl-yellow"><strong>Final exam (intro R 70%)</strong></span>: 10/09/2024 (15:00 - 16:10).</li>
</ul>
<p>&nbsp;</p>
<ul>
<li><p><span class="hl-yellow"><strong>Individual task I (15%)</strong></span>: deadline 03/11/2024</p></li>
<li><p><span class="hl-yellow"><strong>Individual task II (25%)</strong></span>: deadline 30/11/2024</p></li>
<li><p><span class="hl-yellow"><strong>Group task (20%)</strong></span>: deadline 23/12/2024.</p></li>
</ul>
<p>&nbsp;</p>
<ul>
<li><span class="hl-yellow"><strong>Final examen (30% if required)</strong></span>: TBA</li>
</ul>
</section>
<section id="planificacion" class="slide level2">
<h2>Planning: intro R</h2>
<div class="column-screen-inset-right">
<div style="font-size:20px">
<table>
<thead>
<tr class="header">
<th style="text-align: center;">LESSON</th>
<th style="text-align: center;">WEEK</th>
<th style="text-align: center;">DATES</th>
<th style="text-align: center;">TOPIC</th>
<th style="text-align: center;">EX.</th>
<th style="text-align: center;">WORKBOOK</th>
<th style="text-align: center;">TASK</th>
<th style="text-align: center;"></th>
<th style="text-align: center;"></th>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a href="#/clase-0-1">0-1</a></td>
<td style="text-align: center;">S1</td>
<td style="text-align: center;">2 sep</td>
<td style="text-align: center;">First steps: R base programming</td>
<td style="text-align: center;"><a href="#/tu-turno-0-1-1">💻</a> <a href="#/tu-turno-0-1-2">💻</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a href="#/clase-0-2">0-2</a></td>
<td style="text-align: center;">S1</td>
<td style="text-align: center;">4 sep</td>
<td style="text-align: center;">First data: concatenate values and databases</td>
<td style="text-align: center;"><a href="#/tu-turno-0-2-1">💻</a> <a href="#/tu-turno-0-2-2">💻</a> <a href="#/tu-turno-0-2-3">💻</a></td>
<td style="text-align: center;"><a href="#/caso-practico-0-2-1">🐣</a> <a href="#/caso-practico-0-2-2">🐣</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a href="#/clase-0-3">0-3</a></td>
<td style="text-align: center;">S1</td>
<td style="text-align: center;">6 sep</td>
<td style="text-align: center;">Quarto and flow structures</td>
<td style="text-align: center;"><a href="#/tu-turno-0-3-1">💻</a> <a href="#/tu-turno-0-3-2">💻</a> <a href="#/tu-turno-0-3-3">💻</a></td>
<td style="text-align: center;"><a href="#/caso-practico-0-3-1">🐣</a> <a href="#/caso-practico-0-3-2">🐣</a> <a href="#/caso-practico-0-3-3">🐣</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a href="#/clase-0-4">0-4</a></td>
<td style="text-align: center;">S2</td>
<td style="text-align: center;">10 sep</td>
<td style="text-align: center;">Final task (70%)</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"><a href="#/clase-0-4">🎯</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="planificacion-curso" class="slide level2">
<h2>Planning: data programming</h2>
<div class="column-screen-inset-right">
<div style="font-size:20px">
<table>
<thead>
<tr class="header">
<th style="text-align: center;">LESSON</th>
<th style="text-align: center;">WEEK</th>
<th style="text-align: center;">DATES</th>
<th style="text-align: center;">TOPIC</th>
<th style="text-align: center;">EX.</th>
<th style="text-align: center;">WORKBOOK</th>
<th style="text-align: center;">TASK</th>
<th style="text-align: center;"></th>
<th style="text-align: center;"></th>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a href="#/clase-1">1</a></td>
<td style="text-align: center;">S2</td>
<td style="text-align: center;">12 sep</td>
<td style="text-align: center;">First steps: R base programming</td>
<td style="text-align: center;"><a href="#/tu-turno-0-1-1">💻</a> <a href="#/tu-turno-0-1-2">💻</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a href="#/clase-2">2</a></td>
<td style="text-align: center;">S3</td>
<td style="text-align: center;">19 sep</td>
<td style="text-align: center;">First data: concatenate values and databases</td>
<td style="text-align: center;"><a href="#/tu-turno-0-2-1">💻</a> <a href="#/tu-turno-0-2-2">💻</a> <a href="#/tu-turno-0-2-3">💻</a></td>
<td style="text-align: center;"><a href="#/caso-practico-0-2-1">🐣</a> <a href="#/caso-practico-0-2-2">🐣</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a href="#/clase-3">3</a></td>
<td style="text-align: center;">S4</td>
<td style="text-align: center;">26 sep</td>
<td style="text-align: center;">Quarto and flow structures</td>
<td style="text-align: center;"><a href="#/tu-turno-0-3-1">💻</a> <a href="#/tu-turno-0-3-2">💻</a> <a href="#/tu-turno-0-3-3">💻</a></td>
<td style="text-align: center;"><a href="#/caso-practico-0-3-1">🐣</a> <a href="#/caso-practico-0-3-2">🐣</a> <a href="#/caso-practico-0-3-3">🐣</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="materials" class="slide level2">
<h2>Materials</h2>
<ul>
<li><span class="hl-yellow"><strong>Slides</strong></span>: slides made with <code>Quarto</code> available and updated on <strong><a href="https://javieralvarezliebana.es/docencia/mucss-data-programming" class="uri">https://javieralvarezliebana.es/docencia/mucss-data-programming</a></strong>. In the slide menu (bottom left) you have an option to <span class="hl-yellow"><strong>download them in pdf</strong></span> in <code>Tools</code></li>
</ul>
<p>&nbsp;</p>
<ul>
<li><p><span class="hl-yellow"><strong>Material</strong></span>: <a href="https://javieralvarezliebana.es/docencia/mucss-data-programming/material/"><strong>workbooks</strong></a> and extra materials.</p></li>
<li><p><span class="hl-yellow">🗃 <strong>Data</strong></span>: datasets that will be used, available on <strong><a href="https://javieralvarezliebana.es/docencia/mucss-data-programming/material" class="uri">https://javieralvarezliebana.es/docencia/mucss-data-programming/material</a></strong></p></li>
<li><p><span class="hl-yellow">📚 <strong>Extra resources</strong></span>: <a href="https://r4ds.had.co.nz/" class="uri">https://r4ds.had.co.nz/</a>, <a href="https://cdr-book.github.io/" class="uri">https://cdr-book.github.io/</a> and <a href="https://ivelasq.quarto.pub/intro-to-quarto/" class="uri">https://ivelasq.quarto.pub/intro-to-quarto/</a>.</p></li>
</ul>
</section>
<section id="datasets" class="slide level2">
<h2>Datasets</h2>
<ul>
<li><span class="hl-yellow">🗃 <strong>Data</strong></span>: datasets that will be used, available on <strong><a href="https://javieralvarezliebana.es/docencia/mucss-data-programming/material" class="uri">https://javieralvarezliebana.es/docencia/mucss-data-programming/material</a></strong></li>
</ul>
<p>&nbsp;</p>
<ul>
<li><p><code>airquality</code> from the <code>{datasets}</code> package (already installed by default): daily measurements (153 observations) of air quality in New York, from May to September 1973. Measured <strong>6 variables</strong>: ozone, solar radiation, wind, temperature, month and day.</p></li>
<li><p><code>pinniped</code> del paquete <code>{Biostatistics}</code>: <strong>peso corporal y cerebral</strong> de 33 especies de pinnípedos (morsas, leones marinos y elefantes marinos) desagregado por sexos y mono/poligamia.</p></li>
</ul>
</section>
<section id="datasets-1" class="slide level2">
<h2>Datasets</h2>
<ul>
<li><span class="hl-yellow">🗃 <strong>Data</strong></span>: datasets that will be used, available on <strong><a href="https://javieralvarezliebana.es/docencia/mucss-data-programming/material" class="uri">https://javieralvarezliebana.es/docencia/mucss-data-programming/material</a></strong></li>
</ul>
<p>&nbsp;</p>
<ul>
<li><p><code>discursos</code>: recopila los discursos de navidad de los jefes de Estado en España (en dictadura y en democracia) desde 1946 hasta 2021</p></li>
<li><p><code>relig_income</code> del paquete <code>{tidyr}</code>: recopila los datos de ingresos anuales en función de la religión (fuente original <a href="https://www.pewresearch.org/religion/religious-landscape-study/" class="uri">https://www.pewresearch.org/religion/religious-landscape-study/</a>)</p></li>
<li><p><code>who</code> del paquete <code>{tidyr}</code>: datos de la OMS respecto infecciones por tuberculosis, desagregados por tipo de enfermedad, sexo y edad.</p></li>
<li><p><code>billboard</code> del paquete <code>{tidyr}</code>: ranking top 100 de canciones según Billboard (algo parecido a Los 40) para el año 2000.</p></li>
</ul>
</section>
<section>
<section id="clase-0-1" class="title-slide slide level1 center">
<h1>L1: <span class="flow">first steps</span></h1>
<p><span style="color:#444442;"><strong>Introduction to R and RStudio. Working with projects. First uses of functions and packages. Basic data types</strong></span></p>
<ul>
<li><a href="#/tu-turno-0-1-1">💻 Solved exercises: first steps</a></li>
<li><a href="#/tu-turno-0-1-2">💻 Solved exercises: first variables</a></li>
<li><a href="#/planificacion">📆 Planning</a></li>
</ul>
</section>
<section id="requirements" class="slide level2">
<h2>Requirements</h2>
<p>For the course, the only requirements will be:</p>
<ol type="1">
<li><span class="hl-yellow"><strong>Internet connection</strong></span> (to download some data and packages).</li>
</ol>
<div class="fragment">
<ol start="2" type="1">
<li><span class="hl-yellow"><strong>Install R</strong></span>: it will be our language. We will download it (for free) from <a href="https://cran.r-project.org/" class="uri">https://cran.r-project.org/</a></li>
</ol>
</div>
<div class="fragment">
<ol start="3" type="1">
<li><span class="hl-yellow"><strong>Install RStudio</strong></span> from <a href="https://posit.co/download/rstudio-desktop/" class="uri">https://posit.co/download/rstudio-desktop/</a></li>
</ol>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/cranR.jpg" width="420"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="img/rstudio.jpg" width="420"></p>
</div>
</div>
</div>
</section>
<section id="r-vs-rstudio" class="slide level2">
<h2>R vs RStudio</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/gramatica.webp" width="360"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="img/word.jpg" width="430"></p>
</div>
</div>
<div class="fragment fade-in-then-out">
<p>We will program as we write</p>
</div>
<div class="fragment fade-up">
<ul>
<li>We will need a <span class="hl-yellow"><strong>grammar, a language</strong></span> (<code>R</code>)</li>
</ul>
<div class="fragment fade-in">
<ul>
<li>And an environment, such as <span class="hl-yellow"><strong>Word</strong></span> (<code>RStudio</code>) to write it</li>
</ul>
</div>
</div>
</section>
<section id="installing-r" class="slide level2">
<h2>Installing R</h2>
<p>The <code>R</code> language will be our <span class="hl-yellow"><strong>grammar and spelling</strong></span> (our rules of the game)</p>
<div>
<ul>
<li class="fragment"><p><span class="hl-yellow"><strong>Step 1</strong></span>: go to <a href="https://cran.r-project.org/" class="uri">https://cran.r-project.org/</a> and select your operating system.</p></li>
<li class="fragment"><p><span class="hl-yellow"><strong>Step 2</strong></span>: for Mac, simply click on the <strong>.pkg file</strong>, and open it once downloaded. For Windows systems, we need to click on <strong>install R for the first time</strong> and then on <strong>Download R for Windows</strong>. Once downloaded, open it like any installation file.</p></li>
<li class="fragment"><p><span class="hl-yellow"><strong>Step 3</strong></span>: open the installation executable.</p></li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Cuidado</strong></p>
</div>
<div class="callout-content">
<p>Whenever you need to download something from CRAN (either <code>R</code> itself or a package), <span class="hl-orange"><strong>make sure you have an internet connection</strong></span>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="first-operation" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">First operation</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p>To check the installation, after opening <code>R</code>, you should see the <code>R GUI</code> (Graphical User Interface) with a <strong>white screen</strong> similar to this (<span class="hl-yellow"><strong>console</strong></span>).</p>
</div><div class="column" style="width:40%;">
<p><img data-src="img/consola.jpg" width="200"></p>
</div>
</div>
<div class="fragment">
<p><span class="hl-yellow"><strong>First code</strong></span>: we will <strong>assign</strong> the value <code>1</code> to a variable called <code>a</code> (we will write the code in the console and press “enter”). Then we will do the sum <code>a + b</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" data-code-line-numbers="1"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb1-1" class="hljs-ln-code"><a href="#cb1-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="first-operation-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">First operation</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p>To check the installation, after opening <code>R</code>, you should see the <code>R GUI</code> (Graphical User Interface) with a <strong>white screen</strong> similar to this (<span class="hl-yellow"><strong>console</strong></span>).</p>
</div><div class="column" style="width:40%;">
<p><img data-src="img/consola.jpg" width="200"></p>
</div>
</div>
<p><span class="hl-yellow"><strong>First code</strong></span>: we will <strong>assign</strong> the value <code>1</code> to a variable called <code>a</code> (we will write the code in the console and press “enter”). Then we will do the sum <code>a + b</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb2-1" class="hljs-ln-code"><a href="#cb2-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb2-2" class="hljs-ln-code"><a href="#cb2-2"></a>b <span class="ot">&lt;-</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="first-operation-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">First operation</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p>To check the installation, after opening <code>R</code>, you should see the <code>R GUI</code> (Graphical User Interface) with a <strong>white screen</strong> similar to this (<span class="hl-yellow"><strong>console</strong></span>).</p>
</div><div class="column" style="width:40%;">
<p><img data-src="img/consola.jpg" width="200"></p>
</div>
</div>
<p><span class="hl-yellow"><strong>First code</strong></span>: we will <strong>assign</strong> the value <code>1</code> to a variable called <code>a</code> (we will write the code in the console and press “enter”). Then we will do the sum <code>a + b</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb3-1" class="hljs-ln-code"><a href="#cb3-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb3-2" class="hljs-ln-code"><a href="#cb3-2"></a>b <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb3-3" class="hljs-ln-code"><a href="#cb3-3"></a>a <span class="sc">+</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<div class="fragment">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note that…</strong></p>
</div>
<div class="callout-content">
<p>In the console, a number <code>[1]</code> appears: it’s simply an element counter (like counting rows in Word)</p>
</div>
</div>
</div>
</div>
</section>
<section id="installing-r-studio" class="slide level2">
<h2>Installing R Studio</h2>
<p><code>RStudio</code> will be the <span class="hl-yellow"><strong>Word</strong></span> we will use to write (what is known as an <span class="hl-yellow"><strong>IDE: Integrated Development Environment</strong></span>).</p>
<div>
<ul>
<li class="fragment"><p><span class="hl-yellow"><strong>Step 1</strong></span>: go to the <a href="https://posit.co/download/rstudio-desktop/">official RStudio website</a> (now called Posit) and select the free download.</p></li>
<li class="fragment"><p><span class="hl-yellow"><strong>Step 2</strong></span>: select the executable that appears according to your operating system.</p></li>
<li class="fragment"><p><span class="hl-yellow"><strong>Step 3</strong></span>: after downloading the executable, open it like any other and let the installation finish.</p></li>
</ul>
</div>
</section>
<section id="rstudio-organization" class="slide level2">
<h2>RStudio Organization</h2>
<p>When you open <code>RStudio</code> you will likely have three windows:</p>
<ul>
<li><span class="hl-yellow"><strong>Console</strong></span>: is the name for the large window that takes up most of your screen. Try writing the same code as before (the sum of the variables) in it. The console is where <strong>we will execute commands and display results</strong>.</li>
</ul>

<img data-src="img/consola_rstudio.jpg" width="420" class="r-stretch"></section>
<section id="rstudio-organization-1" class="slide level2">
<h2>RStudio Organization</h2>
<p>When you open <code>RStudio</code> you will likely have three windows:</p>
<ul>
<li><span class="hl-yellow"><strong>Environment</strong></span>: the small screen (you can adjust the margins with the mouse to your liking) that we have in the top right corner. It will show us the <strong>variables we have defined</strong>.</li>
</ul>

<img data-src="img/environment.jpg" width="420" class="r-stretch"></section>
<section id="rstudio-organization-2" class="slide level2">
<h2>RStudio Organization</h2>
<p>When you open <code>RStudio</code> you will likely have three windows:</p>
<ul>
<li><span class="hl-yellow"><strong>Multi-purpose panel</strong></span>: the window at the bottom right will be used to <strong>look for function help</strong>, as well as to <strong>visualize plots</strong>.</li>
</ul>

<img data-src="img/multiusos.jpg" width="420" class="r-stretch"></section>
<section id="what-is-r-why-r" class="slide level2">
<h2>What is R? Why R?</h2>

<img data-src="img/meme_barco.jpg" class="r-stretch"></section>
<section id="what-is-r-why-r-1" class="slide level2">
<h2>What is R? Why R?</h2>

<img data-src="img/incel_excel.png" class="r-stretch"><p><code>R</code> is the evolution of the work of Bell Laboratories with the <code>S</code> language, which was brought into the open-source world by Ross Ihaka and Robert Gentleman in the 1990s. The version <code>R 1.0.0</code> was released on February 29, 2000.</p>
</section>
<section id="what-is-r-why-r-2" class="slide level2">
<h2>What is R? Why R?</h2>
<p><code>R</code> is the <span class="hl-yellow"><strong>statistical language par excellence</strong></span>, created by and for statisticians, with 6 fundamental advantages <span class="hl-red"><strong>over Excel, SAS, Stata, or SPSS</strong></span>:</p>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Programming language</strong></span>: the obvious → <span class="hl-purple"><strong>replicable</strong></span> analysis</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Free</strong></span>: the philosophy of the <code>R</code> community is to share code under <strong>copyleft</strong> → <strong>ethical use of spending and algorithms</strong></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Open-source software</strong></span>: not only is it free, but it also allows free access to others’ code, even to the <strong>source code itself</strong> → <span class="hl-purple"><strong>flexibility and transparency</strong></span> (Free and Open Source Software FOSS)</li>
</ul>
</div>
</section>
<section id="what-is-r-why-r-3" class="slide level2">
<h2>What is R? Why R?</h2>
<p><code>R</code> is the <span class="hl-yellow"><strong>statistical language par excellence</strong></span>, created by and for statisticians, with 6 fundamental advantages <span class="hl-red"><strong>over Excel, SAS, Stata, or SPSS</strong></span>:</p>
<ul>
<li><span class="hl-yellow"><strong>Modular language</strong></span>: we have installed the minimum, but there are codes from other people that we can reuse (almost 20,000 <span class="hl-yellow"><strong>packages</strong></span>) → <span class="hl-purple"><strong>time saving</strong></span> and <span class="hl-purple"><strong>immediate innovation</strong></span></li>
</ul>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>High-level language</strong></span>: facilitates programming (like Python) → <span class="hl-purple"><strong>lower learning curve</strong></span></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Community and employability</strong></span>: along with Python, it is the most used language in the field of statistics and data science in research, teaching, companies (Línea Directa, Mapfre, Telefónica, Orange, Apple, Spotify, Netflix, El País, Civio, HP, etc.) and public organizations (ISCIII, CNIC, CNIO, INE, IGN, CIS, CEO, DGT, AEMET, RTVE, etc.)</li>
</ul>
</div>
</section>
<section id="why-programming" class="slide level2">
<h2>Why programming?</h2>
<ul>
<li><p><span class="hl-yellow"><strong>Automate</strong></span> → it will allow you to automate recurring tasks.</p></li>
<li><p><span class="hl-yellow"><strong>Replicability</strong></span> → you will be able to replicate your analysis in the same way every time.</p></li>
<li><p><span class="hl-yellow"><strong>Flexibility</strong></span> → you will be able to adapt the software to your needs.</p></li>
<li><p><span class="hl-yellow"><strong>Transparency</strong></span> → to be audited by the community.</p></li>
</ul>

<img data-src="img/the_general_problem.png" class="r-stretch"></section>
<section id="fundamental-idea-packages" class="slide level2">
<h2>Fundamental Idea: Packages</h2>
<p>One of the key ideas of <code>R</code> is the <span class="hl-yellow"><strong>use of packages</strong></span>: codes that other people have implemented to <strong>solve a problem</strong></p>
<div class="columns">
<div class="column" style="width:35%;">
<p><img data-src="img/paquetes.png"></p>
</div><div class="column" style="width:65%;">
<div class="fragment" data-fragment-index="1">
<ul>
<li><span class="hl-yellow"><strong>Installation</strong></span>: we download the codes from the web (we need internet) → <span class="hl-purple"><strong>buy a book</strong></span>, only once (per computer)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">install.packages</span>(<span class="st">"ggplot2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment" data-fragment-index="2">
<ul>
<li><span class="hl-yellow"><strong>Loading</strong></span>: with the package downloaded, we indicate which packages we want to use each time we open <code>RStudio</code> → <span class="hl-purple"><strong>take the book off the shelf</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="fundamental-idea-packages-1" class="slide level2">
<h2>Fundamental Idea: Packages</h2>
<div class="columns">
<div class="column" style="width:35%;">
<p><img data-src="img/paquetes.png"></p>
</div><div class="column" style="width:65%;">
<p>Once installed, there are <strong>two ways to use a package</strong> (take it off the shelf)</p>
<div class="fragment" data-fragment-index="1">
<ul>
<li><span class="hl-yellow"><strong>Whole package</strong></span>: with <code>library()</code>, using the package name without quotes, we load <span class="hl-purple"><strong>the whole book</strong></span> into the session</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment" data-fragment-index="2">
<ul>
<li><span class="hl-yellow"><strong>Specific functions</strong></span> using `package::function+ we indicate that we only want <span class="hl-purple"><strong>a specific page of that book</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>ggplot2<span class="sc">::</span><span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="you-will-be-wrong" class="slide level2">
<h2>You will be wrong</h2>
<p>During your learning, it will be very common for things not to work out on the first try → <span class="hl-yellow"><strong>you will be wrong</strong></span>. It will not only be important to accept it but also <span class="hl-yellow"><strong>to read the error messages</strong></span> to learn from them.</p>
<div class="fragment">
<ul>
<li><span class="hl-red"><strong>Error messages</strong></span>: preceded by <strong>“Error in…”</strong> and will be those failures that <span class="hl-red"><strong>prevent execution</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="st">"a"</span> <span class="sc">+</span> <span class="dv">1</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in "a" + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li><span class="hl-orange"><strong>Warning messages</strong></span>: preceded by <strong>«Warning in…»</strong> they are the (possible) more delicate errors as they are inconsistencies that <span class="hl-orange"><strong>do not prevent execution</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># Ejecuta la orden pero el resultado es NaN, **Not A Number**, un valor que no existe</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="fu">sqrt</span>(<span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in sqrt(-1): NaNs produced</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NaN</code></pre>
</div>
</div>
</div>
</section>
<section id="scripts-.r-files" class="slide level2">
<h2>Scripts (.R files)</h2>
<div class="columns">
<div class="column" style="width:35%;">
<p><img data-src="img/abrir_script.jpg" width="350"></p>
</div><div class="column" style="width:65%;">
<p>A <span class="hl-yellow"><strong>script</strong></span> will be the document in which we program, our <code>.doc</code> file (here with a <code>.R</code> extension) where we will write the commands. To <strong>open our first script</strong>, click on the menu in <code>File &lt; New File &lt; R Script</code>.</p>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Be careful</strong></p>
</div>
<div class="callout-content">
<p>It’s important <strong>not to overuse the console</strong>: everything you don’t write in a script, when you close, <span class="hl-orange"><strong>will be lost</strong></span>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Be careful</strong></p>
</div>
<div class="callout-content">
<p><code>R</code> is <span class="hl-orange"><strong>case-sensitive</strong></span>: it is sensitive to uppercase and lowercase, so <code>x</code> and <code>X</code> represent different variables.</p>
</div>
</div>
</div>
</section>
<section id="running-the-first-script" class="slide level2">
<h2>Running the first script</h2>
<p>Now we have a <strong>fourth window</strong>: the window where we will <span class="hl-yellow"><strong>write our codes</strong></span>. How do we run it?</p>
<div class="fragment">
<ol type="1">
<li><strong>Write the code</strong> to be executed.</li>
</ol>
</div>
<div class="fragment">
<ol start="2" type="1">
<li><strong>Save the .R file</strong> by clicking on <code>Save current document</code>.</li>
</ol>
</div>
<div class="fragment">
<ol start="3" type="1">
<li>The code does not execute unless we indicate it. We have <strong>three options to run a script</strong>:</li>
</ol>
<ul>
<li><span class="hl-yellow"><strong>Copy and paste</strong></span> into the console.</li>
<li><span class="hl-yellow"><strong>Select lines</strong></span> and press <code>Ctrl+Enter</code></li>
<li><span class="hl-yellow"><strong>Enable Source on Save</strong></span> next to save: not only saves but also executes the <strong>entire code</strong>.</li>
</ul>
</div>
</section>
<section id="organizing-projects" class="slide level2">
<h2>Organizing: projects</h2>
<p>Just as we usually work <span class="hl-yellow"><strong>organized by folders</strong></span> on the computer, in <code>RStudio</code> we can do the same to work <span class="hl-yellow"><strong>efficiently by creating projects</strong></span>.</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:60%;">
<p>A <span class="hl-yellow"><strong>project will be a “folder”</strong></span> within <code>RStudio</code>, so our root directory will automatically be the project folder itself (allowing us to switch from one project to another using the top right menu).</p>
<p>We can create one in a new folder or in an existing folder.”</p>
</div><div class="column" style="width:40%;">
<p><img data-src="img/rstudio_proyectos.png" width="370"></p>
</div>
</div>
</div>
</section>
<section id="tu-turno-0-1-1" class="slide level2">
<h2>💻 It’s your turn</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1"><span class="hl-yellow"><strong>Exercise 1</strong></span></a></li><li><a href="#tabset-1-2"><span class="hl-yellow"><strong>Exercise 2</strong></span></a></li><li><a href="#tabset-1-3"><span class="hl-yellow"><strong>Exercise 3</strong></span></a></li><li><a href="#tabset-1-4"><span class="hl-yellow"><strong>Exercise 4</strong></span></a></li><li><a href="#tabset-1-5"><span class="hl-yellow"><strong>Exercise 5</strong></span></a></li><li><a href="#tabset-1-6"><span class="hl-yellow"><strong>Exercise 6</strong></span></a></li><li><a href="#tabset-1-7"><span class="hl-yellow"><strong>Exercise 7</strong></span></a></li><li><a href="#tabset-1-8"><span class="hl-yellow"><strong>Exercise 8</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<p>📝 Create in your computer a folder of the subject and create inside it the <code>RStudio</code> project: it is there where you are going to save everything that we will do along this course, after creating the project you will have an <code>R Project</code> file. Then create in this folder two subfolders: <code>data</code> (this is where you will save the different datasets that we will use) and <code>scripts</code> (this is where you will save the <code>.R</code> files of each class).</p>
</div>
<div id="tabset-1-2">
<p>📝 Inside the project create a script <code>Exercises-class1.R</code> (inside the <code>scripts</code> folder). Once created, define in it a variable named <code>a</code> and whose value is -1. Execute the code in the (three) ways explained before.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>a <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-3">
<p>📝 Add below another line to define a variable <code>b</code> with the value 5. Then save the multiplication of both variables. Execute the code as you want.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>b <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>a <span class="sc">*</span> b <span class="co"># without saving it</span></span>
<span id="cb15-3"><a href="#cb15-3"></a>mult <span class="ot">&lt;-</span> a <span class="sc">*</span> b <span class="co"># save it</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-4">
<p>📝 Modify the code below to define two variables c and d, with values 3 and -1. Then divide the variables and save the result.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>c <span class="ot">&lt;-</span> <span class="co"># you should assign 3</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>d <span class="ot">&lt;-</span> <span class="co"># you should assign -1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>c <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>d <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb17-3"><a href="#cb17-3"></a>c <span class="sc">/</span> d</span>
<span id="cb17-4"><a href="#cb17-4"></a>div <span class="ot">&lt;-</span> c <span class="sc">/</span> d</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-5">
<p>📝 Assign to <code>x</code> a positive value and then compute its square root; assign to <code>y</code> a negative number and compute its absolute value using <code>abs()</code>.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="fu">sqrt</span>(x)</span>
<span id="cb18-3"><a href="#cb18-3"></a></span>
<span id="cb18-4"><a href="#cb18-4"></a>y <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">2</span></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="fu">abs</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note that…</strong></p>
</div>
<div class="callout-content">
<p>Commands like <code>sqrt()</code>, <code>abs()</code> or <code>max()</code> are what we call <span class="hl-purple"><strong>functions</strong></span>: lines of code that we have “encapsulated” under a name, and given some input arguments, execute the commands (a sort of shortcut). In the functions the <span class="hl-yellow"><strong>arguments will ALWAYS be enclosed in parentheses</strong></span></p>
</div>
</div>
</div>
</div>
<div id="tabset-1-6">
<p>📝 Using the variable <code>x</code> already defined, complete/modify the code below to store in a new variable <code>z</code> the result stored in <code>x</code> minus 5.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>z <span class="ot">&lt;-</span> ? <span class="sc">-</span> ? <span class="co"># complete the code</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>z <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="dv">5</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-7">
<p>📝 Define an <code>x</code> variable and assign it the value <code>-1</code>. Define another <code>y</code> and assign it the value <code>0</code>. Then perform the operations a) <code>x</code> by <code>y</code>; b) square root of <code>x</code>. What do you get?</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>x <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb21-2"><a href="#cb21-2"></a>y <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb21-3"><a href="#cb21-3"></a></span>
<span id="cb21-4"><a href="#cb21-4"></a>x <span class="sc">/</span> y</span>
<span id="cb21-5"><a href="#cb21-5"></a><span class="fu">sqrt</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-8">
<p>📝 Write the code below in your script. Why do you think it doesn’t work?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>x <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>y <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb22-3"><a href="#cb22-3"></a></span>
<span id="cb22-4"><a href="#cb22-4"></a>X <span class="sc">+</span> y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'X' not found</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="from-cell-to-table" class="slide level2">
<h2>From CELL to TABLE</h2>
<p>What <span class="hl-yellow"><strong>data type</strong></span> can we have in each <strong>cell of a table</strong>?</p>

<img data-src="img/celdas.jpg" class="r-stretch"><div>
<ul>
<li class="fragment"><span class="hl-yellow"><strong>Cell</strong></span>: an individual piece of data of a specific type.</li>
<li class="fragment"><span class="hl-yellow"><strong>Variable</strong></span>: <strong>concatenation</strong> of values of the same type (<span class="hl-purple"><strong>vectors in R</strong></span>).</li>
<li class="fragment"><span class="hl-yellow"><strong>Matrix</strong></span>: concatenation of variables of the <strong>same type and length</strong>.</li>
<li class="fragment"><span class="hl-yellow"><strong>Table</strong></span>: concatenation of variables of <span class="hl-purple"><strong>different types but the same length</strong></span></li>
<li class="fragment"><span class="hl-yellow"><strong>List</strong></span>: concatenation of variables of <span class="hl-purple"><strong>different types and different lengths</strong></span></li>
</ul>
</div>
</section>
<section id="but-firstbest-practices" class="slide level2">
<h2>But first…best practices</h2>
<p>Before we continue, it’s important to know something as soon as possible: <span class="hl-yellow"><strong>starting with programming can be frustrating</strong></span></p>
<div class="fragment">
<p>Just like when learning a new language, the first obstacle is not so much what to say but how to say it correctly. The same goes for <code>R</code>, so let’s <span class="hl-yellow"><strong>standardize our programming style</strong></span> as much as possible to avoid future errors.</p>
</div>
<div class="fragment">
<ul>
<li><span class="hl-green"><strong>Tip 1</strong></span>: <span class="hl-yellow"><strong>assignment, evaluation, and comparison are not the same</strong></span>. If you’ve noticed in <code>R</code>, we use <code>&lt;-</code> to assign values to variables. We use <code>=</code> to evaluate function arguments and <code>==</code> to check if two elements are equal.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co"># asign</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>x <span class="ot">=</span> <span class="dv">1</span> <span class="co"># evaluation</span></span>
<span id="cb24-3"><a href="#cb24-3"></a>x <span class="sc">==</span> <span class="dv">1</span> <span class="co"># comparison</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="but-firstbest-practices-1" class="slide level2">
<h2>But first…best practices</h2>
<ul>
<li><span class="hl-green"><strong>Tip 2</strong></span>: program like you write. Just like when writing in Spanish, get used to incorporating <span class="hl-yellow"><strong>spaces and line breaks</strong></span> to avoid making your code hard to read (it’s a good practice, not a requirement, because <code>R</code> does not process spaces).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co"># optimal</span></span>
<span id="cb25-2"><a href="#cb25-2"></a>x<span class="ot">&lt;-</span><span class="dv">1</span> <span class="co"># meh</span></span>
<span id="cb25-3"><a href="#cb25-3"></a>x<span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co"># worst (make up your mind)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<ul>
<li><span class="hl-green"><strong>Tip 3</strong></span>: don’t be chaotic, <span class="hl-yellow"><strong>standardize names</strong></span>. Always get used to naming variables consistently. The only requirement is that <strong>they must always start with a letter</strong> (and without accents). The most recommended form is <code>snake_case</code>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>variable_in_snake_case</span>
<span id="cb26-2"><a href="#cb26-2"></a>anotherHarderToReadFormat</span>
<span id="cb26-3"><a href="#cb26-3"></a>there.are.people.who.use.this</span>
<span id="cb26-4"><a href="#cb26-4"></a>Even_People_Here.Confusing_That_Do_Not_Deserve_Our_ATTENTION</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="but-firstbest-practices-2" class="slide level2">
<h2>But first…best practices</h2>
<ul>
<li><span class="hl-green"><strong>Tip 4</strong></span>: make reading and writing easier, <span class="hl-yellow"><strong>set limits</strong></span>. In <code>Tools &lt; Global Options</code>, you can customize some options in <code>RStudio</code>. In <code>Code &lt; Display</code>, you can set <code>Show margin</code> to display an “imaginary” margin (not interacting with the code) to “force” you to make line breaks.</li>
</ul>

<img data-src="img/show_margin.jpg" class="r-stretch"></section>
<section id="but-firstbest-practices-3" class="slide level2">
<h2>But first…best practices</h2>
<ul>
<li><span class="hl-green"><strong>Tip 5</strong></span>: the <span class="hl-yellow"><strong>tab key is your best friend</strong></span>. In <code>RStudio</code>, there’s a wonderful tool: if you type part of a variable or function name and press tab, <code>RStudio</code> will autocomplete it for you.</li>
</ul>

<img data-src="img/tab-autocompletar.png" class="r-stretch"></section>
<section id="but-firstbest-practices-4" class="slide level2">
<h2>But first…best practices</h2>
<ul>
<li><span class="hl-green"><strong>Tip 6</strong></span>: no single parentheses. Whenever you open a parenthesis, you must close it. To make this task easier, go to <code>Tools &lt; Global Options &lt; Code &lt; Display</code> and enable the <code>Rainbow parentheses option</code>.</li>
</ul>

<img data-src="img/rainbow-parentheses.jpg" class="r-stretch"></section>
<section id="but-firstbest-practices-5" class="slide level2">
<h2>But first…best practices</h2>
<ul>
<li><span class="hl-green"><strong>Tip 7</strong></span>: pay attention to the left side. You will not only see the line of code you are on but also, in case of a <span class="hl-red"><strong>syntax error</strong></span>, <code>RStudio</code> will notify you.</li>
</ul>

<img data-src="img/rstudio-error-sintaxis.png" class="r-stretch"><ul>
<li><span class="hl-green"><strong>Tip 8</strong></span>: try to <span class="hl-yellow"><strong>always work by projects</strong></span> (for this class, create a script <code>class1.R</code> in the project we created before)</li>
</ul>
<p>&nbsp;</p>
<p>See more tips at <a href="https://r4ds.had.co.nz/workflow-basics.html#whats-in-a-name" class="uri">https://r4ds.had.co.nz/workflow-basics.html#whats-in-a-name</a></p>
</section>
<section id="cells-data-types" class="slide level2">
<h2>Cells: data types</h2>
<p>Are there <span class="hl-yellow"><strong>variables beyond numbers in data science</strong></span>? For example, think about the data you might store about a person:</p>
<div class="fragment fade-up">
<ul>
<li>Age or weight will be a <span class="hl-yellow"><strong>number</strong></span>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>age <span class="ot">&lt;-</span> <span class="dv">33</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment fade-up">
<ul>
<li>Their name will be a string of <span class="hl-yellow"><strong>text (known as string or char)</strong></span>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>name <span class="ot">&lt;-</span> <span class="st">"javi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment fade-up">
<ul>
<li>The answer to the question “Are you enrolled in the Faculty?” will be what we call a <span class="hl-yellow"><strong>logical variable</strong></span> (<code>TRUE</code> if enrolled or <code>FALSE</code> otherwise).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>enrolled <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment fade-up">
<ul>
<li>Their date of birth will be precisely that, a <span class="hl-yellow"><strong>date</strong></span>.</li>
</ul>
</div>
</section>
<section id="numerical-variables" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Numerical variables</h2>
<p>The simplest data (which we’ve already used) will be <span class="hl-yellow"><strong>numeric variables</strong></span>. To find out the <span class="hl-yellow"><strong>data class in R</strong></span> of a variable, we use the <code>class()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30" data-code-line-numbers="1"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb30-1" class="hljs-ln-code"><a href="#cb30-1"></a>a <span class="ot">&lt;-</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="numerical-variables-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Numerical variables</h2>
<p>The simplest data type (we have already used it) will be the <span class="hl-yellow"><strong>numeric variables</strong></span>. To know the <span class="hl-yellow"><strong>data class in R</strong></span> of a variable we have the function <code>class()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>a <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="fu">class</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>To know its <span class="hl-yellow"><strong>typology (format)</strong></span> variable we have <code>typeof()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="fu">typeof</span>(<span class="dv">1</span>) <span class="co"># 1 value but stored as a real number (double precision)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">typeof</span>(<span class="fu">as.integer</span>(<span class="dv">1</span>)) <span class="co"># 1 value but stored as a floor number</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note that…</strong></p>
</div>
<div class="callout-content">
<p>In <code>R</code> we have a collection of functions starting with <code>as.x()</code> that serve as <span class="hl-yellow"><strong>conversion functions</strong></span>: a data that was of one type, we convert it to type <code>x</code>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="numerical-variables-2" class="slide level2">
<h2>Numerical variables</h2>
<p>In addition to the “common” numbers we will have the <span class="hl-yellow"><strong>plus/minus infinity</strong></span> coded as <code>Inf</code> or <code>-Inf</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="dv">1</span><span class="sc">/</span><span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Inf</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="sc">-</span><span class="dv">1</span><span class="sc">/</span><span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -Inf</code></pre>
</div>
</div>
<div class="fragment">
<p>And values that <span class="hl-yellow"><strong>are not real numbers</strong></span> <em>not a number</em> (indeterminacies, complexes numbers, etc) encoded as <code>NaN</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="dv">0</span><span class="sc">/</span><span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NaN</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="fu">sqrt</span>(<span class="sc">-</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NaN</code></pre>
</div>
</div>
</div>
</section>
<section id="numerical-variables-3" class="slide level2">
<h2>Numerical variables</h2>
<p>With numeric variables we can perform the <span class="hl-yellow"><strong>arithmetic operations</strong></span> of a calculator: adding (<code>+</code>)…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>a <span class="sc">+</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
</div>
<div class="fragment">
<p>…square root (<code>sqrt()</code>)…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="fu">sqrt</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.236068</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>… power (<code>^2</code>, <code>^3</code>)…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>a<span class="sc">^</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 25</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>…absolute value (<code>abs()</code>), etc.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a><span class="fu">abs</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
</div>
</section>
<section id="string-variables" class="slide level2">
<h2>String variables</h2>
<p>Let us imagine that, in addition to the age of a person we want to store his/her name: now the variable will be of type <code>character</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>name <span class="ot">&lt;-</span> <span class="st">"Javi"</span></span>
<span id="cb52-2"><a href="#cb52-2"></a><span class="fu">class</span>(name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<div class="fragment">
<p>The <span class="hl-yellow"><strong>text strings</strong></span> are a type with which we obviously <span class="hl-red"><strong>cannot perform arithmetic operations</strong></span> (other operations such as pasting or locating patterns can be performed).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>name <span class="sc">+</span> <span class="dv">1</span> <span class="co"># error when we try to sum 1 to a text</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in name + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Reminder</strong></p>
</div>
<div class="callout-content">
<p>Text variables (character or string) are <span class="hl-orange">** ALWAYS in quotes**</span>: <code>TRUE</code> (logical, binary value) is not the same as <code>"TRUE"</code> (text).</p>
</div>
</div>
</div>
</div>
</section>
<section id="first-function-paste" class="slide level2">
<h2>First function: paste</h2>
<p>As we have commented <code>R</code> we will call <span class="hl-yellow"><strong>function</strong></span> a piece of <span class="hl-yellow"><strong>encapsulated code</strong></span> under a name, and which depends on some input <span class="hl-yellow"><strong>arguments</strong></span>. Our first function will be <code>paste()</code>: given two strings, it allows us to paste them together.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a><span class="fu">paste</span>(<span class="st">"Javi"</span>, <span class="st">"Álvarez"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Javi Álvarez"</code></pre>
</div>
</div>
<div class="fragment">
<p>Note that <span class="hl-yellow"><strong>default</strong></span> pastes strings with a space, but we can add an <span class="hl-yellow"><strong>optional argument</strong></span> to tell it the separator (in <code>sep = ...</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="fu">paste</span>(<span class="st">"Javi"</span>, <span class="st">"Álvarez"</span>, <span class="at">sep =</span> <span class="st">"*"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Javi*Álvarez"</code></pre>
</div>
</div>
</div>
</section>
<section id="first-function-paste-1" class="slide level2">
<h2>First function: paste</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/paste_help.jpg"></p>
</div><div class="column" style="width:50%;">
<p>How do I know <span class="hl-yellow"><strong>what arguments does a function need</strong></span>?</p>
<p>By typing <code>? paste</code> in the console, you will get a <span class="hl-yellow"><strong>help</strong></span> in the multipurpose panel, where you can see in its header what arguments the function already has <span class="hl-yellow"><strong>default arguments</strong></span> assigned to it.</p>
</div>
</div>
<div class="fragment">
<p>There is a similar function called <code>paste0()</code> that pastes by default with <code>sep = “”</code> (without anything).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="fu">paste0</span>(<span class="st">"Javi"</span>, <span class="st">"Álvarez"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "JaviÁlvarez"</code></pre>
</div>
</div>
</div>
</section>
<section id="first-function-paste-2" class="slide level2">
<h2>First function: paste</h2>
<p>The arguments (and their detail) can also be consulted by <strong>tabulating (after a comma)</strong>.</p>

<img data-src="img/tab-functions.png" class="r-stretch"></section>
<section id="functions-default-arguments" class="slide level2">
<h2>Functions: default arguments</h2>
<p>It is very important to understand the concept of <span class="hl-yellow"><strong>default argument of a function</strong></span> in <code>R</code>: it is a value that the function uses but sometimes we may not see because <span class="hl-yellow"><strong>already has a value assigned</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a><span class="co"># Same</span></span>
<span id="cb62-2"><a href="#cb62-2"></a><span class="fu">paste</span>(<span class="st">"Javi"</span>, <span class="st">"Álvarez"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Javi Álvarez"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a><span class="fu">paste</span>(<span class="st">"Javi"</span>, <span class="st">"Álvarez"</span>, <span class="at">sep =</span> <span class="st">" "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Javi Álvarez"</code></pre>
</div>
</div>
<div class="fragment">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Fíjate que...</strong></p>
</div>
<div class="callout-content">
<p>The <code>=</code> operator is <span class="hl-yellow"><strong>reserved for assigning arguments</strong></span> within functions. For all other assignments, we will use <code>&lt;-</code>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="first-package-glue" class="slide level2">
<h2>First package: glue</h2>
<p>A more intuitive way to work with text is to use the <code>{glue}</code> package: the first thing to do is to “buy the book” (if we have never done it before). After that <span class="hl-yellow"><strong>load the package</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a><span class="fu">install.packages</span>(<span class="st">"glue"</span>) <span class="co"># just the first time</span></span>
<span id="cb66-2"><a href="#cb66-2"></a><span class="fu">library</span>(glue)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>With the <code>glue()</code> function of that package we can use <span class="hl-yellow"><strong>variables inside strings</strong></span>. For example, “age is … years old”, where the age is stored in a variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a>age <span class="ot">&lt;-</span> <span class="dv">34</span></span>
<span id="cb67-2"><a href="#cb67-2"></a><span class="fu">glue</span>(<span class="st">"I am {age} old"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>I am 34 old</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>Within the keys we can also <span class="hl-yellow"><strong>execute operations</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a>units <span class="ot">&lt;-</span> <span class="st">"days"</span></span>
<span id="cb69-2"><a href="#cb69-2"></a><span class="fu">glue</span>(<span class="st">"I am {age * 365} {units} old"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>I am 12410 days old</code></pre>
</div>
</div>
</div>
</section>
<section id="logical-variables" class="slide level2">
<h2>Logical variables</h2>
<p>Another fundamental type will be the <span class="hl-yellow"><strong>logical or binary variables</strong></span> (<strong>two values</strong>):</p>
<ul>
<li><p><code>TRUE</code>: <span class="hl-yellow"><strong>true</strong></span> stored internally as a 1.</p></li>
<li><p><code>FALSE</code>: <span class="hl-yellow"><strong>false</strong></span> stored internally as a 0.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a>single <span class="ot">&lt;-</span> <span class="cn">FALSE</span> <span class="co"># Single? --&gt; NO</span></span>
<span id="cb71-2"><a href="#cb71-2"></a><span class="fu">class</span>(single)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "logical"</code></pre>
</div>
</div>
<div class="fragment">
<p>Since they are stored internally as binary variables, we can <span class="hl-yellow"><strong>perform arithmetic operations</strong></span> on them</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a><span class="dv">2</span> <span class="sc">*</span> <span class="cn">TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a><span class="cn">FALSE</span> <span class="sc">-</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -1</code></pre>
</div>
</div>
</div>
</section>
<section id="logical-variables-1" class="slide level2">
<h2>Logical variables</h2>
<p>As we will see shortly, logical variables can actually take a third value: <code>NA</code> or <span class="hl-yellow"><strong>missing data</strong></span>, representing <em>not available</em>, and it will be very common to find it within a database.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a>missing <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb77-2"><a href="#cb77-2"></a>missing <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<div class="fragment">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<p>Logical variables <span class="hl-red"><strong>NOT text variables</strong></span>: <code>"TRUE"</code> is a text, <code>TRUE</code> is a logical value.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a><span class="cn">TRUE</span> <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a><span class="st">"TRUE"</span> <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in "TRUE" + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="logical-conditions" class="slide level2">
<h2>Logical conditions</h2>
<p>Logical values are usually the result of <span class="hl-yellow"><strong>evaluate logical conditions</strong></span>. For example, imagine that we want to <span class="hl-yellow"><strong>check</strong></span> whether a person is named Javi.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a>name <span class="ot">&lt;-</span> <span class="st">"María"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>With the <span class="hl-yellow"><strong>logical operator</strong></span> <code>==</code> we ask if what we have stored on the left is <span class="hl-purple"><strong>same as</strong></span> what we have on the right: <span class="hl-yellow"><strong>we ASK</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a>name <span class="sc">==</span> <span class="st">"Javi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>With its opposite <code>!=</code> we ask <span class="hl-purple"><strong>if different</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a>name <span class="sc">!=</span> <span class="st">"Javi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note that…</strong></p>
</div>
<div class="callout-content">
<p>It is not the same <code>&lt;-</code> (<span class="hl-yellow"><strong>assignment</strong></span>) as <code>==</code> (we are <span class="hl-yellow"><strong>asking</strong></span>, it is a logical comparison).</p>
</div>
</div>
</div>
</div>
</section>
<section id="logical-conditions-1" class="slide level2">
<h2>Logical conditions</h2>
<p>In addition to “equal to” versus “different” comparisons, also order comparisons such as <span class="hl-purple"><strong>less than</strong></span> <code>&lt;</code>, <span class="hl-purple"><strong>greater than</strong></span> <code>&gt;</code>, <code>&lt;=</code> or <code>&gt;=</code>. <strong>Is the person less than 32 years old?</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1"></a>age <span class="ot">&lt;-</span> <span class="dv">34</span></span>
<span id="cb88-2"><a href="#cb88-2"></a>age <span class="sc">&lt;</span> <span class="dv">32</span> <span class="co"># less than 32 years old?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<div class="fragment">
<p><strong>Age is greater than or equal to 38 years?</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a>age <span class="sc">&gt;=</span> <span class="dv">38</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p><strong>Is the saved name equal to Javi?</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a>name <span class="ot">&lt;-</span> <span class="st">"Javi"</span></span>
<span id="cb92-2"><a href="#cb92-2"></a>name <span class="sc">==</span> <span class="st">"Javi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</div>
</section>
<section id="date-variables" class="slide level2">
<h2>Date variables</h2>
<p>A very special data type: the <span class="hl-yellow"><strong>date type data</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1"></a>date_char <span class="ot">&lt;-</span> <span class="st">"2021-04-21"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It looks like a simple text string but <span class="hl-yellow"><strong>should represent an instant in time</strong></span>. What should happen if <span class="hl-purple"><strong>we add a 1 to a date</strong></span>?</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a>date_char <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in date_char + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
<p>Dates <span class="hl-red"><strong>cannot be string/text</strong></span>: we must convert the text string to date.</p>
</div>
<div class="fragment">
<p>&nbsp;</p>
<p>To work with dates we will use the <code>{lubridate}</code> package, which we must install before we can use it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a><span class="fu">install.packages</span>(<span class="st">"lubridate"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="date-variables-1" class="slide level2">
<h2>Date variables</h2>
<p>Once installed, of all the packages (books) that we have, we will indicate it to load this one concretely.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1"></a><span class="fu">library</span>(lubridate) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>To <span class="hl-yellow"><strong>convert to date type</strong></span> we will use the <code>as_date()</code> function of the <code>{lubridate}</code> package (default in <code>yyyy-mm-dd</code> format).</p>
<p>&nbsp;</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a><span class="co"># it's not a date, it's a text!</span></span>
<span id="cb99-2"><a href="#cb99-2"></a>date_char <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in date_char + 1: non-numeric argument to binary operator</code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a><span class="fu">class</span>(date_char)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a>date <span class="ot">&lt;-</span> <span class="fu">as_date</span>(<span class="st">"2023-03-28"</span>)</span>
<span id="cb103-2"><a href="#cb103-2"></a>date <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-03-29"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a><span class="fu">class</span>(date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="date-variables-2" class="slide level2">
<h2>Date variables</h2>
<p>In <code>as_date()</code> the default date format is <code>yyyy-mm-dd</code> so if the string is not entered correctly…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a><span class="fu">as_date</span>(<span class="st">"28-08-2024"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<div class="fragment">
<p>For <span class="hl-yellow"><strong>any other format we must specify it</strong></span> in the optional argument <code>format = ...</code> such that <code>%d</code> represents days, <code>%m</code> months, <code>%Y</code> in 4-year format and <code>%y</code> in 2-year format.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1"></a><span class="fu">as_date</span>(<span class="st">"28-03-2023"</span>, <span class="at">format =</span> <span class="st">"%d-%m-%Y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-03-28"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1"></a><span class="fu">as_date</span>(<span class="st">"28-03-23"</span>, <span class="at">format =</span> <span class="st">"%d-%m-%y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-03-28"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1"></a><span class="fu">as_date</span>(<span class="st">"03-28-2023"</span>, <span class="at">format =</span> <span class="st">"%m-%d-%Y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-03-28"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1"></a><span class="fu">as_date</span>(<span class="st">"28/03/2023"</span>, <span class="at">format =</span> <span class="st">"%d/%m/%Y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-03-28"</code></pre>
</div>
</div>
</div>
</section>
<section id="date-variables-3" class="slide level2">
<h2>Date variables</h2>
<p>In this package we have very useful functions for <span class="hl-yellow"><strong>date management</strong></span>:</p>
<ul>
<li>With <code>today()</code> we can directly obtain the <span class="hl-purple"><strong>current date</strong></span>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1"></a><span class="fu">today</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-08-30"</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li>With <code>now()</code> we can obtain <span class="hl-purple"><strong>current date and time</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1"></a><span class="fu">now</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-08-30 14:16:07 CEST"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li>With <code>year()</code>, <code>month()</code> or <code>day()</code> we can <span class="hl-purple"><strong>extract year, month and day</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1"></a>date_today <span class="ot">&lt;-</span> <span class="fu">today</span>()</span>
<span id="cb121-2"><a href="#cb121-2"></a><span class="fu">year</span>(date_today)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2024</code></pre>
</div>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1"></a><span class="fu">month</span>(date_today)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
</div>
</div>
</section>
<section id="cheatsheets" class="slide level2">
<h2>Cheatsheets</h2>

<img data-src="img/lubridate.png" class="r-stretch"><div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>More information</strong></p>
</div>
<div class="callout-content">
<p>You have a pdf summary of the most important packages in the <span class="hl-green"><strong>corresponding folder on campus</strong></span></p>
</div>
</div>
</div>
</section>
<section id="tu-turno-0-1-2" class="slide level2">
<h2>💻 It’s your turn</h2>
<p><span style="color:#444442;"><strong>Try to perform the following exercises without looking at the solutions</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1"><span class="hl-yellow"><strong>Exercise 1</strong></span></a></li><li><a href="#tabset-2-2"><span class="hl-yellow"><strong>Exercise 2</strong></span></a></li><li><a href="#tabset-2-3"><span class="hl-yellow"><strong>Exercise 3</strong></span></a></li><li><a href="#tabset-2-4"><span class="hl-yellow"><strong>Exercise 4</strong></span></a></li><li><a href="#tabset-2-5"><span class="hl-yellow"><strong>Exercise 5</strong></span></a></li><li><a href="#tabset-2-6"><span class="hl-yellow"><strong>Exercise 6</strong></span></a></li><li><a href="#tabset-2-7"><span class="hl-yellow"><strong>Exercise 7</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<p>📝 Define a variable that stores your age (called <code>age</code>) and another with your name (called <code>name</code>).</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1"></a>age <span class="ot">&lt;-</span> <span class="dv">34</span></span>
<span id="cb125-2"><a href="#cb125-2"></a>name <span class="ot">&lt;-</span> <span class="st">"Javi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-2">
<p>📝 Check with this variable <code>age</code> if it is NOT 60 years old or if it is called <code>"Ornitorrinco"</code> (you must obtain logical variables as a result).</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1"></a>age <span class="sc">!=</span> <span class="dv">60</span> <span class="co"># different to</span></span>
<span id="cb126-2"><a href="#cb126-2"></a>name <span class="sc">==</span> <span class="st">"Ornitorrinco"</span> <span class="co"># equal to</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-3">
<p>📝 Why does the lower code give an error?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1"></a>age <span class="sc">+</span> name</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in age + name: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
<div id="tabset-2-4">
<p>📝 Define another variable called <code>siblings</code> that answers the question “do you have siblings?” and another variable that stores your date of birth (called <code>birth_date</code>).</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1"></a>siblings <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb129-2"><a href="#cb129-2"></a></span>
<span id="cb129-3"><a href="#cb129-3"></a><span class="fu">library</span>(lubridate) <span class="co"># if not before</span></span>
<span id="cb129-4"><a href="#cb129-4"></a>birth_date <span class="ot">&lt;-</span> <span class="fu">as_date</span>(<span class="st">"1989-09-10"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-5">
<p>📝 Define another variable with your last name (called <code>surname</code>) and use <code>glue()</code> to have, in a single variable called <code>full_name</code>, your first and last name separated by a comma.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1"></a>surname <span class="ot">&lt;-</span> <span class="st">"Álvarez Liébana"</span></span>
<span id="cb130-2"><a href="#cb130-2"></a>full_name <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{name}, {surname}"</span>)</span>
<span id="cb130-3"><a href="#cb130-3"></a>full_name</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-6">
<p>📝 From <code>birth_date</code> extract the month.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1"></a><span class="fu">month</span>(birth_date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-7">
<p>📝 Calculate the days that have passed since your birth date until today (with the birth date defined in Exercise 4).</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1"></a><span class="fu">today</span>() <span class="sc">-</span> birth_date</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="clase-0-2" class="title-slide slide level1 center">
<h1>L2 : <span class="flow">databases</span></h1>
<p><span style="color:#444442;"><strong>Concatenating cells: vectors. First databases</strong></span></p>
<ul>
<li><p><a href="#/tu-turno-0-2-1">💻 Solved exercises: vectors</a></p></li>
<li><p><a href="#/tu-turno-0-2-2">💻 Solved exercises: matrix</a></p></li>
<li><p><a href="#/tu-turno-0-2-3">💻 Solved exercises: data.frame and tibble</a></p></li>
<li><p><a href="#/caso-practico-0-2-1">🐣 Workbook/case study I-II</a></p></li>
<li><p><a href="#/planificacion">📆 Planning</a></p></li>
</ul>
</section>
<section id="vectors-concatenation" class="slide level2">
<h2>Vectors: concatenation</h2>
<p>When working with data, we often have <span class="hl-yellow"><strong>columns that represent variables</strong></span>: we will refer to these as <span class="hl-yellow"><strong>vectors</strong></span>, which are a <span class="hl-purple"><strong>concatenation</strong></span> of cells (values) of the <span class="hl-purple"><strong>same type</strong></span> (similar to a column in a table).</p>
<div class="fragment">
<p>The simplest way to create a vector is with the <code>c()</code> function (c stands for <strong>concatenate</strong>), and you just need to input the <strong>elements within parentheses, separated by commas</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1"></a>ages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">32</span>, <span class="dv">27</span>, <span class="dv">60</span>, <span class="dv">61</span>)</span>
<span id="cb133-2"><a href="#cb133-2"></a>ages</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 32 27 60 61</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Consejo</strong></p>
</div>
<div class="callout-content">
<p>An individual number <code>x &lt;- 1</code> (or <code>x &lt;- c(1)</code>) is actually a <strong>vector of length one</strong> –&gt; everything we know how to <span class="hl-green"><strong>do with a number, we can do with a vector of numbers</strong></span>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="vectors-concatenation-1" class="slide level2">
<h2>Vectors: concatenation</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><img data-src="img/edades_environment.jpg"></p>
</div><div class="column" style="width:60%;">
<p>As you can see now in the <code>environment</code>, we have a <strong>collection of elements</strong> stored.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1"></a>ages <span class="co"># ages = edades in spanish</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 32 27 60 61</code></pre>
</div>
</div>
</div>
</div>
<div class="fragment">
<p>The <span class="hl-yellow"><strong>length of a vector</strong></span> can be calculated with <code>length()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1"></a><span class="fu">length</span>(ages)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>We can also <span class="hl-yellow"><strong>concatenate vectors</strong></span> together (it repeats them one after another).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1"></a><span class="fu">c</span>(ages, ages, <span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 32 27 60 61 32 27 60 61  8</code></pre>
</div>
</div>
</div>
</section>
<section id="numeric-sequences" class="slide level2">
<h2>Numeric sequences</h2>
<p>The most common type of vector is numeric, specifically, the well-known <span class="hl-yellow"><strong>numeric sequences</strong></span> (e.g., the days of the month), used among other things, to index loops.</p>
<div class="fragment">
<p>The <code>seq(start, end)</code> function allows us to create a [**numeric sequence]**{.hl-yellow} from a starting element to an ending one, <span class="hl-purple"><strong>advancing one by one</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">31</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
[26] 26 27 28 29 30 31</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>Note that if we try this with <span class="hl-red"><strong>characters, it won’t work</strong></span> since there is no predefined order among text strings.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1"></a><span class="st">"a"</span><span class="sc">:</span><span class="st">"z"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in "a":"z": NA/NaN argument</code></pre>
</div>
</div>
</div>
</section>
<section id="numeric-sequences-1" class="slide level2">
<h2>Numeric sequences</h2>
<p>A shortcut is the <code>1:n</code> command, which returns the same as <code>seq(1, n)</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5 6 7</code></pre>
</div>
</div>
<p>If the starting element is greater than the ending one, it understands that the sequence is in <span class="hl-purple"><strong>descending order</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1"></a><span class="dv">7</span><span class="sc">:-</span><span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  7  6  5  4  3  2  1  0 -1 -2 -3</code></pre>
</div>
</div>
<div class="fragment">
<p>We can also define <span class="hl-yellow"><strong>a different step</strong></span> between consecutive elements with the <code>by = ...</code> argument.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">7</span>, <span class="at">by =</span> <span class="fl">0.5</span>) <span class="co"># seq from 1 to 7, with a step of 0.5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0 5.5 6.0 6.5 7.0</code></pre>
</div>
</div>
</div>
</section>
<section id="numeric-sequences-2" class="slide level2">
<h2>Numeric sequences</h2>
<p>Sometimes we may want to define a <span class="hl-yellow"><strong>sequence with a specific length</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">50</span>, <span class="at">l =</span> <span class="dv">7</span>) <span class="co"># seq from 1 to 50 with length equal to 7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1.000000  9.166667 17.333333 25.500000 33.666667 41.833333 50.000000</code></pre>
</div>
</div>
<div class="fragment">
<p>We might also want to generate a vector of <span class="hl-yellow"><strong>n repeated elements</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1"></a><span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">7</span>) <span class="co"># vector of 7 0's</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0 0 0 0 0 0 0</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>Since they are internally stored as numbers, we can also do this with <span class="hl-yellow"><strong>dates</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1"></a><span class="fu">seq</span>(<span class="fu">as_date</span>(<span class="st">"2023-09-01"</span>), <span class="fu">as_date</span>(<span class="st">"2023-09-10"</span>), <span class="at">by =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "2023-09-01" "2023-09-02" "2023-09-03" "2023-09-04" "2023-09-05"
 [6] "2023-09-06" "2023-09-07" "2023-09-08" "2023-09-09" "2023-09-10"</code></pre>
</div>
</div>
</div>
</section>
<section id="string-vectors" class="slide level2">
<h2>String vectors</h2>
<p>A vector is a <strong>concatenation</strong> of elements of the <span class="hl-yellow"><strong>same type</strong></span>, but they don’t necessarily have to be numbers. Let’s create a sample sentence.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1"></a>sentence <span class="ot">&lt;-</span> <span class="st">"My name is Javi"</span></span>
<span id="cb157-2"><a href="#cb157-2"></a>sentence</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "My name is Javi"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1"></a><span class="fu">length</span>(sentence)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<div class="fragment">
<p>In the previous case, it wasn’t a vector, it was a single text element. To create a vector, we need to use <code>c()</code> again and separate elements with commas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1"></a>sentence <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"My"</span>, <span class="st">"name"</span>, <span class="st">"is"</span>, <span class="st">"Javi"</span>)</span>
<span id="cb161-2"><a href="#cb161-2"></a>sentence</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "My"   "name" "is"   "Javi"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1"></a><span class="fu">length</span>(sentence)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
</div>
</section>
<section id="string-vectors-1" class="slide level2">
<h2>String vectors</h2>
<p>What will happen if we <span class="hl-yellow"><strong>concatenate elements of different types</strong></span>?</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="st">"javi"</span>, <span class="st">"3"</span>, <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1"    "2"    "javi" "3"    "TRUE"</code></pre>
</div>
</div>
<p>Note that since all elements must be of the same type, what <code>R</code> does is <span class="hl-yellow"><strong>convert</strong></span> everything to text, violating the <span class="hl-red"><strong>data integrity</strong></span>.</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1"></a><span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 4 1 0</code></pre>
</div>
</div>
<p>It’s important to understand that logical values are actually <span class="hl-yellow"><strong>internally stored as 0/1</strong></span>.</p>
</div>
</section>
<section id="operations-with-vectors" class="slide level2">
<h2>Operations with vectors</h2>
<p>With numeric vectors, we can perform the same <span class="hl-yellow"><strong>arithmetic operations</strong></span> as with numbers → a <span class="hl-purple"><strong>number is a vector</strong></span> (of length one).</p>
<div class="fragment">
<p>What will happen if we <span class="hl-yellow"><strong>add or subtract a value</strong></span> to a vector?</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span>
<span id="cb169-2"><a href="#cb169-2"></a>x <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 4 6 8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1"></a>x <span class="sc">*</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2  6 10 14</code></pre>
</div>
</div>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning</strong></p>
</div>
<div class="callout-content">
<p>Unless otherwise specified, in <code>R</code>, vector operations are always <span class="hl-orange"><strong>element by element</strong></span>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="adding-vectors" class="slide level2">
<h2>Adding vectors</h2>
<p>Vectors can also interact with each other, so we can define, for example, <span class="hl-yellow"><strong>vector sums</strong></span> (element by element).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>)</span>
<span id="cb173-2"><a href="#cb173-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>)</span>
<span id="cb173-3"><a href="#cb173-3"></a>x <span class="sc">+</span> y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  3  7 11</code></pre>
</div>
</div>
<div class="fragment">
<p>Since the operation (e.g., a sum) is performed element by element, what will happen if we <span class="hl-yellow"><strong>add two vectors of different lengths</strong></span>?</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1"></a>z <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span>
<span id="cb175-2"><a href="#cb175-2"></a>x <span class="sc">+</span> z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  3  7 11  9</code></pre>
</div>
</div>
<p>What it does is <span class="hl-yellow"><strong>recycle elements</strong></span>: if we have a vector of 4 elements and we add another with 3 elements, it will recycle the elements from the shorter vector.</p>
</div>
</section>
<section id="comparing-vectors" class="slide level2">
<h2>Comparing vectors</h2>
<p>A very common operation is to <span class="hl-yellow"><strong>ask questions of the data</strong></span> using <span class="hl-purple"><strong>logical conditions</strong></span>. For example, if we define a vector of temperatures…</p>
<p><span class="hl-yellow"><strong>Which days were below 22 degrees?</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">31</span>, <span class="dv">27</span>, <span class="dv">15</span>, <span class="dv">29</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1"></a>x <span class="sc">&lt;</span> <span class="dv">22</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE FALSE FALSE  TRUE FALSE</code></pre>
</div>
</div>
<p>This will return a <span class="hl-yellow"><strong>logical vector</strong></span>, depending on whether <strong>each element</strong> meets the given condition (of the <strong>same length</strong> as the vector being queried).</p>
</div>
<div class="fragment">
<p>If we had a <span class="hl-yellow"><strong>missing value</strong></span> (due to a sensor error that day), the evaluated condition would also be <code>NA</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">20</span>, <span class="cn">NA</span>, <span class="dv">31</span>, <span class="dv">27</span>, <span class="dv">7</span>, <span class="dv">29</span>, <span class="dv">10</span>)</span>
<span id="cb180-2"><a href="#cb180-2"></a>y <span class="sc">&lt;</span> <span class="dv">22</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE    NA FALSE FALSE  TRUE FALSE  TRUE</code></pre>
</div>
</div>
</div>
</section>
<section id="comparing-vectors-1" class="slide level2">
<h2>Comparing vectors</h2>
<p><span class="hl-yellow"><strong>Logical conditions can be combined</strong></span> in two ways:</p>
<ul>
<li><span class="hl-yellow"><strong>Intersection</strong></span>: <span class="hl-purple"><strong>all</strong></span> concatenated conditions must be met (<span class="hl-purple"><strong>AND conjunction</strong></span> with <code>&amp;</code>) to return <code>TRUE</code>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1"></a>x <span class="sc">&lt;</span> <span class="dv">30</span> <span class="sc">&amp;</span> x <span class="sc">&gt;</span> <span class="dv">15</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE FALSE  TRUE FALSE  TRUE</code></pre>
</div>
</div>
<ul>
<li><span class="hl-yellow"><strong>Union</strong></span>: it is enough for <span class="hl-purple"><strong>at least one</strong></span> condition to be met (<span class="hl-purple"><strong>OR conjunction</strong></span> with <code>|</code>).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1"></a>x <span class="sc">&lt;</span> <span class="dv">30</span> <span class="sc">|</span> x <span class="sc">&gt;</span> <span class="dv">15</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE TRUE TRUE TRUE TRUE TRUE</code></pre>
</div>
</div>
<div class="fragment">
<p>With <code>any()</code> and <code>all()</code>, we can check if <span class="hl-yellow"><strong>all elements</strong></span> satisfy the condition.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1"></a><span class="fu">any</span>(x <span class="sc">&lt;</span> <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1"></a><span class="fu">all</span>(x <span class="sc">&lt;</span> <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
</section>
<section id="getting-elements" class="slide level2">
<h2>Getting elements</h2>
<p>Another common operation is <span class="hl-yellow"><strong>accessing or getting elements</strong></span>. The simplest way is to use the <code>[i]</code> operator (access the i-th element).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1"></a>ages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">33</span>, <span class="cn">NA</span>, <span class="dv">61</span>) </span>
<span id="cb190-2"><a href="#cb190-2"></a>ages[<span class="dv">3</span>] <span class="co"># get the age's third person</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 33</code></pre>
</div>
</div>
<div class="fragment">
<p>Since a number is just a vector of length one, this operation can also be applied using a <span class="hl-yellow"><strong>vector of indices to select</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"hi"</span>, <span class="st">"how"</span>, <span class="st">"are"</span>, <span class="st">"you"</span>, <span class="st">"?"</span>)</span>
<span id="cb192-2"><a href="#cb192-2"></a>y[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">4</span>)] <span class="co"># first, second and fourth element</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hi"  "how" "you"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Consejo</strong></p>
</div>
<div class="callout-content">
<p>To access the last element without worrying about its position, you can pass the vector’s length as the index <code>x[length(x)]</code>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="removing-elements" class="slide level2">
<h2>Removing elements</h2>
<p>Sometimes, instead of selecting, we may want to <span class="hl-yellow"><strong>remove elements</strong></span>. This is done with the same operation but using <span class="hl-purple"><strong>negative indexing</strong></span>: the opetator <code>[-i]</code> «un-select» the i-th element</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hi"  "how" "are" "you" "?"  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1"></a>y[<span class="sc">-</span><span class="dv">2</span>] <span class="co"># everything except the second element</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hi"  "are" "you" "?"  </code></pre>
</div>
</div>
<div class="fragment">
<p>In many cases, we want to <span class="hl-yellow"><strong>select or remove elements based on logical conditions</strong></span>, depending on the values, so we will pass the condition itself as the index (remember, <code>x &lt; 2</code> returns a logical vector).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1"></a>ages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">21</span>, <span class="dv">30</span>, <span class="dv">17</span>, <span class="dv">45</span>)</span>
<span id="cb198-2"><a href="#cb198-2"></a>names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"javi"</span>, <span class="st">"maría"</span>, <span class="st">"sandra"</span>, <span class="st">"carla"</span>, <span class="st">"luis"</span>)</span>
<span id="cb198-3"><a href="#cb198-3"></a>names[ages <span class="sc">&lt;</span> <span class="dv">18</span>] <span class="co"># names of people under 18</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "javi"  "carla"</code></pre>
</div>
</div>
</div>
</section>
<section id="stats-operations" class="slide level2">
<h2>Stats operations</h2>
<p>We can also make use of <span class="hl-yellow"><strong>statistical operations</strong></span>, such as <code>sum()</code>, which, given a vector, returns the sum of all its elements.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb200-2"><a href="#cb200-2"></a><span class="fu">sum</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<p><span class="hl-yellow"><strong>What happens when a data point is missing?</strong></span></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>, <span class="cn">NA</span>, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb202-2"><a href="#cb202-2"></a><span class="fu">sum</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p>By default, if we have a missing data point, the <span class="hl-yellow"><strong>operation will also result in a missing value</strong></span>. To <span class="hl-purple"><strong>ignore that missing data</strong></span>, we use the optional argument <code>na.rm = TRUE</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1"></a><span class="fu">sum</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</div>
</section>
<section id="stats-operations-1" class="slide level2">
<h2>Stats operations</h2>
<p>As we’ve mentioned, logical values are internally stored as 0 and 1, so we can use them in arithmetic operations.</p>
<p>For example, if we want to <span class="hl-yellow"><strong>find out the number of elements that meet a condition</strong></span> (e.g., less than 3), those that do will be assigned a 1 (<code>TRUE</code>), and those that don’t will get a 0 (<code>FALSE</code>). Therefore, summing the logical vector will give us the number of elements that meet the condition.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>)</span>
<span id="cb206-2"><a href="#cb206-2"></a><span class="fu">sum</span>(x <span class="sc">&lt;</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</section>
<section id="stats-operations-2" class="slide level2">
<h2>Stats operations</h2>
<p>Another common operation that can be useful is the <span class="hl-yellow"><strong>cumulative sum</strong></span> with <code>cumsum()</code>, which, given a vector, returns a vector where each element is the sum of the first, the first plus the second, the first plus the second plus the third, and so on.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">8</span>)</span>
<span id="cb208-2"><a href="#cb208-2"></a><span class="fu">cumsum</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1  6  8  7 15</code></pre>
</div>
</div>
<p><span class="hl-yellow"><strong>What happens when a data point is missing?</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb210"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb210-1"><a href="#cb210-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>, <span class="cn">NA</span>, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb210-2"><a href="#cb210-2"></a><span class="fu">cumsum</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1 -1  2 NA NA</code></pre>
</div>
</div>
<p>In the case of the cumulative sum, what happens is that <span class="hl-yellow"><strong>from that point onward, all subsequent accumulated values will be missing</strong></span>.</p>
</section>
<section id="stats-operations-3" class="slide level2">
<h2>Stats operations</h2>
<p>Another common operation that can be useful is the <span class="hl-yellow"><strong>difference (with delay)</strong></span> with <code>diff()</code> which, given a vector, returns a vector with the second minus the first, the third minus the second, the fourth minus the third…and so on.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">9</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">5</span>)</span>
<span id="cb212-2"><a href="#cb212-2"></a><span class="fu">diff</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  7 -3 -2  6 -9 -1  6</code></pre>
</div>
</div>
<div class="fragment">
<p>Using the argument <code>lag =</code> we can indicate the <span class="hl-yellow"><strong>delay</strong></span> of this difference (e.g.&nbsp;<code>lag = 3</code> implies that the fourth minus the first, the fifth minus the second, etc.).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">9</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">5</span>)</span>
<span id="cb214-2"><a href="#cb214-2"></a><span class="fu">diff</span>(x, <span class="at">lag =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2  1 -5 -4 -4</code></pre>
</div>
</div>
</div>
</section>
<section id="stats-operations-4" class="slide level2">
<h2>Stats operations</h2>
<p>Other common operations are <span class="hl-yellow"><strong>mean</strong></span>, <span class="hl-yellow"><strong>median</strong></span>, <span class="hl-yellow"><strong>percentiles</strong></span>, etc.</p>
<ul>
<li><span class="hl-yellow"><strong>mean</strong></span>: centrality measure that consists of adding all the elements and dividing by the number of elements added. The best known but the <span class="hl-red"><strong>least robust</strong></span>: given a set, if outliers (very large or very small values) are introduced, the mean is very easily perturbed.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb216"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb216-1"><a href="#cb216-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">165</span>, <span class="dv">170</span>, <span class="dv">181</span>, <span class="dv">191</span>, <span class="dv">150</span>, <span class="dv">155</span>, <span class="dv">167</span>, <span class="cn">NA</span>, <span class="dv">173</span>, <span class="dv">177</span>)</span>
<span id="cb216-2"><a href="#cb216-2"></a><span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 169.8889</code></pre>
</div>
</div>
</section>
<section id="stats-operations-5" class="slide level2">
<h2>Stats operations</h2>
<p>Other common operations are <span class="hl-yellow"><strong>mean</strong></span>, <span class="hl-yellow"><strong>median</strong></span>, <span class="hl-yellow"><strong>percentiles</strong></span>, etc.</p>
<ul>
<li><span class="hl-yellow"><strong>Median</strong></span>: measure of centrality that consists of ordering the elements and keeping the one that occupies the middle.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">165</span>, <span class="dv">170</span>, <span class="dv">181</span>, <span class="dv">191</span>, <span class="dv">150</span>, <span class="dv">155</span>, <span class="dv">167</span>, <span class="dv">173</span>, <span class="dv">177</span>)</span>
<span id="cb218-2"><a href="#cb218-2"></a><span class="fu">median</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 170</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Quantiles</strong></span>: position measurements (they divide the data into equal parts).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb220"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb220-1"><a href="#cb220-1"></a><span class="fu">quantile</span>(x) <span class="co"># by default quantiles/percentiles 0-25-50-75-100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  0%  25%  50%  75% 100% 
 150  165  170  177  191 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1"></a><span class="fu">quantile</span>(x, <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.4</span>, <span class="fl">0.9</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  10%   40%   90% 
154.0 167.6 183.0 </code></pre>
</div>
</div>
</div>
</section>
<section id="sorting-vectors" class="slide level2">
<h2>Sorting vectors</h2>
<p>Finally, a common action is to know <span class="hl-yellow"><strong>sort values</strong></span>:</p>
<ul>
<li><code>sort()</code>: returns the <span class="hl-yellow"><strong>sorted vector</strong></span>. By default from smallest to largest but with <code>decreasing = TRUE</code> we can change it.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1"></a>ages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">81</span>, <span class="dv">7</span>, <span class="dv">25</span>, <span class="dv">41</span>, <span class="dv">65</span>, <span class="dv">20</span>, <span class="dv">33</span>, <span class="dv">23</span>, <span class="dv">77</span>)</span>
<span id="cb224-2"><a href="#cb224-2"></a><span class="fu">sort</span>(ages)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  7 20 23 25 33 41 65 77 81</code></pre>
</div>
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1"></a><span class="fu">sort</span>(ages, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 81 77 65 41 33 25 23 20  7</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li><code>order()</code>: returns the <span class="hl-yellow"><strong>index vector</strong></span> that we would have to use to have the vector ordered</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1"></a><span class="fu">order</span>(ages)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 6 8 3 7 4 5 9 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1"></a>ages[<span class="fu">order</span>(ages)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  7 20 23 25 33 41 65 77 81</code></pre>
</div>
</div>
</div>
</section>
<section id="tu-turno-0-2-1" class="slide level2">
<h2>💻 It’s your turn</h2>
<p><span style="color:#444442;"><strong>Try to perform the following exercises without looking at the solutions</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1"><span class="hl-yellow"><strong>Exercise 1</strong></span></a></li><li><a href="#tabset-3-2"><span class="hl-yellow"><strong>Exercise 2</strong></span></a></li><li><a href="#tabset-3-3"><span class="hl-yellow"><strong>Exercise 3</strong></span></a></li><li><a href="#tabset-3-4"><span class="hl-yellow"><strong>Exercise 4</strong></span></a></li><li><a href="#tabset-3-5"><span class="hl-yellow"><strong>Exercise 5</strong></span></a></li><li><a href="#tabset-3-6"><span class="hl-yellow"><strong>Exercise 6</strong></span></a></li><li><a href="#tabset-3-7"><span class="hl-yellow"><strong>Exercise 7</strong></span></a></li><li><a href="#tabset-3-8"><span class="hl-yellow"><strong>Exercise 8</strong></span></a></li><li><a href="#tabset-3-9"><span class="hl-yellow"><strong>Exercise 9</strong></span></a></li><li><a href="#tabset-3-10"><span class="hl-yellow"><strong>Exercise 10</strong></span></a></li><li><a href="#tabset-3-11"><span class="hl-yellow"><strong>Exercise 11</strong></span></a></li><li><a href="#tabset-3-12"><span class="hl-yellow"><strong>Exercise 12</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<p>📝 Define the vector <code>x</code> as the concatenation of the first 5 odd numbers. Calculate the length of the vector</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb232-1"><a href="#cb232-1"></a><span class="co"># Two ways</span></span>
<span id="cb232-2"><a href="#cb232-2"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)</span>
<span id="cb232-3"><a href="#cb232-3"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">9</span>, <span class="at">by =</span> <span class="dv">2</span>)</span>
<span id="cb232-4"><a href="#cb232-4"></a></span>
<span id="cb232-5"><a href="#cb232-5"></a><span class="fu">length</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-2">
<p>📝 Access the third element of <code>x</code>. Access the last element (regardless of length, a code that can always be executed). Delete the first element.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb233"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb233-1"><a href="#cb233-1"></a>x[<span class="dv">3</span>]</span>
<span id="cb233-2"><a href="#cb233-2"></a>x[<span class="fu">length</span>(x)]</span>
<span id="cb233-3"><a href="#cb233-3"></a>x[<span class="sc">-</span><span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-3">
<p>📝 Get the elements of <code>x</code> greater than 4. Calculate the vector <code>1/x</code> and store it in a variable.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb234"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb234-1"><a href="#cb234-1"></a>x[x <span class="sc">&gt;</span> <span class="dv">4</span>]</span>
<span id="cb234-2"><a href="#cb234-2"></a>z <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">/</span>x</span>
<span id="cb234-3"><a href="#cb234-3"></a>z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-4">
<p>📝 Create a vector representing the names of 5 people, one of whom is unknown.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb235"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb235-1"><a href="#cb235-1"></a>names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Javi"</span>, <span class="st">"Sandra"</span>, <span class="cn">NA</span>, <span class="st">"Laura"</span>, <span class="st">"Carlos"</span>)</span>
<span id="cb235-2"><a href="#cb235-2"></a>names</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-5">
<p>📝 Find from the vector <code>x</code> of exercises above the elements greater (strictly) than 1 and less (strictly) than 7. Find a way to find out if all the elements are positive or not.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb236"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb236-1"><a href="#cb236-1"></a>x[x <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> x <span class="sc">&lt;</span> <span class="dv">7</span>]</span>
<span id="cb236-2"><a href="#cb236-2"></a><span class="fu">all</span>(x <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-6">
<p>📝 Given the vector <code>x &lt;- c(1, -5, 8, NA, 10, -3, 9)</code>, why does its mean return not a number but what is shown in the code below?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb237"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb237-1"><a href="#cb237-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">5</span>, <span class="dv">8</span>, <span class="cn">NA</span>, <span class="dv">10</span>, <span class="sc">-</span><span class="dv">3</span>, <span class="dv">9</span>)</span>
<span id="cb237-2"><a href="#cb237-2"></a><span class="fu">mean</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
</div>
<div id="tabset-3-7">
<p>📝 Given the vector <code>x &lt;- c(1, -5, 8, NA, 10, -3, 9)</code>, extract the elements occupying the locations 1, 2, 5, 6.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb239"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb239-1"><a href="#cb239-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">5</span>, <span class="dv">8</span>, <span class="cn">NA</span>, <span class="dv">10</span>, <span class="sc">-</span><span class="dv">3</span>, <span class="dv">9</span>)</span>
<span id="cb239-2"><a href="#cb239-2"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">6</span>)]</span>
<span id="cb239-3"><a href="#cb239-3"></a>x[<span class="sc">-</span><span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-8">
<p>📝 Given the <code>x</code> vector of the previous exercise, which ones have a missing data? Hint: the <code>is.something()</code> functions check if the element is of type <code>something</code> (press tab).</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb240"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb240-1"><a href="#cb240-1"></a><span class="fu">is.na</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-9">
<p>📝 Define the vector <code>x</code> as the concatenation of the first 4 even numbers. Calculate the number of elements of <code>x</code> strictly less than 5.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb241"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb241-1"><a href="#cb241-1"></a>x[x <span class="sc">&lt;</span> <span class="dv">5</span>] </span>
<span id="cb241-2"><a href="#cb241-2"></a><span class="fu">sum</span>(x <span class="sc">&lt;</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-10">
<p>📝 Calculate the vector <code>1/x</code> and obtain the ordered version (from smallest to largest) in the two possible ways</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb242"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb242-1"><a href="#cb242-1"></a>z <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">/</span>x</span>
<span id="cb242-2"><a href="#cb242-2"></a><span class="fu">sort</span>(z)</span>
<span id="cb242-3"><a href="#cb242-3"></a>z[<span class="fu">order</span>(z)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-11">
<p>📝 Calculate min and max of previous <code>x</code> vector</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb243"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb243-1"><a href="#cb243-1"></a><span class="fu">min</span>(x)</span>
<span id="cb243-2"><a href="#cb243-2"></a><span class="fu">max</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-12">
<p>📝 Find of the vector <code>x</code> the elements greater (strictly) than 1 and less (strictly) than 6. Find a way to find out if all the elements are negative or not.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb244"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb244-1"><a href="#cb244-1"></a>x[x <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> x <span class="sc">&lt;</span> <span class="dv">7</span>]</span>
<span id="cb244-2"><a href="#cb244-2"></a><span class="fu">all</span>(x <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="more-with-string-variables" class="slide level2">
<h2>More with string variables</h2>
<p>Although we cannot do arithmetic operations with them, some <span class="hl-yellow"><strong>operations we can do with the text strings</strong></span> will be important.</p>
<p>For that we will use in the future the <code>{stringr}</code> package (within the same <code>{lubridate}</code> “universe of packages”, which we will talk about later).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb245"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb245-1"><a href="#cb245-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb245-2"><a href="#cb245-2"></a></span>
<span id="cb245-3"><a href="#cb245-3"></a><span class="co"># Find a correct phone format</span></span>
<span id="cb245-4"><a href="#cb245-4"></a>phone_number <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"611093"</span>, <span class="st">"292039"</span>, <span class="st">"628810585"</span>, <span class="st">"600917043"</span>)</span>
<span id="cb245-5"><a href="#cb245-5"></a><span class="fu">str_detect</span>(phone_number, <span class="at">pattern =</span> <span class="st">"[6]{1}[0-9]{8}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE  TRUE  TRUE</code></pre>
</div>
</div>
</section>
<section id="first-databases" class="slide level2">
<h2>First databases</h2>
<p>When analyzing data we usually have <span class="hl-yellow"><strong>several variables</strong></span> for each individual: we need a “table” to collect them. The most immediate option is <span class="hl-yellow"><strong>matrices</strong></span>: concatenation of variables of <span class="hl-purple"><strong>same type and equal length</strong></span>.</p>
<p>Imagine we have heights and weights of 4 people. How to <span class="hl-yellow"><strong>create a dataset with the two variables</strong></span>?</p>
<div class="fragment">
<p>The most common option is to use <code>cbind()</code>: <span class="hl-yellow"><strong>concatenate (bind) vectors in the form of columns (c)</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb247" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb247-1"><a href="#cb247-1"></a>h <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">150</span>, <span class="dv">160</span>, <span class="dv">170</span>, <span class="dv">180</span>)</span>
<span id="cb247-2"><a href="#cb247-2"></a>w <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">63</span>, <span class="dv">70</span>, <span class="dv">85</span>, <span class="dv">95</span>)</span>
<span id="cb247-3"><a href="#cb247-3"></a>data_mat <span class="ot">&lt;-</span> <span class="fu">cbind</span>(h, w)</span>
<span id="cb247-4"><a href="#cb247-4"></a>data_mat </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       h  w
[1,] 150 63
[2,] 160 70
[3,] 170 85
[4,] 180 95</code></pre>
</div>
</div>
</div>
</section>
<section id="first-databases-1" class="slide level2">
<h2>First databases</h2>
<p>We can also <span class="hl-yellow"><strong>build the matrix by rows</strong></span> with the <code>rbind()</code> function (concatenate - bind - by rows - r), although it is <span class="hl-green"><strong>recommended to have each variable in column</strong></span> and individual in row as we will see later.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb249"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb249-1"><a href="#cb249-1"></a><span class="fu">rbind</span>(h, w) <span class="co"># Matrix by rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [,1] [,2] [,3] [,4]
h  150  160  170  180
w   63   70   85   95</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li>We can <span class="hl-yellow"><strong>“view” the matrix</strong></span> with <code>View(matrix)</code>.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>We can <span class="hl-yellow"><strong>check dimensions</strong></span> with <code>dim()</code>, <code>nrow()</code> and <code>ncol()</code>: matrices are a type of <strong>tabular data</strong> (organized in rows and columns).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb251"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb251-1"><a href="#cb251-1"></a><span class="fu">dim</span>(data_mat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb253"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb253-1"><a href="#cb253-1"></a><span class="fu">nrow</span>(data_mat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb255"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb255-1"><a href="#cb255-1"></a><span class="fu">ncol</span>(data_mat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
</div>
</section>
<section id="first-databases-2" class="slide level2">
<h2>First databases</h2>
<p>We can also <span class="hl-yellow"><strong>“flip” (transposed matrix)</strong></span> with <code>t()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb257"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb257-1"><a href="#cb257-1"></a><span class="fu">t</span>(data_mat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [,1] [,2] [,3] [,4]
h  150  160  170  180
w   63   70   85   95</code></pre>
</div>
</div>
<div class="fragment">
<p>Since we now have two dimensions in our data, to <span class="hl-yellow"><strong>access elements with <code>[]</code></strong></span> we must provide <strong>two comma-separated indexes</strong>: row and column indexes</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb259"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb259-1"><a href="#cb259-1"></a>data_mat[<span class="dv">2</span>, <span class="dv">1</span>] <span class="co"># second row, first column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  h 
160 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb261"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb261-1"><a href="#cb261-1"></a>data_mat[<span class="dv">1</span>, <span class="dv">2</span>] <span class="co"># first row, second column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> w 
63 </code></pre>
</div>
</div>
</div>
</section>
<section id="first-databases-3" class="slide level2">
<h2>First databases</h2>
<p>In some cases we will want to get the <span class="hl-yellow"><strong>total data for an individual</strong></span> (a particular row but all columns) or the values of <span class="hl-yellow"><strong>a whole variable</strong></span> for all individuals (a particular column but all rows). To do so, we leave <span class="hl-yellow"><strong>one of the indexes</strong></span> unfilled.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb263"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb263-1"><a href="#cb263-1"></a>data_mat[<span class="dv">2</span>, ] <span class="co"># second individual</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  h   w 
160  70 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb265"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb265-1"><a href="#cb265-1"></a>data_mat[, <span class="dv">1</span>] <span class="co"># first variable</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 150 160 170 180</code></pre>
</div>
</div>
<div class="fragment">
<p>Much of what we have learned with vectors we can do with matrices, so we can for example access multiple rows and/or columns using the <span class="hl-yellow"><strong>sequences of integers 1:n</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb267"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb267-1"><a href="#cb267-1"></a>data_mat[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>), <span class="dv">1</span>] <span class="co"># first variable for first and third individual</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 150 170</code></pre>
</div>
</div>
</div>
</section>
<section id="first-databases-4" class="slide level2">
<h2>First databases</h2>
<p>We can also define a <span class="hl-yellow"><strong>matrix from a numeric vector</strong></span>, rearranging the values in the form of a matrix (knowing that the elements are <span class="hl-purple"><strong>placed by columns</strong></span>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb269"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb269-1"><a href="#cb269-1"></a>z <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="at">ncol =</span> <span class="dv">3</span>) </span>
<span id="cb269-2"><a href="#cb269-2"></a>z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    2    5    8
[3,]    3    6    9</code></pre>
</div>
</div>
<div class="fragment">
<p>We can even <span class="hl-yellow"><strong>define an array of constant values</strong></span>, e.g.&nbsp;of zeros (to be filled later)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb271"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb271-1"><a href="#cb271-1"></a><span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    0    0    0
[2,]    0    0    0</code></pre>
</div>
</div>
</div>
</section>
<section id="matrix-operations" class="slide level2">
<h2>Matrix operations</h2>
<p>With matrices it is the same as with vectors: when we apply an <span class="hl-yellow"><strong>arithmetic operation we do it element by element</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb273"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb273-1"><a href="#cb273-1"></a>z<span class="sc">/</span><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]  0.2  0.8  1.4
[2,]  0.4  1.0  1.6
[3,]  0.6  1.2  1.8</code></pre>
</div>
</div>
<div class="fragment">
<p>To perform <span class="hl-yellow"><strong>operations in a matrix sense</strong></span> we must add <code>%%%</code>, for example, to multiply matrices it will be <code>%*%</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb275"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb275-1"><a href="#cb275-1"></a>z <span class="sc">*</span> <span class="fu">t</span>(z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    8   21
[2,]    8   25   48
[3,]   21   48   81</code></pre>
</div>
<div class="sourceCode cell-code" id="cb277"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb277-1"><a href="#cb277-1"></a>z <span class="sc">%*%</span> <span class="fu">t</span>(z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]   66   78   90
[2,]   78   93  108
[3,]   90  108  126</code></pre>
</div>
</div>
</div>
</section>
<section id="matrix-operations-1" class="slide level2">
<h2>Matrix operations</h2>
<p>We can also <span class="hl-yellow"><strong>perform operations by columns/rows</strong></span> without loops with the <code>apply()</code> function, and we will indicate as <strong>arguments</strong></p>
<ul>
<li>the matrix</li>
<li>the sense of the operation (<code>MARGIN = 1</code> for rows, <code>MARGIN = 2</code> for columns)</li>
<li>the function to apply</li>
<li>extra arguments needed by the function</li>
</ul>
<div class="fragment">
<p>For example, to apply an average to each variable, it will be <code>mean</code> applied with <code>MARGIN = 2</code> (same function for each column).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb279"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb279-1"><a href="#cb279-1"></a><span class="co"># Mean for each column (MARGIN = 2)</span></span>
<span id="cb279-2"><a href="#cb279-2"></a><span class="fu">apply</span>(data_mat, <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span> <span class="st">"mean"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     h      w 
165.00  78.25 </code></pre>
</div>
</div>
</div>
</section>
<section id="tu-turno-0-2-2" class="slide level2">
<h2>💻 It’s your turn</h2>
<p><span style="color:#444442;"><strong>Try to perform the following exercises without looking at the solutions</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1"><span class="hl-yellow"><strong>Exercise 1</strong></span></a></li><li><a href="#tabset-4-2"><span class="hl-yellow"><strong>Exercise 2</strong></span></a></li><li><a href="#tabset-4-3"><span class="hl-yellow"><strong>Exercise 3</strong></span></a></li><li><a href="#tabset-4-4"><span class="hl-yellow"><strong>Exercise 4</strong></span></a></li><li><a href="#tabset-4-5"><span class="hl-yellow"><strong>Exercise 5</strong></span></a></li><li><a href="#tabset-4-6"><span class="hl-yellow"><strong>Exercise 6</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<p>📝 Modify the code below to define an <code>x</code> matrix of ones, with 3 rows and 7 columns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb281"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb281-1"><a href="#cb281-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb281-2"><a href="#cb281-2"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb282"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb282-1"><a href="#cb282-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span>, <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">7</span>)</span>
<span id="cb282-2"><a href="#cb282-2"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-4-2">
<p>📝 To the above matrix, add 1 to each number in the matrix and divide the result by 5. Then calculate its transpose</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb283"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb283-1"><a href="#cb283-1"></a>new_matrix <span class="ot">&lt;-</span> (x <span class="sc">+</span> <span class="dv">1</span>)<span class="sc">/</span><span class="dv">5</span></span>
<span id="cb283-2"><a href="#cb283-2"></a><span class="fu">t</span>(new_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-4-3">
<p>📝 Why does the code below return such a warning message?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb284"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb284-1"><a href="#cb284-1"></a><span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>, <span class="at">nrow =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in matrix(1:15, nrow = 4): data length [15] is not a sub-multiple or
multiple of the number of rows [4]</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    5    9   13
[2,]    2    6   10   14
[3,]    3    7   11   15
[4,]    4    8   12    1</code></pre>
</div>
</div>
</div>
<div id="tabset-4-4">
<p>📝 Define the matrix <code>x &lt;- matrix(1:12, nrow = 4)</code>. Then get the data of the first individual, the data of the third variable, and the element <code>(4, 1)</code>.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb287"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb287-1"><a href="#cb287-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">nrow =</span> <span class="dv">4</span>)</span>
<span id="cb287-2"><a href="#cb287-2"></a>x[<span class="dv">1</span>, ] <span class="co"># first row</span></span>
<span id="cb287-3"><a href="#cb287-3"></a>x[, <span class="dv">3</span>] <span class="co"># third column</span></span>
<span id="cb287-4"><a href="#cb287-4"></a>x[<span class="dv">4</span>, <span class="dv">1</span>] <span class="co"># (4, 1) element</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-4-5">
<p>📝 Define a matrix of 2 variables and 3 individuals such that each variable captures the height and age of 3 persons, so that the age of the second person is unknown (absent). Then calculate the mean of each variable (we should get a number!).</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb288"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb288-1"><a href="#cb288-1"></a>data <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="st">"age"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="cn">NA</span>, <span class="dv">25</span>), <span class="st">"h"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">160</span>, <span class="dv">165</span>, <span class="dv">170</span>))</span>
<span id="cb288-2"><a href="#cb288-2"></a><span class="fu">apply</span>(data, <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span> <span class="st">"mean"</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="co"># mean by columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-4-6">
<p>📝 Why does the lower code return an error? What is wrong?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb289"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb289-1"><a href="#cb289-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="st">"age"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">25</span>), <span class="st">"names"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"javi"</span>, <span class="st">"sandra"</span>, <span class="st">"carlos"</span>))</span>
<span id="cb289-2"><a href="#cb289-2"></a>mat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     age  names   
[1,] "15" "javi"  
[2,] "20" "sandra"
[3,] "25" "carlos"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb291"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb291-1"><a href="#cb291-1"></a>mat <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in mat + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="second-attempt-data.frame" class="slide level2">
<h2>Second attempt: data.frame</h2>
<p>Arrays have the same problem as vectors: if we put together data of different types, it <span class="hl-red"><strong>data integrity is compromised</strong></span> as it converts them (see the code below: the ages and the <code>TRUE/FALSE</code> are converted to text).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb293" data-code-line-numbers="4-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb293-1"><a href="#cb293-1"></a>ages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">14</span>, <span class="dv">24</span>, <span class="cn">NA</span>)</span>
<span id="cb293-2"><a href="#cb293-2"></a>single <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">NA</span>, <span class="cn">FALSE</span>)</span>
<span id="cb293-3"><a href="#cb293-3"></a>names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"javi"</span>, <span class="st">"laura"</span>, <span class="st">"lucía"</span>)</span>
<span id="cb293-4"><a href="#cb293-4"></a>mat <span class="ot">&lt;-</span> <span class="fu">cbind</span>(ages, single, names)</span>
<span id="cb293-5"><a href="#cb293-5"></a>mat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     ages single  names  
[1,] "14" "TRUE"  "javi" 
[2,] "24" NA      "laura"
[3,] NA   "FALSE" "lucía"</code></pre>
</div>
</div>
<div class="fragment">
<p>In fact, since they are not numbers, we can no longer perform arithmetic operations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb295"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb295-1"><a href="#cb295-1"></a>mat <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in mat + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
</section>
<section id="second-attempt-data.frame-1" class="slide level2">
<h2>Second attempt: data.frame</h2>
<p>In order to work with <span class="hl-yellow"><strong>variables of different type</strong></span> we have in <code>R</code> what is known as <span class="hl-yellow"><strong>data.frame</strong></span>: concatenation of variables of equal length but which can be of <span class="hl-purple"><strong>different type</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb297"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb297-1"><a href="#cb297-1"></a>table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(ages, single, names)</span>
<span id="cb297-2"><a href="#cb297-2"></a><span class="fu">class</span>(table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb299"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb299-1"><a href="#cb299-1"></a>table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ages single names
1   14   TRUE  javi
2   24     NA laura
3   NA  FALSE lucía</code></pre>
</div>
</div>
</section>
<section id="second-attempt-data.frame-2" class="slide level2">
<h2>Second attempt: data.frame</h2>
<p>Since a <code>data.frame</code> is already an attempt at a <code>database</code> the variables are not mere mathematical vectors: <span class="hl-yellow"><strong>they have a meaning</strong></span> and we can (we must) <span class="hl-purple"><strong>give them names</strong></span> that describe their meaning.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb301"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb301-1"><a href="#cb301-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb301-2"><a href="#cb301-2"></a>table <span class="ot">&lt;-</span></span>
<span id="cb301-3"><a href="#cb301-3"></a>  <span class="fu">data.frame</span>(<span class="st">"ages"</span> <span class="ot">=</span> ages, <span class="st">"single"</span> <span class="ot">=</span> single, <span class="st">"names"</span> <span class="ot">=</span> names,</span>
<span id="cb301-4"><a href="#cb301-4"></a>             <span class="st">"birth_date"</span> <span class="ot">=</span> <span class="fu">as_date</span>(<span class="fu">c</span>(<span class="st">"1989-09-10"</span>, <span class="st">"1992-04-01"</span>, <span class="st">"1980-11-27"</span>)))</span>
<span id="cb301-5"><a href="#cb301-5"></a>table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ages single names birth_date
1   14   TRUE  javi 1989-09-10
2   24     NA laura 1992-04-01
3   NA  FALSE lucía 1980-11-27</code></pre>
</div>
</div>
</section>
<section id="second-attempt-data.frame-3" class="slide level2">
<h2>Second attempt: data.frame</h2>
<p><span class="hl-yellow"><strong>We have our first data set!</strong></span> (strictly speaking we can’t talk about a database but for the moment it looks like one). You can visualize it by typing its name in console or with <code>View(table)</code>.</p>

<img data-src="img/view_tabla.jpg" class="r-stretch"></section>
<section id="get-variables" class="slide level2">
<h2>Get variables</h2>
<p>If we want to access its elements, being again <strong>tabulated data</strong>, we can access as in the matrices (<span class="hl-red"><strong>not recommended</strong></span>): again <span class="hl-yellow"><strong>we have two indexes</strong></span> (rows and columns, leaving free the one we don’t use)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb303"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb303-1"><a href="#cb303-1"></a>table[<span class="dv">2</span>, ]  <span class="co"># second row (all variables)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ages single names birth_date
2   24     NA laura 1992-04-01</code></pre>
</div>
<div class="sourceCode cell-code" id="cb305"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb305-1"><a href="#cb305-1"></a>table[, <span class="dv">3</span>]  <span class="co"># third column (all individuals)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "javi"  "laura" "lucía"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb307"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb307-1"><a href="#cb307-1"></a>table[<span class="dv">2</span>, <span class="dv">1</span>] <span class="co"># first variable of the second individual</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 24</code></pre>
</div>
</div>
<div class="fragment">
<div class="columns">
<div class="column" style="width:25%;">
<p><img data-src="img/menu_data_frame.jpg"></p>
</div><div class="column" style="width:75%;">
<p>But it also has the advantages of a <span class="hl-yellow"><strong>database</strong></span> : we can <span class="hl-purple"><strong>access the variables by name</strong></span> (<span class="hl-green"><strong>recommended</strong></span> since the variables can change position and now they have a meaning), putting the name of the table followed by the symbol <code>$</code> (with the <strong>tab</strong>, a menu of columns to choose from will appear).</p>
</div>
</div>
</div>
</section>
<section id="ask-functions" class="slide level2">
<h2>Ask functions</h2>
<ul>
<li><code>names()</code>: shows us the variable names</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb309"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb309-1"><a href="#cb309-1"></a><span class="fu">names</span>(table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ages"       "single"     "names"      "birth_date"</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li><code>dim()</code>: shows dimensions (also <code>nrow()</code> and <code>ncol()</code>)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb311"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb311-1"><a href="#cb311-1"></a><span class="fu">dim</span>(table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 4</code></pre>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li>Variables can be accessed by name</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb313"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb313-1"><a href="#cb313-1"></a>table[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>), <span class="st">"names"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "javi"  "lucía"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb315"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb315-1"><a href="#cb315-1"></a>table<span class="sc">$</span>names[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "javi"  "lucía"</code></pre>
</div>
</div>
</div>
</section>
<section id="add-a-variable" class="slide level2">
<h2>Add a variable</h2>
<p>If we have one already created and we want to <span class="hl-yellow"><strong>add a column</strong></span> it is as simple as using the <code>data.frame()</code> function we have already seen to concatenate the column. Let’s add for example a new variable, the number of siblings of each individual.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb317"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb317-1"><a href="#cb317-1"></a><span class="co"># add a new column</span></span>
<span id="cb317-2"><a href="#cb317-2"></a>siblings <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb317-3"><a href="#cb317-3"></a>table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(table, <span class="st">"n_sib"</span> <span class="ot">=</span> siblings)</span>
<span id="cb317-4"><a href="#cb317-4"></a>table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ages single names birth_date n_sib
1   14   TRUE  javi 1989-09-10     0
2   24     NA laura 1992-04-01     2
3   NA  FALSE lucía 1980-11-27     3</code></pre>
</div>
</div>
</section>
<section id="last-attempt-tibble" class="slide level2">
<h2>Last attempt: tibble</h2>
<p>Tables in <code>data.frame</code> format have some <span class="hl-red"><strong>limitations</strong></span>. The main one is that <span class="hl-red"><strong>does not allow recursion</strong></span>: imagine that we define a database with heights and weights, and we want a third variable with the BMI.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb319"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb319-1"><a href="#cb319-1"></a><span class="fu">data.frame</span>(<span class="st">"height"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">1.7</span>, <span class="fl">1.8</span>, <span class="fl">1.6</span>), <span class="st">"weight"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">75</span>, <span class="dv">70</span>),</span>
<span id="cb319-2"><a href="#cb319-2"></a>           <span class="st">"BMI"</span> <span class="ot">=</span> weight <span class="sc">/</span> (height<span class="sc">^</span><span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in data.frame(height = c(1.7, 1.8, 1.6), weight = c(80, 75, 70), : object 'weight' not found</code></pre>
</div>
</div>
<div class="fragment">
<p>Hereafter we will use the <code>tibble</code> (<span class="hl-yellow"><strong>enhanced data.frame</strong></span>) format from the <code>{tibble}</code> package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb321"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb321-1"><a href="#cb321-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb321-2"><a href="#cb321-2"></a>data_tb <span class="ot">&lt;-</span> </span>
<span id="cb321-3"><a href="#cb321-3"></a>  <span class="fu">tibble</span>(<span class="st">"height"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">1.7</span>, <span class="fl">1.8</span>, <span class="fl">1.6</span>), <span class="st">"weight"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">75</span>, <span class="dv">70</span>), <span class="st">"BMI"</span> <span class="ot">=</span> weight <span class="sc">/</span> (height<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb321-4"><a href="#cb321-4"></a><span class="fu">class</span>(data_tb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb323"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb323-1"><a href="#cb323-1"></a>data_tb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  height weight   BMI
   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
1    1.7     80  27.7
2    1.8     75  23.1
3    1.6     70  27.3</code></pre>
</div>
</div>
</div>
</section>
<section id="last-attempt-tibble-1" class="slide level2">
<h2>Last attempt: tibble</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb325"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb325-1"><a href="#cb325-1"></a>data_tb <span class="ot">&lt;-</span> </span>
<span id="cb325-2"><a href="#cb325-2"></a>  <span class="fu">tibble</span>(<span class="st">"height"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">1.7</span>, <span class="fl">1.8</span>, <span class="fl">1.6</span>), <span class="st">"weight"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">75</span>, <span class="dv">70</span>), <span class="st">"BMI"</span> <span class="ot">=</span> weight <span class="sc">/</span> (height<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb325-3"><a href="#cb325-3"></a><span class="fu">class</span>(data_tb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb327"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb327-1"><a href="#cb327-1"></a>data_tb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  height weight   BMI
   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
1    1.7     80  27.7
2    1.8     75  23.1
3    1.6     70  27.3</code></pre>
</div>
</div>
<p>Las tablas en formato <code>tibble</code> nos permitirá una <span class="hl-yellow"><strong>gestión más ágil, eficiente y coherente</strong></span> de los datos, con 4 ventajas principales:</p>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Metainformation</strong></span>: if you look at the header, it automatically tells us the number of rows and columns, and the type of each variable</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Recursivity</strong></span>: allows you to define the variables sequentially (as we have seen)</li>
</ul>
</div>
</section>
<section id="last-attempt-tibble-2" class="slide level2">
<h2>Last attempt: tibble</h2>
<ul>
<li><span class="hl-yellow"><strong>Consistency</strong></span>: if you access a column that does not exist, it warns you with a warning</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb329"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb329-1"><a href="#cb329-1"></a>data_tb<span class="sc">$</span>invent</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Unknown or uninitialised column: `invent`.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>By rows</strong></span>: create by rows (copy and paste from a table) with <code>tribble()</code>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb332"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb332-1"><a href="#cb332-1"></a><span class="fu">tribble</span>(<span class="sc">~</span>colA, <span class="sc">~</span>colB,</span>
<span id="cb332-2"><a href="#cb332-2"></a>        <span class="st">"a"</span>,   <span class="dv">1</span>,</span>
<span id="cb332-3"><a href="#cb332-3"></a>        <span class="st">"b"</span>,   <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  colA   colB
  &lt;chr&gt; &lt;dbl&gt;
1 a         1
2 b         2</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Consejo</strong></p>
</div>
<div class="callout-content">
<p>The <code>{datapasta}</code> package allows us to <span class="hl-green"><strong>copy and paste</strong></span> tables from web pages and simple documents.</p>
</div>
</div>
</div>
</div>
</section>
<section id="in-summary" class="slide level2">
<h2>In summary…</h2>
<ul>
<li>Each <span class="hl-yellow"><strong>cell can be of a different type</strong></span>: numbers, text, dates, logical values, etc. A [<strong>vector is a concatenation of cells</strong>]{. hl-yellow} (the future columns of our tables) –&gt; In <code>R</code> by default operations are done <span class="hl-yellow"><strong>element to element</strong></span>.</li>
</ul>
<div class="fragment">
<ul>
<li>A <span class="hl-yellow"><strong>matrix</strong></span> allows us to concatenate <span class="hl-yellow"><strong>variables of the SAME type and SAME length</strong></span> –&gt; tabular data.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>A <span class="hl-yellow"><strong>data.frame</strong></span> allows us to concatenate <span class="hl-yellow"><strong>variables of DIFFERENT type and SAME length</strong></span> –&gt; we will use <span class="hl-yellow"><strong>tibble</strong></span> as an enhanced database option.</li>
</ul>
</div>
</section>
<section id="tu-turno-0-2-3" class="slide level2">
<h2>💻 It’s your turn</h2>
<p><span style="color:#444442;"><strong>Try to perform the following exercises without looking at the solutions</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1"><span class="hl-yellow"><strong>Exercise 1</strong></span></a></li><li><a href="#tabset-5-2"><span class="hl-yellow"><strong>Exercise 2</strong></span></a></li><li><a href="#tabset-5-3"><span class="hl-yellow"><strong>Exercise 3</strong></span></a></li><li><a href="#tabset-5-4"><span class="hl-yellow"><strong>Exercise 4</strong></span></a></li><li><a href="#tabset-5-5"><span class="hl-yellow"><strong>Exercise 5</strong></span></a></li><li><a href="#tabset-5-6"><span class="hl-yellow"><strong>Exercise 6</strong></span></a></li><li><a href="#tabset-5-7"><span class="hl-yellow"><strong>Exercise 7</strong></span></a></li><li><a href="#tabset-5-8"><span class="hl-yellow"><strong>Exercise 8</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<p>📝 Load from the <code>{datasets}</code> package the <code>airquality</code> dataset (New York air quality variables from May through September 1973). Is the airquality dataset of type tibble? If not, convert it to tibble (look in the package documentation at <a href="https://tibble.tidyverse.org/index.html" class="uri">https://tibble.tidyverse.org/index.html</a>).</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb334"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb334-1"><a href="#cb334-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb334-2"><a href="#cb334-2"></a><span class="fu">class</span>(datasets<span class="sc">::</span>airquality)</span>
<span id="cb334-3"><a href="#cb334-3"></a>airquality_tb <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(datasets<span class="sc">::</span>airquality)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-5-2">
<p>📝 Once converted to <code>tibble</code> get the name of the variables and the dimensions of the data set. How many variables are there? How many days have been measured?</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb335"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb335-1"><a href="#cb335-1"></a><span class="fu">names</span>(airquality_tb)</span>
<span id="cb335-2"><a href="#cb335-2"></a><span class="fu">ncol</span>(airquality_tb)</span>
<span id="cb335-3"><a href="#cb335-3"></a><span class="fu">nrow</span>(airquality_tb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-5-3">
<p>📝 Filters only the data of the fifth observation</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb336"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb336-1"><a href="#cb336-1"></a>airquality_tb[Month <span class="sc">==</span> <span class="dv">8</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-5-4">
<p>📝 Filter only the data for the month of August. How to tell it that we want only the rows that meet a specific condition?</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb337"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb337-1"><a href="#cb337-1"></a>airquality_tb[Month <span class="sc">==</span> <span class="dv">8</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-5-5">
<p>📝 Select those data that are not from July or August.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb338"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb338-1"><a href="#cb338-1"></a>airquality_tb[Month <span class="sc">!=</span> <span class="dv">7</span> <span class="sc">&amp;</span> Month <span class="sc">!=</span> <span class="dv">8</span>, ]</span>
<span id="cb338-2"><a href="#cb338-2"></a>airquality_tb[<span class="sc">!</span>(Month <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">8</span>)), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-5-6">
<p>📝 Modify the following code to keep only the ozone and temperature variables (no matter what position they are).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb339"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb339-1"><a href="#cb339-1"></a>airquality_tb[, <span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-5-7">
<p>📝 Select the temperature and wind data for August.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb340"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb340-1"><a href="#cb340-1"></a>airquality_tb[Month <span class="sc">==</span> <span class="dv">8</span>, <span class="fu">c</span>(<span class="st">"Temp"</span>, <span class="st">"Wind"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-5-8">
<p>📝 Translate the name of the variables into your native language.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb341"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb341-1"><a href="#cb341-1"></a><span class="fu">names</span>(airquality_tb) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ozono"</span>, <span class="st">"rad_solar"</span>, <span class="st">"viento"</span>, <span class="st">"temp"</span>, <span class="st">"mes"</span>, <span class="st">"dia"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="caso-practico-0-2-1" class="slide level2">
<h2>🐣 Case study I</h2>
<p>In the <code>{datasets}</code> package (already installed by default) we have several datasets and one of them is <code>airquality</code>. Below I have extracted 3 variables from that dataset (note that it is done with <code>data$variable</code>, that dollar will be important in the future).The data captures <span class="hl-yellow"><strong>daily measurements (n = 153 observations) of air quality</strong></span> in New York, from May to September 1973. Six <strong>6 variables</strong> were measured: ozone levels, solar radiation, wind, temperature, month and day.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb342"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb342-1"><a href="#cb342-1"></a><span class="fu">library</span>(datasets)</span>
<span id="cb342-2"><a href="#cb342-2"></a>temperature <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Temp</span>
<span id="cb342-3"><a href="#cb342-3"></a>month <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Month</span>
<span id="cb342-4"><a href="#cb342-4"></a>day <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Day</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Try to answer the questions posed in the <a href="https://javieralvarezliebana.quarto.pub/intro-r-base-tibbles-mucss/"><strong>workbook</strong></a></p>
</section>
<section id="caso-practico-0-2-2" class="slide level2">
<h2>🐣 Case study II</h2>
<p>Del paquete <code>{Biostatistics}</code> usaremos el conunto de datos <code>pinniped</code>, que guarda los <strong>datos de peso de cuerpo y cerebro</strong> (desagregado por sexo y mono/poligamia) de 33 especies de mamíferos marinos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb343"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb343-1"><a href="#cb343-1"></a>Biostatistics<span class="sc">::</span>pinniped</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                       Species Male_brain_g Female_brain_g Male_mass_Kg
1       Monachus schauinslandi        370.0             NA        173.0
2            Monachus monachus        480.0          480.0        260.0
3      Mirounga angustirostris        700.0          640.0       2275.0
4             Mirounga leonina       1431.3          898.8       3510.0
5       Leptonychotes weddelli        535.0          637.5        450.0
6            Ommatophoca rossi        425.0          530.0        153.8
7        Lobodon carcinophagus        578.2          538.8        220.5
8            Hydrurga leptonyx        765.0          660.0        324.0
9          Cystophora cristata        480.0          430.0        343.2
10         Erignathus barbatus           NA          460.0        312.5
11          Halichoerus grypus        342.5          272.5        233.0
12          Phoca groenlandica        297.5          252.5        145.0
13              Phoca fasciata        257.5          240.0         94.8
14                Phoca largha        257.5          250.0         97.0
15               Phoca caspica        165.0          160.0         70.5
16              Phoca sibirica        185.0          190.0         89.5
17               Phoca hispida        229.3          220.0         84.0
18              Phoca vitulina        362.3          265.0         97.1
19      Zalophus californianus        405.0          361.5        244.5
20          Eumetopias jubatus        747.5          575.0       1000.0
21              Otaria byronia        546.3          470.0        300.0
22            Neophoca cinerea        440.0          337.5        300.0
23          Phocarctos hookeri        417.5          370.0        364.0
24         Callorhinus ursinus        355.0          302.5        140.0
25     Arctocephalus townsendi           NA             NA        112.0
26     Arctocephalus philippii        415.0             NA        140.0
27 Arctocephalus galapagoensis        302.5          280.0         64.5
28     Arctocephalus australis        350.0          265.0         91.0
29      Arctocephalus forsteri        340.0          300.0        125.0
30       Arctocephalus gazella        360.0          320.0        155.0
31    Arctocephalus tropicalis        322.5          330.0        152.5
32      Arctocephalus pusillus        401.3          337.5        263.0
33           Odobenus rosmarus       1303.0         1340.5       1233.0
   Female_mass_Kg Mate_type
1           272.2      mono
2           275.0      mono
3           488.0      poly
4           565.7      poly
5           447.0      poly
6           164.0      mono
7           224.0      mono
8           367.0      mono
9           222.5      mono
10          326.0      mono
11          205.8      poly
12          139.0      mono
13           80.4      mono
14           71.3      mono
15           55.0      mono
16           85.0      mono
17           81.2      mono
18           85.2      mono
19           81.0      poly
20          287.5      poly
21          144.0      poly
22           78.6      poly
23          114.7      poly
24           33.3      poly
25           49.6      poly
26           48.1      poly
27           27.4      poly
28           48.5      poly
29           38.1      poly
30           45.0      poly
31           50.0      poly
32           64.1      poly
33          811.5      poly</code></pre>
</div>
</div>
<p>Try to answer the questions posed in the <a href="https://javieralvarezliebana.quarto.pub/intro-r-tibbles/"><strong>workbook</strong></a></p>
</section></section>
<section>
<section id="clase-0-3" class="title-slide slide level1 center">
<h1>L3: <span class="flow">functions, flow and Quarto</span></h1>
<p><span style="color:#444442;"><strong>Flow structures: if-else and loops. Functions in R. Quarto</strong></span></p>
<ul>
<li><p><a href="#/tu-turno-0-3-1">💻 Solved exercises: if-else</a></p></li>
<li><p><a href="#/tu-turno-0-3-2">💻 Solved exercises: loops</a></p></li>
<li><p><a href="#/tu-turno-0-3-3">💻 Solved exercises: functions</a></p></li>
<li><p><a href="#/caso-practico-0-3-1">🐣 Workbook/case study I-II-III</a></p></li>
<li><p><a href="#/planificacion">📆 Planning</a></p></li>
</ul>
</section>
<section id="flow-structures" class="slide level2">
<h2>Flow structures</h2>
<p>A <span class="hl-yellow"><strong>flow or control structure</strong></span> consists of a series of commands oriented to <span class="hl-yellow"><strong>decide the path</strong></span> that your code must follow</p>
<ul>
<li><p>If condition A is met, what happens?</p></li>
<li><p>What if B happens?</p></li>
<li><p>How can I repeat the same expression (depending on a variable)?</p></li>
</ul>
<div class="fragment">
<p>If you have programmed before, you may be familiar with what are known as <span class="hl-yellow"><strong>conditional structures</strong></span> such as <code>if (bla bla) {...} else {...}</code> or <span class="hl-yellow"><strong>loops</strong></span> <code>for/while</code> (to be avoided whenever possible).</p>
</div>
</section>
<section id="if" class="slide level2">
<h2>If</h2>
<p>One of the most famous control structures are those known as <span class="hl-yellow"><strong>conditional structures</strong></span> <code>if</code>.</p>
<blockquote>
<p>IF a set of conditions is met (TRUE), then execute whatever is inside the curly brackets.</p>
</blockquote>
<p>For example, the structure <code>if (x == 1) { code A }</code> what it will do is <span class="hl-yellow"><strong>execute code A in braces</strong></span> but <span class="hl-purple"><strong>ONLY IF</strong></span> the <span class="hl-purple"><strong>condition in brackets is true</strong></span> (only if <code>x</code> is 1). In any other case, it will do nothing</p>
<div class="fragment">
<p>For example, let’s define a vector of ages of 8 people</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb345"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb345-1"><a href="#cb345-1"></a>ages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">14</span>, <span class="dv">17</span>, <span class="dv">24</span>, <span class="dv">56</span>, <span class="dv">31</span>, <span class="dv">20</span>, <span class="dv">87</span>, <span class="dv">73</span>)</span>
<span id="cb345-2"><a href="#cb345-2"></a>ages <span class="sc">&lt;</span> <span class="dv">18</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
</div>
</div>
</div>
</section>
<section id="if-1" class="slide level2">
<h2>If</h2>
<p>Our conditional structure will do the following: <span class="hl-yellow"><strong>if there is a minor, it will print</strong></span> a message.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb347"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb347-1"><a href="#cb347-1"></a><span class="cf">if</span> (<span class="fu">any</span>(ages <span class="sc">&lt;</span> <span class="dv">18</span>)) { </span>
<span id="cb347-2"><a href="#cb347-2"></a>  </span>
<span id="cb347-3"><a href="#cb347-3"></a>  <span class="fu">print</span>(<span class="st">"There is a minor"</span>)</span>
<span id="cb347-4"><a href="#cb347-4"></a>  </span>
<span id="cb347-5"><a href="#cb347-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "There is a minor"</code></pre>
</div>
</div>
</section>
<section id="if-2" class="slide level2">
<h2>If</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb349"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb349-1"><a href="#cb349-1"></a><span class="cf">if</span> (<span class="fu">any</span>(ages <span class="sc">&lt;</span> <span class="dv">18</span>)) { </span>
<span id="cb349-2"><a href="#cb349-2"></a>  </span>
<span id="cb349-3"><a href="#cb349-3"></a>  <span class="fu">print</span>(<span class="st">"There is a minor"</span>)</span>
<span id="cb349-4"><a href="#cb349-4"></a>  </span>
<span id="cb349-5"><a href="#cb349-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In case the <span class="hl-yellow"><strong>conditions are not true</strong></span> inside <code>if()</code> (<code>FALSE</code>), nothing happens.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb350"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb350-1"><a href="#cb350-1"></a><span class="cf">if</span> (<span class="fu">all</span>(ages <span class="sc">&gt;=</span> <span class="dv">18</span>)) { </span>
<span id="cb350-2"><a href="#cb350-2"></a>  </span>
<span id="cb350-3"><a href="#cb350-3"></a>  <span class="fu">print</span>(<span class="st">"All of them are of legal age"</span>)</span>
<span id="cb350-4"><a href="#cb350-4"></a>  </span>
<span id="cb350-5"><a href="#cb350-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>We get no message</strong> because the condition <code>all(ages &gt;= 18)</code> is not <code>TRUE</code>, so it does not execute anything.</p>
</section>
<section id="if-else" class="slide level2">
<h2>If-else</h2>
<p>The structure <code>if (condition) { code A }</code> can be combined with an <code>else { code B }</code>: when the <span class="hl-yellow"><strong>condition is not checked</strong></span>, it will [<strong>execute the alternative code B</strong>]{. hl-yellow} inside <code>else { }</code>, allowing us to decide what happens when it is satisfied and when it is not</p>
<div class="fragment">
<p>For example, <code>if (x == 1) { code A } else { code B }</code> will execute A if <code>x</code> is equal to 1 and B in any other case.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb351"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb351-1"><a href="#cb351-1"></a><span class="cf">if</span> (<span class="fu">all</span>(ages <span class="sc">&gt;=</span> <span class="dv">18</span>)) { </span>
<span id="cb351-2"><a href="#cb351-2"></a>  </span>
<span id="cb351-3"><a href="#cb351-3"></a>  <span class="fu">print</span>(<span class="st">"All of them are of legal age"</span>)</span>
<span id="cb351-4"><a href="#cb351-4"></a>  </span>
<span id="cb351-5"><a href="#cb351-5"></a>} <span class="cf">else</span> {</span>
<span id="cb351-6"><a href="#cb351-6"></a>  </span>
<span id="cb351-7"><a href="#cb351-7"></a>  <span class="fu">print</span>(<span class="st">"There is a minor"</span>)</span>
<span id="cb351-8"><a href="#cb351-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "There is a minor"</code></pre>
</div>
</div>
</div>
</section>
<section id="if-else-1" class="slide level2">
<h2>If-else</h2>
<p>Esta estructura <code>if - else</code> puede ser <span class="hl-yellow"><strong>anidada</strong></span>: imagina que queremos ejecutar un código si todos son menores; si no sucede, pero todos son mayores de 16, hacer otra cosa; en cualquier otra cosa, otra acción.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb353"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb353-1"><a href="#cb353-1"></a><span class="cf">if</span> (<span class="fu">all</span>(ages <span class="sc">&gt;=</span> <span class="dv">18</span>)) { </span>
<span id="cb353-2"><a href="#cb353-2"></a>  </span>
<span id="cb353-3"><a href="#cb353-3"></a>  <span class="fu">print</span>(<span class="st">"All of them are of legal age"</span>)</span>
<span id="cb353-4"><a href="#cb353-4"></a>  </span>
<span id="cb353-5"><a href="#cb353-5"></a>} <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">all</span>(ages <span class="sc">&gt;=</span> <span class="dv">16</span>)) {</span>
<span id="cb353-6"><a href="#cb353-6"></a>  </span>
<span id="cb353-7"><a href="#cb353-7"></a>  <span class="fu">print</span>(<span class="st">"There is a minor but all of them are greater or equal to 16 years old"</span>)</span>
<span id="cb353-8"><a href="#cb353-8"></a>  </span>
<span id="cb353-9"><a href="#cb353-9"></a>} <span class="cf">else</span> { <span class="fu">print</span>(<span class="st">"There are any persons under 16 years of age"</span>) }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "There are any persons under 16 years of age"</code></pre>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>You can <strong>collapse the structures</strong> by clicking on the left arrow in your script.</p>
</div>
</div>
</div>
</section>
<section id="if-else-vectorized" class="slide level2">
<h2>If-else vectorized</h2>
<p>This conditional structure can be <span class="hl-yellow"><strong>vectorized</strong></span> (in a single line) with <code>if_else()</code> (from the <code>{dplyr}</code> package), whose arguments are</p>
<ul>
<li><p>the condition to evaluate</p></li>
<li><p>what happens when it is met and when not</p></li>
<li><p>an optional argument for when the condition to evaluate is <code>NA</code></p></li>
</ul>
<p>We will label without are greater/lesser and an <code>unknown</code> when we don’t know.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb355"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb355-1"><a href="#cb355-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb355-2"><a href="#cb355-2"></a>ages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>, ages)</span>
<span id="cb355-3"><a href="#cb355-3"></a><span class="fu">if_else</span>(ages <span class="sc">&gt;=</span> <span class="dv">18</span>, <span class="st">"legal age"</span>, <span class="st">"minor"</span>, <span class="at">missing =</span> <span class="st">"unknown"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "unknown"   "minor"     "minor"     "legal age" "legal age" "legal age"
[7] "legal age" "legal age" "legal age"</code></pre>
</div>
</div>
<p>In <code>R</code> base there is <code>ifelse()</code>: it does not let you specify what to do with the absent ones but allows you to specify different types of data in <code>TRUE</code> and <code>FALSE</code>.</p>
</section>
<section id="tu-turno-0-3-1" class="slide level2">
<h2>💻 It’s your turn</h2>
<p><span style="color:#444442;"><strong>Try to perform the following exercises without looking at the solutions</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1"><span class="hl-yellow"><strong>Exercise 1</strong></span></a></li><li><a href="#tabset-6-2"><span class="hl-yellow"><strong>Exercise 2</strong></span></a></li><li><a href="#tabset-6-3"><span class="hl-yellow"><strong>Exercise 3</strong></span></a></li><li><a href="#tabset-6-4"><span class="hl-yellow"><strong>Exercise 4</strong></span></a></li><li><a href="#tabset-6-5"><span class="hl-yellow"><strong>Exercise 5</strong></span></a></li><li><a href="#tabset-6-6"><span class="hl-yellow"><strong>Exercise 6</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<p>📝 What will be the output of the following code?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb357"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb357-1"><a href="#cb357-1"></a><span class="fu">if_else</span>(<span class="fu">sqrt</span>(<span class="dv">9</span>) <span class="sc">&lt;</span> <span class="dv">2</span>, <span class="fu">sqrt</span>(<span class="dv">9</span>), <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb358"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb358-1"><a href="#cb358-1"></a>The output is <span class="dv">0</span> since <span class="fu">sqrt</span>(<span class="dv">9</span>) equals <span class="dv">3</span>, and since it is not less than <span class="dv">2</span>, it returns the second argument which is <span class="fl">0.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-6-2">
<p>📝 What will be the output of the following code?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb359"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb359-1"><a href="#cb359-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">NA</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>)</span>
<span id="cb359-2"><a href="#cb359-2"></a><span class="fu">if_else</span>(<span class="fu">sqrt</span>(x) <span class="sc">&lt;</span> <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb360"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb360-1"><a href="#cb360-1"></a>The output is the vector <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="dv">1</span>) since <span class="fu">sqrt</span>(<span class="dv">1</span>) is less than <span class="dv">2</span>, <span class="fu">sqrt</span>(<span class="dv">9</span>) is not, and <span class="cf">in</span> the case of both <span class="fu">sqrt</span>(<span class="cn">NA</span>) (root of absent) and <span class="fu">sqrt</span>(<span class="sc">-</span><span class="dv">1</span>) (returns <span class="cn">NaN</span>, not a number), its square root cannot be checked whether it is less than <span class="dv">2</span> or not, so the output is NA.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-6-3">
<p>📝 Modify the code below so that, when the square root of a number cannot be verified to be less than 2, it returns -1.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb361"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb361-1"><a href="#cb361-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">NA</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>)</span>
<span id="cb361-2"><a href="#cb361-2"></a><span class="fu">if_else</span>(<span class="fu">sqrt</span>(x) <span class="sc">&lt;</span> <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb362"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb362-1"><a href="#cb362-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">NA</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>)</span>
<span id="cb362-2"><a href="#cb362-2"></a><span class="fu">if_else</span>(<span class="fu">sqrt</span>(x) <span class="sc">&lt;</span> <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="at">missing =</span> <span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-6-4">
<p>📝 What are the values of <code>x</code> and <code>y</code> of the lower code for <code>z &lt;- 1</code>, <code>z &lt;- -1</code> and <code>z &lt;- -5</code>?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb363"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb363-1"><a href="#cb363-1"></a>z <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb363-2"><a href="#cb363-2"></a><span class="cf">if</span> (z <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb363-3"><a href="#cb363-3"></a>  </span>
<span id="cb363-4"><a href="#cb363-4"></a>  x <span class="ot">&lt;-</span> z<span class="sc">^</span><span class="dv">3</span></span>
<span id="cb363-5"><a href="#cb363-5"></a>  y <span class="ot">&lt;-</span> <span class="sc">-</span><span class="fu">sqrt</span>(z)</span>
<span id="cb363-6"><a href="#cb363-6"></a>  </span>
<span id="cb363-7"><a href="#cb363-7"></a>} <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">abs</span>(z) <span class="sc">&lt;</span> <span class="dv">2</span>) {</span>
<span id="cb363-8"><a href="#cb363-8"></a>  </span>
<span id="cb363-9"><a href="#cb363-9"></a>  x <span class="ot">&lt;-</span> z<span class="sc">^</span><span class="dv">4</span></span>
<span id="cb363-10"><a href="#cb363-10"></a>  y <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="sc">-</span>z)</span>
<span id="cb363-11"><a href="#cb363-11"></a>  </span>
<span id="cb363-12"><a href="#cb363-12"></a>} <span class="cf">else</span> {</span>
<span id="cb363-13"><a href="#cb363-13"></a>  </span>
<span id="cb363-14"><a href="#cb363-14"></a>  x <span class="ot">&lt;-</span> z<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb363-15"><a href="#cb363-15"></a>  y <span class="ot">&lt;-</span> <span class="fu">abs</span>(z)</span>
<span id="cb363-16"><a href="#cb363-16"></a>  </span>
<span id="cb363-17"><a href="#cb363-17"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb364"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb364-1"><a href="#cb364-1"></a>In the first case x <span class="ot">=</span> <span class="dv">1</span> and y <span class="ot">=</span> <span class="sc">-</span><span class="fl">1.</span> In the second case x <span class="ot">=</span> <span class="dv">1</span> and y <span class="ot">=</span> <span class="fl">1.</span> In the third case <span class="sc">-</span><span class="dv">1</span> and <span class="fl">2.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-6-5">
<p>📝 What will happen if we execute the code below?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb365"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb365-1"><a href="#cb365-1"></a>z <span class="ot">&lt;-</span> <span class="st">"a"</span></span>
<span id="cb365-2"><a href="#cb365-2"></a><span class="cf">if</span> (z <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb365-3"><a href="#cb365-3"></a>  </span>
<span id="cb365-4"><a href="#cb365-4"></a>  x <span class="ot">&lt;-</span> z<span class="sc">^</span><span class="dv">3</span></span>
<span id="cb365-5"><a href="#cb365-5"></a>  y <span class="ot">&lt;-</span> <span class="sc">-</span><span class="fu">sqrt</span>(z)</span>
<span id="cb365-6"><a href="#cb365-6"></a>  </span>
<span id="cb365-7"><a href="#cb365-7"></a>} <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">abs</span>(z) <span class="sc">&lt;</span> <span class="dv">2</span>) {</span>
<span id="cb365-8"><a href="#cb365-8"></a>  </span>
<span id="cb365-9"><a href="#cb365-9"></a>  x <span class="ot">&lt;-</span> z<span class="sc">^</span><span class="dv">4</span></span>
<span id="cb365-10"><a href="#cb365-10"></a>  y <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="sc">-</span>z)</span>
<span id="cb365-11"><a href="#cb365-11"></a>  </span>
<span id="cb365-12"><a href="#cb365-12"></a>} <span class="cf">else</span> {</span>
<span id="cb365-13"><a href="#cb365-13"></a>  </span>
<span id="cb365-14"><a href="#cb365-14"></a>  x <span class="ot">&lt;-</span> z<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb365-15"><a href="#cb365-15"></a>  y <span class="ot">&lt;-</span> <span class="fu">abs</span>(z)</span>
<span id="cb365-16"><a href="#cb365-16"></a>  </span>
<span id="cb365-17"><a href="#cb365-17"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb366"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb366-1"><a href="#cb366-1"></a><span class="co"># will give error since it is not a numeric argument</span></span>
<span id="cb366-2"><a href="#cb366-2"></a>Error <span class="cf">in</span> z<span class="sc">^</span><span class="dv">3</span> <span class="sc">:</span> non<span class="sc">-</span>numeric argument to binary operator</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-6-6">
<p>📝 From the <code>{lubridate}</code> package, the <code>hour()</code> function returns the time of a given date, and the <code>now()</code> function returns the date and time of the current time. With both functions, have <code>cat()</code> (<code>cat()</code>) print “good night” only after 21:00.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb367"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb367-1"><a href="#cb367-1"></a><span class="co"># loading library</span></span>
<span id="cb367-2"><a href="#cb367-2"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb367-3"><a href="#cb367-3"></a></span>
<span id="cb367-4"><a href="#cb367-4"></a><span class="co"># Current date-time</span></span>
<span id="cb367-5"><a href="#cb367-5"></a>current_dt <span class="ot">&lt;-</span> <span class="fu">now</span>()</span>
<span id="cb367-6"><a href="#cb367-6"></a></span>
<span id="cb367-7"><a href="#cb367-7"></a><span class="co"># If structure</span></span>
<span id="cb367-8"><a href="#cb367-8"></a><span class="cf">if</span> (<span class="fu">hour</span>(current_dt) <span class="sc">&gt;</span> <span class="dv">21</span>) {</span>
<span id="cb367-9"><a href="#cb367-9"></a>  </span>
<span id="cb367-10"><a href="#cb367-10"></a>  <span class="fu">cat</span>(<span class="st">"Good night"</span>) <span class="co"># print or cat (two ways of printing)</span></span>
<span id="cb367-11"><a href="#cb367-11"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="loops" class="slide level2">
<h2>Loops</h2>
<p>Although in most occasions they can be replaced by other more efficient and readable structures, it is important to know one of the most famous control expressions: the <span class="hl-yellow"><strong>loops</strong></span>.</p>
<ul>
<li><p><code>for { }</code>: allows [<strong>repeating the same code</strong>]{. hl-yellow} in a <span class="hl-purple"><strong>prefixed and known number</strong></span> of times.</p></li>
<li><p><code>while { }</code>: allows <span class="hl-yellow"><strong>repeating the same code</strong></span> but in an <span class="hl-purple"><strong>undetermined number of times</strong></span> (until a <strong>condition</strong> is no longer fulfilled).</p></li>
</ul>
</section>
<section id="for-loop" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">For loop</h2>
<p>A <span class="hl-yellow"><strong>for</strong></span> loop is a structure that allows to <span class="hl-yellow"><strong>repeat</strong></span> a set of commands a <span class="hl-purple"><strong>finite, prefixed and known number of times</strong></span> given a set of indices.</p>
<p>Let’s define a vector <code>x &lt;- c(0, -7, 1, 4)</code> and another empty variable <code>y</code>. After that we will define a for loop with <code>for () { }</code>: inside the brackets we will indicate an index and some values to traverse, inside the braces the code to execute in each iteration (in this case, fill <code>y</code> as <code>x + 1</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb368"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb368-1" class="hljs-ln-code"><a href="#cb368-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb368-2" class="hljs-ln-code"><a href="#cb368-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="for-loop-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">For loop</h2>
<p>A <span class="hl-yellow"><strong>for</strong></span> loop is a structure that allows to <span class="hl-yellow"><strong>repeat</strong></span> a set of commands a <span class="hl-purple"><strong>finite, prefixed and known number of times</strong></span> given a set of indices.</p>
<p>Let’s define a vector <code>x &lt;- c(0, -7, 1, 4)</code> and another empty variable <code>y</code>. After that we will define a for loop with <code>for () { }</code>: inside the brackets we will indicate an index and some values to traverse, inside the braces the code to execute in each iteration (in this case, fill <code>y</code> as <code>x + 1</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb369"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb369-1" class="hljs-ln-code"><a href="#cb369-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb369-2" class="hljs-ln-code"><a href="#cb369-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb369-3" class="hljs-ln-code"><a href="#cb369-3"></a></span>
<span id="cb369-4" class="hljs-ln-code"><a href="#cb369-4"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) {</span>
<span id="cb369-5" class="hljs-ln-code"><a href="#cb369-5"></a>  </span>
<span id="cb369-6" class="hljs-ln-code"><a href="#cb369-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="for-loop-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">For loop</h2>
<p>A <span class="hl-yellow"><strong>for</strong></span> loop is a structure that allows to <span class="hl-yellow"><strong>repeat</strong></span> a set of commands a <span class="hl-purple"><strong>finite, prefixed and known number of times</strong></span> given a set of indices.</p>
<p>Let’s define a vector <code>x &lt;- c(0, -7, 1, 4)</code> and another empty variable <code>y</code>. After that we will define a for loop with <code>for () { }</code>: inside the brackets we will indicate an index and some values to traverse, inside the braces the code to execute in each iteration (in this case, fill <code>y</code> as <code>x + 1</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb370"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb370-1" class="hljs-ln-code"><a href="#cb370-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb370-2" class="hljs-ln-code"><a href="#cb370-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb370-3" class="hljs-ln-code"><a href="#cb370-3"></a></span>
<span id="cb370-4" class="hljs-ln-code"><a href="#cb370-4"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) {</span>
<span id="cb370-5" class="hljs-ln-code"><a href="#cb370-5"></a>  y[i] <span class="ot">&lt;-</span> x[i] <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb370-6" class="hljs-ln-code"><a href="#cb370-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="for-loop-3" class="slide level2">
<h2>For loop</h2>
<p>Note that because <code>R</code> works in a <span class="hl-yellow"><strong>default vector</strong></span> manner, the loop is the same as doing <code>x + 1</code> directly.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb371"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb371-1"><a href="#cb371-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb371-2"><a href="#cb371-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb371-3"><a href="#cb371-3"></a></span>
<span id="cb371-4"><a href="#cb371-4"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) {</span>
<span id="cb371-5"><a href="#cb371-5"></a>  y[i] <span class="ot">&lt;-</span> x[i] <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb371-6"><a href="#cb371-6"></a>}</span>
<span id="cb371-7"><a href="#cb371-7"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1 -6  2  5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb373"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb373-1"><a href="#cb373-1"></a>y2 <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb373-2"><a href="#cb373-2"></a>y2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1 -6  2  5</code></pre>
</div>
</div>
</section>
<section id="for-loop-4" class="slide level2">
<h2>For loop</h2>
<p>Another common option is to indicate the indexes “automatically”: from the first <code>1</code> to the last (corresponding to the length of x <code>length(x)</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb375"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb375-1"><a href="#cb375-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb375-2"><a href="#cb375-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb375-3"><a href="#cb375-3"></a></span>
<span id="cb375-4"><a href="#cb375-4"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)) {</span>
<span id="cb375-5"><a href="#cb375-5"></a>  y[i] <span class="ot">&lt;-</span> x[i] <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb375-6"><a href="#cb375-6"></a>}</span>
<span id="cb375-7"><a href="#cb375-7"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1 -6  2  5</code></pre>
</div>
</div>
</section>
<section id="for-loop-5" class="slide level2">
<h2>For loop</h2>
<p>Thus the <span class="hl-yellow"><strong>general structure of a for-loop</strong></span> will always be as follows</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb377"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb377-1"><a href="#cb377-1"></a><span class="cf">for</span> (index <span class="cf">in</span> set) { </span>
<span id="cb377-2"><a href="#cb377-2"></a>  código (usually depending on index)</span>
<span id="cb377-3"><a href="#cb377-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In the case of for loops <span class="hl-green"><strong>ALWAYS</strong></span> we know how many iterations we have (as many as there are elements in the set to be indexed).</p>
</section>
<section id="avoiding-loop" class="slide level2">
<h2>Avoiding loop</h2>
<p>As we have already learned with the <code>{microbenchmark}</code> package, we can check how <span class="hl-yellow"><strong>loops are usually very inefficient</strong></span> (hence we should avoid them in most occasions)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb378"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb378-1"><a href="#cb378-1"></a><span class="fu">library</span>(microbenchmark)</span>
<span id="cb378-2"><a href="#cb378-2"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span></span>
<span id="cb378-3"><a href="#cb378-3"></a><span class="fu">microbenchmark</span>(y <span class="ot">&lt;-</span> x<span class="sc">^</span><span class="dv">2</span>, </span>
<span id="cb378-4"><a href="#cb378-4"></a>               <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) { y[i] <span class="ot">&lt;-</span> x[i]<span class="sc">^</span><span class="dv">2</span> },</span>
<span id="cb378-5"><a href="#cb378-5"></a>               <span class="at">times =</span> <span class="dv">500</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Unit: nanoseconds
                                    expr    min       lq      mean   median
                                y &lt;- x^2    984   1107.0   1253.37   1148.0
 for (i in 1:100) {     y[i] &lt;- x[i]^2 } 729923 740152.5 783843.66 746917.5
       uq     max neval
   1230.0    5945   500
 755281.5 2190179   500</code></pre>
</div>
</div>
</section>
<section id="for-loop-6" class="slide level2">
<h2>For loop</h2>
<p>We can see another example of a <span class="hl-yellow"><strong>combining numbers and text</strong></span> loop: we define a vector of ages and names, and print the i-th name and age.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb380"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb380-1"><a href="#cb380-1"></a>names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Javi"</span>, <span class="st">"Sandra"</span>, <span class="st">"Carlos"</span>, <span class="st">"Marcos"</span>, <span class="st">"Marta"</span>)</span>
<span id="cb380-2"><a href="#cb380-2"></a>ages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">33</span>, <span class="dv">27</span>, <span class="dv">18</span>, <span class="dv">43</span>, <span class="dv">29</span>)</span>
<span id="cb380-3"><a href="#cb380-3"></a></span>
<span id="cb380-4"><a href="#cb380-4"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) { </span>
<span id="cb380-5"><a href="#cb380-5"></a>  </span>
<span id="cb380-6"><a href="#cb380-6"></a>  <span class="fu">print</span>(<span class="fu">glue</span>(<span class="st">"{names[i]} are {ages[i]} old"</span>)) </span>
<span id="cb380-7"><a href="#cb380-7"></a>  </span>
<span id="cb380-8"><a href="#cb380-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Javi are 33 old
Sandra are 27 old
Carlos are 18 old
Marcos are 43 old
Marta are 29 old</code></pre>
</div>
</div>
</section>
<section id="for-loop-7" class="slide level2">
<h2>For loop</h2>
<p>Although they are usually indexed with numeric vectors, loops can be <span class="hl-yellow"><strong>indexed on any vector structure</strong></span>, regardless of the type of the set.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb382"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb382-1"><a href="#cb382-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb382-2"><a href="#cb382-2"></a>week_days <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"monday"</span>, <span class="st">"tuesday"</span>, <span class="st">"wednesday"</span>, <span class="st">"thursday"</span>,</span>
<span id="cb382-3"><a href="#cb382-3"></a>               <span class="st">"friday"</span>, <span class="st">"saturday"</span>, <span class="st">"sunday"</span>)</span>
<span id="cb382-4"><a href="#cb382-4"></a></span>
<span id="cb382-5"><a href="#cb382-5"></a><span class="cf">for</span> (days <span class="cf">in</span> week_days) {</span>
<span id="cb382-6"><a href="#cb382-6"></a>  </span>
<span id="cb382-7"><a href="#cb382-7"></a>  <span class="fu">print</span>(days)</span>
<span id="cb382-8"><a href="#cb382-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "monday"
[1] "tuesday"
[1] "wednesday"
[1] "thursday"
[1] "friday"
[1] "saturday"
[1] "sunday"</code></pre>
</div>
</div>
</section>
<section id="bucles-y-condicionales" class="slide level2">
<h2>Bucles y condicionales</h2>
<p>Let’s <strong>combine conditional structures and loops</strong>: using the <code>swiss</code> set of the <code>{datasets}</code> package, let’s assign <code>NA</code> if the fertility values are greater than 80.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb384"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb384-1"><a href="#cb384-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(swiss)) {</span>
<span id="cb384-2"><a href="#cb384-2"></a>  </span>
<span id="cb384-3"><a href="#cb384-3"></a>  <span class="cf">if</span> (swiss<span class="sc">$</span>Fertility[i] <span class="sc">&gt;</span> <span class="dv">80</span>) { </span>
<span id="cb384-4"><a href="#cb384-4"></a>    </span>
<span id="cb384-5"><a href="#cb384-5"></a>    swiss<span class="sc">$</span>Fertility[i] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb384-6"><a href="#cb384-6"></a>    </span>
<span id="cb384-7"><a href="#cb384-7"></a>  }</span>
<span id="cb384-8"><a href="#cb384-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>This is «the same» as a vectorized <code>if_else()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb385"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb385-1"><a href="#cb385-1"></a><span class="fu">data</span>(<span class="st">"swiss"</span>)</span>
<span id="cb385-2"><a href="#cb385-2"></a>swiss<span class="sc">$</span>Fertility <span class="ot">&lt;-</span> <span class="fu">if_else</span>(swiss<span class="sc">$</span>Fertility <span class="sc">&gt;</span> <span class="dv">80</span>, <span class="cn">NA</span>, swiss<span class="sc">$</span>Fertility)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="while-loop" class="slide level2">
<h2>While loop</h2>
<p>Another way to create a loop is with the <code>while { }</code> structure, which will loop <span class="hl-yellow"><strong>an unknown number of times</strong></span>, until a condition <span class="hl-yellow"><strong>stops being met</strong></span> (in fact it may never end). For example, we will inialize a variable <code>times &lt;- 1</code>, which we will increment at each step, and we will not exit the loop until <code>times &gt; 3</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb386"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb386-1"><a href="#cb386-1"></a>times <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb386-2"><a href="#cb386-2"></a><span class="cf">while</span>(times <span class="sc">&lt;=</span> <span class="dv">3</span>) {</span>
<span id="cb386-3"><a href="#cb386-3"></a>  </span>
<span id="cb386-4"><a href="#cb386-4"></a>  <span class="fu">print</span>(<span class="fu">glue</span>(<span class="st">"Not yet, we are in the {times}-th iteration"</span>)) </span>
<span id="cb386-5"><a href="#cb386-5"></a>  times <span class="ot">&lt;-</span> times <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb386-6"><a href="#cb386-6"></a>  </span>
<span id="cb386-7"><a href="#cb386-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Not yet, we are in the 1-th iteration
Not yet, we are in the 2-th iteration
Not yet, we are in the 3-th iteration</code></pre>
</div>
<div class="sourceCode cell-code" id="cb388"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb388-1"><a href="#cb388-1"></a><span class="fu">print</span>(<span class="fu">glue</span>(<span class="st">"Now! We are in the {times}-th iteration"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Now! We are in the 4-th iteration</code></pre>
</div>
</div>
</section>
<section id="while-loop-1" class="slide level2">
<h2>While loop</h2>
<p>A <code>while</code> loop will always look like this</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb390"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb390-1"><a href="#cb390-1"></a><span class="cf">while</span>(condition) {</span>
<span id="cb390-2"><a href="#cb390-2"></a>  </span>
<span id="cb390-3"><a href="#cb390-3"></a>  code to be executed <span class="cf">while</span> condition is <span class="cn">TRUE</span></span>
<span id="cb390-4"><a href="#cb390-4"></a>  <span class="co"># usually some variable is updated here</span></span>
<span id="cb390-5"><a href="#cb390-5"></a>  </span>
<span id="cb390-6"><a href="#cb390-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="while-loop-2" class="slide level2">
<h2>While loop</h2>
<p>What happens when the <span class="hl-yellow"><strong>condition is never FALSE</strong></span>? Try it yourself</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb391"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb391-1"><a href="#cb391-1"></a><span class="cf">while</span> (<span class="dv">1</span> <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb391-2"><a href="#cb391-2"></a>  </span>
<span id="cb391-3"><a href="#cb391-3"></a>  <span class="fu">print</span>(<span class="st">"Press ESC to exit"</span>)</span>
<span id="cb391-4"><a href="#cb391-4"></a>  </span>
<span id="cb391-5"><a href="#cb391-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>&nbsp;</p>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning</strong></p>
</div>
<div class="callout-content">
<p>A <code>while { }</code> loop can be quite “dangerous” if we do not control well how to stop it.</p>
</div>
</div>
</div>
</section>
<section id="while-loop-3" class="slide level2">
<h2>While loop</h2>
<p>We have two reserved commands to <span class="hl-yellow"><strong>abort a loop or force it forward</strong></span>:</p>
<ul>
<li><code>break</code>: allows <span class="hl-yellow"><strong>abort a loop</strong></span> even if its end has not been reached</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb392"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb392-1"><a href="#cb392-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb392-2"><a href="#cb392-2"></a>  <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">3</span>) {</span>
<span id="cb392-3"><a href="#cb392-3"></a>    </span>
<span id="cb392-4"><a href="#cb392-4"></a>    <span class="cf">break</span> <span class="co"># if i = 3, we abort</span></span>
<span id="cb392-5"><a href="#cb392-5"></a>    </span>
<span id="cb392-6"><a href="#cb392-6"></a>  }</span>
<span id="cb392-7"><a href="#cb392-7"></a>  <span class="fu">print</span>(i)</span>
<span id="cb392-8"><a href="#cb392-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1
[1] 2</code></pre>
</div>
</div>
</section>
<section id="while-loop-4" class="slide level2">
<h2>While loop</h2>
<p>We have two reserved commands to <span class="hl-yellow"><strong>abort a loop or force it forward</strong></span>:</p>
<ul>
<li><code>next</code>: <span class="hl-yellow"><strong>forces a loop to advance to the next iteration</strong></span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb394"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb394-1"><a href="#cb394-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb394-2"><a href="#cb394-2"></a>  <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">3</span>) {</span>
<span id="cb394-3"><a href="#cb394-3"></a>    </span>
<span id="cb394-4"><a href="#cb394-4"></a>    <span class="cf">next</span> <span class="co"># if i = 3, we advance to the next iteration</span></span>
<span id="cb394-5"><a href="#cb394-5"></a>    </span>
<span id="cb394-6"><a href="#cb394-6"></a>  }</span>
<span id="cb394-7"><a href="#cb394-7"></a>  <span class="fu">print</span>(i)</span>
<span id="cb394-8"><a href="#cb394-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1
[1] 2
[1] 4
[1] 5</code></pre>
</div>
</div>
</section>
<section id="tu-turno-0-3-2" class="slide level2">
<h2>💻 It’s your turn</h2>
<p><span style="color:#444442;"><strong>Try to perform the following exercises without looking at the solutions</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1"><span class="hl-yellow"><strong>Exercise 1</strong></span></a></li><li><a href="#tabset-7-2"><span class="hl-yellow"><strong>Exercise 2</strong></span></a></li><li><a href="#tabset-7-3"><span class="hl-yellow"><strong>Exercise 3</strong></span></a></li><li><a href="#tabset-7-4"><span class="hl-yellow"><strong>Exercise 4</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<p>📝 Modify the code below to print a message on the screen if and only if all the data in <code>airquality</code> is for a month other than January.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb396"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb396-1"><a href="#cb396-1"></a><span class="fu">library</span>(datasets)</span>
<span id="cb396-2"><a href="#cb396-2"></a>months <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Month</span>
<span id="cb396-3"><a href="#cb396-3"></a></span>
<span id="cb396-4"><a href="#cb396-4"></a><span class="cf">if</span> (months <span class="sc">==</span> <span class="dv">2</span>) {</span>
<span id="cb396-5"><a href="#cb396-5"></a>  <span class="fu">print</span>(<span class="st">"No data in January"</span>)</span>
<span id="cb396-6"><a href="#cb396-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb397"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb397-1"><a href="#cb397-1"></a><span class="fu">library</span>(datasets)</span>
<span id="cb397-2"><a href="#cb397-2"></a>months <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Month</span>
<span id="cb397-3"><a href="#cb397-3"></a></span>
<span id="cb397-4"><a href="#cb397-4"></a><span class="cf">if</span> (<span class="fu">all</span>(months <span class="sc">!=</span> <span class="dv">1</span>)) {</span>
<span id="cb397-5"><a href="#cb397-5"></a>  <span class="fu">print</span>(<span class="st">"No data in January"</span>)</span>
<span id="cb397-6"><a href="#cb397-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-7-2">
<p>📝 Modify the code below to store in a variable called <code>temp_high</code> a <code>TRUE</code> if any of the records has a temperature above 90 degrees Fahrenheit and <code>FALSE</code> in any other case.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb398"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb398-1"><a href="#cb398-1"></a>temp <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Temp</span>
<span id="cb398-2"><a href="#cb398-2"></a></span>
<span id="cb398-3"><a href="#cb398-3"></a><span class="cf">if</span> (temp <span class="sc">==</span> <span class="dv">100</span>) {</span>
<span id="cb398-4"><a href="#cb398-4"></a>  <span class="fu">print</span>(<span class="st">"Some of the records have temperatures in excess of 90 degrees Fahrenheit"</span>)</span>
<span id="cb398-5"><a href="#cb398-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb399"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb399-1"><a href="#cb399-1"></a><span class="co"># Option 1</span></span>
<span id="cb399-2"><a href="#cb399-2"></a>temp <span class="ot">&lt;-</span> airquality<span class="sc">$</span>Temp</span>
<span id="cb399-3"><a href="#cb399-3"></a>temp_high <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb399-4"><a href="#cb399-4"></a><span class="cf">if</span> (<span class="fu">any</span>(temp <span class="sc">&gt;</span> <span class="dv">90</span>)) {</span>
<span id="cb399-5"><a href="#cb399-5"></a>   temp_high <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb399-6"><a href="#cb399-6"></a>}</span>
<span id="cb399-7"><a href="#cb399-7"></a></span>
<span id="cb399-8"><a href="#cb399-8"></a><span class="co"># Option 2</span></span>
<span id="cb399-9"><a href="#cb399-9"></a>temp_high <span class="ot">&lt;-</span> <span class="fu">any</span>(airquality<span class="sc">$</span>Temp <span class="sc">&gt;</span> <span class="dv">90</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-7-3">
<p>📝 Modify the code below to design a <code>for</code> loop of 5 iterations that only loops through the first 5 odd (and at each step of the loop prints them)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb400"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb400-1"><a href="#cb400-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb400-2"><a href="#cb400-2"></a>  </span>
<span id="cb400-3"><a href="#cb400-3"></a>  <span class="fu">print</span>(i)</span>
<span id="cb400-4"><a href="#cb400-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb401"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb401-1"><a href="#cb401-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)) {</span>
<span id="cb401-2"><a href="#cb401-2"></a>  </span>
<span id="cb401-3"><a href="#cb401-3"></a>  <span class="fu">print</span>(i)</span>
<span id="cb401-4"><a href="#cb401-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-7-4">
<p>📝 Modify the code below to design a <code>while</code> loop that starts with a counter <code>count &lt;- 1</code> and stops when it reaches 6</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb402"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb402-1"><a href="#cb402-1"></a>count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb402-2"><a href="#cb402-2"></a><span class="cf">while</span> (count <span class="sc">==</span> <span class="dv">2</span>) {</span>
<span id="cb402-3"><a href="#cb402-3"></a>  </span>
<span id="cb402-4"><a href="#cb402-4"></a>  <span class="fu">print</span>(count)</span>
<span id="cb402-5"><a href="#cb402-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb403"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb403-1"><a href="#cb403-1"></a>count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb403-2"><a href="#cb403-2"></a><span class="cf">while</span> (count <span class="sc">&lt;</span> <span class="dv">6</span>) {</span>
<span id="cb403-3"><a href="#cb403-3"></a>  </span>
<span id="cb403-4"><a href="#cb403-4"></a>  <span class="fu">print</span>(count)</span>
<span id="cb403-5"><a href="#cb403-5"></a>  count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb403-6"><a href="#cb403-6"></a>  </span>
<span id="cb403-7"><a href="#cb403-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="own-functions" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Own functions</h2>
<p>Not only can we use <strong>default functions</strong> that come already loaded in packages, we can also <span class="hl-yellow"><strong>create our own functions</strong></span> to <strong>automate tasks</strong>. How to <span class="hl-purple"><strong>create our own function</strong></span>? Let’s look at its <strong>basic scheme</strong>:</p>
<ul>
<li><p><span class="hl-yellow"><strong>Name</strong></span>: for example <code>name_fun</code> (no spaces or strange characters). To the name we <span class="hl-yellow"><strong>assign the reserved word</strong></span> <code>function()</code>.</p></li>
<li><p>Define <span class="hl-yellow"><strong>input arguments</strong></span> (inside <code>function()</code>).</p></li>
<li><p><span class="hl-yellow"><strong>Body</strong></span> of the function inside <code>{ }</code>.</p></li>
<li><p>We end the function with the <span class="hl-yellow"><strong>output arguments</strong></span> with <code>return()</code>.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb404"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb404-1" class="hljs-ln-code"><a href="#cb404-1"></a>name_fun <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb404-2" class="hljs-ln-code"><a href="#cb404-2"></a>  </span>
<span id="cb404-3" class="hljs-ln-code"><a href="#cb404-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="own-functions-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Own functions</h2>
<p>Not only can we use <strong>default functions</strong> that come already loaded in packages, we can also <span class="hl-yellow"><strong>create our own functions</strong></span> to <strong>automate tasks</strong>. How to <span class="hl-purple"><strong>create our own function</strong></span>? Let’s look at its <strong>basic scheme</strong>:</p>
<ul>
<li><p><span class="hl-yellow"><strong>Name</strong></span>: for example <code>name_fun</code> (no spaces or strange characters). To the name we <span class="hl-yellow"><strong>assign the reserved word</strong></span> <code>function()</code>.</p></li>
<li><p>Define <span class="hl-yellow"><strong>input arguments</strong></span> (inside <code>function()</code>).</p></li>
<li><p><span class="hl-yellow"><strong>Body</strong></span> of the function inside <code>{ }</code>.</p></li>
<li><p>We end the function with the <span class="hl-yellow"><strong>output arguments</strong></span> with <code>return()</code>.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb405"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb405-1" class="hljs-ln-code"><a href="#cb405-1"></a>name_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2, ...) {</span>
<span id="cb405-2" class="hljs-ln-code"><a href="#cb405-2"></a>  </span>
<span id="cb405-3" class="hljs-ln-code"><a href="#cb405-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="own-functions-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Own functions</h2>
<p>Not only can we use <strong>default functions</strong> that come already loaded in packages, we can also <span class="hl-yellow"><strong>create our own functions</strong></span> to <strong>automate tasks</strong>. How to <span class="hl-purple"><strong>create our own function</strong></span>? Let’s look at its <strong>basic scheme</strong>:</p>
<ul>
<li><p><span class="hl-yellow"><strong>Name</strong></span>: for example <code>name_fun</code> (no spaces or strange characters). To the name we <span class="hl-yellow"><strong>assign the reserved word</strong></span> <code>function()</code>.</p></li>
<li><p>Define <span class="hl-yellow"><strong>input arguments</strong></span> (inside <code>function()</code>).</p></li>
<li><p><span class="hl-yellow"><strong>Body</strong></span> of the function inside <code>{ }</code>.</p></li>
<li><p>We end the function with the <span class="hl-yellow"><strong>output arguments</strong></span> with <code>return()</code>.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb406"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb406-1" class="hljs-ln-code"><a href="#cb406-1"></a>name_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2, ...) {</span>
<span id="cb406-2" class="hljs-ln-code"><a href="#cb406-2"></a>  </span>
<span id="cb406-3" class="hljs-ln-code"><a href="#cb406-3"></a>  code to be executed</span>
<span id="cb406-4" class="hljs-ln-code"><a href="#cb406-4"></a>  </span>
<span id="cb406-5" class="hljs-ln-code"><a href="#cb406-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="own-functions-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Own functions</h2>
<p>Not only can we use <strong>default functions</strong> that come already loaded in packages, we can also <span class="hl-yellow"><strong>create our own functions</strong></span> to <strong>automate tasks</strong>. How to <span class="hl-purple"><strong>create our own function</strong></span>? Let’s look at its <strong>basic scheme</strong>:</p>
<ul>
<li><p><span class="hl-yellow"><strong>Name</strong></span>: for example <code>name_fun</code> (no spaces or strange characters). To the name we <span class="hl-yellow"><strong>assign the reserved word</strong></span> <code>function()</code>.</p></li>
<li><p>Define <span class="hl-yellow"><strong>input arguments</strong></span> (inside <code>function()</code>).</p></li>
<li><p><span class="hl-yellow"><strong>Body</strong></span> of the function inside <code>{ }</code>.</p></li>
<li><p>We end the function with the <span class="hl-yellow"><strong>output arguments</strong></span> with <code>return()</code>.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb407"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb407-1" class="hljs-ln-code"><a href="#cb407-1"></a>name_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2, ...) {</span>
<span id="cb407-2" class="hljs-ln-code"><a href="#cb407-2"></a>  </span>
<span id="cb407-3" class="hljs-ln-code"><a href="#cb407-3"></a>  code to be executed</span>
<span id="cb407-4" class="hljs-ln-code"><a href="#cb407-4"></a>  </span>
<span id="cb407-5" class="hljs-ln-code"><a href="#cb407-5"></a>  <span class="fu">return</span>(var_output)</span>
<span id="cb407-6" class="hljs-ln-code"><a href="#cb407-6"></a>  </span>
<span id="cb407-7" class="hljs-ln-code"><a href="#cb407-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="own-functions-4" class="slide level2">
<h2>Own functions</h2>
<ul>
<li><p><code>arg1, arg2, ...</code>: will be the <span class="hl-yellow"><strong>input arguments</strong></span>, the arguments that the function takes to execute the code inside.</p></li>
<li><p><code>code</code>: lines of code that we want to <span class="hl-yellow"><strong>execute the function</strong></span>.</p></li>
<li><p><code>return(var_output)</code>: the <span class="hl-yellow"><strong>output arguments</strong></span> will be entered.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb408"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb408-1"><a href="#cb408-1"></a>name_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2, ...) {</span>
<span id="cb408-2"><a href="#cb408-2"></a>  </span>
<span id="cb408-3"><a href="#cb408-3"></a>  <span class="co"># Code to be executed</span></span>
<span id="cb408-4"><a href="#cb408-4"></a>  code</span>
<span id="cb408-5"><a href="#cb408-5"></a>  </span>
<span id="cb408-6"><a href="#cb408-6"></a>  <span class="co"># Output</span></span>
<span id="cb408-7"><a href="#cb408-7"></a>  <span class="fu">return</span>(var_output)</span>
<span id="cb408-8"><a href="#cb408-8"></a>  </span>
<span id="cb408-9"><a href="#cb408-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<p>All variables that we define inside the function are <span class="hl-yellow"><strong>LOCAL variables: they will only exist inside the function</strong></span> unless we specify otherwise.</p>
</div>
</div>
</div>
</section>
<section id="own-functions-5" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Own functions</h2>
<p>Let’s look at a very simple example of a function for <span class="hl-yellow"><strong>calculating the area of a rectangle</strong></span>.</p>
<p>Since the area of a rectangle is calculated as the <strong>product of its sides</strong>, we will need just that, its sides: those will be the <span class="hl-yellow"><strong>input arguments</strong></span> and the <span class="hl-purple"><strong>value to return</strong></span> will be just its <strong>area</strong> (<span class="math inline">\(side_1 * side_2\)</span>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb409"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb409-1" class="hljs-ln-code"><a href="#cb409-1"></a><span class="co"># We define the name of function and input arguments</span></span>
<span id="cb409-2" class="hljs-ln-code"><a href="#cb409-2"></a>compute_area <span class="ot">&lt;-</span> <span class="cf">function</span>(side_1, side_2) {</span>
<span id="cb409-3" class="hljs-ln-code"><a href="#cb409-3"></a>  </span>
<span id="cb409-4" class="hljs-ln-code"><a href="#cb409-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="own-functions-6" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Own functions</h2>
<p>Let’s look at a very simple example of a function for <span class="hl-yellow"><strong>calculating the area of a rectangle</strong></span>.</p>
<p>Since the area of a rectangle is calculated as the <strong>product of its sides</strong>, we will need just that, its sides: those will be the <span class="hl-yellow"><strong>input arguments</strong></span> and the <span class="hl-purple"><strong>value to return</strong></span> will be just its <strong>area</strong> (<span class="math inline">\(side_1 * side_2\)</span>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb410"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb410-1" class="hljs-ln-code"><a href="#cb410-1"></a><span class="co"># We define the name of function and input arguments</span></span>
<span id="cb410-2" class="hljs-ln-code"><a href="#cb410-2"></a>compute_area <span class="ot">&lt;-</span> <span class="cf">function</span>(side_1, side_2) {</span>
<span id="cb410-3" class="hljs-ln-code"><a href="#cb410-3"></a>  </span>
<span id="cb410-4" class="hljs-ln-code"><a href="#cb410-4"></a>  area <span class="ot">&lt;-</span> side_1 <span class="sc">*</span> side_2</span>
<span id="cb410-5" class="hljs-ln-code"><a href="#cb410-5"></a>  </span>
<span id="cb410-6" class="hljs-ln-code"><a href="#cb410-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="own-functions-7" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Own functions</h2>
<p>Let’s look at a very simple example of a function for <span class="hl-yellow"><strong>calculating the area of a rectangle</strong></span>.</p>
<p>Since the area of a rectangle is calculated as the <strong>product of its sides</strong>, we will need just that, its sides: those will be the <span class="hl-yellow"><strong>input arguments</strong></span> and the <span class="hl-purple"><strong>value to return</strong></span> will be just its <strong>area</strong> (<span class="math inline">\(side_1 * side_2\)</span>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb411"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb411-1" class="hljs-ln-code"><a href="#cb411-1"></a><span class="co"># We define the name of function and input arguments</span></span>
<span id="cb411-2" class="hljs-ln-code"><a href="#cb411-2"></a>compute_area <span class="ot">&lt;-</span> <span class="cf">function</span>(side_1, side_2) {</span>
<span id="cb411-3" class="hljs-ln-code"><a href="#cb411-3"></a>  </span>
<span id="cb411-4" class="hljs-ln-code"><a href="#cb411-4"></a>  area <span class="ot">&lt;-</span> side_1 <span class="sc">*</span> side_2</span>
<span id="cb411-5" class="hljs-ln-code"><a href="#cb411-5"></a>  <span class="fu">return</span>(area)</span>
<span id="cb411-6" class="hljs-ln-code"><a href="#cb411-6"></a>  </span>
<span id="cb411-7" class="hljs-ln-code"><a href="#cb411-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="own-functions-8" class="slide level2">
<h2>Own functions</h2>
<p>We can also make a direct definition of variables <strong>without storing along the way</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb412"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb412-1"><a href="#cb412-1"></a><span class="co"># We define the name of function and input arguments</span></span>
<span id="cb412-2"><a href="#cb412-2"></a>compute_area <span class="ot">&lt;-</span> <span class="cf">function</span>(side_1, side_2) {</span>
<span id="cb412-3"><a href="#cb412-3"></a>  </span>
<span id="cb412-4"><a href="#cb412-4"></a>  <span class="fu">return</span>(side_1 <span class="sc">*</span> side_2)</span>
<span id="cb412-5"><a href="#cb412-5"></a>  </span>
<span id="cb412-6"><a href="#cb412-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p><span class="hl-yellow"><strong>How to apply our function?</strong></span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb413"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb413-1"><a href="#cb413-1"></a><span class="fu">compute_area</span>(<span class="dv">5</span>, <span class="dv">3</span>) <span class="co"># area of 5 x 3 rectangle</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb415"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb415-1"><a href="#cb415-1"></a><span class="fu">compute_area</span>(<span class="dv">1</span>, <span class="dv">5</span>) <span class="co"># area of 1 x 5 rectangle</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
</div>
</section>
<section id="own-functions-9" class="slide level2">
<h2>Own functions</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Consejo</strong></p>
</div>
<div class="callout-content">
<p>Although it is not necessary, it is <span class="hl-green"><strong>recommendable to make explicit the calling of the arguments</strong></span>, specifying in the code what value is for each argument so that it does not depend on its order, making the code more readable.</p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb417"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb417-1"><a href="#cb417-1"></a><span class="fu">compute_area</span>(<span class="at">side_1 =</span> <span class="dv">5</span>, <span class="at">side_2 =</span> <span class="dv">3</span>) <span class="co"># area of 5 x 3 rectangle</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb419"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb419-1"><a href="#cb419-1"></a><span class="fu">compute_area</span>(<span class="at">side_2 =</span> <span class="dv">3</span>, <span class="at">side_1 =</span> <span class="dv">5</span>) <span class="co"># area of 5 x 3 rectangle</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15</code></pre>
</div>
</div>
</section>
<section id="default-arguments" class="slide level2">
<h2>Default arguments</h2>
<p>magine now that we realize that 90% of the time we use such a function to <span class="hl-yellow"><strong>default calculate the area of a square</strong></span> (i.e., we only need one side). To do this, we can define <span class="hl-yellow"><strong>default arguments</strong></span> in the function: they will take that value unless we assign another one.</p>
<p>Why not assign <code>side_2 = side_1</code> <strong>default</strong>, to save lines of code and time?</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb421"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb421-1"><a href="#cb421-1"></a>compute_area <span class="ot">&lt;-</span> <span class="cf">function</span>(side_1, <span class="at">side_2 =</span> side_1) {</span>
<span id="cb421-2"><a href="#cb421-2"></a>  </span>
<span id="cb421-3"><a href="#cb421-3"></a>  <span class="co"># Code to be executed</span></span>
<span id="cb421-4"><a href="#cb421-4"></a>  area <span class="ot">&lt;-</span> side_1 <span class="sc">*</span> side_2</span>
<span id="cb421-5"><a href="#cb421-5"></a>  </span>
<span id="cb421-6"><a href="#cb421-6"></a>  <span class="co"># Output</span></span>
<span id="cb421-7"><a href="#cb421-7"></a>  <span class="fu">return</span>(area)</span>
<span id="cb421-8"><a href="#cb421-8"></a>  </span>
<span id="cb421-9"><a href="#cb421-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="default-arguments-1" class="slide level2">
<h2>Default arguments</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb422"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb422-1"><a href="#cb422-1"></a>compute_area <span class="ot">&lt;-</span> <span class="cf">function</span>(side_1, <span class="at">side_2 =</span> side_1) {</span>
<span id="cb422-2"><a href="#cb422-2"></a>  </span>
<span id="cb422-3"><a href="#cb422-3"></a>  <span class="co"># Code to be executed</span></span>
<span id="cb422-4"><a href="#cb422-4"></a>  area <span class="ot">&lt;-</span> side_1 <span class="sc">*</span> side_2</span>
<span id="cb422-5"><a href="#cb422-5"></a>  </span>
<span id="cb422-6"><a href="#cb422-6"></a>  <span class="co"># Output</span></span>
<span id="cb422-7"><a href="#cb422-7"></a>  <span class="fu">return</span>(area)</span>
<span id="cb422-8"><a href="#cb422-8"></a>  </span>
<span id="cb422-9"><a href="#cb422-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now <span class="hl-yellow"><strong>default</strong></span> the second side will be equal to the first (if added it will use both).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb423"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb423-1"><a href="#cb423-1"></a><span class="fu">compute_area</span>(<span class="at">side_1 =</span> <span class="dv">5</span>) <span class="co"># square</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb425"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb425-1"><a href="#cb425-1"></a><span class="fu">compute_area</span>(<span class="at">side_1 =</span> <span class="dv">5</span>, <span class="at">side_2 =</span> <span class="dv">7</span>) <span class="co"># rectangle</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 35</code></pre>
</div>
</div>
</section>
<section id="multiple-outputs" class="slide level2">
<h2>Multiple outputs</h2>
<p>Let’s complicate the function a bit and add in the output the values of each side, labeled <code>side_1</code> and <code>side_2</code>, <span class="hl-yellow"><strong>packing the output in a vector</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb427" data-code-line-numbers="7-8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb427-1"><a href="#cb427-1"></a>compute_area <span class="ot">&lt;-</span> <span class="cf">function</span>(side_1, <span class="at">side_2 =</span> side_1) {</span>
<span id="cb427-2"><a href="#cb427-2"></a>  </span>
<span id="cb427-3"><a href="#cb427-3"></a>  <span class="co"># Code</span></span>
<span id="cb427-4"><a href="#cb427-4"></a>  area <span class="ot">&lt;-</span> side_1 <span class="sc">*</span> side_2</span>
<span id="cb427-5"><a href="#cb427-5"></a>  </span>
<span id="cb427-6"><a href="#cb427-6"></a>  <span class="co"># Output</span></span>
<span id="cb427-7"><a href="#cb427-7"></a>  <span class="fu">return</span>(<span class="fu">c</span>(<span class="st">"area"</span> <span class="ot">=</span> area, <span class="st">"side_1"</span> <span class="ot">=</span> side_1, <span class="st">"side_2"</span> <span class="ot">=</span> side_2))</span>
<span id="cb427-8"><a href="#cb427-8"></a>  </span>
<span id="cb427-9"><a href="#cb427-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="multiple-outputs-1" class="slide level2">
<h2>Multiple outputs</h2>
<p>Podemos complicar un poco más la salida añadiendo una cuarta variable que nos diga, en función de los argumentos, <span class="hl-yellow"><strong>si rectángulo o cuadrado</strong></span>, teniendo que añadir en la salida una variable que de tipo caracter (o lógica).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb428" data-code-line-numbers="7-9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb428-1"><a href="#cb428-1"></a>compute_area <span class="ot">&lt;-</span> <span class="cf">function</span>(side_1, <span class="at">side_2 =</span> side_1) {</span>
<span id="cb428-2"><a href="#cb428-2"></a>  </span>
<span id="cb428-3"><a href="#cb428-3"></a>  <span class="co"># Code</span></span>
<span id="cb428-4"><a href="#cb428-4"></a>  area <span class="ot">&lt;-</span> side_1 <span class="sc">*</span> side_2</span>
<span id="cb428-5"><a href="#cb428-5"></a>  </span>
<span id="cb428-6"><a href="#cb428-6"></a>  <span class="co"># Output</span></span>
<span id="cb428-7"><a href="#cb428-7"></a>  <span class="fu">return</span>(<span class="fu">c</span>(<span class="st">"area"</span> <span class="ot">=</span> area, <span class="st">"side_1"</span> <span class="ot">=</span> side_1, <span class="st">"side_2"</span> <span class="ot">=</span> side_2,</span>
<span id="cb428-8"><a href="#cb428-8"></a>           <span class="st">"type"</span> <span class="ot">=</span> <span class="fu">if_else</span>(side_1 <span class="sc">==</span> side_2, <span class="st">"square"</span>, <span class="st">"rectangle"</span>)))</span>
<span id="cb428-9"><a href="#cb428-9"></a>  </span>
<span id="cb428-10"><a href="#cb428-10"></a>}</span>
<span id="cb428-11"><a href="#cb428-11"></a><span class="fu">compute_area</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       area      side_1      side_2        type 
       "15"         "5"         "3" "rectangle" </code></pre>
</div>
</div>
<div class="fragment">
<p><span class="hl-red"><strong>Problem</strong></span>: when trying to put numbers and text together, it converts everything to numbers. We could store it all in a <code>tibble()</code> as we have learned or in an object known in <code>R</code> as <span class="hl-yellow"><strong>lists</strong></span> (we will see it later).</p>
</div>
</section>
<section id="order-of-arguments" class="slide level2">
<h2>Order of arguments</h2>
<p>Before we did not care about the order of the arguments, but now the <span class="hl-yellow"><strong>order of the input arguments matters</strong></span>, since we include <code>side_1</code> and <code>side_2</code> in the output.</p>
<div class="fragment">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>As mentioned, it is highly recommended to make the function call <span class="hl-yellow"><strong>explicitly setting the arguments</strong></span> to improve <strong>legibility and interpretability</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb430"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb430-1"><a href="#cb430-1"></a><span class="co"># Equivalen to compute_area(5, 3)</span></span>
<span id="cb430-2"><a href="#cb430-2"></a><span class="fu">compute_area</span>(<span class="at">side_1 =</span> <span class="dv">5</span>, <span class="at">side_2 =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       area      side_1      side_2        type 
       "15"         "5"         "3" "rectangle" </code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="generating-knowledge" class="slide level2">
<h2>Generating knowledge</h2>
<p>It seems silly what we have done but we have crossed an important frontier: we have gone from <span class="hl-yellow"><strong>consuming knowledge</strong></span> (code from other packages, elaborated by others), to <span class="hl-purple"><strong>generating knowledge</strong></span>, creating our own functions.</p>
<div class="fragment">
<p>Functions are going to be key in your day-to-day work because they will allow you to automate code that you are going to repeat over and over again: by packaging that code under an alias (function name) you will <span class="hl-yellow"><strong>be able to use it over and over again without programming it (so doing twice as much work will not imply working twice as much)</strong></span></p>
</div>
</section>
<section id="local-vs-global-variables" class="slide level2">
<h2>Local vs global variables</h2>
<p>An important aspect to think about with functions: what happens if we <span class="hl-yellow"><strong>name a variable inside</strong></span> a function to which we have <strong>forgotten to assign</strong> a value inside the function.</p>
<div class="fragment">
<p>We must be cautious when using functions in <code>R</code>, since due to the <span class="hl-yellow"><strong>“lexicographic rule”</strong></span>, if a variable is not defined inside the function, <code>R</code> will <span class="hl-purple"><strong>look for that variable in the environment</strong></span> of variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb432"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb432-1"><a href="#cb432-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb432-2"><a href="#cb432-2"></a>fun_example <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb432-3"><a href="#cb432-3"></a>    </span>
<span id="cb432-4"><a href="#cb432-4"></a>  <span class="fu">print</span>(x) <span class="co"># No output, just doing an action</span></span>
<span id="cb432-5"><a href="#cb432-5"></a>}</span>
<span id="cb432-6"><a href="#cb432-6"></a><span class="fu">fun_example</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</div>
</section>
<section id="local-vs-global-variables-1" class="slide level2">
<h2>Local vs global variables</h2>
<p>If a variable <span class="hl-yellow"><strong>is already defined outside the function (global environment)</strong></span>, and is also used inside changing its value, the value <span class="hl-yellow"><strong>only changes inside</strong></span> but <span class="hl-red"><strong>not in the global environment</strong></span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb434"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb434-1"><a href="#cb434-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb434-2"><a href="#cb434-2"></a>fun_example <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb434-3"><a href="#cb434-3"></a>    </span>
<span id="cb434-4"><a href="#cb434-4"></a>  x <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb434-5"><a href="#cb434-5"></a>  <span class="fu">print</span>(x) <span class="co"># value inside of function</span></span>
<span id="cb434-6"><a href="#cb434-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb435"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb435-1"><a href="#cb435-1"></a><span class="co"># value inside of function (local)</span></span>
<span id="cb435-2"><a href="#cb435-2"></a><span class="fu">fun_example</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb437"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb437-1"><a href="#cb437-1"></a><span class="co"># value output of function (global)</span></span>
<span id="cb437-2"><a href="#cb437-2"></a><span class="fu">print</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</section>
<section id="local-vs-global-variables-2" class="slide level2">
<h2>Local vs global variables</h2>
<p>If we want it to change locally as well as <span class="hl-yellow"><strong>globally</strong></span> we must use the <span class="hl-yellow"><strong>double assignment</strong></span> (<code>&lt;&lt;-</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb439"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb439-1"><a href="#cb439-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb439-2"><a href="#cb439-2"></a>y <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb439-3"><a href="#cb439-3"></a>fun_example <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb439-4"><a href="#cb439-4"></a>  </span>
<span id="cb439-5"><a href="#cb439-5"></a>  <span class="co"># no change in a global way, just locally</span></span>
<span id="cb439-6"><a href="#cb439-6"></a>  x <span class="ot">&lt;-</span> <span class="dv">3</span> </span>
<span id="cb439-7"><a href="#cb439-7"></a>  <span class="co"># change in a global way</span></span>
<span id="cb439-8"><a href="#cb439-8"></a>  y <span class="ot">&lt;&lt;-</span> <span class="dv">0</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb439-9"><a href="#cb439-9"></a>  </span>
<span id="cb439-10"><a href="#cb439-10"></a>  <span class="fu">print</span>(x)</span>
<span id="cb439-11"><a href="#cb439-11"></a>  <span class="fu">print</span>(y)</span>
<span id="cb439-12"><a href="#cb439-12"></a>}</span>
<span id="cb439-13"><a href="#cb439-13"></a></span>
<span id="cb439-14"><a href="#cb439-14"></a><span class="fu">fun_example</span>() <span class="co"># value inside function (local)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3
[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb441"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb441-1"><a href="#cb441-1"></a>x <span class="co"># global value</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb443"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb443-1"><a href="#cb443-1"></a>y <span class="co"># global value</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
</section>
<section id="tu-turno-0-3-3" class="slide level2">
<h2>💻 It’s your turn</h2>
<p><span style="color:#444442;"><strong>Try to perform the following exercises without looking at the solutions</strong></span></p>
<div class="panel-tabset">
<ul id="tabset-8" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-8-1"><span class="hl-yellow"><strong>Ex 1</strong></span></a></li><li><a href="#tabset-8-2"><span class="hl-yellow"><strong>Ex 2</strong></span></a></li><li><a href="#tabset-8-3"><span class="hl-yellow"><strong>Ex 3</strong></span></a></li><li><a href="#tabset-8-4"><span class="hl-yellow"><strong>Ex 4</strong></span></a></li><li><a href="#tabset-8-5"><span class="hl-yellow"><strong>Ex 5</strong></span></a></li><li><a href="#tabset-8-6"><span class="hl-yellow"><strong>Ex 6</strong></span></a></li><li><a href="#tabset-8-7"><span class="hl-yellow"><strong>Ex 7</strong></span></a></li></ul>
<div class="tab-content">
<div id="tabset-8-1">
<p>📝 Modify the code below to define a function called <code>sum_function</code>, so that given two elements, it returns their sum.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb445"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb445-1"><a href="#cb445-1"></a>name <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb445-2"><a href="#cb445-2"></a>  sum_output <span class="ot">&lt;-</span> <span class="co"># code</span></span>
<span id="cb445-3"><a href="#cb445-3"></a>  <span class="fu">return</span>()</span>
<span id="cb445-4"><a href="#cb445-4"></a>}</span>
<span id="cb445-5"><a href="#cb445-5"></a><span class="co"># we apply the function</span></span>
<span id="cb445-6"><a href="#cb445-6"></a><span class="fu">sum_function</span>(<span class="dv">3</span>, <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb446"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb446-1"><a href="#cb446-1"></a>sum_function<span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb446-2"><a href="#cb446-2"></a>  sum_output <span class="ot">&lt;-</span> x <span class="sc">+</span> y</span>
<span id="cb446-3"><a href="#cb446-3"></a>  <span class="fu">return</span>(sum_output)</span>
<span id="cb446-4"><a href="#cb446-4"></a>}</span>
<span id="cb446-5"><a href="#cb446-5"></a><span class="fu">sum_function</span>(<span class="dv">3</span>, <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-8-2">
<p>📝 Modify the code below to define a function called <code>product_function</code>, so that given two elements, it returns their product, but by default it calculates the square</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb447"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb447-1"><a href="#cb447-1"></a>name <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb447-2"><a href="#cb447-2"></a>  prod_output <span class="ot">&lt;-</span> <span class="co"># code</span></span>
<span id="cb447-3"><a href="#cb447-3"></a>  <span class="fu">return</span>()</span>
<span id="cb447-4"><a href="#cb447-4"></a>}</span>
<span id="cb447-5"><a href="#cb447-5"></a><span class="fu">product_function</span>(<span class="dv">3</span>)</span>
<span id="cb447-6"><a href="#cb447-6"></a><span class="fu">product_function</span>(<span class="dv">3</span>, <span class="sc">-</span><span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb448"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb448-1"><a href="#cb448-1"></a>product_function <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">y =</span> x) {</span>
<span id="cb448-2"><a href="#cb448-2"></a>  </span>
<span id="cb448-3"><a href="#cb448-3"></a>  prod_output <span class="ot">&lt;-</span> x <span class="sc">*</span> y</span>
<span id="cb448-4"><a href="#cb448-4"></a>  <span class="fu">return</span>(prod_output)</span>
<span id="cb448-5"><a href="#cb448-5"></a>  </span>
<span id="cb448-6"><a href="#cb448-6"></a>}</span>
<span id="cb448-7"><a href="#cb448-7"></a><span class="fu">product_function</span>(<span class="dv">3</span>)</span>
<span id="cb448-8"><a href="#cb448-8"></a><span class="fu">product_function</span>(<span class="dv">3</span>, <span class="sc">-</span><span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-8-3">
<p>📝 Define a function called <code>equal_names</code> that, given two names, tells us if they are equal or not. Do this by considering case-sensitive, and case-insensitive. Use the <code>{stringr}</code> package.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb449"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb449-1"><a href="#cb449-1"></a><span class="co"># Case-sensitive</span></span>
<span id="cb449-2"><a href="#cb449-2"></a>equal_names <span class="ot">&lt;-</span> <span class="cf">function</span>(person_1, person_2) {</span>
<span id="cb449-3"><a href="#cb449-3"></a>  </span>
<span id="cb449-4"><a href="#cb449-4"></a>  <span class="fu">return</span>(person_1 <span class="sc">==</span> person_2)</span>
<span id="cb449-5"><a href="#cb449-5"></a>  </span>
<span id="cb449-6"><a href="#cb449-6"></a>}</span>
<span id="cb449-7"><a href="#cb449-7"></a><span class="fu">equal_names</span>(<span class="st">"Javi"</span>, <span class="st">"javi"</span>)</span>
<span id="cb449-8"><a href="#cb449-8"></a><span class="fu">equal_names</span>(<span class="st">"Javi"</span>, <span class="st">"Lucía"</span>)</span>
<span id="cb449-9"><a href="#cb449-9"></a></span>
<span id="cb449-10"><a href="#cb449-10"></a><span class="co"># Case-insensitive</span></span>
<span id="cb449-11"><a href="#cb449-11"></a>equal_names <span class="ot">&lt;-</span> <span class="cf">function</span>(person_1, person_2) {</span>
<span id="cb449-12"><a href="#cb449-12"></a>  </span>
<span id="cb449-13"><a href="#cb449-13"></a>  <span class="fu">return</span>(<span class="fu">toupper</span>(person_1) <span class="sc">==</span> <span class="fu">toupper</span>(person_2))</span>
<span id="cb449-14"><a href="#cb449-14"></a>  </span>
<span id="cb449-15"><a href="#cb449-15"></a>}</span>
<span id="cb449-16"><a href="#cb449-16"></a><span class="fu">equal_names</span>(<span class="st">"Javi"</span>, <span class="st">"javi"</span>)</span>
<span id="cb449-17"><a href="#cb449-17"></a><span class="fu">equal_names</span>(<span class="st">"Javi"</span>, <span class="st">"Lucía"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-8-4">
<p>📝 Create a function called <code>compute_BMI</code> that, given two arguments (weight and height in meters) and a name, returns a list with the BMI (<span class="math inline">\(weight/(height^2)\)</span>) and the name.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb450"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb450-1"><a href="#cb450-1"></a>compute_BMI <span class="ot">&lt;-</span> <span class="cf">function</span>(name, weight, height) {</span>
<span id="cb450-2"><a href="#cb450-2"></a>  </span>
<span id="cb450-3"><a href="#cb450-3"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="st">"name"</span> <span class="ot">=</span> name, <span class="st">"BMI"</span> <span class="ot">=</span> weight<span class="sc">/</span>(height<span class="sc">^</span><span class="dv">2</span>)))</span>
<span id="cb450-4"><a href="#cb450-4"></a>  </span>
<span id="cb450-5"><a href="#cb450-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-8-5">
<p>📝 Repeat the previous exercise but with another optional argument called units (by default, <code>units = “meters”</code>). Develop the function so that it does the right thing if <code>units = “meters”</code> and if <code>units = “centimeters”</code>.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb451"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb451-1"><a href="#cb451-1"></a>compute_BMI <span class="ot">&lt;-</span> <span class="cf">function</span>(name, weight, height, <span class="at">units =</span> <span class="st">"meters"</span>) {</span>
<span id="cb451-2"><a href="#cb451-2"></a>  </span>
<span id="cb451-3"><a href="#cb451-3"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="st">"name"</span> <span class="ot">=</span> name,</span>
<span id="cb451-4"><a href="#cb451-4"></a>              <span class="st">"BMI"</span> <span class="ot">=</span> weight <span class="sc">/</span> (<span class="fu">if_else</span>(units <span class="sc">==</span> <span class="st">"meters"</span>, height, height<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>)))</span>
<span id="cb451-5"><a href="#cb451-5"></a>  </span>
<span id="cb451-6"><a href="#cb451-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-8-6">
<p>📝 Create a fictitious tibble of 7 persons, with three variables (invent name, and simulate weight, height in centimeters), and apply the defined function so that we obtain a fourth column with their BMI.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb452"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb452-1"><a href="#cb452-1"></a>data <span class="ot">&lt;-</span></span>
<span id="cb452-2"><a href="#cb452-2"></a>  <span class="fu">tibble</span>(<span class="st">"name"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"javi"</span>, <span class="st">"sandra"</span>, <span class="st">"laura"</span>,</span>
<span id="cb452-3"><a href="#cb452-3"></a>                       <span class="st">"ana"</span>, <span class="st">"carlos"</span>, <span class="st">"leo"</span>, <span class="cn">NA</span>),</span>
<span id="cb452-4"><a href="#cb452-4"></a>         <span class="st">"weight"</span> <span class="ot">=</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">7</span>, <span class="at">mean =</span> <span class="dv">70</span>, <span class="at">sd =</span> <span class="dv">1</span>),</span>
<span id="cb452-5"><a href="#cb452-5"></a>         <span class="st">"height"</span> <span class="ot">=</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">7</span>, <span class="at">mean =</span> <span class="dv">168</span>, <span class="at">sd =</span> <span class="dv">5</span>))</span>
<span id="cb452-6"><a href="#cb452-6"></a></span>
<span id="cb452-7"><a href="#cb452-7"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb452-8"><a href="#cb452-8"></a>  <span class="fu">mutate</span>(<span class="at">BMI =</span> <span class="fu">compute_BMI</span>(name, weight, height, <span class="at">units =</span> <span class="st">"centimeters"</span>)<span class="sc">$</span>BMI)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-8-7">
<p>📝 Create a function called <code>shortcut</code> that has two numeric arguments <code>x</code> and <code>y</code>. If both are equal, you should return <code>equal</code> and have the function terminate automatically (think about when a function exits). WARNING: <code>x</code> and <code>y</code> could be vectors. If they are different (of equal length) calculate the proportion of different elements. If they are different (being of different length), it returns the elements that are not common.</p>
<div class="cell">
<details>
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb453"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb453-1"><a href="#cb453-1"></a>shortcut <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb453-2"><a href="#cb453-2"></a>  </span>
<span id="cb453-3"><a href="#cb453-3"></a>  <span class="cf">if</span> (<span class="fu">all</span>(x <span class="sc">==</span> y) <span class="sc">&amp;</span> <span class="fu">length</span>(x) <span class="sc">==</span> <span class="fu">length</span>(y)) { <span class="fu">return</span>(<span class="st">"equal"</span>) }</span>
<span id="cb453-4"><a href="#cb453-4"></a>  <span class="cf">else</span> {</span>
<span id="cb453-5"><a href="#cb453-5"></a>   </span>
<span id="cb453-6"><a href="#cb453-6"></a>    <span class="cf">if</span> (<span class="fu">length</span>(x) <span class="sc">==</span> <span class="fu">length</span>(y)) {</span>
<span id="cb453-7"><a href="#cb453-7"></a>      </span>
<span id="cb453-8"><a href="#cb453-8"></a>      n_diff <span class="ot">&lt;-</span> <span class="fu">sum</span>(x <span class="sc">!=</span> y) <span class="sc">/</span> <span class="fu">length</span>(x)</span>
<span id="cb453-9"><a href="#cb453-9"></a>      <span class="fu">return</span>(n_diff)</span>
<span id="cb453-10"><a href="#cb453-10"></a>      </span>
<span id="cb453-11"><a href="#cb453-11"></a>    } <span class="cf">else</span> {</span>
<span id="cb453-12"><a href="#cb453-12"></a>      </span>
<span id="cb453-13"><a href="#cb453-13"></a>      diff_elem <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">c</span>(<span class="fu">setdiff</span>(x, y), <span class="fu">setdiff</span>(y, x)))</span>
<span id="cb453-14"><a href="#cb453-14"></a>      <span class="fu">return</span>(diff_elem)</span>
<span id="cb453-15"><a href="#cb453-15"></a>    }</span>
<span id="cb453-16"><a href="#cb453-16"></a>    </span>
<span id="cb453-17"><a href="#cb453-17"></a>  }</span>
<span id="cb453-18"><a href="#cb453-18"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="communicate-rmd-and-quarto" class="slide level2">
<h2>Communicate: rmd and Quarto</h2>
<p>One of the <span class="hl-yellow"><strong>main strengths</strong></span> of <code>R</code> is the <span class="hl-yellow"><strong>easiness to generate reports, books, webs, notes and even slides</strong></span> (this same material for example). To do this, <span class="hl-purple"><strong>install</strong></span> before</p>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li>the <code>{rmarkdown}</code> package (to generate <code>.rmd</code> files)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb454"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb454-1"><a href="#cb454-1"></a><span class="fu">install.packages</span>(<span class="st">"rmarkdown"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>install <a href="https://quarto.org/docs/get-started/"><strong>Quarto</strong></a> (if you already knew <code>R</code>, the “new” <code>.rmd</code> now as <code>.qmd</code>)</li>
</ul>
</div><div class="column" style="width:60%;">
<p><img data-src="img/quarto.png"></p>
</div>
</div>
</section>
<section id="communicate-rmd-and-quarto-1" class="slide level2">
<h2>Communicate: rmd and Quarto</h2>
<p>So far we have only programmed in scripts (<code>.R</code> files) within projects, but in many occasions <span class="hl-yellow"><strong>we will not work alone</strong></span> and we will need to <span class="hl-yellow"><strong>communicate the results</strong></span> in different formats:</p>
<ul>
<li>notes (for ourselves)</li>
<li>slides</li>
<li>web</li>
<li>reports</li>
</ul>
<p>For all this we will use <span class="hl-yellow"><strong>Quarto</strong></span> (see more in <a href="https://ivelasq.quarto.pub/intro-to-quarto/" class="uri">https://ivelasq.quarto.pub/intro-to-quarto/</a>)</p>
</section>
<section id="communicate-rmd-and-quarto-2" class="slide level2">
<h2>Communicate: rmd and Quarto</h2>
<p>The <code>.qmd</code> (or <code>.rmd</code> before) extension files will allow us to easily combine:- <span class="hl-yellow"><strong>Markdown</strong></span>:</p>
<ul>
<li><span class="hl-purple"><strong>typed language</strong></span> that allows us to create simple content (wordpress type, with text, <strong>bold</strong>, <em>cursives</em>, etc) with a readable layout.</li>
</ul>
<div class="fragment">
<ul>
<li>[<strong>Math (latex)</strong>]{. hl-yellow}: language for writing mathematical notation such as <span class="math inline">\(x^2\)</span> or <span class="math inline">\(\sqrt{y}\)</span> or <span class="math inline">\(\int_{a}^{b} f(x) dx\)</span>.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hl-yellow"><strong>Code and outputs</strong></span>: we can not only show the final step but also the code you have been doing (in <code>R</code>, <code>Python</code>, <code>C++</code>, <code>Julia</code>, …), with <span class="hl-purple"><strong>code boxes called CHUNKS</strong></span>.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Images, <span class="hl-yellow"><strong>graphs</strong></span>, tables, styles (css, js), etc.</li>
</ul>
</div>
</section>
<section id="communicate-rmd-and-quarto-3" class="slide level2">
<h2>Communicate: rmd and Quarto</h2>
<p>The main advantage of making this type of material in Quarto/Rmarkdown is that, by doing it from <code>RStudio</code>, you can generate a <span class="hl-yellow"><strong>report or presentation without leaving the programming environment</strong></span> in which you are working. This way you can analyze the data, summarize it and at the same time communicate it with the same tool.</p>
<div class="fragment">
<p>Recently the <code>RStudio</code> team developed <span class="hl-yellow"><strong>Quarto</strong></span>, an improved version of Rmarkdown (<code>.qmd</code> files), with a slightly more aesthetic and simpler format. You have all the documentation and examples at <a href="https://quarto.org/"><strong>https://quarto.org/</strong></a></p>
</div>
</section>
<section id="quarto-examples" class="slide level2">
<h2>Quarto examples</h2>
<div class="panel-tabset">
<ul id="tabset-9" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-9-1">Webs</a></li><li><a href="#tabset-9-2">Books</a></li><li><a href="#tabset-9-3">Blogs</a></li><li><a href="#tabset-9-4">Slides</a></li><li><a href="#tabset-9-5">Journals</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1">
<p><img data-src="./img/website.png" height="350"></p>
</div>
<div id="tabset-9-2">
<p><img data-src="./img/book.png" height="350"></p>
</div>
<div id="tabset-9-3">
<p><img data-src="./img/blog.png" height="350"></p>
</div>
<div id="tabset-9-4">
<p><img data-src="./img/presentation.png" height="350"></p>
</div>
<div id="tabset-9-5">
<p><img data-src="https://user-images.githubusercontent.com/163582/42351114-e5deaa1c-8078-11e8-90de-2aff57bba255.png" height="350"></p>
</div>
</div>
</div>
<p>Images obtained from <a href="https://ivelasq.quarto.pub/intro-to-quarto/#/working-with-the-rstudio-visual-editor" class="uri">https://ivelasq.quarto.pub/intro-to-quarto/#/working-with-the-rstudio-visual-editor</a></p>
</section>
<section id="our-first-report" class="slide level2">
<h2>Our first report</h2>
<div class="columns">
<div class="column" style="width:55%;">
<p><img data-src="img/quarto-create.png"></p>
</div><div class="column" style="width:45%;">
<p>We are going to create the <span class="hl-yellow"><strong>first rmarkdown file with Quarto</strong></span> with extension <code>.qmd</code>. For this we will only need to click on</p>
<p><code>File &lt;&lt; New File &lt;&lt; Quarto Document</code></p>
</div>
</div>
</section>
<section id="our-first-report-1" class="slide level2">
<h2>Our first report</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p><img data-src="img/quarto-format.png"></p>
</div><div class="column" style="width:55%;">
<p>After doing so, several <span class="hl-yellow"><strong>output format options</strong></span>:</p>
<ul>
<li><p><code>.pdf</code> file</p></li>
<li><p><code>.html</code> file (<span class="hl-yellow"><strong>recommendable</strong></span>): dynamic document, allows user interaction, like a “web page”.</p></li>
<li><p><code>.doc</code> file (not recommended).</p></li>
</ul>
</div>
</div>
<div class="fragment">
<p>For the moment we will leave the <span class="hl-yellow"><strong>default HTML format</strong></span> checked, and we will write the <span class="hl-yellow"><strong>title</strong></span> of our document. After that we will have our <span class="hl-yellow"><strong>file .qmd</strong></span> (it is no longer an .R script like the ones we have opened so far).</p>
</div>
</section>
<section id="our-first-report-2" class="slide level2">
<h2>Our first report</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p><img data-src="img/quarto-example.png"></p>
</div><div class="column" style="width:40%;">
<p>You should have something similar to the image capture with <span class="hl-yellow"><strong>two editing modes</strong></span>: <code>Source</code> (with code, the recommended option until you master it) and <code>Visual</code> (more like a blog).</p>
</div>
</div>
<p>To <span class="hl-yellow"><strong>run the WHOLE document</strong></span> you must click <code>Render on Save</code> and hit save.</p>
</section>
<section id="quarto-output-format" class="slide level2">
<h2>Quarto output format</h2>

<img data-src="img/quarto-prueba-html.png" class="r-stretch"><p>You should have obtained an <span class="hl-yellow"><strong>html output similar to this</strong></span> (and a <span class="hl-yellow"><strong>html file</strong></span> has been generated on your computer).</p>
</section>
<section id="editor-source-vs-visual" class="slide level2">
<h2>Editor: source vs visual</h2>
<p>As indicated, you have two ways of working: with pure code and something similar to a Notion (blog).</p>

<img data-src="./img/rstudio-source-visual.png" class="r-stretch"><p>Image retrieved from <a href="https://ivelasq.quarto.pub/intro-to-quarto/#/working-with-the-rstudio-visual-editor" class="uri">https://ivelasq.quarto.pub/intro-to-quarto/#/working-with-the-rstudio-visual-editor</a></p>
</section>
<section id="our-first-report-3" class="slide level2">
<h2>Our first report</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-example.png"></p>
</div><div class="column" style="width:50%;">
<p>A <code>.qmd</code> file is <span class="hl-yellow"><strong>basically divided into three parts</strong></span>:</p>
<ul>
<li><p><span class="hl-yellow"><strong>Header</strong></span>: the part you have at the beginning between <code>---</code>.</p></li>
<li><p>[<strong>Text</strong>]{. hl-yellow}: which we can format and enhance with bold (written as <strong>bold</strong>, with double asterisk at the beginning and end), italics (<em>cursive</em>, with underscore at the beginning and end) or highlight function or variable names from R. You can add equations like <span class="math inline">\(x^2\)</span> (I have written <code>$x^2$</code>, between dollars).</p></li>
<li><p><span class="hl-yellow"><strong>R code</strong></span></p></li>
</ul>
</div>
</div>
</section>
<section id="header" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Header</h2>
<p>The <span class="hl-yellow"><strong>header is in YAML</strong></span> format and contains the <span class="hl-yellow"><strong>metadata</strong></span> of the document.</p>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><code>title</code> and <code>subtitle</code>: the title/subtitle of the document</li>
<li><code>author</code>: author of the document</li>
<li><code>format</code>: output format (we can customize)
<ul>
<li><code>theme</code>: if you have any style file</li>
<li><code>toc</code>: if you want index or not</li>
<li><code>toc-location</code>: index position</li>
<li><code>toc-title</code>: index title</li>
</ul></li>
<li><code>editor</code>: if you are in visual or source mode.</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="sourceCode" id="cb455"><pre class="sourceCode numberSource yaml number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode yaml hljs"><span id="cb455-1" class="hljs-ln-code"><a href="#cb455-1"></a><span class="pp">---</span></span>
<span id="cb455-2" class="hljs-ln-code"><a href="#cb455-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"prueba"</span></span>
<span id="cb455-3" class="hljs-ln-code"><a href="#cb455-3"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb455-4" class="hljs-ln-code"><a href="#cb455-4"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span></span>
<span id="cb455-5" class="hljs-ln-code"><a href="#cb455-5"></a><span class="fu">editor</span><span class="kw">:</span><span class="at"> visual</span></span>
<span id="cb455-6" class="hljs-ln-code"><a href="#cb455-6"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="header-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Header</h2>
<p>The <span class="hl-yellow"><strong>header is in YAML</strong></span> format and contains the <span class="hl-yellow"><strong>metadata</strong></span> of the document.</p>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><code>title</code> and <code>subtitle</code>: the title/subtitle of the document</li>
<li><code>author</code>: author of the document</li>
<li><code>format</code>: output format (we can customize)
<ul>
<li><code>theme</code>: if you have any style file</li>
<li><code>toc</code>: if you want index or not</li>
<li><code>toc-location</code>: index position</li>
<li><code>toc-title</code>: index title</li>
</ul></li>
<li><code>editor</code>: if you are in visual or source mode.</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="sourceCode" id="cb456"><pre class="sourceCode numberSource yaml number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode yaml hljs"><span id="cb456-1" class="hljs-ln-code"><a href="#cb456-1"></a><span class="pp">---</span></span>
<span id="cb456-2" class="hljs-ln-code"><a href="#cb456-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"prueba"</span></span>
<span id="cb456-3" class="hljs-ln-code"><a href="#cb456-3"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">"javier álvarez liébana"</span></span>
<span id="cb456-4" class="hljs-ln-code"><a href="#cb456-4"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb456-5" class="hljs-ln-code"><a href="#cb456-5"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span></span>
<span id="cb456-6" class="hljs-ln-code"><a href="#cb456-6"></a><span class="fu">editor</span><span class="kw">:</span><span class="at"> visual</span></span>
<span id="cb456-7" class="hljs-ln-code"><a href="#cb456-7"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="header-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Header</h2>
<p>The <span class="hl-yellow"><strong>header is in YAML</strong></span> format and contains the <span class="hl-yellow"><strong>metadata</strong></span> of the document.</p>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><code>title</code> and <code>subtitle</code>: the title/subtitle of the document</li>
<li><code>author</code>: author of the document</li>
<li><code>format</code>: output format (we can customize)
<ul>
<li><code>theme</code>: if you have any style file</li>
<li><code>toc</code>: if you want index or not</li>
<li><code>toc-location</code>: index position</li>
<li><code>toc-title</code>: index title</li>
</ul></li>
<li><code>editor</code>: if you are in visual or source mode.</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="sourceCode" id="cb457"><pre class="sourceCode numberSource yaml number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode yaml hljs"><span id="cb457-1" class="hljs-ln-code"><a href="#cb457-1"></a><span class="pp">---</span></span>
<span id="cb457-2" class="hljs-ln-code"><a href="#cb457-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"prueba"</span></span>
<span id="cb457-3" class="hljs-ln-code"><a href="#cb457-3"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">"javier álvarez liébana"</span></span>
<span id="cb457-4" class="hljs-ln-code"><a href="#cb457-4"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb457-5" class="hljs-ln-code"><a href="#cb457-5"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span></span>
<span id="cb457-6" class="hljs-ln-code"><a href="#cb457-6"></a><span class="at">    </span><span class="fu">style</span><span class="kw">:</span><span class="at"> style.css</span></span>
<span id="cb457-7" class="hljs-ln-code"><a href="#cb457-7"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb457-8" class="hljs-ln-code"><a href="#cb457-8"></a><span class="fu">editor</span><span class="kw">:</span><span class="at"> visual</span></span>
<span id="cb457-9" class="hljs-ln-code"><a href="#cb457-9"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="header-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Header</h2>
<p>The <span class="hl-yellow"><strong>header is in YAML</strong></span> format and contains the <span class="hl-yellow"><strong>metadata</strong></span> of the document.</p>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><code>title</code> and <code>subtitle</code>: the title/subtitle of the document</li>
<li><code>author</code>: author of the document</li>
<li><code>format</code>: output format (we can customize)
<ul>
<li><code>theme</code>: if you have any style file</li>
<li><code>toc</code>: if you want index or not</li>
<li><code>toc-location</code>: index position</li>
<li><code>toc-title</code>: index title</li>
</ul></li>
<li><code>editor</code>: if you are in visual or source mode.</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="sourceCode" id="cb458"><pre class="sourceCode numberSource yaml number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode yaml hljs"><span id="cb458-1" class="hljs-ln-code"><a href="#cb458-1"></a><span class="pp">---</span></span>
<span id="cb458-2" class="hljs-ln-code"><a href="#cb458-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"prueba"</span></span>
<span id="cb458-3" class="hljs-ln-code"><a href="#cb458-3"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">"javier álvarez liébana"</span></span>
<span id="cb458-4" class="hljs-ln-code"><a href="#cb458-4"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb458-5" class="hljs-ln-code"><a href="#cb458-5"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span></span>
<span id="cb458-6" class="hljs-ln-code"><a href="#cb458-6"></a><span class="at">    </span><span class="fu">style</span><span class="kw">:</span><span class="at"> style.css</span></span>
<span id="cb458-7" class="hljs-ln-code"><a href="#cb458-7"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb458-8" class="hljs-ln-code"><a href="#cb458-8"></a><span class="at">    </span><span class="fu">toc-location</span><span class="kw">:</span><span class="at"> left</span></span>
<span id="cb458-9" class="hljs-ln-code"><a href="#cb458-9"></a><span class="fu">editor</span><span class="kw">:</span><span class="at"> visual</span></span>
<span id="cb458-10" class="hljs-ln-code"><a href="#cb458-10"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="header-4" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Header</h2>
<p>The <span class="hl-yellow"><strong>header is in YAML</strong></span> format and contains the <span class="hl-yellow"><strong>metadata</strong></span> of the document.</p>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><code>title</code> and <code>subtitle</code>: the title/subtitle of the document</li>
<li><code>author</code>: author of the document</li>
<li><code>format</code>: output format (we can customize)
<ul>
<li><code>theme</code>: if you have any style file</li>
<li><code>toc</code>: if you want index or not</li>
<li><code>toc-location</code>: index position</li>
<li><code>toc-title</code>: index title</li>
</ul></li>
<li><code>editor</code>: if you are in visual or source mode.</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="sourceCode" id="cb459"><pre class="sourceCode numberSource yaml number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode yaml hljs"><span id="cb459-1" class="hljs-ln-code"><a href="#cb459-1"></a><span class="pp">---</span></span>
<span id="cb459-2" class="hljs-ln-code"><a href="#cb459-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"prueba"</span></span>
<span id="cb459-3" class="hljs-ln-code"><a href="#cb459-3"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">"javier álvarez liébana"</span></span>
<span id="cb459-4" class="hljs-ln-code"><a href="#cb459-4"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb459-5" class="hljs-ln-code"><a href="#cb459-5"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span></span>
<span id="cb459-6" class="hljs-ln-code"><a href="#cb459-6"></a><span class="at">    </span><span class="fu">style</span><span class="kw">:</span><span class="at"> style.css</span></span>
<span id="cb459-7" class="hljs-ln-code"><a href="#cb459-7"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb459-8" class="hljs-ln-code"><a href="#cb459-8"></a><span class="at">    </span><span class="fu">toc-location</span><span class="kw">:</span><span class="at"> left</span></span>
<span id="cb459-9" class="hljs-ln-code"><a href="#cb459-9"></a><span class="at">    </span><span class="fu">toc-title</span><span class="kw">:</span><span class="at"> Índice</span></span>
<span id="cb459-10" class="hljs-ln-code"><a href="#cb459-10"></a><span class="fu">editor</span><span class="kw">:</span><span class="at"> visual</span></span>
<span id="cb459-11" class="hljs-ln-code"><a href="#cb459-11"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="text" class="slide level2">
<h2>Text</h2>
<p>Regarding typing there is only one <span class="hl-yellow"><strong>important thing</strong></span>: unless we indicate otherwise, <span class="hl-yellow"><strong>EVERYTHING we are going to type is (normal)</strong></span> text; no R code.</p>
<div class="columns">
<div class="column" style="width:35%;">
<p><img data-src="img/quarto-prueba-qmd2.png" width="350"> <img data-src="img/quarto-prueba-html2.png" width="320"></p>
</div><div class="column" style="width:65%;">
<p>We are going to start by writing a section at the beginning (<code># Intro</code> and behind it, for example, the sentence</p>
<blockquote>
<p>This material has been designed by Professor Javier Álvarez Liébana, professor at the Complutense University of Madrid</p>
</blockquote>
<p>In addition to the <code>Running Code</code> we will add a <code>#</code> pad: the <span class="hl-yellow"><strong>outside-chunks</strong></span> pads will help us create <span class="hl-yellow"><strong>epigraphs (sections)</strong></span> in the document.</p>
</div>
</div>
</section>
<section id="index" class="slide level2">
<h2>Index</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><img data-src="img/quarto-indice-qmd-2.png" width="370"> <img data-src="img/quarto-indice-html2.png" width="370"></p>
</div><div class="column" style="width:60%;">
<p>To make the <span class="hl-yellow"><strong>index capture those sections</strong></span> we will modify the header of the file as shown in the image (you can change the location of the index and the title if you want to test).</p>
</div>
</div>
</section>
<section id="text-1" class="slide level2">
<h2>Text</h2>
<p>Let’s <span class="hl-yellow"><strong>customize the text</strong></span> a bit by doing the following:</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-texto-mejorado-qmd.png" width="370"> <img data-src="img/quarto-texto-mejorado-html.png" width="370"></p>
</div><div class="column" style="width:50%;">
<ul>
<li><p>We will add <span class="hl-yellow"><strong>bold to the name</strong></span> (putting ** at the beginning and at the end).</p></li>
<li><p>We will add <span class="hl-yellow"><strong>cursive</strong></span> to the word material (putting _ at the beginning and at the end).</p></li>
<li><p>We will add a <span class="hl-yellow"><strong>link</strong></span> <a href="https://www.ucm.es" class="uri">https://www.ucm.es</a>, associating it to the name of the University. To do this we put the title in square brackets and just behind the link in brackets <code>[“Universidad Complutense de Madrid”](https://www.ucm.es)</code>.</p></li>
</ul>
</div>
</div>
</section>
<section id="code" class="slide level2">
<h2>Code</h2>
<p>To <span class="hl-yellow"><strong>include R code</strong></span> we must create our <span class="hl-yellow"><strong>code boxes called chunks</strong></span>: high in the path in our markdown text where we can include code from almost any language (and its outputs).</p>
<p>&nbsp;</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-chunk-qmd.png" width="470"></p>
</div><div class="column" style="width:50%;">
<p>To include one you must go <span class="hl-yellow"><strong>header</strong></span> as follows you have a shortcut <code>Command + Option + I</code> (Mac) or <code>Ctrl + Shift + I</code> (Windows)</p>
</div>
</div>
</section>
<section id="code-1" class="slide level2">
<h2>Code</h2>
<p>Inside this box (which now has a different color in the document) <span class="hl-yellow"><strong>write code R</strong></span> as we have been doing so far in the scripts.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-chunk-1-qmd.png" width="410"> <img data-src="img/quarto-chunk-1-html.png" width="410"></p>
</div><div class="column" style="width:50%;">
<p>Let’s for example define two variables and their sum in the following way, writing this code in our <code>.qmd</code> (inside that chunk)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb460"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb460-1"><a href="#cb460-1"></a><span class="co"># R code</span></span>
<span id="cb460-2"><a href="#cb460-2"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb460-3"><a href="#cb460-3"></a>y <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb460-4"><a href="#cb460-4"></a>x <span class="sc">+</span> y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="running-chunks" class="slide level2">
<h2>Running chunks</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-tag-chunks-qmd.png" width="400"> <img data-src="img/quarto-tag-chunks-html.png" width="400"></p>
</div><div class="column" style="width:50%;">
<p>Chunks can have a <span class="hl-yellow"><strong>name or tag</strong></span>, so that we can reference them again to avoid repeating code.</p>
</div>
</div>
</section>
<section id="running-chunks-1" class="slide level2">
<h2>Running chunks</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><img data-src="img/quarto-inline-qmd.png" width="400"> <img data-src="img/quarto-inline-html.png" width="380"></p>
</div><div class="column" style="width:60%;">
<p>In each chunk there are <span class="hl-yellow"><strong>two buttons</strong></span>:</p>
<ul>
<li><p><span class="hl-yellow"><strong>play</strong></span> button: activates the <span class="hl-yellow"><strong>play and exit of that particular chunk</strong></span> (you can view it within your own <code>RStudio</code>)</p></li>
<li><p><span class="hl-yellow"><strong>rewind</strong></span> button: activates the <span class="hl-yellow"><strong>play and exit of all chunks up to that one</strong></span> (without reaching it).</p></li>
</ul>
<p>&nbsp;</p>
<p>In addition we can <span class="hl-yellow"><strong>include R code inside the text line</strong></span> (instead of displaying the text x execute the R code displaying the variable).</p>
</div>
</div>
</section>
<section id="customizing-chunks" class="slide level2">
<h2>Customizing chunks</h2>
<p>The <span class="hl-yellow"><strong>chunks can be customized</strong></span> with options at the beginning of the chunk preceded by <code>#|</code>:</p>
<ul>
<li><p><code>#| echo: false</code>: <span class="hl-green"><strong>execute code</strong></span> and <span class="hl-green"><strong>show result</strong></span> but <span class="hl-red"><strong>does not display code</strong></span> in the output. hl-red} on output.</p></li>
<li><p><code>#| include: false</code>: <span class="hl-green"><strong>executes code</strong></span> but <span class="hl-red"><strong>does not display result</strong></span> and <span class="hl-red"><strong>does not display code</strong></span> on output.</p></li>
<li><p><code>#| eval: false</code>: [<strong>does not execute code</strong>]{. hl-red}, <span class="hl-red"><strong>does not display result</strong></span> but <span class="hl-green"><strong>does display code</strong></span> on output.</p></li>
<li><p><code>#| message: false</code>: <span class="hl-green"><strong>executes code</strong></span> but <span class="hl-red"><strong>does not display output messages</strong></span>.</p></li>
<li><p><code>#| warning: false</code>: <span class="hl-green"><strong>runs code</strong></span> but <span class="hl-red"><strong>does not display warning messages</strong></span>.</p></li>
<li><p><code>#| error: true</code>: <span class="hl-green"><strong>runs code</strong></span> and <span class="hl-green"><strong>allows errors</strong></span> displaying the error message in the output.</p></li>
</ul>

<img data-src="img/quarto-options-chunk.png" width="380" class="r-stretch"><p>These options can be applied chunk by chunk or set globally with <code>knitr::opts_chunk$set()</code> at the beginning of the document (within a chunk).</p>
</section>
<section id="customizing-chunks-1" class="slide level2">
<h2>Customizing chunks</h2>
<p>If we want to apply the <strong>option to all chunks by default</strong> we must include it at the end of the header, as <span class="hl-yellow"><strong>run options</strong></span></p>
<div class="sourceCode" id="cb462"><pre class="sourceCode numberSource yaml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb462-1"><a href="#cb462-1"></a><span class="pp">---</span></span>
<span id="cb462-2"><a href="#cb462-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"¡Hola!"</span></span>
<span id="cb462-3"><a href="#cb462-3"></a><span class="fu">format</span><span class="kw">:</span><span class="at"> html</span></span>
<span id="cb462-4"><a href="#cb462-4"></a><span class="fu">editor</span><span class="kw">:</span><span class="at"> visual</span></span>
<span id="cb462-5"><a href="#cb462-5"></a><span class="fu">execute</span><span class="kw">:</span></span>
<span id="cb462-6"><a href="#cb462-6"></a><span class="at">  </span><span class="fu">echo</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb462-7"><a href="#cb462-7"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="organizing" class="slide level2">
<h2>Organizing</h2>
<p>In addition to text and code we can enter the following:</p>
<ul>
<li><p><span class="hl-yellow"><strong>Equations</strong></span>: you can also add equations like <span class="math inline">\(x^2\)</span> (I have written <code>$x^2$</code>, the equation between dollars).</p></li>
<li><p>[<strong>Lists</strong>]{. hl-yellow}: you can itemize elements by putting <code>* Step 1: ... *Step 2: ...</code></p></li>
<li><p><span class="hl-yellow"><strong>Cross-references</strong></span>: you can tag parts of the document (the tag is constructed with <code>{#section-name}</code>) and then call them with <code>[Section](@section-name)</code>.</p></li>
</ul>
</section>
<section id="figures-and-images" class="slide level2">
<h2>Figures and images</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-fig-qmd.png" width="340"> <img data-src="img/quarto-fig-html.png" width="390"></p>
</div><div class="column" style="width:50%;">
<p>Finally, we can also <span class="hl-yellow"><strong>add captions to graphics or images</strong></span> by adding <code>#| fig-cap: "..."</code>.</p>
</div>
</div>
<div class="fragment">
<div class="columns">
<div class="column" style="width:65%;">
<p>Notice that the <span class="hl-yellow"><strong>caption is in the margin</strong></span> (for example). You can change it by entering <span class="hl-yellow"><strong>header settings</strong></span> (everything about figures starts with <code>fig-</code>, and you can see the options by tabbing). You have more information at <strong><a href="https://quarto.org/" class="uri">https://quarto.org/</a></strong></p>
</div><div class="column" style="width:35%;">
<p><img data-src="img/quarto-cabecera-desplegable.png" width="400"></p>
</div>
</div>
</div>
</section>
<section id="styles" class="slide level2">
<h2>Styles</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="img/quarto-estilos-qmd.png" width="400"> <img data-src="img/quarto-estilos-html.png" width="400"></p>
</div><div class="column" style="width:50%;">
<p>Finally you can add a <span class="hl-yellow"><strong>custom theme</strong></span> including a <span class="hl-yellow"><strong>style file</strong></span> (<code>.scss</code> or <code>.css</code> file). I have left one for you at <a href="https://github.com/dadosdelaplace/docencia-R-master-bio-2324/tree/main/material" class="uri">https://github.com/dadosdelaplace/docencia-R-master-bio-2324/tree/main/material</a>.</p>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<p>The style file must be in the same folder as the <code>.qmd</code> file.</p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="styles-1" class="slide level2">
<h2>Styles</h2>
<p>You can also do it in a simple way <span class="hl-yellow"><strong>adding a bit of HTML</strong></span> to the text. For example, to customize the color of a text it goes between square brackets and right after the text, between braces, the style options</p>
<div class="sourceCode" id="cb463"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb463-1"><a href="#cb463-1"></a>This word is [red]{style="color:red;"} ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb464"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb464-1"><a href="#cb464-1"></a>... and this is [green in bold]{style="color:green; font-weight: bold;"}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="fragment">
<p>This word is <span style="color:red;">red</span> …</p>
<p>… and this is <span style="color:green; font-weight: bold;">green in bold</span></p>
</div>
</section>
<section id="revealjs" class="slide level2">
<h2>Revealjs</h2>
<p>You can add some “animations” using what is known as Revealjs (javascript), specifying it in the header and using <span class="hl-yellow"><strong>blocks</strong></span> of that language delimited by <code>:::</code> at the beginning and end, and the word of the “tool” to use. For example <code>{.incremental}</code> transitions the elements.</p>
<div class="sourceCode" id="cb465"><pre class="sourceCode numberSource yaml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb465-1"><a href="#cb465-1"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb465-2"><a href="#cb465-2"></a><span class="at">  revealjs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>&nbsp;</p>
<div class="sourceCode" id="cb466"><pre class="sourceCode numberSource revealjs number-lines code-with-copy"><code class="sourceCode"><span id="cb466-1"><a href="#cb466-1"></a>::: {.incremental}</span>
<span id="cb466-2"><a href="#cb466-2"></a>- I</span>
<span id="cb466-3"><a href="#cb466-3"></a>- am</span>
<span id="cb466-4"><a href="#cb466-4"></a>- Javi</span>
<span id="cb466-5"><a href="#cb466-5"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div>
<ul>
<li class="fragment">I</li>
<li class="fragment">am</li>
<li class="fragment">Javi</li>
</ul>
</div>
</section>
<section id="call-blocks" class="slide level2">
<h2>Call blocks</h2>
<p>You can also use the <span class="hl-yellow"><strong>callout-blocks</strong></span> which by default are <code>note</code>, <code>tip</code>, <code>warning</code>, <code>caution</code> and <code>important</code> (although you can create and customize them). To do this, just use <code>::{.callout-type}</code> and the type you want to use</p>
<div class="sourceCode" id="cb467"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb467-1"><a href="#cb467-1"></a>:::{.callout-tip}</span>
<span id="cb467-2"><a href="#cb467-2"></a></span>
<span id="cb467-3"><a href="#cb467-3"></a>Note that there are five types of callouts, including: </span>
<span id="cb467-4"><a href="#cb467-4"></a>`note`, `tip`, `warning`, `caution`, and `important`.</span>
<span id="cb467-5"><a href="#cb467-5"></a></span>
<span id="cb467-6"><a href="#cb467-6"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="fragment">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Consejo</strong></p>
</div>
<div class="callout-content">
<p>Note that there are five types of callouts, including: <code>note</code>, <code>tip</code>, <code>warning</code>, <code>caution</code>, and <code>important</code>.</p>
</div>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-caution callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Peligro</strong></p>
</div>
<div class="callout-content">
<p>Use them wisely, sometimes a lot of aesthetic resources can be dizzying.</p>
</div>
</div>
</div>
</div>
</section>
<section id="multiple-columns-layout" class="slide level2">
<h2>Multiple columns layout</h2>
<p>With <code>:::: columns</code> we can define a layout of <span class="hl-yellow"><strong>multiple columns</strong></span> where each one is defined by <code>::: {.column width=“65%”} something :::</code>, indicating next to the percentage how much you want each column to occupy (be careful not to leave spaces!).</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb468-1"><a href="#cb468-1"></a>:::: columns</span>
<span id="cb468-2"><a href="#cb468-2"></a>::: {.column width="65%"}</span>
<span id="cb468-3"><a href="#cb468-3"></a>This is how to define a vector</span>
<span id="cb468-4"><a href="#cb468-4"></a>:::</span>
<span id="cb468-5"><a href="#cb468-5"></a>::: {.column width="35%"}</span>
<span id="cb468-6"><a href="#cb468-6"></a>x <span class="er">&lt;</span>- c(1, 2, 3)</span>
<span id="cb468-7"><a href="#cb468-7"></a>x</span>
<span id="cb468-8"><a href="#cb468-8"></a>:::</span>
<span id="cb468-9"><a href="#cb468-9"></a>::::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>&nbsp;</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:65%;">
<p>This is how to define a vector</p>
</div><div class="column" style="width:35%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb469"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb469-1"><a href="#cb469-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb469-2"><a href="#cb469-2"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="non-r-code" class="slide level2">
<h2>Non-R code</h2>
<p>In addition <code>{reticulate}</code> allows us to create <code>python</code> chunks inside a Quarto in <code>R</code> (see <a href="https://quarto.org/docs/computations/python.html" class="uri">https://quarto.org/docs/computations/python.html</a> to create jupyter notebooks directly from Quarto).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb471"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb471-1"><a href="#cb471-1"></a><span class="co"># install.packages("reticulate")</span></span>
<span id="cb471-2"><a href="#cb471-2"></a><span class="fu">library</span>(reticulate)</span>
<span id="cb471-3"><a href="#cb471-3"></a></span>
<span id="cb471-4"><a href="#cb471-4"></a><span class="fu">install_python</span>(<span class="st">"3.9.12"</span>) <span class="co"># Installing python if you have not done before</span></span>
<span id="cb471-5"><a href="#cb471-5"></a></span>
<span id="cb471-6"><a href="#cb471-6"></a><span class="co"># Installing Python libraries</span></span>
<span id="cb471-7"><a href="#cb471-7"></a>reticulate<span class="sc">::</span><span class="fu">py_install</span>(<span class="st">"numpy"</span>)</span>
<span id="cb471-8"><a href="#cb471-8"></a>reticulate<span class="sc">::</span><span class="fu">py_install</span>(<span class="st">"matplotlib"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:60%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb472"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb472-1"><a href="#cb472-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb472-2"><a href="#cb472-2"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb472-3"><a href="#cb472-3"></a>r <span class="op">=</span> np.arange(<span class="dv">0</span>, <span class="dv">2</span>, <span class="fl">0.05</span>)</span>
<span id="cb472-4"><a href="#cb472-4"></a>theta <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> np.pi <span class="op">*</span> r</span>
<span id="cb472-5"><a href="#cb472-5"></a>fig, ax <span class="op">=</span> plt.subplots(</span>
<span id="cb472-6"><a href="#cb472-6"></a>  subplot_kw <span class="op">=</span> {<span class="st">'projection'</span>: <span class="st">'polar'</span>} </span>
<span id="cb472-7"><a href="#cb472-7"></a>)</span>
<span id="cb472-8"><a href="#cb472-8"></a>ax.plot(theta, r)</span>
<span id="cb472-9"><a href="#cb472-9"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:40%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-251-1.png" width="614"></p>
</div>
</div>
</div>
</div>
</section>
<section id="caso-practico-0-3-1" class="slide level2">
<h2>🐣 Case study I: flow structures</h2>
<p>Diseña un bucle for de 200 iteraciones que, empezando en un valor inicial de 100 (euros), te sume 3€ si el número actual es par y te reste 5€ si es impar. Un número par o impar: un número par será todo aquel número que al dividir entre 2, la división es exacta, es decir, que su resto es nulo. Por ejemplo, al dividir 5 entre 2, el resto es 1, pero al dividir 12 entre 2 el resto es 0. Para calcula ese resto usaremos la función %%.</p>
<ul>
<li>cosas de if-elses</li>
</ul>
</section>
<section id="caso-practico-0-3-2" class="slide level2">
<h2>🐣 Case study II: functions</h2>
<p>Define una función llamada <code>conversor_temperatura</code> que, dada una temperatura en Fahrenheit, Celsius o Kelvin, la convierta a cualquiera de las otras</p>
<ul>
<li><p>Piensa qué argumentos necesita el usuario.</p></li>
<li><p>Piensa todas las combinaciones posibles e intenta conceptuar la idea antes en un papel.</p></li>
<li><p>Haz el código más simple y legible posible.</p></li>
<li><p>Aplica la función a la columna <code>Temp</code> del conjunto <code>airquality</code>, e incorpórala al fichero en una nueva columna <code>Temp_Celsius</code>.</p></li>
</ul>
</section>
<section id="caso-practico-0-3-3" class="slide level2">
<h2>🐣 Case study III: mock task</h2>
<ol type="1">
<li>Crea un documento <code>.qmd</code> en el que al menos la cabecera contenga</li>
</ol>
<ul>
<li>Título, autor y formato (html)</li>
<li>Índice con título y situado a la derecha</li>
</ul>
<ol start="2" type="1">
<li><p>Tras ello vuelve a <a href="#/tu-turno-3-3">Exercises del tema 3</a> y estructura un documento donde cada Exercise sea una subsección. En cada subsección pon el enunciado.</p></li>
<li><p>Debajo de cada enunciado pon el chunk con el código correspondiente, así como comentarios de texto de la salida (con negritas y cursivas)</p></li>
<li><p>Añade un último chunk en el que, dado un vector <code>x &lt;- 1:5</code>, calcules su media, e incluye con <code>$ $</code> la fórmula de la media aritmética e incrusta además una foto de la fórmula que encuentres por google.</p></li>
<li><p>Renderiza el documento para obtener el html</p></li>
</ol>
</section>
<section id="ejemplo-de-entrega" class="slide level2">
<h2>Ejemplo de entrega</h2>
<p>Vamos a realizar un pequeño simulacro antes de la entrega usando el dataset <code>starwars</code> del paquete <code>{dplyr}</code></p>

<img data-src="https://sm.ign.com/t/ign_latam/screenshot/default/baby-yoda-nombre_3x56.1280.jpg" class="r-stretch"></section>
<section id="ejemplo-de-entrega-1" class="slide level2">
<h2>Ejemplo de entrega</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb473"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb473-1"><a href="#cb473-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb473-2"><a href="#cb473-2"></a>starwars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 14
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Luke Sk…    172    77 blond      fair       blue            19   male  mascu…
 2 C-3PO       167    75 &lt;NA&gt;       gold       yellow         112   none  mascu…
 3 R2-D2        96    32 &lt;NA&gt;       white, bl… red             33   none  mascu…
 4 Darth V…    202   136 none       white      yellow          41.9 male  mascu…
 5 Leia Or…    150    49 brown      light      brown           19   fema… femin…
 6 Owen La…    178   120 brown, gr… light      blue            52   male  mascu…
 7 Beru Wh…    165    75 brown      light      blue            47   fema… femin…
 8 R5-D4        97    32 &lt;NA&gt;       white, red red             NA   none  mascu…
 9 Biggs D…    183    84 black      light      brown           24   male  mascu…
10 Obi-Wan…    182    77 auburn, w… fair       blue-gray       57   male  mascu…
# ℹ 77 more rows
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
<p>En él tenemos <strong>diferentes variables de los personajes de Star Wars</strong>, con características de su pelo, piel, altura, nombre, etc.</p>
</section>
<section id="ejemplo-de-entrega-2" class="slide level2">
<h2>Ejemplo de entrega</h2>
<blockquote>
<p>Crea un documento <code>.qmd</code> con nombre, título, formato e índice. Cada Exercise posterior será una subsección del documento. Ejecuta los chunks que consideres y comenta las salidas para responder a cada pregunta</p>
</blockquote>
<div class="fragment">
<blockquote>
<p>Exercise 1. ¿Cuántos personajes hay guardados en la base de datos? ¿Cuántas características se han medido de cada uno?</p>
</blockquote>
</div>
<div class="fragment">
<blockquote>
<p>Exercise 2. Extrae en dos variables distintas <code>nombres</code> y <code>edades</code> las variables correspondientes de la tabla. ¿De qué tipo es la variable nombre? ¿Y la variable birth_year?</p>
</blockquote>
</div>
<div class="fragment">
<blockquote>
<p>Exercise 3. Obtén el vector de nombres de los personajes ordenados de mayores a jóvenes.</p>
</blockquote>
</div>
</section>
<section id="ejemplo-de-entrega-3" class="slide level2">
<h2>Ejemplo de entrega</h2>
<blockquote>
<p>Exercise 4. Busca ayuda de la función unique(). Úsala para saber que modalidades tiene la variable cualitativa correspondiente al color de ojos. ¿Cuántos distintos hay?</p>
</blockquote>
<div class="fragment">
<blockquote>
<p>Exercise 5. ¿Existe ALGÚN valor ausente en la variable de color ojos?</p>
</blockquote>
</div>
<div class="fragment">
<blockquote>
<p>Exercise 6. Calcula la media y desviación típica de las variables de estatura y peso (cuidado con los ausentes). Define un nuevo tibble con esas dos variables e incorpora una tercera variable que se llame “IMC” que calcule el índice de masa corporal. Incorpora con <code>$ $</code> la fórmula usada para el IMC.</p>
</blockquote>
</div>
</section></section>
<section>
<section id="clase-0-4" class="title-slide slide level1 center">
<h1>Final task: <span class="flow">foundations of R base</span></h1>
<p><span style="color:#444442;"><strong>Final task (70%)</strong>: 10/09/2024 from 15:00 to 16:10</span></p>
</section>
<section id="final-task-intro-r" class="slide level2">
<h2>Final task (intro R)</h2>
<p>The day of the submission you will have uploaded a <span class="hl-yellow"><strong>submission template</strong></span> in <code>.qmd</code> format on campus.</p>
<ol type="1">
<li><p><strong>Unzip the folder</strong> (important! if you don’t unzip, even if you can edit the <code>.qmd</code>, you won’t be able to generate the <code>. html</code>)</p></li>
<li><p><strong>Edit the header</strong> with your name and ID</p></li>
<li><p>You must <strong>fill in each chunk</strong> with the code you consider (in some I have left hints) and <strong>change</strong> from <code>#| eval: false</code> to <code>#| eval: true</code> (if you remove them directly, by default it is already true)</p></li>
<li><p>You must <strong>comment</strong> with normal text what you consider to answer the questions.</p></li>
<li><p>It will be <span class="hl-yellow"><strong>MANDATORY</strong></span> to upload the generated <code>.html</code> file (only that file will be corrected) so render as you fill in the document, don’t leave it to the end.</p></li>
</ol>
<div class="footer footer-default">
<p><a href="..."><strong>Javier Álvarez Liébana</strong></a> • Master in Computational Social Sciences (UC3M)</p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="index_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="index_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="index_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="index_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true,"width":"normal"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>